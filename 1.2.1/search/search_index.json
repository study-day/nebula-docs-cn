{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Nebula Graph \u5185\u6838 2.x \u5df2\u53d1\u5e03\u3002 Nebula Graph \u5185\u6838 1.x \u4e0e 2.x \u6570\u636e\u683c\u5f0f\u3001\u901a\u4fe1\u534f\u8bae\u3001\u5ba2\u6237\u7aef\u7b49\u5747\u53cc\u5411\u4e0d\u517c\u5bb9\uff0c\u4ee3\u7801\u4ed3\u5e93\u4e0d\u76f8\u540c\u30022.x \u8bf7\u53c2\u8003 \u65b0\u7248\u672c\u6587\u6863 \u3002 Nebula Graph \u662f\u4ec0\u4e48 \u00b6 \u672c\u6587\u6863\u66f4\u65b0\u65f6\u95f42021-4-25, GitHub commit db4f2137. Nebula Graph 1.2.1\u662f\u4e00\u6b3e\u5f00\u6e90\u7684\u56fe\u6570\u636e\u5e93\uff0c\u64c5\u957f\u5904\u7406\u5343\u4ebf\u4e2a\u9876\u70b9\u548c\u4e07\u4ebf\u6761\u8fb9\u7684\u8d85\u5927\u89c4\u6a21\u6570\u636e\u96c6\u3002 \u4e0b\u56fe\u4e3a Nebula Graph \u4ea7\u54c1\u67b6\u6784\u56fe\uff1a \u4e0e\u5176\u4ed6\u56fe\u6570\u636e\u5e93\u4ea7\u54c1\u76f8\u6bd4\uff0c Nebula Graph \u5177\u6709\u5982\u4e0b\u4f18\u52bf\uff1a \u5168\u5bf9\u79f0\u5206\u5e03\u5f0f\u67b6\u6784 \u5b58\u50a8\u4e0e\u8ba1\u7b97\u5206\u79bb \u6c34\u5e73\u53ef\u6269\u5c55\u6027 RAFT \u534f\u8bae\u4e0b\u7684\u6570\u636e\u5f3a\u4e00\u81f4 \u7c7b SQL \u67e5\u8be2\u8bed\u8a00 \u7528\u6237\u9274\u6743 \u5feb\u901f\u4f7f\u7528 \u00b6 \u8bf7\u67e5\u770b \u5feb\u901f\u4f7f\u7528\u624b\u518c \uff0c\u5f00\u59cb\u4f7f\u7528 Nebula Graph \u3002 \u5728\u5f00\u59cb\u4f7f\u7528 Nebula Graph \u4e4b\u524d\uff0c\u5fc5\u987b\u901a\u8fc7 \u7f16\u8bd1\u6e90\u7801 \uff0c rpm/deb \u5305 \u6216\u8005 docker compose \u65b9\u5f0f\u5b89\u88c5 Nebula Graph \u3002\u60a8\u4e5f\u53ef\u4ee5\u89c2\u770b \u89c6\u9891 \u5b66\u4e60\u5982\u4f55\u5b89\u88c5 Nebula Graph \u3002 \u5982\u679c\u60a8\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u524d\u5f80 Nebula Graph \u5b98\u65b9\u8bba\u575b \u63d0\u95ee\u3002 \u5e38\u89c1\u95ee\u9898 \u00b6 \u67e5\u8be2\u8fd4\u56de\u65f6\u95f4\u89e3\u91ca \u5173\u4e8e\u673a\u68b0\u786c\u76d8\u548c\u5343\u5146\u7f51\u7edc \u6587\u6863 \u00b6 \u7b80\u4f53\u4e2d\u6587 English \u4ea7\u54c1\u8def\u7ebf\u56fe \u00b6 Nebula Graph \u4ea7\u54c1\u89c4\u5212\u8def\u7ebf\u56fe\u8bf7\u53c2\u89c1 roadmap \u3002 \u53ef\u89c6\u5316\u5de5\u5177\uff1aNebula Graph Studio \u00b6 \u67e5\u770b\u56fe\u53ef\u89c6\u5316\u5de5\u5177 Nebula Graph Studio \uff0c\u5f00\u542f\u56fe\u6570\u636e\u53ef\u89c6\u5316\u63a2\u7d22\u4e4b\u65c5\u3002 \u652f\u6301\u7684\u5ba2\u6237\u7aef \u00b6 Go Python Java \u8bb8\u53ef\u8bc1 \u00b6 Nebula Graph \u4f7f\u7528 Apache 2.0 \u8bb8\u53ef\u8bc1\uff0c\u60a8\u53ef\u4ee5\u514d\u8d39\u4e0b\u8f7d\uff0c\u4fee\u6539\u4ee5\u53ca\u90e8\u7f72\u6e90\u4ee3\u7801\u3002\u60a8\u8fd8\u53ef\u4ee5\u5c06 Nebula Graph \u4f5c\u4e3a\u540e\u7aef\u670d\u52a1\u90e8\u7f72\u4ee5\u652f\u6301\u60a8\u7684 SaaS \u90e8\u7f72\u3002 \u4e3a\u9632\u6b62\u4e91\u4f9b\u5e94\u5546\u4ece\u9879\u76ee\u8d62\u5229\u800c\u4e0d\u56de\u9988\uff0c Nebula Graph \u5728\u9879\u76ee\u4e2d\u6dfb\u52a0\u4e86 Commons Clause 1.0 \u6761\u6b3e\u3002\u5982\u4e0a\u6240\u8ff0\uff0c Nebula Graph \u662f\u4e00\u4e2a\u5b8c\u5168\u5f00\u6e90\u7684\u9879\u76ee\uff0c\u6b22\u8fce\u60a8\u5c31\u8bb8\u53ef\u6a21\u5f0f\u63d0\u51fa\u5efa\u8bae\uff0c\u5e2e\u52a9 Nebula Graph \u793e\u533a\u66f4\u597d\u5730\u53d1\u5c55\u3002 \u5982\u4f55\u8d21\u732e \u00b6 Nebula Graph \u662f\u4e00\u4e2a\u5b8c\u5168\u5f00\u6e90\u7684\u9879\u76ee\uff0c\u6b22\u8fce\u5f00\u6e90\u7231\u597d\u8005\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u53c2\u4e0e\u5230 Nebula Graph \u793e\u533a\uff1a \u4ece\u6807\u8bb0\u4e3a good first issues \u7684\u95ee\u9898\u5165\u624b \u8d21\u732e\u4ee3\u7801\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5982\u4f55\u8d21\u732e \u76f4\u63a5\u5728GitHub\u4e0a\u63d0 Issue \u83b7\u53d6\u5e2e\u52a9 & \u8054\u7cfb\u65b9\u5f0f \u00b6 \u5728\u4f7f\u7528 Nebula Graph \u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u5f0f\u5bfb\u6c42\u5e2e\u52a9\uff1a \u5b98\u65b9\u8bba\u575b \u8bbf\u95ee\u5b98\u7f51 Home Page \u3002 email: info@vesoft.com \u5982\u679c\u559c\u6b22 Nebula Graph \uff0c\u8bf7\u4e3a\u6211\u4eec\u70b9 star\u3002","title":"Home"},{"location":"#nebula_graph","text":"\u672c\u6587\u6863\u66f4\u65b0\u65f6\u95f42021-4-25, GitHub commit db4f2137. Nebula Graph 1.2.1\u662f\u4e00\u6b3e\u5f00\u6e90\u7684\u56fe\u6570\u636e\u5e93\uff0c\u64c5\u957f\u5904\u7406\u5343\u4ebf\u4e2a\u9876\u70b9\u548c\u4e07\u4ebf\u6761\u8fb9\u7684\u8d85\u5927\u89c4\u6a21\u6570\u636e\u96c6\u3002 \u4e0b\u56fe\u4e3a Nebula Graph \u4ea7\u54c1\u67b6\u6784\u56fe\uff1a \u4e0e\u5176\u4ed6\u56fe\u6570\u636e\u5e93\u4ea7\u54c1\u76f8\u6bd4\uff0c Nebula Graph \u5177\u6709\u5982\u4e0b\u4f18\u52bf\uff1a \u5168\u5bf9\u79f0\u5206\u5e03\u5f0f\u67b6\u6784 \u5b58\u50a8\u4e0e\u8ba1\u7b97\u5206\u79bb \u6c34\u5e73\u53ef\u6269\u5c55\u6027 RAFT \u534f\u8bae\u4e0b\u7684\u6570\u636e\u5f3a\u4e00\u81f4 \u7c7b SQL \u67e5\u8be2\u8bed\u8a00 \u7528\u6237\u9274\u6743","title":"Nebula Graph \u662f\u4ec0\u4e48"},{"location":"#_1","text":"\u8bf7\u67e5\u770b \u5feb\u901f\u4f7f\u7528\u624b\u518c \uff0c\u5f00\u59cb\u4f7f\u7528 Nebula Graph \u3002 \u5728\u5f00\u59cb\u4f7f\u7528 Nebula Graph \u4e4b\u524d\uff0c\u5fc5\u987b\u901a\u8fc7 \u7f16\u8bd1\u6e90\u7801 \uff0c rpm/deb \u5305 \u6216\u8005 docker compose \u65b9\u5f0f\u5b89\u88c5 Nebula Graph \u3002\u60a8\u4e5f\u53ef\u4ee5\u89c2\u770b \u89c6\u9891 \u5b66\u4e60\u5982\u4f55\u5b89\u88c5 Nebula Graph \u3002 \u5982\u679c\u60a8\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u524d\u5f80 Nebula Graph \u5b98\u65b9\u8bba\u575b \u63d0\u95ee\u3002","title":"\u5feb\u901f\u4f7f\u7528"},{"location":"#_2","text":"\u67e5\u8be2\u8fd4\u56de\u65f6\u95f4\u89e3\u91ca \u5173\u4e8e\u673a\u68b0\u786c\u76d8\u548c\u5343\u5146\u7f51\u7edc","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"#_3","text":"\u7b80\u4f53\u4e2d\u6587 English","title":"\u6587\u6863"},{"location":"#_4","text":"Nebula Graph \u4ea7\u54c1\u89c4\u5212\u8def\u7ebf\u56fe\u8bf7\u53c2\u89c1 roadmap \u3002","title":"\u4ea7\u54c1\u8def\u7ebf\u56fe"},{"location":"#nebula_graph_studio","text":"\u67e5\u770b\u56fe\u53ef\u89c6\u5316\u5de5\u5177 Nebula Graph Studio \uff0c\u5f00\u542f\u56fe\u6570\u636e\u53ef\u89c6\u5316\u63a2\u7d22\u4e4b\u65c5\u3002","title":"\u53ef\u89c6\u5316\u5de5\u5177\uff1aNebula Graph Studio"},{"location":"#_5","text":"Go Python Java","title":"\u652f\u6301\u7684\u5ba2\u6237\u7aef"},{"location":"#_6","text":"Nebula Graph \u4f7f\u7528 Apache 2.0 \u8bb8\u53ef\u8bc1\uff0c\u60a8\u53ef\u4ee5\u514d\u8d39\u4e0b\u8f7d\uff0c\u4fee\u6539\u4ee5\u53ca\u90e8\u7f72\u6e90\u4ee3\u7801\u3002\u60a8\u8fd8\u53ef\u4ee5\u5c06 Nebula Graph \u4f5c\u4e3a\u540e\u7aef\u670d\u52a1\u90e8\u7f72\u4ee5\u652f\u6301\u60a8\u7684 SaaS \u90e8\u7f72\u3002 \u4e3a\u9632\u6b62\u4e91\u4f9b\u5e94\u5546\u4ece\u9879\u76ee\u8d62\u5229\u800c\u4e0d\u56de\u9988\uff0c Nebula Graph \u5728\u9879\u76ee\u4e2d\u6dfb\u52a0\u4e86 Commons Clause 1.0 \u6761\u6b3e\u3002\u5982\u4e0a\u6240\u8ff0\uff0c Nebula Graph \u662f\u4e00\u4e2a\u5b8c\u5168\u5f00\u6e90\u7684\u9879\u76ee\uff0c\u6b22\u8fce\u60a8\u5c31\u8bb8\u53ef\u6a21\u5f0f\u63d0\u51fa\u5efa\u8bae\uff0c\u5e2e\u52a9 Nebula Graph \u793e\u533a\u66f4\u597d\u5730\u53d1\u5c55\u3002","title":"\u8bb8\u53ef\u8bc1"},{"location":"#_7","text":"Nebula Graph \u662f\u4e00\u4e2a\u5b8c\u5168\u5f00\u6e90\u7684\u9879\u76ee\uff0c\u6b22\u8fce\u5f00\u6e90\u7231\u597d\u8005\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u53c2\u4e0e\u5230 Nebula Graph \u793e\u533a\uff1a \u4ece\u6807\u8bb0\u4e3a good first issues \u7684\u95ee\u9898\u5165\u624b \u8d21\u732e\u4ee3\u7801\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5982\u4f55\u8d21\u732e \u76f4\u63a5\u5728GitHub\u4e0a\u63d0 Issue","title":"\u5982\u4f55\u8d21\u732e"},{"location":"#_8","text":"\u5728\u4f7f\u7528 Nebula Graph \u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u5f0f\u5bfb\u6c42\u5e2e\u52a9\uff1a \u5b98\u65b9\u8bba\u575b \u8bbf\u95ee\u5b98\u7f51 Home Page \u3002 email: info@vesoft.com \u5982\u679c\u559c\u6b22 Nebula Graph \uff0c\u8bf7\u4e3a\u6211\u4eec\u70b9 star\u3002","title":"\u83b7\u53d6\u5e2e\u52a9 &amp; \u8054\u7cfb\u65b9\u5f0f"},{"location":"doc-tools/","text":"Generate documentation in PDF \u00b6 This document teaches you how to make documentation in PDF. Step One: Merge \u00b6 Use the provided script merge-all.py to merge all the markdown doc files into one. Step Two: Generate TOC \u00b6 Use pandoc to generated TOC (table of content) for the file you just merged. Firstly, you should make sure that pandoc has been installed on your machine. Open your terminal and run the command: pandoc -v If pandoc is not installed, please install it first. Windows choco install pandoc macOS brew install pandoc If you have any questions on pandoc installation, please check its document here . To generate TOC, you should first change directory to the merged file and type the following command: pandoc -s --toc merged.md -o merged.md Note : The default number of section levels is 3 in the table of contents (which means that level-1, 2, and 3 headings will be listed in the contents), use --toc-depth=NUMBER to specify that number. Step Three: Generate PDF \u00b6 You can convert the merged markdown file into PDF and print it out for easy-reading. Use the following command to generate PDF: pandoc merged.md -o merged.pdf Note: Make sure MiKTeX is installed. Now you've got your PDF documentation and have fun with Nebula Graph .","title":"Generate documentation in PDF"},{"location":"doc-tools/#generate_documentation_in_pdf","text":"This document teaches you how to make documentation in PDF.","title":"Generate documentation in PDF"},{"location":"doc-tools/#step_one_merge","text":"Use the provided script merge-all.py to merge all the markdown doc files into one.","title":"Step One: Merge"},{"location":"doc-tools/#step_two_generate_toc","text":"Use pandoc to generated TOC (table of content) for the file you just merged. Firstly, you should make sure that pandoc has been installed on your machine. Open your terminal and run the command: pandoc -v If pandoc is not installed, please install it first. Windows choco install pandoc macOS brew install pandoc If you have any questions on pandoc installation, please check its document here . To generate TOC, you should first change directory to the merged file and type the following command: pandoc -s --toc merged.md -o merged.md Note : The default number of section levels is 3 in the table of contents (which means that level-1, 2, and 3 headings will be listed in the contents), use --toc-depth=NUMBER to specify that number.","title":"Step Two: Generate TOC"},{"location":"doc-tools/#step_three_generate_pdf","text":"You can convert the merged markdown file into PDF and print it out for easy-reading. Use the following command to generate PDF: pandoc merged.md -o merged.pdf Note: Make sure MiKTeX is installed. Now you've got your PDF documentation and have fun with Nebula Graph .","title":"Step Three: Generate PDF"},{"location":"manual-CN/","text":"\u6b22\u8fce\u4f7f\u7528 Nebula Graph \u624b\u518c \u00b6 Nebula Graph \u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u7684\u53ef\u6269\u5c55\u7684\u9ad8\u6027\u80fd\u7684\u56fe\u6570\u636e\u5e93\u3002 Nebula Graph \u53ef\u4ee5\u5bb9\u7eb3\u767e\u4ebf\u70b9\u548c\u4e07\u4ebf\u6761\u8fb9\uff0c\u5e76\u8fbe\u5230\u6beb\u79d2\u7ea7\u7684\u65f6\u5ef6\u3002 \u524d\u8a00 \u00b6 \u5173\u4e8e\u672c\u624b\u518c \u53d8\u66f4\u5386\u53f2 \u6982\u89c8 (\u5165\u95e8\u7528\u6237) \u00b6 \u7b80\u4ecb \u57fa\u672c\u6982\u5ff5 \u6570\u636e\u6a21\u578b \u67e5\u8be2\u8bed\u8a00\u6982\u89c8 \u5feb\u901f\u5f00\u59cb\u548c\u5e38\u7528\u94fe\u63a5 \u5f00\u59cb\u8bd5\u7528 \u5e38\u89c1\u95ee\u9898 FAQ \u7f16\u8bd1\u6e90\u4ee3\u7801 \u5bfc\u5165 .csv \u6587\u4ef6 Nebula Graph SDK \u7cfb\u7edf\u8bbe\u8ba1\u4e0e\u67b6\u6784 \u8bbe\u8ba1\u603b\u89c8 \u5b58\u50a8\u5c42\u67b6\u6784 \u67e5\u8be2\u5f15\u64ce\u67b6\u6784 \u67e5\u8be2\u8bed\u8a00 (\u6240\u6709\u7528\u6237) \u00b6 \u6570\u636e\u7c7b\u578b \u57fa\u672c\u6570\u636e\u7c7b\u578b \u7c7b\u578b\u8f6c\u6362 \u51fd\u6570\u4e0e\u64cd\u4f5c\u7b26 \u4f4d\u8fd0\u7b97 \u5185\u7f6e\u51fd\u6570 \u6bd4\u8f83\u8fd0\u7b97 \u805a\u5408\u8fd0\u7b97 \u5206\u9875 (Limit) \u903b\u8f91\u8fd0\u7b97 \u6392\u5e8f (Order By) \u96c6\u5408\u8fd0\u7b97 \u5b57\u7b26\u6bd4\u8f83\u51fd\u6570\u548c\u8fd0\u7b97\u7b26 uuid \u51fd\u6570 \u8bed\u8a00\u7ed3\u6784 \u5b57\u9762\u503c\u5e38\u91cf \u5e03\u5c14\u7c7b\u578b \u6570\u503c\u7c7b\u578b \u5b57\u7b26\u4e32\u7c7b\u578b \u6ce8\u91ca\u8bed\u6cd5 \u6807\u8bc6\u7b26\u5927\u5c0f\u5199 \u5173\u952e\u5b57\u548c\u4fdd\u7559\u5b57 \u7ba1\u9053 \u5c5e\u6027\u5f15\u7528 \u6807\u8bc6\u7b26\u547d\u540d\u89c4\u5219 \u8bed\u53e5\u7ec4\u5408 \u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf \u8bed\u53e5\u8bed\u6cd5 \u6570\u636e\u5b9a\u4e49\u8bed\u53e5 (DDL) \u65b0\u5efa\u56fe\u7a7a\u95f4 \u65b0\u5efa Edge \u65b0\u5efa Tag \u4fee\u6539 Edge \u4fee\u6539 Tag \u5220\u9664 Tag \u5220\u9664 Edge \u5220\u9664 Space \u7d22\u5f15 TTL (time-to-live) \u6570\u636e\u67e5\u8be2\u4e0e\u64cd\u4f5c\u8bed\u53e5 (DQL \u548c DML) \u5220\u9664\u8fb9 \u5220\u9664\u9876\u70b9 \u83b7\u53d6\u70b9\u548c\u8fb9\u5c5e\u6027 (Fetch) \u56fe\u904d\u5386 (Go) \u63d2\u5165\u8fb9 \u63d2\u5165\u9876\u70b9 \u67e5\u627e\u6570\u636e (Lookup) \u8fd4\u56de\u6ee1\u8db3\u6761\u4ef6\u7684\u8bed\u53e5 (Return) \u66f4\u65b0\u70b9 \u66f4\u65b0\u8fb9 Upsert \u8bed\u6cd5 \u6761\u4ef6\u8bed\u53e5 (Where) \u8fd4\u56de\u7ed3\u679c\u8bed\u53e5 (Yield) \u8f85\u52a9\u529f\u80fd\u8bed\u53e5 Show \u8bed\u53e5 Show Charset \u8bed\u6cd5 Show Collation \u8bed\u6cd5 Show Configs \u8bed\u6cd5 Show Create Spaces \u8bed\u6cd5 Show Create Tag/Edge \u8bed\u6cd5 Show Hosts \u8bed\u6cd5 Show Indexes \u8bed\u6cd5 Show Parts \u8bed\u6cd5 Show Roles \u8bed\u6cd5 Show Snapshots \u8bed\u6cd5 Show Spaces \u8bed\u6cd5 Show Tag/Edge \u8bed\u6cd5 Show Users \u8bed\u6cd5 Describe Use \u56fe\u7b97\u6cd5 \u67e5\u627e\u8def\u5f84 \u7f16\u8bd1\u3001\u90e8\u7f72\u4e0e\u8fd0\u7ef4 (\u7a0b\u5e8f\u5458\u548c DBA) \u00b6 \u7f16\u8bd1 \u7f16\u8bd1\u6e90\u4ee3\u7801 \u4f7f\u7528 Docker \u7f16\u8bd1 \u5b89\u88c5 rpm \u5b89\u88c5 \u8d77\u505c\u670d\u52a1 \u4f7f\u7528 Docker \u5b89\u88c5 \u96c6\u7fa4\u90e8\u7f72 \u914d\u7f6e \u7cfb\u7edf\u8981\u6c42 \u914d\u7f6e\u6301\u4e45\u5316\u4e0e\u4f18\u5148\u7ea7 CONFIG \u8bed\u6cd5 Graphd \u914d\u7f6e Storaged \u914d\u7f6e \u547d\u4ee4\u884c\u7ec8\u7aef\u914d\u7f6e Kernel \u914d\u7f6e \u5355\u673a\u65e5\u5fd7 \u8d26\u53f7\u6743\u9650\u7ba1\u7406 Alter User Syntax \u8eab\u4efd\u9a8c\u8bc1 Built-in Roles Change Password Create User Drop User Grant Role LDAP Revoke \u6279\u91cf\u6570\u636e\u7ba1\u7406 \u79bb\u7ebf\u6570\u636e\u5bfc\u5165 \u8bfb\u53d6 .csv \u6587\u4ef6 Spark \u5bfc\u5165\u5de5\u5177 \u79bb\u7ebf\u6570\u636e\u8f6c\u50a8 Dump Tool \u8d1f\u8f7d\u5747\u8861\u548c\u6570\u636e\u8fc1\u79fb \u96c6\u7fa4\u5feb\u7167 \u957f\u8017\u65f6\u4efb\u52a1\u7ba1\u7406(compact,flush) Compact \u76d1\u63a7\u4e0e\u7edf\u8ba1 metrics meta \u5c42\u8fd0\u884c\u7edf\u8ba1 (metrics) storage \u8fd0\u884c\u7edf\u8ba1 (metrics) graph \u5c42\u8fd0\u884c\u7edf\u8ba1 (metrics) \u6e90\u7801\u5f00\u53d1\u548c API Key Value \u63a5\u53e3 Nebula Graph \u5ba2\u6237\u7aef \u793e\u533a\u8d21\u732e (\u5f00\u6e90\u793e\u533a\u7231\u597d\u8005) \u00b6 \u8d21\u732e\u6587\u6863 C++ \u7f16\u7a0b\u98ce\u683c \u5f00\u53d1\u8005\u6587\u6863\u98ce\u683c \u5982\u4f55\u8d21\u732e \u9644\u5f55 \u00b6 Gremlin V.S. nGQL Cypher V.S. nGQL SQL V.S. nGQL \u70b9\u6807\u8bc6\u7b26\u548c\u5206\u533a \u5176\u4ed6 \u00b6 \u89c6\u9891 \u00b6 YouTube Bilibili","title":"\u76ee\u5f55\u7d22\u5f15"},{"location":"manual-CN/#nebula_graph","text":"Nebula Graph \u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u7684\u53ef\u6269\u5c55\u7684\u9ad8\u6027\u80fd\u7684\u56fe\u6570\u636e\u5e93\u3002 Nebula Graph \u53ef\u4ee5\u5bb9\u7eb3\u767e\u4ebf\u70b9\u548c\u4e07\u4ebf\u6761\u8fb9\uff0c\u5e76\u8fbe\u5230\u6beb\u79d2\u7ea7\u7684\u65f6\u5ef6\u3002","title":"\u6b22\u8fce\u4f7f\u7528 Nebula Graph \u624b\u518c"},{"location":"manual-CN/#_1","text":"\u5173\u4e8e\u672c\u624b\u518c \u53d8\u66f4\u5386\u53f2","title":"\u524d\u8a00"},{"location":"manual-CN/#_2","text":"\u7b80\u4ecb \u57fa\u672c\u6982\u5ff5 \u6570\u636e\u6a21\u578b \u67e5\u8be2\u8bed\u8a00\u6982\u89c8 \u5feb\u901f\u5f00\u59cb\u548c\u5e38\u7528\u94fe\u63a5 \u5f00\u59cb\u8bd5\u7528 \u5e38\u89c1\u95ee\u9898 FAQ \u7f16\u8bd1\u6e90\u4ee3\u7801 \u5bfc\u5165 .csv \u6587\u4ef6 Nebula Graph SDK \u7cfb\u7edf\u8bbe\u8ba1\u4e0e\u67b6\u6784 \u8bbe\u8ba1\u603b\u89c8 \u5b58\u50a8\u5c42\u67b6\u6784 \u67e5\u8be2\u5f15\u64ce\u67b6\u6784","title":"\u6982\u89c8 (\u5165\u95e8\u7528\u6237)"},{"location":"manual-CN/#_3","text":"\u6570\u636e\u7c7b\u578b \u57fa\u672c\u6570\u636e\u7c7b\u578b \u7c7b\u578b\u8f6c\u6362 \u51fd\u6570\u4e0e\u64cd\u4f5c\u7b26 \u4f4d\u8fd0\u7b97 \u5185\u7f6e\u51fd\u6570 \u6bd4\u8f83\u8fd0\u7b97 \u805a\u5408\u8fd0\u7b97 \u5206\u9875 (Limit) \u903b\u8f91\u8fd0\u7b97 \u6392\u5e8f (Order By) \u96c6\u5408\u8fd0\u7b97 \u5b57\u7b26\u6bd4\u8f83\u51fd\u6570\u548c\u8fd0\u7b97\u7b26 uuid \u51fd\u6570 \u8bed\u8a00\u7ed3\u6784 \u5b57\u9762\u503c\u5e38\u91cf \u5e03\u5c14\u7c7b\u578b \u6570\u503c\u7c7b\u578b \u5b57\u7b26\u4e32\u7c7b\u578b \u6ce8\u91ca\u8bed\u6cd5 \u6807\u8bc6\u7b26\u5927\u5c0f\u5199 \u5173\u952e\u5b57\u548c\u4fdd\u7559\u5b57 \u7ba1\u9053 \u5c5e\u6027\u5f15\u7528 \u6807\u8bc6\u7b26\u547d\u540d\u89c4\u5219 \u8bed\u53e5\u7ec4\u5408 \u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf \u8bed\u53e5\u8bed\u6cd5 \u6570\u636e\u5b9a\u4e49\u8bed\u53e5 (DDL) \u65b0\u5efa\u56fe\u7a7a\u95f4 \u65b0\u5efa Edge \u65b0\u5efa Tag \u4fee\u6539 Edge \u4fee\u6539 Tag \u5220\u9664 Tag \u5220\u9664 Edge \u5220\u9664 Space \u7d22\u5f15 TTL (time-to-live) \u6570\u636e\u67e5\u8be2\u4e0e\u64cd\u4f5c\u8bed\u53e5 (DQL \u548c DML) \u5220\u9664\u8fb9 \u5220\u9664\u9876\u70b9 \u83b7\u53d6\u70b9\u548c\u8fb9\u5c5e\u6027 (Fetch) \u56fe\u904d\u5386 (Go) \u63d2\u5165\u8fb9 \u63d2\u5165\u9876\u70b9 \u67e5\u627e\u6570\u636e (Lookup) \u8fd4\u56de\u6ee1\u8db3\u6761\u4ef6\u7684\u8bed\u53e5 (Return) \u66f4\u65b0\u70b9 \u66f4\u65b0\u8fb9 Upsert \u8bed\u6cd5 \u6761\u4ef6\u8bed\u53e5 (Where) \u8fd4\u56de\u7ed3\u679c\u8bed\u53e5 (Yield) \u8f85\u52a9\u529f\u80fd\u8bed\u53e5 Show \u8bed\u53e5 Show Charset \u8bed\u6cd5 Show Collation \u8bed\u6cd5 Show Configs \u8bed\u6cd5 Show Create Spaces \u8bed\u6cd5 Show Create Tag/Edge \u8bed\u6cd5 Show Hosts \u8bed\u6cd5 Show Indexes \u8bed\u6cd5 Show Parts \u8bed\u6cd5 Show Roles \u8bed\u6cd5 Show Snapshots \u8bed\u6cd5 Show Spaces \u8bed\u6cd5 Show Tag/Edge \u8bed\u6cd5 Show Users \u8bed\u6cd5 Describe Use \u56fe\u7b97\u6cd5 \u67e5\u627e\u8def\u5f84","title":"\u67e5\u8be2\u8bed\u8a00 (\u6240\u6709\u7528\u6237)"},{"location":"manual-CN/#dba","text":"\u7f16\u8bd1 \u7f16\u8bd1\u6e90\u4ee3\u7801 \u4f7f\u7528 Docker \u7f16\u8bd1 \u5b89\u88c5 rpm \u5b89\u88c5 \u8d77\u505c\u670d\u52a1 \u4f7f\u7528 Docker \u5b89\u88c5 \u96c6\u7fa4\u90e8\u7f72 \u914d\u7f6e \u7cfb\u7edf\u8981\u6c42 \u914d\u7f6e\u6301\u4e45\u5316\u4e0e\u4f18\u5148\u7ea7 CONFIG \u8bed\u6cd5 Graphd \u914d\u7f6e Storaged \u914d\u7f6e \u547d\u4ee4\u884c\u7ec8\u7aef\u914d\u7f6e Kernel \u914d\u7f6e \u5355\u673a\u65e5\u5fd7 \u8d26\u53f7\u6743\u9650\u7ba1\u7406 Alter User Syntax \u8eab\u4efd\u9a8c\u8bc1 Built-in Roles Change Password Create User Drop User Grant Role LDAP Revoke \u6279\u91cf\u6570\u636e\u7ba1\u7406 \u79bb\u7ebf\u6570\u636e\u5bfc\u5165 \u8bfb\u53d6 .csv \u6587\u4ef6 Spark \u5bfc\u5165\u5de5\u5177 \u79bb\u7ebf\u6570\u636e\u8f6c\u50a8 Dump Tool \u8d1f\u8f7d\u5747\u8861\u548c\u6570\u636e\u8fc1\u79fb \u96c6\u7fa4\u5feb\u7167 \u957f\u8017\u65f6\u4efb\u52a1\u7ba1\u7406(compact,flush) Compact \u76d1\u63a7\u4e0e\u7edf\u8ba1 metrics meta \u5c42\u8fd0\u884c\u7edf\u8ba1 (metrics) storage \u8fd0\u884c\u7edf\u8ba1 (metrics) graph \u5c42\u8fd0\u884c\u7edf\u8ba1 (metrics) \u6e90\u7801\u5f00\u53d1\u548c API Key Value \u63a5\u53e3 Nebula Graph \u5ba2\u6237\u7aef","title":"\u7f16\u8bd1\u3001\u90e8\u7f72\u4e0e\u8fd0\u7ef4 (\u7a0b\u5e8f\u5458\u548c DBA)"},{"location":"manual-CN/#_4","text":"\u8d21\u732e\u6587\u6863 C++ \u7f16\u7a0b\u98ce\u683c \u5f00\u53d1\u8005\u6587\u6863\u98ce\u683c \u5982\u4f55\u8d21\u732e","title":"\u793e\u533a\u8d21\u732e (\u5f00\u6e90\u793e\u533a\u7231\u597d\u8005)"},{"location":"manual-CN/#_5","text":"Gremlin V.S. nGQL Cypher V.S. nGQL SQL V.S. nGQL \u70b9\u6807\u8bc6\u7b26\u548c\u5206\u533a","title":"\u9644\u5f55"},{"location":"manual-CN/#_6","text":"","title":"\u5176\u4ed6"},{"location":"manual-CN/#_7","text":"YouTube Bilibili","title":"\u89c6\u9891"},{"location":"manual-CN/0.about-this-manual/","text":"\u5173\u4e8e\u672c\u624b\u518c \u00b6 \u6b64\u624b\u518c\u4e3a Nebula Graph \u7684\u7528\u6237\u624b\u518c\uff0c\u7248\u672c\u4e3a1.2.1\u3002\u8be6\u7ec6\u7248\u672c\u66f4\u65b0\u4fe1\u606f\u53c2\u89c1 Release Notes \u3002 \u9762\u5411\u7684\u8bfb\u8005 \u00b6 \u672c\u624b\u518c\u9002\u7528\u4e8e \u7b97\u6cd5\u5de5\u7a0b\u5e08 \u3001 \u6570\u636e\u79d1\u5b66\u5bb6 \u3001 \u8f6f\u4ef6\u5f00\u53d1\u4eba\u5458 \u548c DBA \uff0c\u4ee5\u53ca\u6240\u6709\u5bf9 \u56fe\u6570\u636e\u5e93 \u611f\u5174\u8da3\u7684\u4eba\u7fa4\u3002 \u5982\u679c\u5728\u4f7f\u7528 Nebula Graph \u7684\u8fc7\u7a0b\u4e2d\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u6b22\u8fce\u5728 Nebula Graph Community Slack \u6216 \u5b98\u65b9\u8bba\u575b \u63d0\u95ee\u3002 \u5982\u679c\u5bf9\u672c\u624b\u518c\u6709\u4efb\u4f55\u5efa\u8bae\u6216\u7591\u95ee\uff0c\u8bf7\u5728 GitHub \u7ed9\u6211\u4eec\u7559\u8a00\u3002 \u683c\u5f0f\u7ea6\u5b9a \u00b6 Nebula Graph \u5c1a\u5728\u6301\u7eed\u5f00\u53d1\u4e2d\uff0c\u672c\u624b\u518c\u4e5f\u5c06\u6301\u7eed\u66f4\u65b0\u3002 \u672c\u624b\u518c\u4f7f\u7528\u5982\u4e0b\u8bed\u6cd5\u60ef\u4f8b\uff1a \u7b49\u5bbd\u5b57\u4f53 \u7b49\u5bbd\u5b57\u4f53\u7528\u4e8e\u8868\u793a \u547d\u4ee4 \uff0c \u9700\u8981\u7528\u6237\u8f93\u5165\u7684\u547d\u4ee4 \u53ca \u63a5\u53e3 \u3002 \u52a0\u7c97\u5b57\u4f53 \u7528\u4e8e\u547d\u4ee4\u4ee5\u53ca\u5176\u4ed6\u9700\u8981\u7528\u6237\u9010\u5b57\u8f93\u5165\u7684\u6587\u5b57\u3002 UPPERCASE fixed width \u5728\u67e5\u8be2\u8bed\u8a00\u4e2d\uff0c \u4fdd\u7559\u5173\u952e\u5b57 \u548c \u975e\u4fdd\u7559\u5173\u952e\u5b57 \u5747\u4f7f\u7528\u5927\u5199\u7b49\u5bbd\u5b57\u4f53\u8868\u793a\u3002 \u6587\u4ef6\u683c\u5f0f \u00b6 \u672c\u624b\u518c\u6240\u6709\u6587\u4ef6\u5747\u91c7\u7528 Markdown \u7f16\u5199\uff0cHTML \u7f51\u7ad9\u4f7f\u7528 mkdocs \u81ea\u52a8\u751f\u6210\u3002","title":"\u5173\u4e8e\u672c\u624b\u518c"},{"location":"manual-CN/0.about-this-manual/#_1","text":"\u6b64\u624b\u518c\u4e3a Nebula Graph \u7684\u7528\u6237\u624b\u518c\uff0c\u7248\u672c\u4e3a1.2.1\u3002\u8be6\u7ec6\u7248\u672c\u66f4\u65b0\u4fe1\u606f\u53c2\u89c1 Release Notes \u3002","title":"\u5173\u4e8e\u672c\u624b\u518c"},{"location":"manual-CN/0.about-this-manual/#_2","text":"\u672c\u624b\u518c\u9002\u7528\u4e8e \u7b97\u6cd5\u5de5\u7a0b\u5e08 \u3001 \u6570\u636e\u79d1\u5b66\u5bb6 \u3001 \u8f6f\u4ef6\u5f00\u53d1\u4eba\u5458 \u548c DBA \uff0c\u4ee5\u53ca\u6240\u6709\u5bf9 \u56fe\u6570\u636e\u5e93 \u611f\u5174\u8da3\u7684\u4eba\u7fa4\u3002 \u5982\u679c\u5728\u4f7f\u7528 Nebula Graph \u7684\u8fc7\u7a0b\u4e2d\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u6b22\u8fce\u5728 Nebula Graph Community Slack \u6216 \u5b98\u65b9\u8bba\u575b \u63d0\u95ee\u3002 \u5982\u679c\u5bf9\u672c\u624b\u518c\u6709\u4efb\u4f55\u5efa\u8bae\u6216\u7591\u95ee\uff0c\u8bf7\u5728 GitHub \u7ed9\u6211\u4eec\u7559\u8a00\u3002","title":"\u9762\u5411\u7684\u8bfb\u8005"},{"location":"manual-CN/0.about-this-manual/#_3","text":"Nebula Graph \u5c1a\u5728\u6301\u7eed\u5f00\u53d1\u4e2d\uff0c\u672c\u624b\u518c\u4e5f\u5c06\u6301\u7eed\u66f4\u65b0\u3002 \u672c\u624b\u518c\u4f7f\u7528\u5982\u4e0b\u8bed\u6cd5\u60ef\u4f8b\uff1a \u7b49\u5bbd\u5b57\u4f53 \u7b49\u5bbd\u5b57\u4f53\u7528\u4e8e\u8868\u793a \u547d\u4ee4 \uff0c \u9700\u8981\u7528\u6237\u8f93\u5165\u7684\u547d\u4ee4 \u53ca \u63a5\u53e3 \u3002 \u52a0\u7c97\u5b57\u4f53 \u7528\u4e8e\u547d\u4ee4\u4ee5\u53ca\u5176\u4ed6\u9700\u8981\u7528\u6237\u9010\u5b57\u8f93\u5165\u7684\u6587\u5b57\u3002 UPPERCASE fixed width \u5728\u67e5\u8be2\u8bed\u8a00\u4e2d\uff0c \u4fdd\u7559\u5173\u952e\u5b57 \u548c \u975e\u4fdd\u7559\u5173\u952e\u5b57 \u5747\u4f7f\u7528\u5927\u5199\u7b49\u5bbd\u5b57\u4f53\u8868\u793a\u3002","title":"\u683c\u5f0f\u7ea6\u5b9a"},{"location":"manual-CN/0.about-this-manual/#_4","text":"\u672c\u624b\u518c\u6240\u6709\u6587\u4ef6\u5747\u91c7\u7528 Markdown \u7f16\u5199\uff0cHTML \u7f51\u7ad9\u4f7f\u7528 mkdocs \u81ea\u52a8\u751f\u6210\u3002","title":"\u6587\u4ef6\u683c\u5f0f"},{"location":"manual-CN/CHANGELOG/","text":"Manual Changes \u00b6","title":"Manual Changes"},{"location":"manual-CN/CHANGELOG/#manual_changes","text":"","title":"Manual Changes"},{"location":"manual-CN/1.overview/","text":"\u9762\u5411\u7684\u8bfb\u8005 \u00b6 \u672c\u7ae0\u9762\u5411 Nebula Graph \u7684\u5165\u95e8\u7528\u6237","title":"\u9762\u5411\u7684\u8bfb\u8005"},{"location":"manual-CN/1.overview/#_1","text":"\u672c\u7ae0\u9762\u5411 Nebula Graph \u7684\u5165\u95e8\u7528\u6237","title":"\u9762\u5411\u7684\u8bfb\u8005"},{"location":"manual-CN/1.overview/0.introduction/","text":"Nebula Graph \u6982\u89c8 \u00b6 \u4ec0\u4e48\u662f Nebula Graph \u00b6 Nebula Graph \u662f\u4e00\u4e2a\u5f00\u6e90 (Apache 2.0)\uff0c\u9ad8\u6027\u80fd\u7684\u5206\u5e03\u5f0f\u56fe\u6570\u636e\u5e93\uff0c\u662f\u4e16\u754c\u4e0a\u552f\u4e00\u4e00\u4e2a\u652f\u6301\u767e\u4ebf\u8282\u70b9\uff0c\u4e07\u4ebf\u6761\u8fb9\uff0c\u5e76\u63d0\u4f9b\u6beb\u79d2\u5ef6\u8fdf\u7684\u56fe\u6570\u636e\u5e93\u89e3\u51b3\u65b9\u6848\u3002 Nebula Graph \u7684\u76ee\u6807\u662f\u63d0\u4f9b\u9ad8\u5e76\u53d1\u4f4e\u5ef6\u65f6\u7684\u8bfb\u5199\u53ca\u8ba1\u7b97\u3002 Nebula Graph \u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u6211\u4eec\u671f\u5f85\u4e0e\u793e\u533a\u4e00\u8d77\u5171\u540c\u63a8\u8fdb\u884c\u4e1a\u53d1\u5c55\u3002 Nebula Graph \u7279\u70b9 \u00b6 Nebula Graph \u6709\u5982\u4e0b\u91cd\u8981\u7279\u70b9\uff1a \u9ad8\u6027\u80fd \u63d0\u4f9b\u4f4e\u5ef6\u65f6\u9ad8\u5e76\u53d1\u8bfb\u5199 \u7c7b SQL \u67e5\u8be2\u8bed\u8a00 SQL \u5f0f\u7684\u67e5\u8be2\u8bed\u8a00\uff0c\u6613\u5b66\u6613\u7528\uff0c\u6ee1\u8db3\u590d\u6742\u4e1a\u52a1\u9700\u6c42 \u9ad8\u5ea6\u5b89\u5168 \u5b8c\u5584\u7684\u5206\u7ec4\u548c\u7528\u6237\u9274\u6743 \u53ef\u6269\u5c55 \u652f\u6301\u6c34\u5e73\u6269\u5c55\uff0c\u53ef\u81ea\u52a8\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u4e0e\u5f39\u6027\u6269\u5bb9 \u591a\u5b58\u50a8\u540e\u7aef \u652f\u6301 RocksDB\u3001HBase \u7b49\u591a\u79cd\u5b58\u50a8\u540e\u7aef \u667a\u80fd\u9a71\u52a8 \u901a\u8fc7\u7d22\u5f15\u63a8\u8350\u3001\u6307\u6807\u76d1\u63a7\u3001\u6162\u67e5\u8be2\u5206\u6790\u53d1\u73b0\u6027\u80fd\u98ce\u9669 \u9ad8\u53ef\u7528 \u591a\u91cd\u5197\u4f59\u67b6\u6784\u8bbe\u8ba1\uff0c\u4e3a\u6570\u636e\u6301\u4e45\u5b58\u50a8\u63d0\u4f9b\u53ef\u9760\u4fdd\u969c","title":"Nebula Graph \u6982\u89c8"},{"location":"manual-CN/1.overview/0.introduction/#nebula_graph","text":"","title":"Nebula Graph \u6982\u89c8"},{"location":"manual-CN/1.overview/0.introduction/#nebula_graph_1","text":"Nebula Graph \u662f\u4e00\u4e2a\u5f00\u6e90 (Apache 2.0)\uff0c\u9ad8\u6027\u80fd\u7684\u5206\u5e03\u5f0f\u56fe\u6570\u636e\u5e93\uff0c\u662f\u4e16\u754c\u4e0a\u552f\u4e00\u4e00\u4e2a\u652f\u6301\u767e\u4ebf\u8282\u70b9\uff0c\u4e07\u4ebf\u6761\u8fb9\uff0c\u5e76\u63d0\u4f9b\u6beb\u79d2\u5ef6\u8fdf\u7684\u56fe\u6570\u636e\u5e93\u89e3\u51b3\u65b9\u6848\u3002 Nebula Graph \u7684\u76ee\u6807\u662f\u63d0\u4f9b\u9ad8\u5e76\u53d1\u4f4e\u5ef6\u65f6\u7684\u8bfb\u5199\u53ca\u8ba1\u7b97\u3002 Nebula Graph \u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u6211\u4eec\u671f\u5f85\u4e0e\u793e\u533a\u4e00\u8d77\u5171\u540c\u63a8\u8fdb\u884c\u4e1a\u53d1\u5c55\u3002","title":"\u4ec0\u4e48\u662f Nebula Graph"},{"location":"manual-CN/1.overview/0.introduction/#nebula_graph_2","text":"Nebula Graph \u6709\u5982\u4e0b\u91cd\u8981\u7279\u70b9\uff1a \u9ad8\u6027\u80fd \u63d0\u4f9b\u4f4e\u5ef6\u65f6\u9ad8\u5e76\u53d1\u8bfb\u5199 \u7c7b SQL \u67e5\u8be2\u8bed\u8a00 SQL \u5f0f\u7684\u67e5\u8be2\u8bed\u8a00\uff0c\u6613\u5b66\u6613\u7528\uff0c\u6ee1\u8db3\u590d\u6742\u4e1a\u52a1\u9700\u6c42 \u9ad8\u5ea6\u5b89\u5168 \u5b8c\u5584\u7684\u5206\u7ec4\u548c\u7528\u6237\u9274\u6743 \u53ef\u6269\u5c55 \u652f\u6301\u6c34\u5e73\u6269\u5c55\uff0c\u53ef\u81ea\u52a8\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u4e0e\u5f39\u6027\u6269\u5bb9 \u591a\u5b58\u50a8\u540e\u7aef \u652f\u6301 RocksDB\u3001HBase \u7b49\u591a\u79cd\u5b58\u50a8\u540e\u7aef \u667a\u80fd\u9a71\u52a8 \u901a\u8fc7\u7d22\u5f15\u63a8\u8350\u3001\u6307\u6807\u76d1\u63a7\u3001\u6162\u67e5\u8be2\u5206\u6790\u53d1\u73b0\u6027\u80fd\u98ce\u9669 \u9ad8\u53ef\u7528 \u591a\u91cd\u5197\u4f59\u67b6\u6784\u8bbe\u8ba1\uff0c\u4e3a\u6570\u636e\u6301\u4e45\u5b58\u50a8\u63d0\u4f9b\u53ef\u9760\u4fdd\u969c","title":"Nebula Graph \u7279\u70b9"},{"location":"manual-CN/1.overview/1.concepts/1.data-model/","text":"\u56fe\u6570\u636e\u5efa\u6a21 \u00b6 \u6b64\u6587\u6863\u4ecb\u7ecd Nebula Graph \u5efa\u6a21\u53ca\u56fe\u6a21\u578b\u7684\u57fa\u672c\u6982\u5ff5\u3002 \u56fe\u7a7a\u95f4 \u00b6 \u56fe\u7a7a\u95f4 \u4e3a\u5f7c\u6b64\u9694\u79bb\u7684\u56fe\u6570\u636e\uff0c\u4e0e MySQL \u4e2d\u7684 database \u6982\u5ff5\u7c7b\u4f3c\u3002 \u6709\u5411\u5c5e\u6027\u56fe \u00b6 Nebula Graph\u5c06\u6570\u636e\u5b58\u50a8\u5728\u6709\u5411\u5c5e\u6027\u56fe\u4e2d\u3002\u6709\u5411\u5c5e\u6027\u56fe\u662f\u6307\u70b9\u548c\u8fb9\u6784\u6210\u7684\u56fe\uff0c\u8fd9\u4e9b\u8fb9\u662f\u6709\u65b9\u5411\u7684\u3002\u6709\u5411\u5c5e\u6027\u56fe\u8868\u793a\u4e3a\uff1a G = < V, E, P V , P E > V \u662f\u70b9\u7684\u96c6\u5408\u3002 E \u662f\u6709\u5411\u8fb9\u7684\u96c6\u5408\u3002 P V \u662f\u70b9\u7684\u5c5e\u6027\u3002 P E \u662f\u8fb9\u7684\u5c5e\u6027\u3002 \u4e0b\u8868\u4e3a\u7bee\u7403\u8fd0\u52a8\u5458\u6570\u636e\u96c6\u7684\u7ed3\u6784\u793a\u4f8b\uff0c\u5305\u62ec\u4e24\u79cd\u7c7b\u578b\u7684\u70b9\uff08 player \u3001 team \uff09\u548c\u4e24\u79cd\u7c7b\u578b\u7684\u8fb9\uff08 serve \u3001 follow \uff09\u3002 \u7c7b\u578b \u540d\u79f0 \u5c5e\u6027\u540d\uff08\u6570\u636e\u7c7b\u578b\uff09 \u8bf4\u660e tag player name \uff08string\uff09 age \uff08int\uff09 \u8868\u793a\u7403\u5458\u3002 tag team name \uff08string\uff09 \u8868\u793a\u7403\u961f\u3002 edge type serve start_year \uff08int\uff09 end_year \uff08int\uff09 \u8868\u793a\u7403\u5458\u7684\u884c\u4e3a\u3002 \u8be5\u884c\u4e3a\u5c06\u7403\u5458\u548c\u7403\u961f\u8054\u7cfb\u8d77\u6765\uff0c\u65b9\u5411\u662f\u4ece\u7403\u5458\u5230\u7403\u961f\u3002 edge type follow degree \uff08int\uff09 \u8868\u793a\u7403\u5458\u7684\u884c\u4e3a\u3002 \u8be5\u884c\u4e3a\u5c06\u4e24\u4e2a\u7403\u5458\u8054\u7cfb\u8d77\u6765\uff0c\u65b9\u5411\u662f\u4ece\u4e00\u4e2a\u7403\u5458\u5230\u53e6\u4e00\u4e2a\u7403\u5458\u3002 \u70b9\uff08Vertex\uff09 \u00b6 \u70b9\u7528\u4e8e\u8868\u793a\u73b0\u5b9e\u4e16\u754c\u4e2d\u7684\u5b9e\u4f53\u3002\u5728 Nebula Graph \u4e2d\uff0c\u70b9\u5fc5\u987b\u62e5\u6709\u552f\u4e00\u7684\u6807\u8bc6\u7b26\uff08\u5373 VID \uff09\u3002\u5728\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u7684 VID \u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002 \u672c\u4f8b\u7684\u6570\u636e\u4e2d\u5171\u5305\u542b 11 \u4e2a\u70b9\u3002 \u70b9\u7c7b\u578b\u2014\u2014\u6807\u7b7e\uff08Tag\uff09 \u00b6 Nebula Graph \u4f7f\u7528 \u6807\u7b7e \u8868\u793a\u70b9\u7c7b\u578b\uff1b\u4e00\u4e2a\u70b9\u53ef\u4ee5\u540c\u65f6\u6709\u591a\u79cd\u7c7b\u578b\uff08Tag\uff09\u3002\u672c\u4f8b\u4e2d\u6709\u4e24\u79cd\u7c7b\u578b\u7684\u70b9\uff0c\u5176\u6807\u7b7e\uff08\u7c7b\u578b\uff09\u5206\u522b\u4e3a player \u548c team \u3002 \u8fb9\uff08Edge\uff09 \u00b6 \u8fb9\u7528\u6765\u8fde\u63a5\u70b9\uff0c\u8fb9\u901a\u5e38\u8868\u793a\u4e24\u4e2a\u70b9\u95f4\u7684\u67d0\u79cd\u5173\u7cfb\u6216\u884c\u4e3a\uff0c\u672c\u4f8b\u4e2d\u7684\u8fb9\u4e3a serve \u548c follow \u3002 \u8fb9\u7c7b\u578b\uff08Edge Type\uff09 \u00b6 \u6bcf\u6761\u8fb9\u90fd\u6709\u552f\u4e00\u7684\u8fb9\u7c7b\u578b\u3002\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u5141\u8bb8\u6709\u591a\u4e2a\u76f8\u540c\u6216\u8005\u4e0d\u540c\u7c7b\u578b\u7684\u8fb9\u3002\u4f8b\u5982\uff0c\u4ee5\u7403\u5458-\u7403\u961f\u7684\u670d\u5f79\u5173\u7cfb serve \u4e3a\u4f8b\uff0c\uff08\u7403\u5458\uff09\u70b9 101 \uff08\u8868\u793a\u4e00\u540d\u7403\u5458\uff09\u4e3a\u8d77\u59cb\u70b9\uff0c\uff08\u7403\u961f\uff09\u70b9 215 \uff08\u8868\u793a\u4e00\u652f\u7403\u961f\uff09\u4e3a\u76ee\u6807\u70b9\u3002\u70b9 101 \u6709\u4e00\u6761\u51fa\u8fb9\uff0c\u800c\u70b9 215 \u6709\u4e00\u6761\u5165\u8fb9\u3002 \u8fb9 rank \u00b6 \u4e24\u4e2a\u70b9\u4e4b\u95f4\u7684\u8fb9\u9664\u4e86\u5fc5\u987b\u6709\u7c7b\u578b\u4e4b\u5916\uff0c\u8fd8\u5fc5\u987b\u6709 rank\u3002\u8fb9 rank \u662f\u7528\u6237\u5206\u914d\u7684 64 \u4f4d\u6574\u6570\uff1b\u5982\u4e0d\u6307\u5b9a\uff0c\u8fb9 rank \u9ed8\u8ba4\u503c\u4e3a 0\u3002 \u56db\u5143\u7ec4[\u8d77\u70b9\u3001\u8fb9\u7c7b\u578b\u3001\u6743\u91cd\u3001\u7ec8\u70b9]\u53ef\u4ee5\u552f\u4e00\u8868\u793a\u4e00\u6761\u8fb9\u3002 \u8fb9 rank \u51b3\u5b9a\u4e86\u4e24\u4e2a\u70b9\u4e4b\u95f4\u76f8\u540c\u7c7b\u578b\u7684\u8fb9\u7684\u6392\u5e8f\u65b9\u5f0f\u3002\u8fb9 rank \u503c\u8f83\u9ad8\u7684\u8fb9\u6392\u540d\u9760\u524d\u3002 \u76ee\u524d\u7684\u6392\u5e8f\u4f9d\u636e\u4e3a\u201c\u4e8c\u8fdb\u5236\u7f16\u7801\u987a\u5e8f\u201c\uff1a\u5373 0, 1, 2, ... 9223372036854775807, -9223372036854775808, -9223372036854775807, ..., -1\u3002 \u70b9\u548c\u8fb9\u7684\u5c5e\u6027\uff08Property\uff09 \u00b6 \u70b9\u548c\u8fb9\u65e0\u53ef\u53ef\u62e5\u6709\u5c5e\u6027\uff0c\u5c5e\u6027\u4ee5\u952e\u503c\u5bf9\u7684\u65b9\u5f0f\u63cf\u8ff0\u3002\u672c\u4f8b\u4e2d\uff0c\u70b9 player \u62e5\u6709\u5c5e\u6027 id \u3001 name \u548c age \uff0c\u8fb9 follow \u5219\u62e5\u6709\u5c5e\u6027 degree \u3002 Schema \u00b6 \u5728 Nebula Graph \u4e2d\uff0cSchema \u4e3a\u6807\u7b7e\u53ca\u8fb9\u5bf9\u5e94\u7684\u5c5e\u6027\u3002\u4e0e MySQL \u7c7b\u4f3c\uff0c Nebula Graph \u662f\u4e00\u79cd\u5f3a schema \u7684\u6570\u636e\u5e93\uff0c\u5c5e\u6027\u7684\u540d\u79f0\u548c\u6570\u636e\u7c7b\u578b\u5728\u6570\u636e\u5199\u5165\u524d\u5df2\u786e\u5b9a\u3002","title":"\u6570\u636e\u6a21\u578b"},{"location":"manual-CN/1.overview/1.concepts/1.data-model/#_1","text":"\u6b64\u6587\u6863\u4ecb\u7ecd Nebula Graph \u5efa\u6a21\u53ca\u56fe\u6a21\u578b\u7684\u57fa\u672c\u6982\u5ff5\u3002","title":"\u56fe\u6570\u636e\u5efa\u6a21"},{"location":"manual-CN/1.overview/1.concepts/1.data-model/#_2","text":"\u56fe\u7a7a\u95f4 \u4e3a\u5f7c\u6b64\u9694\u79bb\u7684\u56fe\u6570\u636e\uff0c\u4e0e MySQL \u4e2d\u7684 database \u6982\u5ff5\u7c7b\u4f3c\u3002","title":"\u56fe\u7a7a\u95f4"},{"location":"manual-CN/1.overview/1.concepts/1.data-model/#_3","text":"Nebula Graph\u5c06\u6570\u636e\u5b58\u50a8\u5728\u6709\u5411\u5c5e\u6027\u56fe\u4e2d\u3002\u6709\u5411\u5c5e\u6027\u56fe\u662f\u6307\u70b9\u548c\u8fb9\u6784\u6210\u7684\u56fe\uff0c\u8fd9\u4e9b\u8fb9\u662f\u6709\u65b9\u5411\u7684\u3002\u6709\u5411\u5c5e\u6027\u56fe\u8868\u793a\u4e3a\uff1a G = < V, E, P V , P E > V \u662f\u70b9\u7684\u96c6\u5408\u3002 E \u662f\u6709\u5411\u8fb9\u7684\u96c6\u5408\u3002 P V \u662f\u70b9\u7684\u5c5e\u6027\u3002 P E \u662f\u8fb9\u7684\u5c5e\u6027\u3002 \u4e0b\u8868\u4e3a\u7bee\u7403\u8fd0\u52a8\u5458\u6570\u636e\u96c6\u7684\u7ed3\u6784\u793a\u4f8b\uff0c\u5305\u62ec\u4e24\u79cd\u7c7b\u578b\u7684\u70b9\uff08 player \u3001 team \uff09\u548c\u4e24\u79cd\u7c7b\u578b\u7684\u8fb9\uff08 serve \u3001 follow \uff09\u3002 \u7c7b\u578b \u540d\u79f0 \u5c5e\u6027\u540d\uff08\u6570\u636e\u7c7b\u578b\uff09 \u8bf4\u660e tag player name \uff08string\uff09 age \uff08int\uff09 \u8868\u793a\u7403\u5458\u3002 tag team name \uff08string\uff09 \u8868\u793a\u7403\u961f\u3002 edge type serve start_year \uff08int\uff09 end_year \uff08int\uff09 \u8868\u793a\u7403\u5458\u7684\u884c\u4e3a\u3002 \u8be5\u884c\u4e3a\u5c06\u7403\u5458\u548c\u7403\u961f\u8054\u7cfb\u8d77\u6765\uff0c\u65b9\u5411\u662f\u4ece\u7403\u5458\u5230\u7403\u961f\u3002 edge type follow degree \uff08int\uff09 \u8868\u793a\u7403\u5458\u7684\u884c\u4e3a\u3002 \u8be5\u884c\u4e3a\u5c06\u4e24\u4e2a\u7403\u5458\u8054\u7cfb\u8d77\u6765\uff0c\u65b9\u5411\u662f\u4ece\u4e00\u4e2a\u7403\u5458\u5230\u53e6\u4e00\u4e2a\u7403\u5458\u3002","title":"\u6709\u5411\u5c5e\u6027\u56fe"},{"location":"manual-CN/1.overview/1.concepts/1.data-model/#vertex","text":"\u70b9\u7528\u4e8e\u8868\u793a\u73b0\u5b9e\u4e16\u754c\u4e2d\u7684\u5b9e\u4f53\u3002\u5728 Nebula Graph \u4e2d\uff0c\u70b9\u5fc5\u987b\u62e5\u6709\u552f\u4e00\u7684\u6807\u8bc6\u7b26\uff08\u5373 VID \uff09\u3002\u5728\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u7684 VID \u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002 \u672c\u4f8b\u7684\u6570\u636e\u4e2d\u5171\u5305\u542b 11 \u4e2a\u70b9\u3002","title":"\u70b9\uff08Vertex\uff09"},{"location":"manual-CN/1.overview/1.concepts/1.data-model/#tag","text":"Nebula Graph \u4f7f\u7528 \u6807\u7b7e \u8868\u793a\u70b9\u7c7b\u578b\uff1b\u4e00\u4e2a\u70b9\u53ef\u4ee5\u540c\u65f6\u6709\u591a\u79cd\u7c7b\u578b\uff08Tag\uff09\u3002\u672c\u4f8b\u4e2d\u6709\u4e24\u79cd\u7c7b\u578b\u7684\u70b9\uff0c\u5176\u6807\u7b7e\uff08\u7c7b\u578b\uff09\u5206\u522b\u4e3a player \u548c team \u3002","title":"\u70b9\u7c7b\u578b\u2014\u2014\u6807\u7b7e\uff08Tag\uff09"},{"location":"manual-CN/1.overview/1.concepts/1.data-model/#edge","text":"\u8fb9\u7528\u6765\u8fde\u63a5\u70b9\uff0c\u8fb9\u901a\u5e38\u8868\u793a\u4e24\u4e2a\u70b9\u95f4\u7684\u67d0\u79cd\u5173\u7cfb\u6216\u884c\u4e3a\uff0c\u672c\u4f8b\u4e2d\u7684\u8fb9\u4e3a serve \u548c follow \u3002","title":"\u8fb9\uff08Edge\uff09"},{"location":"manual-CN/1.overview/1.concepts/1.data-model/#edge_type","text":"\u6bcf\u6761\u8fb9\u90fd\u6709\u552f\u4e00\u7684\u8fb9\u7c7b\u578b\u3002\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u5141\u8bb8\u6709\u591a\u4e2a\u76f8\u540c\u6216\u8005\u4e0d\u540c\u7c7b\u578b\u7684\u8fb9\u3002\u4f8b\u5982\uff0c\u4ee5\u7403\u5458-\u7403\u961f\u7684\u670d\u5f79\u5173\u7cfb serve \u4e3a\u4f8b\uff0c\uff08\u7403\u5458\uff09\u70b9 101 \uff08\u8868\u793a\u4e00\u540d\u7403\u5458\uff09\u4e3a\u8d77\u59cb\u70b9\uff0c\uff08\u7403\u961f\uff09\u70b9 215 \uff08\u8868\u793a\u4e00\u652f\u7403\u961f\uff09\u4e3a\u76ee\u6807\u70b9\u3002\u70b9 101 \u6709\u4e00\u6761\u51fa\u8fb9\uff0c\u800c\u70b9 215 \u6709\u4e00\u6761\u5165\u8fb9\u3002","title":"\u8fb9\u7c7b\u578b\uff08Edge Type\uff09"},{"location":"manual-CN/1.overview/1.concepts/1.data-model/#rank","text":"\u4e24\u4e2a\u70b9\u4e4b\u95f4\u7684\u8fb9\u9664\u4e86\u5fc5\u987b\u6709\u7c7b\u578b\u4e4b\u5916\uff0c\u8fd8\u5fc5\u987b\u6709 rank\u3002\u8fb9 rank \u662f\u7528\u6237\u5206\u914d\u7684 64 \u4f4d\u6574\u6570\uff1b\u5982\u4e0d\u6307\u5b9a\uff0c\u8fb9 rank \u9ed8\u8ba4\u503c\u4e3a 0\u3002 \u56db\u5143\u7ec4[\u8d77\u70b9\u3001\u8fb9\u7c7b\u578b\u3001\u6743\u91cd\u3001\u7ec8\u70b9]\u53ef\u4ee5\u552f\u4e00\u8868\u793a\u4e00\u6761\u8fb9\u3002 \u8fb9 rank \u51b3\u5b9a\u4e86\u4e24\u4e2a\u70b9\u4e4b\u95f4\u76f8\u540c\u7c7b\u578b\u7684\u8fb9\u7684\u6392\u5e8f\u65b9\u5f0f\u3002\u8fb9 rank \u503c\u8f83\u9ad8\u7684\u8fb9\u6392\u540d\u9760\u524d\u3002 \u76ee\u524d\u7684\u6392\u5e8f\u4f9d\u636e\u4e3a\u201c\u4e8c\u8fdb\u5236\u7f16\u7801\u987a\u5e8f\u201c\uff1a\u5373 0, 1, 2, ... 9223372036854775807, -9223372036854775808, -9223372036854775807, ..., -1\u3002","title":"\u8fb9 rank"},{"location":"manual-CN/1.overview/1.concepts/1.data-model/#property","text":"\u70b9\u548c\u8fb9\u65e0\u53ef\u53ef\u62e5\u6709\u5c5e\u6027\uff0c\u5c5e\u6027\u4ee5\u952e\u503c\u5bf9\u7684\u65b9\u5f0f\u63cf\u8ff0\u3002\u672c\u4f8b\u4e2d\uff0c\u70b9 player \u62e5\u6709\u5c5e\u6027 id \u3001 name \u548c age \uff0c\u8fb9 follow \u5219\u62e5\u6709\u5c5e\u6027 degree \u3002","title":"\u70b9\u548c\u8fb9\u7684\u5c5e\u6027\uff08Property\uff09"},{"location":"manual-CN/1.overview/1.concepts/1.data-model/#schema","text":"\u5728 Nebula Graph \u4e2d\uff0cSchema \u4e3a\u6807\u7b7e\u53ca\u8fb9\u5bf9\u5e94\u7684\u5c5e\u6027\u3002\u4e0e MySQL \u7c7b\u4f3c\uff0c Nebula Graph \u662f\u4e00\u79cd\u5f3a schema \u7684\u6570\u636e\u5e93\uff0c\u5c5e\u6027\u7684\u540d\u79f0\u548c\u6570\u636e\u7c7b\u578b\u5728\u6570\u636e\u5199\u5165\u524d\u5df2\u786e\u5b9a\u3002","title":"Schema"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/","text":"Nebula Graph \u67e5\u8be2\u8bed\u8a00 (nGQL) \u00b6 nGQL \u6982\u89c8 \u00b6 nGQL \u662f\u4e00\u79cd\u58f0\u660e\u578b\u7684\u6587\u672c\u67e5\u8be2\u8bed\u8a00\uff0c\u76ee\u524d\u5c1a\u5728\u5f00\u53d1\u4e2d\u3002\u65b0\u7248\u672c\u4f1a\u6dfb\u52a0\u66f4\u591a\u529f\u80fd\u5e76\u4f18\u5316\u5df2\u6709\u529f\u80fd\u3002\u672a\u6765\u7684\u8bed\u6cd5\u89c4\u8303\u53ef\u80fd\u4f1a\u4e0e\u73b0\u884c\u7684\u4e0d\u4e00\u81f4\u3002 \u76ee\u6807 \u00b6 \u6613\u5b66 \u6613\u7528 \u4e13\u6ce8\u7ebf\u4e0a\u67e5\u8be2\uff0c\u540c\u65f6\u4e3a\u79bb\u7ebf\u8ba1\u7b97\u63d0\u4f9b\u57fa\u7840 \u7279\u70b9 \u00b6 \u7c7b SQL\uff0c\u6613\u5b66\u6613\u7528 \u53ef\u6269\u5c55 \u5927\u5c0f\u5199\u4e0d\u654f\u611f \u652f\u6301\u56fe\u904d\u5386 \u652f\u6301\u6a21\u5f0f\u5339\u914d \u652f\u6301\u805a\u5408\u8fd0\u7b97 \u652f\u6301\u56fe\u8ba1\u7b97 \u652f\u6301\u5206\u5e03\u5f0f\u4e8b\u52a1\uff08\u5f00\u53d1\u4e2d\uff09 \u65e0\u5d4c\u5165\u652f\u6301\u7ec4\u5408\u8bed\u53e5\uff0c\u6613\u4e8e\u9605\u8bfb \u672f\u8bed \u00b6 \u56fe\u7a7a\u95f4 \uff1a\u7269\u7406\u9694\u79bb\u7684\u4e0d\u540c\u6570\u636e\u96c6 \u6807\u7b7e \uff1a\u62e5\u6709\u4e00\u79cd\u6216\u591a\u79cd\u5c5e\u6027 \u6bcf\u4e2a\u6807\u7b7e\u90fd\u6709\u4e00\u4e2a\u4eba\u7c7b\u53ef\u8bfb\u7684\u540d\u79f0\uff0c\u5e76\u4e14\u6bcf\u4e2a\u6807\u7b7e\u5185\u90e8\u90fd\u4f1a\u5206\u914d\u4e00\u4e2a 32 \u4f4d\u7684\u6574\u6570 \u6bcf\u4e2a\u6807\u7b7e\u4e0e\u4e00\u4e2a\u5c5e\u6027\u5217\u8868\u76f8\u5173\u8054\uff0c\u6bcf\u4e2a\u5c5e\u6027\u90fd\u6709\u4e00\u4e2a\u540d\u79f0\u548c\u7c7b\u578b \u6807\u7b7e\u4e4b\u95f4\u53ef\u5b58\u5728\u4f9d\u8d56\u5173\u7cfb\u4f5c\u4e3a\u7ea6\u675f\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6807\u7b7e S \u4f9d\u8d56\u4e8e\u6807\u7b7e T\uff0c\u5219\u9664\u975e\u6807\u7b7e T \u5b58\u5728\uff0c\u5426\u5219\u6807\u7b7e S \u65e0\u6cd5\u5b58\u5728\u3002 \u70b9 \uff1a\u56fe\u6570\u636e\u4e2d\u4ee3\u8868\u5b9e\u4f53\u7684\u70b9 \u6bcf\u4e2a\u70b9\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684 64 \u4f4d\uff08\u6709\u7b26\u53f7\u6574\u6570\uff09ID ( VID ) \u4e00\u4e2a\u70b9\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a \u6807\u7b7e \u8fb9 \uff1a\u70b9\u4e4b\u95f4\u7684\u8054\u7cfb\u79f0\u4e3a\u8fb9 \u6bcf\u6761\u8fb9\u7531\u552f\u4e00\u6570\u7ec4 \u6807\u8bc6 \u8fb9\u7c7b\u578b \u662f\u4eba\u7c7b\u53ef\u8bfb\u7684\u5b57\u7b26\u4e32\uff0c\u5e76\u4e14\u6bcf\u6761\u8fb9\u5185\u90e8\u90fd\u4f1a\u5206\u914d\u4e00\u4e2a 32 \u4f4d\u7684\u6574\u6570\u3002\u8fb9\u7c7b\u578b\u51b3\u5b9a\u8fb9\u4e0a\u7684\u5c5e\u6027\uff08\u6a21\u5f0f\uff09 \u8fb9 rank \u662f\u7528\u6237\u5206\u914d\u7684\u4e0d\u53ef\u53d8\u7684 64 \u4f4d\u5e26\u7b26\u53f7\u6574\u6570\uff0c\u51b3\u5b9a\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u76f8\u540c\u7c7b\u578b\u7684\u8fb9\u987a\u5e8f\u3002\u7b49\u7ea7\u503c\u8f83\u9ad8\u7684\u8fb9\u6392\u540d\u9760\u524d\u3002\u5982\u672a\u6307\u5b9a\uff0c\u5219\u9ed8\u8ba4\u7b49\u7ea7\u503c\u4e3a\u96f6\u3002\u76ee\u524d\u7684\u6392\u5e8f\u4f9d\u636e\u4e3a\u201c\u4e8c\u8fdb\u5236\u7f16\u7801\u987a\u5e8f\u201c\uff1a\u5373 0, 1, 2, ... 9223372036854775807, -9223372036854775808, -9223372036854775807, ..., -1\u3002 \u6bcf\u6761\u8fb9\u53ea\u80fd\u6709\u4e00\u79cd\u7c7b\u578b \u8def\u5f84 \uff1a \u591a\u4e2a\u70b9\u4e0e\u8fb9\u7684 \u975e\u5206\u652f \u8fde\u63a5 \u8def\u5f84\u957f\u5ea6\u4e3a\u8be5\u8def\u5f84\u4e0a\u7684\u8fb9\u6570\uff0c\u6bd4\u70b9\u6570\u5c11 1 \u8def\u5f84\u53ef\u7531\u4e00\u7cfb\u5217\u70b9\uff0c\u8fb9\u7c7b\u578b\u53ca\u6743\u91cd\u8868\u793a\u3002\u4e00\u6761\u8fb9\u662f\u4e00\u4e2a\u957f\u5ea6\u4e3a 1 \u7684\u7279\u6b8a\u8def\u5f84 <vid, <edge_type, rank>, vid, ...> \u67e5\u8be2\u8bed\u8a00\u89c4\u5219\u6982\u89c8 \u00b6 \u4e0d\u719f\u6089 BNF \u7684\u8bfb\u8005\u53ef\u8df3\u8fc7\u672c\u8282 \u603b\u89c8 \u00b6 \u6574\u5957\u8bed\u53e5\u53ef\u5206\u4e3a\u4e09\u90e8\u5206\uff1a \u67e5\u8be2 \u3001 \u66f4\u6539 \u3001 \u7ba1\u7406 \u6bcf\u6761\u8bed\u53e5\u5747\u53ef\u8fd4\u56de\u4e00\u4e2a\u6570\u636e\u96c6\uff0c\u6bcf\u4e2a\u6570\u636e\u96c6\u5747\u5305\u542b\u4e00\u4e2a schema \u548c\u591a\u6761\u6570\u636e \u8bed\u53e5\u7ec4\u5408 \u00b6 \u8bed\u53e5\u7ec4\u5408\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a \u8bed\u53e5\u53ef\u4f7f\u7528\u7ba1\u9053\u51fd\u6570 \u201c | \u201d \u8fde\u63a5\uff0c\u524d\u4e00\u6761\u8bed\u53e5\u8fd4\u56de\u7684\u7ed3\u679c\u53ef\u4f5c\u4e3a\u4e0b\u4e00\u6761\u8bed\u53e5\u7684\u67e5\u8be2\u6761\u4ef6 \u652f\u6301\u4f7f\u7528 \u201c ; \u201d \u6279\u91cf\u8f93\u5165\u591a\u6761\u8bed\u53e5\uff0c\u6279\u5904\u7406\u65f6\u8fd4\u56de\u6700\u540e\u4e00\u6761\u8bed\u53e5\u7ed3\u679c \u6570\u636e\u7c7b\u578b \u00b6 \u7b80\u5355\u7c7b\u578b\uff1a vid \u3001 double \u3001 int \u3001 bool \u3001 string \u548c timestamp vid \uff1a 64 \u4f4d\u6709\u7b26\u53f7\u6574\u6570\uff0c\u7528\u6765\u8868\u793a\u70b9 ID \u7b80\u5355\u7c7b\u578b\u5217\u8868\uff0c\u5982\uff1a integer[] , double[] , string[] Map : \u952e\u503c\u5bf9\u5217\u8868\u3002\u952e\u7c7b\u578b\u5fc5\u987b\u4e3a \u5b57\u7b26 \uff0c\u503c\u7c7b\u578b\u5fc5\u987b\u4e0e\u7ed9\u5b9a map Object (\u672a\u6765\u7248\u672c\u652f\u6301): \u952e\u503c\u5bf9\u5217\u8868\u3002\u952e\u7c7b\u578b\u5fc5\u987b\u4e3a \u5b57\u7b26 \uff0c\u503c\u53ef\u4ee5\u662f\u4efb\u610f\u7b80\u5355\u7c7b\u578b Tuple List : \u53ea\u9002\u7528\u4e8e\u8fd4\u56de\u503c \u3002\u7531\u5143\u6570\u636e\u548c\u6570\u636e\uff08\u591a\u884c\uff09\u7ec4\u6210 \u3002\u5143\u6570\u636e\u5305\u542b\u5217\u540d\u548c\u7c7b\u578b\u3002 \u7c7b\u578b\u8f6c\u6362 \u00b6 \u4e00\u4e2a\u7b80\u5355\u7684\u7c7b\u578b\u503c\u53ef\u4ee5\u9690\u5f0f\u8f6c\u6362\u4e3a\u5217\u8868 \u5217\u8868\u53ef\u4ee5\u9690\u5f0f\u8f6c\u6362\u4e3a\u5355\u5217\u5143\u7ec4\u5217\u8868 \"<type>_list\" \u53ef\u7528\u6765\u8868\u793a\u5217\u540d \u5e38\u7528 BNF \u00b6 ::= vid | integer | double | float | bool | string | path | timestamp | year | month | date | datetime ::= <type> ::= | ::= vid (, vid )* | \"{\" vid (, vid )* \"}\" <label> ::= [:alpha] ([:alnum:] | \"_\")* ::= (\"_\")* <label> ::= <label> ::= (, )* ::= :<type> ::= \":\" ::= ::= <tuple> (, <tuple>)* | \"{\" <tuple> (, <tuple>)* \"}\" <tuple> ::= \"(\" VALUE (, VALUE )* \")\" <var> ::= \"$\" <label> \u67e5\u8be2\u8bed\u53e5 \u00b6 \u9009\u62e9\u56fe\u7a7a\u95f4 \u00b6 Nebula Graph \u652f\u6301\u591a\u56fe\u7a7a\u95f4\u3002\u4e0d\u540c\u56fe\u7a7a\u95f4\u7684\u6570\u636e\u5f7c\u6b64\u9694\u79bb\u3002\u5728\u8fdb\u884c\u67e5\u8be2\u524d\uff0c\u9700\u6307\u5b9a\u56fe\u7a7a\u95f4\u3002 USE \u8fd4\u56de\u6570\u636e\u96c6 \u00b6 \u8fd4\u56de\u5355\u4e2a\u503c\u6216\u6570\u636e\u96c6 RETURN ::= vid | | | <var> \u521b\u5efa\u6807\u7b7e \u00b6 \u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa \u65b0 \u6807\u7b7e CREATE TAG ( ) ::= <label> ::= + ::= ,<type> ::= <label> \u521b\u5efa\u8fb9\u7c7b\u578b \u00b6 \u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa \u65b0 \u7684\u8fb9\u7c7b\u578b CREATE EDGE ( ) := <label> \u63d2\u5165\u70b9 \u00b6 \u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u63d2\u5165\u4e00\u4e2a\u6216\u591a\u4e2a\u70b9 INSERT VERTEX [ NO OVERWRITE ] VALUES ::= ( ) (, ( ))* ::= :( ) (, :( ))* ::= vid ::= (, )* ::= VALUE (, VALUE )* \u63d2\u5165\u8fb9 \u00b6 \u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u8fb9 INSERT EDGE [ NO OVERWRITE ] [( )] VALUES ( )+ edge_value ::= -> [@ <rank>] : \u66f4\u65b0\u70b9 \u00b6 \u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u66f4\u65b0\u70b9 UPDATE VERTEX SET \\<update_decl> [ WHERE <conditions>] [ YIELD ] ::= | ::= = <expression> {, = <expression>}+ ::= ( ) = ( ) | ( ) = <var> \u66f4\u65b0\u8fb9 \u00b6 \u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u66f4\u65b0\u8fb9 UPDATE EDGE -> [@<rank>] OF SET [ WHERE <conditions>] [ YIELD ] \u56fe\u904d\u5386 \u00b6 \u6839\u636e\u6307\u5b9a\u6761\u4ef6\u904d\u5386\u7ed9\u5b9a\u70b9\u7684\u5173\u8054\u70b9\uff0c\u8fd4\u56de\u70b9 ID \u5217\u8868\u6216\u6570\u7ec4 GO [ STEPS ] FROM [ OVER [ REVERSELY ] ] [ WHERE ] [ YIELD ] ::= [data_set] [[ AS ] <label>] ::= vid | | | <var> ::= [ AS <label>] ::= {, }* ::= <label> ::= <filter> { AND | OR <filter>}* ::= \\ \\ **>**\\ | \\ **>= | < | <= | == | != <expression> | <expression> IN <value_list> ::= {, }* ::= <expression> [ AS** <label>] WHERE \u8bed\u53e5\u4ec5\u9002\u7528\u4e8e\u6700\u7ec8\u8fd4\u56de\u7ed3\u679c\uff0c\u5bf9\u4e2d\u95f4\u7ed3\u679c\u4e0d\u9002\u7528\u3002 \u8df3\u8fc7 STEP[S] \u8868\u793a \u4e00\u6b65 \u4ece\u8d77\u59cb\u70b9\u51fa\u53d1\u4e00\u8df3\uff0c\u904d\u5386\u6240\u6709\u6ee1\u8db3 WHERE \u8bed\u53e5\u7684\u5173\u8054\u70b9\uff0c\u53ea\u8fd4\u56de\u6ee1\u8db3 WHERE \u8bed\u53e5\u7684\u7ed3\u679c\u3002 \u591a\u8df3\u67e5\u8be2\u65f6\uff0c WHERE \u8bed\u53e5\u53ea\u9002\u7528\u4e8e\u6700\u7ec8\u7ed3\u679c\uff0c\u5bf9\u4e2d\u95f4\u7ed3\u679c\u4e0d\u9002\u7528\u3002\u4f8b\u5982\uff1a GO 2 STEPS FROM me OVER friend WHERE birthday > \"1988/1/1\" \u4ee5\u4e0a\u8bed\u53e5\u67e5\u8be2\u6240\u6709\u751f\u65e5\u5728 1988/1/1 \u4e4b\u540e\u7684\u4e8c\u5ea6\u597d\u53cb\u3002 \u641c\u7d22 \u00b6 \u4ee5\u4e0b\u8bed\u53e5\u5bf9\u6ee1\u8db3\u7b5b\u9009\u6761\u4ef6\u7684\u70b9\u6216\u8fb9\u8fdb\u884c\u641c\u7d22\u3002 FIND VERTEX WHERE [ YIELD ] FIND EDGE WHERE [ YIELD ] \u5c5e\u6027\u5173\u8054 \u00b6 \u5c5e\u6027\u5173\u8054\u5f88\u5e38\u89c1\uff0c\u5982 WHERE \u8bed\u53e5\u548c YIELD \u8bed\u53e5\u3002nGQL \u91c7\u7528\u5982\u4e0b\u65b9\u5f0f\u5b9a\u4e49\u5c5e\u6027\u5173\u8054\uff1a ::= <object> \".\" <object> ::= | | <var> ::= <label> ::= '[' \"]\" <var> \u4ee5 \u201c$\u201d \u5f00\u59cb\uff0c\u7279\u6b8a\u53d8\u91cf\u6709\u4e24\u7c7b\uff1a$- \u548c $$\u3002 $- \u4e3a\u8f93\u5165\u503c\uff0c $$ \u4e3a\u76ee\u6807\u503c\u3002 \u6240\u6709\u5c5e\u6027\u540d\u4ee5\u5b57\u6bcd\u5f00\u5934\u3002\u4e2a\u522b\u7cfb\u7edf\u5c5e\u6027\u4ee5 \u201c_\u201d \u5f00\u5934\u3002 \u201c_\u201d \u4fdd\u7559\u503c\u3002 \u5185\u5efa\u5c5e\u6027 \u00b6 _id\uff1a \u70b9 ID _type\uff1a \u8fb9\u7c7b\u578b _src\uff1a \u8fb9\u8d77\u59cb\u70b9 ID _dst\uff1a \u8fb9\u7ec8\u70b9 ID _rank\uff1a \u8fb9 rank","title":"\u67e5\u8be2\u8bed\u8a00\u6982\u89c8"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#nebula_graph_ngql","text":"","title":"Nebula Graph \u67e5\u8be2\u8bed\u8a00 (nGQL)"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#ngql","text":"nGQL \u662f\u4e00\u79cd\u58f0\u660e\u578b\u7684\u6587\u672c\u67e5\u8be2\u8bed\u8a00\uff0c\u76ee\u524d\u5c1a\u5728\u5f00\u53d1\u4e2d\u3002\u65b0\u7248\u672c\u4f1a\u6dfb\u52a0\u66f4\u591a\u529f\u80fd\u5e76\u4f18\u5316\u5df2\u6709\u529f\u80fd\u3002\u672a\u6765\u7684\u8bed\u6cd5\u89c4\u8303\u53ef\u80fd\u4f1a\u4e0e\u73b0\u884c\u7684\u4e0d\u4e00\u81f4\u3002","title":"nGQL \u6982\u89c8"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_1","text":"\u6613\u5b66 \u6613\u7528 \u4e13\u6ce8\u7ebf\u4e0a\u67e5\u8be2\uff0c\u540c\u65f6\u4e3a\u79bb\u7ebf\u8ba1\u7b97\u63d0\u4f9b\u57fa\u7840","title":"\u76ee\u6807"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_2","text":"\u7c7b SQL\uff0c\u6613\u5b66\u6613\u7528 \u53ef\u6269\u5c55 \u5927\u5c0f\u5199\u4e0d\u654f\u611f \u652f\u6301\u56fe\u904d\u5386 \u652f\u6301\u6a21\u5f0f\u5339\u914d \u652f\u6301\u805a\u5408\u8fd0\u7b97 \u652f\u6301\u56fe\u8ba1\u7b97 \u652f\u6301\u5206\u5e03\u5f0f\u4e8b\u52a1\uff08\u5f00\u53d1\u4e2d\uff09 \u65e0\u5d4c\u5165\u652f\u6301\u7ec4\u5408\u8bed\u53e5\uff0c\u6613\u4e8e\u9605\u8bfb","title":"\u7279\u70b9"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_3","text":"\u56fe\u7a7a\u95f4 \uff1a\u7269\u7406\u9694\u79bb\u7684\u4e0d\u540c\u6570\u636e\u96c6 \u6807\u7b7e \uff1a\u62e5\u6709\u4e00\u79cd\u6216\u591a\u79cd\u5c5e\u6027 \u6bcf\u4e2a\u6807\u7b7e\u90fd\u6709\u4e00\u4e2a\u4eba\u7c7b\u53ef\u8bfb\u7684\u540d\u79f0\uff0c\u5e76\u4e14\u6bcf\u4e2a\u6807\u7b7e\u5185\u90e8\u90fd\u4f1a\u5206\u914d\u4e00\u4e2a 32 \u4f4d\u7684\u6574\u6570 \u6bcf\u4e2a\u6807\u7b7e\u4e0e\u4e00\u4e2a\u5c5e\u6027\u5217\u8868\u76f8\u5173\u8054\uff0c\u6bcf\u4e2a\u5c5e\u6027\u90fd\u6709\u4e00\u4e2a\u540d\u79f0\u548c\u7c7b\u578b \u6807\u7b7e\u4e4b\u95f4\u53ef\u5b58\u5728\u4f9d\u8d56\u5173\u7cfb\u4f5c\u4e3a\u7ea6\u675f\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6807\u7b7e S \u4f9d\u8d56\u4e8e\u6807\u7b7e T\uff0c\u5219\u9664\u975e\u6807\u7b7e T \u5b58\u5728\uff0c\u5426\u5219\u6807\u7b7e S \u65e0\u6cd5\u5b58\u5728\u3002 \u70b9 \uff1a\u56fe\u6570\u636e\u4e2d\u4ee3\u8868\u5b9e\u4f53\u7684\u70b9 \u6bcf\u4e2a\u70b9\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684 64 \u4f4d\uff08\u6709\u7b26\u53f7\u6574\u6570\uff09ID ( VID ) \u4e00\u4e2a\u70b9\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a \u6807\u7b7e \u8fb9 \uff1a\u70b9\u4e4b\u95f4\u7684\u8054\u7cfb\u79f0\u4e3a\u8fb9 \u6bcf\u6761\u8fb9\u7531\u552f\u4e00\u6570\u7ec4 \u6807\u8bc6 \u8fb9\u7c7b\u578b \u662f\u4eba\u7c7b\u53ef\u8bfb\u7684\u5b57\u7b26\u4e32\uff0c\u5e76\u4e14\u6bcf\u6761\u8fb9\u5185\u90e8\u90fd\u4f1a\u5206\u914d\u4e00\u4e2a 32 \u4f4d\u7684\u6574\u6570\u3002\u8fb9\u7c7b\u578b\u51b3\u5b9a\u8fb9\u4e0a\u7684\u5c5e\u6027\uff08\u6a21\u5f0f\uff09 \u8fb9 rank \u662f\u7528\u6237\u5206\u914d\u7684\u4e0d\u53ef\u53d8\u7684 64 \u4f4d\u5e26\u7b26\u53f7\u6574\u6570\uff0c\u51b3\u5b9a\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u76f8\u540c\u7c7b\u578b\u7684\u8fb9\u987a\u5e8f\u3002\u7b49\u7ea7\u503c\u8f83\u9ad8\u7684\u8fb9\u6392\u540d\u9760\u524d\u3002\u5982\u672a\u6307\u5b9a\uff0c\u5219\u9ed8\u8ba4\u7b49\u7ea7\u503c\u4e3a\u96f6\u3002\u76ee\u524d\u7684\u6392\u5e8f\u4f9d\u636e\u4e3a\u201c\u4e8c\u8fdb\u5236\u7f16\u7801\u987a\u5e8f\u201c\uff1a\u5373 0, 1, 2, ... 9223372036854775807, -9223372036854775808, -9223372036854775807, ..., -1\u3002 \u6bcf\u6761\u8fb9\u53ea\u80fd\u6709\u4e00\u79cd\u7c7b\u578b \u8def\u5f84 \uff1a \u591a\u4e2a\u70b9\u4e0e\u8fb9\u7684 \u975e\u5206\u652f \u8fde\u63a5 \u8def\u5f84\u957f\u5ea6\u4e3a\u8be5\u8def\u5f84\u4e0a\u7684\u8fb9\u6570\uff0c\u6bd4\u70b9\u6570\u5c11 1 \u8def\u5f84\u53ef\u7531\u4e00\u7cfb\u5217\u70b9\uff0c\u8fb9\u7c7b\u578b\u53ca\u6743\u91cd\u8868\u793a\u3002\u4e00\u6761\u8fb9\u662f\u4e00\u4e2a\u957f\u5ea6\u4e3a 1 \u7684\u7279\u6b8a\u8def\u5f84 <vid, <edge_type, rank>, vid, ...>","title":"\u672f\u8bed"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_4","text":"\u4e0d\u719f\u6089 BNF \u7684\u8bfb\u8005\u53ef\u8df3\u8fc7\u672c\u8282","title":"\u67e5\u8be2\u8bed\u8a00\u89c4\u5219\u6982\u89c8"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_5","text":"\u6574\u5957\u8bed\u53e5\u53ef\u5206\u4e3a\u4e09\u90e8\u5206\uff1a \u67e5\u8be2 \u3001 \u66f4\u6539 \u3001 \u7ba1\u7406 \u6bcf\u6761\u8bed\u53e5\u5747\u53ef\u8fd4\u56de\u4e00\u4e2a\u6570\u636e\u96c6\uff0c\u6bcf\u4e2a\u6570\u636e\u96c6\u5747\u5305\u542b\u4e00\u4e2a schema \u548c\u591a\u6761\u6570\u636e","title":"\u603b\u89c8"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_6","text":"\u8bed\u53e5\u7ec4\u5408\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a \u8bed\u53e5\u53ef\u4f7f\u7528\u7ba1\u9053\u51fd\u6570 \u201c | \u201d \u8fde\u63a5\uff0c\u524d\u4e00\u6761\u8bed\u53e5\u8fd4\u56de\u7684\u7ed3\u679c\u53ef\u4f5c\u4e3a\u4e0b\u4e00\u6761\u8bed\u53e5\u7684\u67e5\u8be2\u6761\u4ef6 \u652f\u6301\u4f7f\u7528 \u201c ; \u201d \u6279\u91cf\u8f93\u5165\u591a\u6761\u8bed\u53e5\uff0c\u6279\u5904\u7406\u65f6\u8fd4\u56de\u6700\u540e\u4e00\u6761\u8bed\u53e5\u7ed3\u679c","title":"\u8bed\u53e5\u7ec4\u5408"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_7","text":"\u7b80\u5355\u7c7b\u578b\uff1a vid \u3001 double \u3001 int \u3001 bool \u3001 string \u548c timestamp vid \uff1a 64 \u4f4d\u6709\u7b26\u53f7\u6574\u6570\uff0c\u7528\u6765\u8868\u793a\u70b9 ID \u7b80\u5355\u7c7b\u578b\u5217\u8868\uff0c\u5982\uff1a integer[] , double[] , string[] Map : \u952e\u503c\u5bf9\u5217\u8868\u3002\u952e\u7c7b\u578b\u5fc5\u987b\u4e3a \u5b57\u7b26 \uff0c\u503c\u7c7b\u578b\u5fc5\u987b\u4e0e\u7ed9\u5b9a map Object (\u672a\u6765\u7248\u672c\u652f\u6301): \u952e\u503c\u5bf9\u5217\u8868\u3002\u952e\u7c7b\u578b\u5fc5\u987b\u4e3a \u5b57\u7b26 \uff0c\u503c\u53ef\u4ee5\u662f\u4efb\u610f\u7b80\u5355\u7c7b\u578b Tuple List : \u53ea\u9002\u7528\u4e8e\u8fd4\u56de\u503c \u3002\u7531\u5143\u6570\u636e\u548c\u6570\u636e\uff08\u591a\u884c\uff09\u7ec4\u6210 \u3002\u5143\u6570\u636e\u5305\u542b\u5217\u540d\u548c\u7c7b\u578b\u3002","title":"\u6570\u636e\u7c7b\u578b"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_8","text":"\u4e00\u4e2a\u7b80\u5355\u7684\u7c7b\u578b\u503c\u53ef\u4ee5\u9690\u5f0f\u8f6c\u6362\u4e3a\u5217\u8868 \u5217\u8868\u53ef\u4ee5\u9690\u5f0f\u8f6c\u6362\u4e3a\u5355\u5217\u5143\u7ec4\u5217\u8868 \"<type>_list\" \u53ef\u7528\u6765\u8868\u793a\u5217\u540d","title":"\u7c7b\u578b\u8f6c\u6362"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#bnf","text":"::= vid | integer | double | float | bool | string | path | timestamp | year | month | date | datetime ::= <type> ::= | ::= vid (, vid )* | \"{\" vid (, vid )* \"}\" <label> ::= [:alpha] ([:alnum:] | \"_\")* ::= (\"_\")* <label> ::= <label> ::= (, )* ::= :<type> ::= \":\" ::= ::= <tuple> (, <tuple>)* | \"{\" <tuple> (, <tuple>)* \"}\" <tuple> ::= \"(\" VALUE (, VALUE )* \")\" <var> ::= \"$\" <label>","title":"\u5e38\u7528 BNF"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_9","text":"","title":"\u67e5\u8be2\u8bed\u53e5"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_10","text":"Nebula Graph \u652f\u6301\u591a\u56fe\u7a7a\u95f4\u3002\u4e0d\u540c\u56fe\u7a7a\u95f4\u7684\u6570\u636e\u5f7c\u6b64\u9694\u79bb\u3002\u5728\u8fdb\u884c\u67e5\u8be2\u524d\uff0c\u9700\u6307\u5b9a\u56fe\u7a7a\u95f4\u3002 USE","title":"\u9009\u62e9\u56fe\u7a7a\u95f4"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_11","text":"\u8fd4\u56de\u5355\u4e2a\u503c\u6216\u6570\u636e\u96c6 RETURN ::= vid | | | <var>","title":"\u8fd4\u56de\u6570\u636e\u96c6"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_12","text":"\u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa \u65b0 \u6807\u7b7e CREATE TAG ( ) ::= <label> ::= + ::= ,<type> ::= <label>","title":"\u521b\u5efa\u6807\u7b7e"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_13","text":"\u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa \u65b0 \u7684\u8fb9\u7c7b\u578b CREATE EDGE ( ) := <label>","title":"\u521b\u5efa\u8fb9\u7c7b\u578b"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_14","text":"\u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u63d2\u5165\u4e00\u4e2a\u6216\u591a\u4e2a\u70b9 INSERT VERTEX [ NO OVERWRITE ] VALUES ::= ( ) (, ( ))* ::= :( ) (, :( ))* ::= vid ::= (, )* ::= VALUE (, VALUE )*","title":"\u63d2\u5165\u70b9"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_15","text":"\u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u8fb9 INSERT EDGE [ NO OVERWRITE ] [( )] VALUES ( )+ edge_value ::= -> [@ <rank>] :","title":"\u63d2\u5165\u8fb9"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_16","text":"\u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u66f4\u65b0\u70b9 UPDATE VERTEX SET \\<update_decl> [ WHERE <conditions>] [ YIELD ] ::= | ::= = <expression> {, = <expression>}+ ::= ( ) = ( ) | ( ) = <var>","title":"\u66f4\u65b0\u70b9"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_17","text":"\u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u66f4\u65b0\u8fb9 UPDATE EDGE -> [@<rank>] OF SET [ WHERE <conditions>] [ YIELD ]","title":"\u66f4\u65b0\u8fb9"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_18","text":"\u6839\u636e\u6307\u5b9a\u6761\u4ef6\u904d\u5386\u7ed9\u5b9a\u70b9\u7684\u5173\u8054\u70b9\uff0c\u8fd4\u56de\u70b9 ID \u5217\u8868\u6216\u6570\u7ec4 GO [ STEPS ] FROM [ OVER [ REVERSELY ] ] [ WHERE ] [ YIELD ] ::= [data_set] [[ AS ] <label>] ::= vid | | | <var> ::= [ AS <label>] ::= {, }* ::= <label> ::= <filter> { AND | OR <filter>}* ::= \\ \\ **>**\\ | \\ **>= | < | <= | == | != <expression> | <expression> IN <value_list> ::= {, }* ::= <expression> [ AS** <label>] WHERE \u8bed\u53e5\u4ec5\u9002\u7528\u4e8e\u6700\u7ec8\u8fd4\u56de\u7ed3\u679c\uff0c\u5bf9\u4e2d\u95f4\u7ed3\u679c\u4e0d\u9002\u7528\u3002 \u8df3\u8fc7 STEP[S] \u8868\u793a \u4e00\u6b65 \u4ece\u8d77\u59cb\u70b9\u51fa\u53d1\u4e00\u8df3\uff0c\u904d\u5386\u6240\u6709\u6ee1\u8db3 WHERE \u8bed\u53e5\u7684\u5173\u8054\u70b9\uff0c\u53ea\u8fd4\u56de\u6ee1\u8db3 WHERE \u8bed\u53e5\u7684\u7ed3\u679c\u3002 \u591a\u8df3\u67e5\u8be2\u65f6\uff0c WHERE \u8bed\u53e5\u53ea\u9002\u7528\u4e8e\u6700\u7ec8\u7ed3\u679c\uff0c\u5bf9\u4e2d\u95f4\u7ed3\u679c\u4e0d\u9002\u7528\u3002\u4f8b\u5982\uff1a GO 2 STEPS FROM me OVER friend WHERE birthday > \"1988/1/1\" \u4ee5\u4e0a\u8bed\u53e5\u67e5\u8be2\u6240\u6709\u751f\u65e5\u5728 1988/1/1 \u4e4b\u540e\u7684\u4e8c\u5ea6\u597d\u53cb\u3002","title":"\u56fe\u904d\u5386"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_19","text":"\u4ee5\u4e0b\u8bed\u53e5\u5bf9\u6ee1\u8db3\u7b5b\u9009\u6761\u4ef6\u7684\u70b9\u6216\u8fb9\u8fdb\u884c\u641c\u7d22\u3002 FIND VERTEX WHERE [ YIELD ] FIND EDGE WHERE [ YIELD ]","title":"\u641c\u7d22"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_20","text":"\u5c5e\u6027\u5173\u8054\u5f88\u5e38\u89c1\uff0c\u5982 WHERE \u8bed\u53e5\u548c YIELD \u8bed\u53e5\u3002nGQL \u91c7\u7528\u5982\u4e0b\u65b9\u5f0f\u5b9a\u4e49\u5c5e\u6027\u5173\u8054\uff1a ::= <object> \".\" <object> ::= | | <var> ::= <label> ::= '[' \"]\" <var> \u4ee5 \u201c$\u201d \u5f00\u59cb\uff0c\u7279\u6b8a\u53d8\u91cf\u6709\u4e24\u7c7b\uff1a$- \u548c $$\u3002 $- \u4e3a\u8f93\u5165\u503c\uff0c $$ \u4e3a\u76ee\u6807\u503c\u3002 \u6240\u6709\u5c5e\u6027\u540d\u4ee5\u5b57\u6bcd\u5f00\u5934\u3002\u4e2a\u522b\u7cfb\u7edf\u5c5e\u6027\u4ee5 \u201c_\u201d \u5f00\u5934\u3002 \u201c_\u201d \u4fdd\u7559\u503c\u3002","title":"\u5c5e\u6027\u5173\u8054"},{"location":"manual-CN/1.overview/1.concepts/2.nGQL-overview/#_21","text":"_id\uff1a \u70b9 ID _type\uff1a \u8fb9\u7c7b\u578b _src\uff1a \u8fb9\u8d77\u59cb\u70b9 ID _dst\uff1a \u8fb9\u7ec8\u70b9 ID _rank\uff1a \u8fb9 rank","title":"\u5185\u5efa\u5c5e\u6027"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/","text":"\u5feb\u901f\u5165\u95e8 \u00b6 \u672c\u624b\u518c\u5c06\u9010\u6b65\u6307\u5bfc\u60a8\u4f7f\u7528 Nebula Graph \uff0c\u5305\u62ec\uff1a \u5b89\u88c5 \u6570\u636e\u5efa\u6a21 \u589e\u5220\u6539\u67e5 \u6279\u91cf\u63d2\u5165 \u6570\u636e\u5bfc\u5165\u5de5\u5177 \u5b89\u88c5 \u00b6 \u6211\u4eec\u63a8\u8350\u4f7f\u7528 docker compose \u6765\u5b89\u88c5 Nebula Graph \uff0c \u5177\u4f53\u6b65\u9aa4\u53ef\u4ee5\u53c2\u8003\u6211\u4eec\u5f55\u5236\u7684 \u64cd\u4f5c\u89c6\u9891 \u3002 \u9664\u4e86\u4f7f\u7528 Docker\uff0c\u60a8\u8fd8\u53ef\u4ee5\u9009\u62e9 \u7f16\u8bd1\u6e90\u7801 \u6216\u8005 rpm/deb \u5305 \u65b9\u5f0f\u5b89\u88c5 Nebula Graph \u3002 \u5982\u679c\u60a8\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u53ef\u4ee5\u524d\u5f80 Nebula Graph \u5b98\u65b9\u8bba\u575b \u63d0\u95ee\uff0c\u6211\u4eec\u6709\u4e13\u95e8\u7684\u503c\u73ed\u5f00\u53d1\u4eba\u5458\u4e3a\u60a8\u89e3\u7b54\u95ee\u9898\u3002 \u6570\u636e\u5efa\u6a21 \u00b6 \u5728\u672c\u624b\u518c\u4e2d\uff0c\u6211\u4eec\u5c06\u901a\u8fc7\u4e0b\u56fe\u6240\u793a\u7684\u6570\u636e\u96c6\u5411\u60a8\u5c55\u793a\u5982\u4f55\u4f7f\u7528 Nebula Graph \u6570\u636e\u5e93\u3002 \u4e0a\u56fe\u4e2d\u6709\u4e24\u4e2a\u6807\u7b7e\uff08 player \u3001 team \uff09\u4ee5\u53ca\u4e24\u6761\u8fb9\u7c7b\u578b\uff08 serve \u3001 follow \uff09\u3002 \u521b\u5efa\u5e76\u4f7f\u7528\u56fe\u7a7a\u95f4 \u00b6 Nebula Graph \u4e2d\u7684\u56fe\u7a7a\u95f4\u7c7b\u4f3c\u4e8e\u4f20\u7edf\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u7684\u72ec\u7acb\u6570\u636e\u5e93\uff0c\u4f8b\u5982\u5728 MySQL \u4e2d\u521b\u5efa\u7684\u6570\u636e\u5e93\u3002 \u9996\u5148\uff0c\u60a8\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4\u5e76\u4f7f\u7528 (use) \u5b83\uff0c\u7136\u540e\u624d\u80fd\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u521b\u5efa\u5e76\u4f7f\u7528\u56fe\u7a7a\u95f4\uff1a \u68c0\u67e5\u96c6\u7fa4\u673a\u5668\u72b6\u6001\uff1a nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 44500 | online | | | | ------------------------------------------------------------------------------------------------ | 192.168.8.211 | 44500 | online | | | | ------------------------------------------------------------------------------------------------ \u72b6\u6001 online \u8868\u793a \u5b58\u50a8\u670d\u52a1\u8fdb\u7a0b storaged \u5df2\u7ecf\u6210\u529f\u8fde\u63a5\u4e0a \u5143\u6570\u636e\u670d\u52a1\u8fdb\u7a0b metad \u3002 \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa\u56fe\u7a7a\u95f4\uff1a nebula> CREATE SPACE basketballplayer (partition_num=10, replica_factor=1); \u8fd9\u91cc : partition_num \uff1a\u6307\u5b9a\u4e00\u4e2a\u526f\u672c\u4e2d\u7684\u5206\u533a\u6570\u3002\u901a\u5e38\u4e3a\u5168\u96c6\u7fa4\u786c\u76d8\u6570\u91cf\u7684 5 \u500d\u3002 replica_factor \uff1a\u6307\u5b9a\u96c6\u7fa4\u4e2d\u526f\u672c\u7684\u6570\u91cf\uff0c\u901a\u5e38\u751f\u4ea7\u73af\u5883\u4e3a 3\uff0c\u6d4b\u8bd5\u73af\u5883\u53ef\u4ee5\u4e3a 1\u3002\u7531\u4e8e\u91c7\u7528\u591a\u6570\u8868\u51b3\u539f\u7406\uff0c\u56e0\u6b64\u9700\u4e3a\u5947\u6570\u3002 \u4f60\u53ef\u4ee5\u901a\u8fc7 SHOW HOSTS \u547d\u4ee4\u68c0\u67e5\u673a\u5668\u548c partition \u5206\u5e03\u60c5\u51b5\uff1a nebula> SHOW HOSTS; ============================================================================================================= | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ============================================================================================================= | 192.168.8.210 | 44500 | online | 8 | basketballplayer: 8 | test: 8 | ------------------------------------------------------------------------------------------------------------- | 192.168.8.211 | 44500 | online | 2 | basketballplayer: 2 | test: 2 | ------------------------------------------------------------------------------------------------------------- \u82e5\u53d1\u73b0\u673a\u5668\u90fd\u5df2\u5728\u7ebf (online)\uff0c\u4f46 Leader distribution \u5206\u5e03\u4e0d\u5747(\u5982\u4e0a)\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4 ( BALANCE LEADER ) \u6765\u89e6\u53d1 partition \u91cd\u5206\u5e03\uff1a nebula> BALANCE LEADER; ============================================================================================================= | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ============================================================================================================= | 192.168.8.210 | 44500 | online | 5 | basketballplayer: 5 | test: 5 | ------------------------------------------------------------------------------------------------------------- | 192.168.8.211 | 44500 | online | 5 | basketballplayer: 5 | test: 5 | ------------------------------------------------------------------------------------------------------------- \u5177\u4f53\u89e3\u91ca\u53ef\u4ee5\u89c1 \u8fd9\u91cc \u3002 \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u6765\u6307\u5b9a\u4f7f\u7528\u7684\u56fe\u7a7a\u95f4\uff1a nebula> USE basketballplayer; \u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u8bed\u53e5\u67e5\u770b\u521a\u521b\u5efa\u7684\u7a7a\u95f4\uff1a nebula> SHOW SPACES; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ======== | Name | ======== | basketballplayer | -------- \u5b9a\u4e49\u6570\u636e\u7684 Schema \u00b6 \u5728 Nebula Graph \u4e2d\uff0c\u6211\u4eec\u5c06\u5177\u6709\u76f8\u540c\u5c5e\u6027\u7684\u70b9\u5206\u4e3a\u4e00\u7ec4\uff0c\u8be5\u7ec4\u5373\u4e3a\u4e00\u4e2a\u6807\u7b7e\u3002 CREATE TAG \u8bed\u53e5\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6807\u7b7e\uff0c\u6807\u7b7e\u540d\u79f0\u540e\u9762\u7684\u62ec\u53f7\u4e2d\u662f\u6807\u7b7e\u7684\u5c5e\u6027\u548c\u5c5e\u6027\u7c7b\u578b\u3002 CREATE EDGE \u8bed\u53e5\u5b9a\u4e49\u8fb9\u7c7b\u578b\uff0c\u7c7b\u578b\u540d\u79f0\u540e\u9762\u7684\u62ec\u53f7\u4e2d\u662f\u8fb9\u7684\u5c5e\u6027\u548c\u5c5e\u6027\u7c7b\u578b\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u521b\u5efa\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\uff1a \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa player \u6807\u7b7e\uff1a nebula> CREATE TAG player(name string, age int); \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa team \u6807\u7b7e\uff1a nebula> CREATE TAG team(name string); \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa follow \u8fb9\u7c7b\u578b\uff1a nebula> CREATE EDGE follow(degree int); \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa serve \u8fb9\u7c7b\u578b\uff1a nebula> CREATE EDGE serve(start_year int, end_year int); \u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u67e5\u770b\u521a\u521a\u521b\u5efa\u7684\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u3002 5.1 \u8981\u83b7\u53d6\u521a\u521b\u5efa\u7684\u6807\u7b7e\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> SHOW TAGS; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ============ | Name | ============ | player | ------------ | team | ------------ 5.2 \u8981\u663e\u793a\u521a\u521b\u5efa\u7684\u8fb9\u7c7b\u578b\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> SHOW EDGES; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ========== | Name | ========== | serve | ---------- | follow | ---------- 5.3 \u8981\u663e\u793a player \u6807\u7b7e\u7684\u5c5e\u6027\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> DESCRIBE TAG player; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a =================== | Field | Type | =================== | name | string | ------------------- | age | int | ------------------- 5.4 \u8981\u83b7\u53d6 follow \u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> DESCRIBE EDGE follow; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ===================== | Field | Type | ===================== | degree | int | --------------------- \u521b\u5efa\u7d22\u5f15 \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528 CREATE INDEX \u4e3a\u5df2\u6709 Tag/Edge-type \u521b\u5efa\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX player_index_0 on player(name); \u4e0a\u8ff0\u8bed\u53e5\u5728\u6240\u6709\u6807\u7b7e\u4e3a player \u7684\u9876\u70b9\u4e0a\u4e3a\u5c5e\u6027 name \u521b\u5efa\u4e86\u4e00\u4e2a\u7d22\u5f15\u3002 \u7d22\u5f15\u4f1a\u5f71\u54cd\u5199\u6027\u80fd \uff0c\u7b2c\u4e00\u6b21\u6279\u91cf\u5bfc\u5165\u7684\u65f6\u5019\uff0c\u5efa\u8bae\u5148\u5bfc\u5165\u6570\u636e\uff0c\u518d\u6279\u91cf\u91cd\u5efa\u7d22\u5f15\uff1b\u4e0d\u63a8\u8350\u5e26\u7d22\u5f15\u6279\u91cf\u5bfc\u5165\uff0c\u8fd9\u6837\u5199\u6027\u80fd\u4f1a\u975e\u5e38\u5dee\u3002 \u8be6\u60c5\u53c2\u770b \u7d22\u5f15\u6587\u6863 \u3002 \u589e\u5220\u6539\u67e5 \u00b6 \u63d2\u5165\u6570\u636e \u00b6 \u60a8\u53ef\u4ee5\u6839\u636e \u793a\u610f\u56fe \u4e2d\u7684\u5173\u7cfb\u63d2\u5165\u70b9\u548c\u8fb9\u6570\u636e\u3002 \u63d2\u5165\u70b9 \u00b6 INSERT VERTEX \u8bed\u53e5\u901a\u8fc7\u6307\u5b9a\u70b9\u7684\u6807\u7b7e\u3001\u5c5e\u6027\u3001\u70b9 ID \u548c\u5c5e\u6027\u503c\u6765\u63d2\u5165\u4e00\u4e2a\u70b9\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u8bed\u53e5\u63d2\u5165\u70b9\uff1a nebula> INSERT VERTEX player(name, age) VALUES 100:(\"Tim Duncan\", 42); nebula> INSERT VERTEX player(name, age) VALUES 101:(\"Tony Parker\", 36); nebula> INSERT VERTEX player(name, age) VALUES 102:(\"LaMarcus Aldridge\", 33); nebula> INSERT VERTEX team(name) VALUES 200:(\"Warriors\"); nebula> INSERT VERTEX team(name) VALUES 201:(\"Nuggets\"); nebula> INSERT VERTEX player(name, age) VALUES 121:(\"Useless\", 60); \u6ce8\u610f \uff1a \u5728\u4e0a\u9762\u63d2\u5165\u7684\u70b9\u4e2d\uff0c\u5173\u952e\u8bcd VALUES \u4e4b\u540e\u7684\u6570\u5b57\u662f\u70b9\u7684 ID\uff08\u7f29\u5199\u4e3a VID , int64\uff09\u3002\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u7684 VID \u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002 \u6700\u540e\u63d2\u5165\u7684\u70b9(VID: 121)\u5c06\u5728\u4e0b\u6587 \u5220\u9664\u6570\u636e \u90e8\u5206\u4e2d\u5220\u9664\u3002 \u5982\u679c\u60a8\u60f3\u4e00\u6b21\u6279\u91cf\u63d2\u5165\u540c\u7c7b\u578b\u7684\u70b9\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> INSERT VERTEX player(name, age) VALUES 100:(\"Tim Duncan\", 42), \\ 101:(\"Tony Parker\", 36), 102:(\"LaMarcus Aldridge\", 33); \u53cd\u9664\u53f7 \\ \u7528\u4e8e\u5b9e\u73b0\u591a\u884c\u8bed\u53e5\u3002 \u63d2\u5165\u8fb9 \u00b6 INSERT EDGE \u8bed\u53e5\u901a\u8fc7\u6307\u5b9a\u8fb9\u7c7b\u578b\u540d\u79f0\u3001\u5c5e\u6027\u3001\u8d77\u59cb\u70b9VID\u548c\u76ee\u6807\u70b9VID\u4ee5\u53ca\u5c5e\u6027\u503c\u6765\u63d2\u5165\u8fb9\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u8bed\u53e5\u63d2\u5165\u8fb9\uff1a nebula> INSERT EDGE follow(degree) VALUES 100 -> 101:(95); nebula> INSERT EDGE follow(degree) VALUES 100 -> 102:(90); nebula> INSERT EDGE follow(degree) VALUES 102 -> 101:(75); nebula> INSERT EDGE serve(start_year, end_year) VALUES 100 -> 200:(1997, 2016); nebula> INSERT EDGE serve(start_year, end_year) VALUES 101 -> 201:(1999, 2018); \u540c\u6837\u7684 \uff1a\u5982\u679c\u60a8\u60f3\u4e00\u6b21\u6279\u91cf\u63d2\u5165\u591a\u6761\u540c\u7c7b\u578b\u7684\u8fb9\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> INSERT EDGE follow(degree) VALUES 100 -> 101:(95), 100 -> 102:(90), 102 -> 101:(75); \u8bfb\u53d6\u6570\u636e \u00b6 \u5728 Nebula Graph \u4e2d\u63d2\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u4ece\u56fe\u7a7a\u95f4\u4e2d\u67e5\u8be2\u5230\u4e4b\u524d\u5df2\u7ecf\u63d2\u5165\u7684\u6570\u636e\u3002 FETCH PROP ON \u8bed\u53e5\u4ece\u56fe\u7a7a\u95f4\u68c0\u7d22\u6570\u636e\u3002\u5982\u679c\u8981\u83b7\u53d6\u70b9\u7684\u6570\u636e\uff0c\u5219\u5fc5\u987b\u6307\u5b9a\u70b9\u7684\u6807\u7b7e\u548c\u70b9 VID\uff1b\u5982\u679c\u8981\u83b7\u53d6\u8fb9\u6570\u636e\uff0c\u5219\u5fc5\u987b\u6307\u5b9a\u8fb9\u7684\u7c7b\u578b\u3001\u8d77\u59cb\u70b9 VID \u548c\u76ee\u6807\u70b9 VID\u3002 \u4f8b\u5982\uff0c\u8981\u83b7\u53d6 VID \u4e3a 100 \u7684\u9009\u624b\u7684\u6570\u636e\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> FETCH PROP ON player 100; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ======================================= | VertexID | player.name | player.age | ======================================= | 100 | Tim Duncan | 42 | --------------------------------------- \u4f8b\u5982\uff0c\u8981\u83b7\u53d6 VID 100 \u548c VID 200 \u4e4b\u95f4\u7684\u7c7b\u578b\u4e3a serve \u7684\u8fb9\u4e0a\u7684\u5c5e\u6027\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> FETCH PROP ON serve 100 -> 200; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ============================================================================= | serve._src | serve._dst | serve._rank | serve.start_year | serve.end_year | ============================================================================= | 100 | 200 | 0 | 1997 | 2016 | ----------------------------------------------------------------------------- \u66f4\u65b0\u6570\u636e \u00b6 \u60a8\u53ef\u4ee5\u66f4\u65b0\u521a\u63d2\u5165\u7684\u70b9\u548c\u8fb9\u6570\u636e\u3002 \u66f4\u65b0\u70b9\u6570\u636e \u00b6 UPDATE VERTEX \u8bed\u53e5\u7528\u4e8e\u66f4\u65b0\u70b9\u7684\u5c5e\u6027\u3002 \u6307\u5b9a\u8981\u66f4\u65b0\u7684\u70b9 VID \uff0c\u7136\u540e\u5728\u7b49\u53f7\u53f3\u4fa7\u4e3a\u5176\u5206\u914d\u65b0\u503c\u6765\u66f4\u65b0\u70b9\u7684\u5168\u90e8\u6216\u8005\u90e8\u5206\u5c5e\u6027\u3002 \u4ee5\u4e0b\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u5c06 VID 100 \u7684\u5c5e\u6027 name \u4ece Tim Duncan \u66f4\u6539\u4e3a Tim \u3002 \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u66f4\u65b0 name \u503c\uff1a nebula> UPDATE VERTEX 100 SET player.name = \"Tim\"; \u8981\u68c0\u67e5 name \u503c\u662f\u5426\u5df2\u66f4\u65b0\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> FETCH PROP ON player 100; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ======================================= | VertexID | player.name | player.age | ======================================= | 100 | Tim | 42 | --------------------------------------- \u66f4\u65b0\u8fb9\u6570\u636e \u00b6 \u7c7b\u4f3c\u7684\uff0c UPDATE EDGE \u8bed\u53e5\u7528\u4e8e\u66f4\u65b0\u8fb9\u7684\u5c5e\u6027\u3002 \u901a\u8fc7\u6307\u5b9a\u8fb9\u7684\u8d77\u59cb\u70b9 VID \u548c\u76ee\u6807\u70b9 VID\uff0c\u7136\u540e\u5728\u7b49\u53f7\u53f3\u4fa7\u4e3a\u5176\u5206\u914d\u65b0\u503c\u6765\u66f4\u65b0\u8fb9\u7684\u5c5e\u6027\u3002 \u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u4e86\u5982\u4f55\u66f4\u6539 VID 100 \u548c VID 101 \u4e4b\u95f4\uff0c\u7c7b\u578b\u4e3a follow \u7684\u8fb9\u7684\u5c5e\u6027\u3002 \u73b0\u5728\uff0c\u6211\u4eec\u5c06 degree \u7684\u503c\u589e\u52a0 1 \u3002 nebula> UPDATE EDGE 100 -> 101 OF follow SET degree = follow.degree + 1; \u8981\u68c0\u67e5 degree \u7684\u503c\u662f\u5426\u5df2\u66f4\u65b0\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> FETCH PROP ON follow 100 -> 101; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ============================================================ | follow._src | follow._dst | follow._rank | follow.degree | ============================================================ | 100 | 101 | 0 | 96 | ------------------------------------------------------------ UPSERT \u00b6 UPSERT \u7528\u4e8e\u63d2\u5165\u65b0\u7684\u9876\u70b9\u6216\u8fb9\u6216\u66f4\u65b0\u73b0\u6709\u7684\u9876\u70b9\u6216\u8fb9\u3002\u5982\u679c\u9876\u70b9\u6216\u8fb9\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u65b0\u5efa\u8be5\u9876\u70b9\u6216\u8fb9\u3002 UPSERT \u662f INSERT \u548c UPDATE \u7684\u7ec4\u5408\u3002 \u4f8b\u5982\uff1a nebula> INSERT VERTEX player(name, age) VALUES 111:(\"Ben Simmons\", 22); -- \u63d2\u5165\u4e00\u4e2a\u65b0\u70b9\u3002 nebula> UPSERT VERTEX 111 SET player.name = \"Dwight Howard\", player.age = $^.player.age + 11 WHEN $^.player.name == \"Ben Simmons\" && $^.player.age > 20 YIELD $^.player.name AS Name, $^.player.age AS Age; -- \u5bf9\u8be5\u70b9\u8fdb\u884c UPSERT \u64cd\u4f5c\u3002 ======================= | Name | Age | ======================= | Dwight Howard | 33 | ----------------------- \u8be6\u60c5\u67e5\u770b UPSERT \u6587\u6863 \u3002 \u5220\u9664\u6570\u636e \u00b6 \u5220\u9664\u70b9 \u00b6 DELETE VERTEX \u8bed\u53e5\u901a\u8fc7\u6307\u5b9a\u70b9 VID \u6765\u5220\u9664\u70b9\u3002 \u540c\u65f6\u4e5f\u4f1a\u5220\u9664\u8be5\u70b9\u7684\u6240\u6709\u6807\u7b7e\uff0c\u4ee5\u53ca\u548c\u8be5\u70b9\u76f8\u90bb\u7684\u6240\u6709\u5165\u8fb9\u548c\u51fa\u8fb9 \u3002 \u8981\u5220\u9664 VID 121 \u7684\u70b9\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> DELETE VERTEX 121; \u8981\u68c0\u67e5\u662f\u5426\u5220\u9664\u4e86\u8be5\u70b9\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1b nebula> FETCH PROP ON player 121; Execution succeeded (Time spent: 1571/1910 us) \u4e0a\u9762\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a\uff0c\u8868\u793a\u67e5\u8be2\u64cd\u4f5c\u6210\u529f\uff0c\u4f46\u662f\u7531\u4e8e\u6570\u636e\u5df2\u88ab\u5220\u9664\uff0c\u672a\u80fd\u4ece\u56fe\u7a7a\u95f4\u4e2d\u67e5\u8be2\u5230\u4efb\u4f55\u6570\u636e\u3002 \u5220\u9664\u8fb9 \u00b6 \u60a8\u53ef\u4ee5\u4ece\u56fe\u7a7a\u95f4\u4e2d\u5220\u9664\u4efb\u4f55\u8fb9\u3002 DELETE EDGE \u8bed\u53e5\u901a\u8fc7\u6307\u5b9a\u8fb9\u7684\u7c7b\u578b\u4ee5\u53ca\u8d77\u59cb\u70b9 VID \u548c\u76ee\u6807\u70b9 VID \u6765\u5220\u9664\u8fb9\u3002 \u8981\u5220\u9664 VID 100 \u548c VID 200 \u4e4b\u95f4\u7684\u7c7b\u578b\u4e3a follow \u7684\u8fb9\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> DELETE EDGE follow 100 -> 200; \u5176\u4ed6 \u00b6 \u67e5\u8be2\u793a\u4f8b \u00b6 \u672c\u8282\u63d0\u4f9b\u4e86\u66f4\u591a\u67e5\u8be2\u793a\u4f8b\u4f9b\u60a8\u53c2\u8003\u3002 \u793a\u4f8b1 \u00b6 \u67e5\u8be2\u7403\u5458 VID 100 \u5173\u6ce8 (follow) \u7684\u5176\u4ed6\u7403\u5458\u3002 \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> GO FROM 100 OVER follow; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a =============== | follow._dst | =============== | 101 | --------------- | 102 | --------------- \u793a\u4f8b2 \u00b6 \u67e5\u8be2\u7403\u5458 VID 100 \u5173\u6ce8\u7684\u7403\u5458\uff0c\u88ab\u5173\u6ce8\u7403\u5458\u5e74\u9f84\u9700\u5927\u4e8e 35 \u5c81\u3002 \u8fd4\u56de\u5176\u59d3\u540d\u548c\u5e74\u9f84\uff0c\u5e76\u53d6\u522b\u540d\u4e3a Teammate \u548c Age \u3002 \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> GO FROM 100 OVER follow WHERE $$.player.age >= 35 \\ YIELD $$.player.name AS Teammate, $$.player.age AS Age; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ===================== | Teammate | Age | ===================== | Tony Parker | 36 | --------------------- \u8fd9\u91cc \uff1a YIELD \u6307\u5b9a\u5e0c\u671b\u4ece\u67e5\u8be2\u4e2d\u8fd4\u56de\u7684\u7ed3\u679c\u3002 $$ \u8868\u793a\u8fb9\u4e0a\u7684\u76ee\u7684\u70b9\u3002 \\ \u8868\u793a\u6362\u884c\u7b26\u3002 \u793a\u4f8b3 \u00b6 \u67e5\u8be2\u7403\u5458 100 \u5173\u6ce8\u7684\u7403\u5458\u6240\u6548\u529b\u7684\u7403\u961f\u3002 \u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u83b7\u5f97\u76f8\u540c\u7684\u7ed3\u679c\uff1a \u4f7f\u7528 \u7ba1\u9053(|) \u6765\u7ec4\u5408\u4e24\u4e2a\u67e5\u8be2\u8bed\u53e5 nebula> GO FROM 100 OVER follow YIELD follow._dst AS id | \\ GO FROM $-.id OVER serve YIELD $$.team.name AS Team, \\ $^.player.name AS Player; \u8fd4\u56de\u5982\u4e0b\u4fe1\u606f\uff1a =============================== | Team | Player | =============================== | Nuggets | Tony Parker | ------------------------------- \u8fd9\u91cc \uff1a $^ \u8868\u793a\u8fb9\u7684\u8d77\u59cb\u70b9\u3002 | \u8868\u793a\u7ba1\u9053\u3002 $- \u8868\u793a\u8f93\u5165\u6d41\u3002\u4e0a\u4e00\u4e2a\u67e5\u8be2\u7684\u8f93\u51fa (id) \u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u67e5\u8be2\u7684\u8f93\u5165 ($-.id) \u3002 \u4f7f\u7528 \u81ea\u5b9a\u4e49\u7684\u53d8\u91cf \u6765\u7ec4\u5408\u4e24\u4e2a\u67e5\u8be2\u8bed\u53e5 nebula> $var = GO FROM 100 OVER follow YIELD follow._dst AS id; \\ GO FROM $var.id OVER serve YIELD $$.team.name AS Team, \\ $^.player.name AS Player; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a =============================== | Team | Player | =============================== | Nuggets | Tony Parker | ------------------------------- \u5f53\u4e00\u6761\u7ec4\u5408\u8bed\u53e5\u88ab\u6574\u4f53\u63d0\u4ea4\u7ed9\u670d\u52a1\u5668\u540e\uff0c\u8be5\u8bed\u53e5\u5185\u7684\u81ea\u5b9a\u4e49\u53d8\u91cf\u5c31\u5df2\u7ed3\u675f\u751f\u547d\u5468\u671f\u3002 \u793a\u4f8b 4 \u00b6 \u5982\u679c\u60a8\u5df2\u4e3a\u6570\u636e\u521b\u5efa\u7d22\u5f15\u4e14\u91cd\u6784\u7d22\u5f15\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 LOOKUP ON \u5173\u952e\u5b57\u8fdb\u884c\u5c5e\u6027\u67e5\u8be2\u3002 \u8bf7\u53c2\u8003 \u7d22\u5f15\u6587\u6863 \u521b\u5efa\u7d22\u5f15\u3002 \u5982\u4e0b\u793a\u4f8b\u8fd4\u56de\u540d\u79f0\u4e3a Tony Parker \uff0c\u6807\u7b7e\u4e3a player \u7684\u9876\u70b9\u3002 nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\" \\ YIELD player.name, player.age; ======================================= | VertexID | player.name | player.age | ======================================= | 101 | Tony Parker | 36 | --------------------------------------- \u8be6\u60c5\u53c2\u8003 LOOKUP \u6587\u6863 \u3002 \u6279\u91cf\u6267\u884c \u00b6 \u901a\u5e38\u6d4b\u8bd5\u65f6\u9700\u8981\u6267\u884c\u591a\u6761\u6570\u636e\u6765\u51c6\u5907\u73af\u5883\uff0c\u53ef\u4ee5\u5c06\u6240\u6709\u8bed\u53e5\u653e\u5165\u4e00\u4e2a .ngql \u6587\u4ef6\u4e2d\uff0c\u5982\u4e0b\u6240\u793a\u3002 CREATE SPACE basketballplayer(partition_num=10, replica_factor=1); USE basketballplayer; CREATE TAG player(name string, age int); CREATE TAG team(name string); CREATE EDGE follow(degree int); CREATE EDGE serve(start_year int, end_year int); \u5728\u670d\u52a1\u5668\uff1a $ cat schema.ngql | ./bin/nebula -u <user> -p <password> \u6216\u8005 Docker \u4e2d $ cat basketballplayer.ngql | sudo docker run --rm -i --network = host \\ vesoft/nebula-console:nightly --addr = < 127 .0.0.1> --port = < 3699 > \u8fd9\u91cc \uff1a \u5fc5\u987b\u5c06 --addr \u548c --port \u66f4\u6539\u4e3a\u60a8\u81ea\u5df1\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u3002 \u53ef\u4ee5\u5728 \u8fd9\u91cc \u4e0b\u8f7d basketballplayer.ngql \u6587\u4ef6\u3002 \u6279\u91cf\u5bfc\u5165 \u00b6 \u5982\u679c\u60a8\u8981\u63d2\u5165\u6570\u767e\u4e07\u6761\u8bb0\u5f55\uff0c\u5efa\u8bae\u4f7f\u7528 csv \u5bfc\u5165\u5de5\u5177 \u548c Spark \u5bfc\u5165\u5de5\u5177 \u3002 \u6700\u540e \u00b6 \u5982\u679c\u60a8\u5728\u4f7f\u7528 Nebula Graph \u7684\u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u524d\u5f80\u6211\u4eec\u7684 \u5b98\u65b9\u8bba\u575b \u63d0\u95ee\uff0c\u5c06\u6709\u4e13\u95e8\u7684\u503c\u73ed\u5f00\u53d1\u4eba\u5458\u4e3a\u60a8\u89e3\u7b54\u95ee\u9898\u3002 \u5982\u679c\u60a8\u5b8c\u6210\u4e86\u672c\u624b\u518c\u7684\u5168\u90e8\u64cd\u4f5c\uff0c\u8ba4\u4e3a Nebula Graph \u662f\u4e00\u6b3e\u503c\u5f97\u5c1d\u8bd5\u7684\u56fe\u6570\u636e\u5e93\u4ea7\u54c1\uff0c\u6073\u8bf7\u79fb\u6b65 GitHub \u7559\u4e0b\u60a8\u73cd\u8d35\u7684\u4e00\u9897\u661f\uff0c\u8fd9\u5c06\u9f13\u821e\u6211\u4eec\u7ee7\u7eed\u5411\u524d\u3002","title":"\u5f00\u59cb\u8bd5\u7528"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_1","text":"\u672c\u624b\u518c\u5c06\u9010\u6b65\u6307\u5bfc\u60a8\u4f7f\u7528 Nebula Graph \uff0c\u5305\u62ec\uff1a \u5b89\u88c5 \u6570\u636e\u5efa\u6a21 \u589e\u5220\u6539\u67e5 \u6279\u91cf\u63d2\u5165 \u6570\u636e\u5bfc\u5165\u5de5\u5177","title":"\u5feb\u901f\u5165\u95e8"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_2","text":"\u6211\u4eec\u63a8\u8350\u4f7f\u7528 docker compose \u6765\u5b89\u88c5 Nebula Graph \uff0c \u5177\u4f53\u6b65\u9aa4\u53ef\u4ee5\u53c2\u8003\u6211\u4eec\u5f55\u5236\u7684 \u64cd\u4f5c\u89c6\u9891 \u3002 \u9664\u4e86\u4f7f\u7528 Docker\uff0c\u60a8\u8fd8\u53ef\u4ee5\u9009\u62e9 \u7f16\u8bd1\u6e90\u7801 \u6216\u8005 rpm/deb \u5305 \u65b9\u5f0f\u5b89\u88c5 Nebula Graph \u3002 \u5982\u679c\u60a8\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u53ef\u4ee5\u524d\u5f80 Nebula Graph \u5b98\u65b9\u8bba\u575b \u63d0\u95ee\uff0c\u6211\u4eec\u6709\u4e13\u95e8\u7684\u503c\u73ed\u5f00\u53d1\u4eba\u5458\u4e3a\u60a8\u89e3\u7b54\u95ee\u9898\u3002","title":"\u5b89\u88c5"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_3","text":"\u5728\u672c\u624b\u518c\u4e2d\uff0c\u6211\u4eec\u5c06\u901a\u8fc7\u4e0b\u56fe\u6240\u793a\u7684\u6570\u636e\u96c6\u5411\u60a8\u5c55\u793a\u5982\u4f55\u4f7f\u7528 Nebula Graph \u6570\u636e\u5e93\u3002 \u4e0a\u56fe\u4e2d\u6709\u4e24\u4e2a\u6807\u7b7e\uff08 player \u3001 team \uff09\u4ee5\u53ca\u4e24\u6761\u8fb9\u7c7b\u578b\uff08 serve \u3001 follow \uff09\u3002","title":"\u6570\u636e\u5efa\u6a21"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_4","text":"Nebula Graph \u4e2d\u7684\u56fe\u7a7a\u95f4\u7c7b\u4f3c\u4e8e\u4f20\u7edf\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u7684\u72ec\u7acb\u6570\u636e\u5e93\uff0c\u4f8b\u5982\u5728 MySQL \u4e2d\u521b\u5efa\u7684\u6570\u636e\u5e93\u3002 \u9996\u5148\uff0c\u60a8\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4\u5e76\u4f7f\u7528 (use) \u5b83\uff0c\u7136\u540e\u624d\u80fd\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u521b\u5efa\u5e76\u4f7f\u7528\u56fe\u7a7a\u95f4\uff1a \u68c0\u67e5\u96c6\u7fa4\u673a\u5668\u72b6\u6001\uff1a nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 44500 | online | | | | ------------------------------------------------------------------------------------------------ | 192.168.8.211 | 44500 | online | | | | ------------------------------------------------------------------------------------------------ \u72b6\u6001 online \u8868\u793a \u5b58\u50a8\u670d\u52a1\u8fdb\u7a0b storaged \u5df2\u7ecf\u6210\u529f\u8fde\u63a5\u4e0a \u5143\u6570\u636e\u670d\u52a1\u8fdb\u7a0b metad \u3002 \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa\u56fe\u7a7a\u95f4\uff1a nebula> CREATE SPACE basketballplayer (partition_num=10, replica_factor=1); \u8fd9\u91cc : partition_num \uff1a\u6307\u5b9a\u4e00\u4e2a\u526f\u672c\u4e2d\u7684\u5206\u533a\u6570\u3002\u901a\u5e38\u4e3a\u5168\u96c6\u7fa4\u786c\u76d8\u6570\u91cf\u7684 5 \u500d\u3002 replica_factor \uff1a\u6307\u5b9a\u96c6\u7fa4\u4e2d\u526f\u672c\u7684\u6570\u91cf\uff0c\u901a\u5e38\u751f\u4ea7\u73af\u5883\u4e3a 3\uff0c\u6d4b\u8bd5\u73af\u5883\u53ef\u4ee5\u4e3a 1\u3002\u7531\u4e8e\u91c7\u7528\u591a\u6570\u8868\u51b3\u539f\u7406\uff0c\u56e0\u6b64\u9700\u4e3a\u5947\u6570\u3002 \u4f60\u53ef\u4ee5\u901a\u8fc7 SHOW HOSTS \u547d\u4ee4\u68c0\u67e5\u673a\u5668\u548c partition \u5206\u5e03\u60c5\u51b5\uff1a nebula> SHOW HOSTS; ============================================================================================================= | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ============================================================================================================= | 192.168.8.210 | 44500 | online | 8 | basketballplayer: 8 | test: 8 | ------------------------------------------------------------------------------------------------------------- | 192.168.8.211 | 44500 | online | 2 | basketballplayer: 2 | test: 2 | ------------------------------------------------------------------------------------------------------------- \u82e5\u53d1\u73b0\u673a\u5668\u90fd\u5df2\u5728\u7ebf (online)\uff0c\u4f46 Leader distribution \u5206\u5e03\u4e0d\u5747(\u5982\u4e0a)\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4 ( BALANCE LEADER ) \u6765\u89e6\u53d1 partition \u91cd\u5206\u5e03\uff1a nebula> BALANCE LEADER; ============================================================================================================= | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ============================================================================================================= | 192.168.8.210 | 44500 | online | 5 | basketballplayer: 5 | test: 5 | ------------------------------------------------------------------------------------------------------------- | 192.168.8.211 | 44500 | online | 5 | basketballplayer: 5 | test: 5 | ------------------------------------------------------------------------------------------------------------- \u5177\u4f53\u89e3\u91ca\u53ef\u4ee5\u89c1 \u8fd9\u91cc \u3002 \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u6765\u6307\u5b9a\u4f7f\u7528\u7684\u56fe\u7a7a\u95f4\uff1a nebula> USE basketballplayer; \u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u8bed\u53e5\u67e5\u770b\u521a\u521b\u5efa\u7684\u7a7a\u95f4\uff1a nebula> SHOW SPACES; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ======== | Name | ======== | basketballplayer | --------","title":"\u521b\u5efa\u5e76\u4f7f\u7528\u56fe\u7a7a\u95f4"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#schema","text":"\u5728 Nebula Graph \u4e2d\uff0c\u6211\u4eec\u5c06\u5177\u6709\u76f8\u540c\u5c5e\u6027\u7684\u70b9\u5206\u4e3a\u4e00\u7ec4\uff0c\u8be5\u7ec4\u5373\u4e3a\u4e00\u4e2a\u6807\u7b7e\u3002 CREATE TAG \u8bed\u53e5\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6807\u7b7e\uff0c\u6807\u7b7e\u540d\u79f0\u540e\u9762\u7684\u62ec\u53f7\u4e2d\u662f\u6807\u7b7e\u7684\u5c5e\u6027\u548c\u5c5e\u6027\u7c7b\u578b\u3002 CREATE EDGE \u8bed\u53e5\u5b9a\u4e49\u8fb9\u7c7b\u578b\uff0c\u7c7b\u578b\u540d\u79f0\u540e\u9762\u7684\u62ec\u53f7\u4e2d\u662f\u8fb9\u7684\u5c5e\u6027\u548c\u5c5e\u6027\u7c7b\u578b\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u521b\u5efa\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\uff1a \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa player \u6807\u7b7e\uff1a nebula> CREATE TAG player(name string, age int); \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa team \u6807\u7b7e\uff1a nebula> CREATE TAG team(name string); \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa follow \u8fb9\u7c7b\u578b\uff1a nebula> CREATE EDGE follow(degree int); \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa serve \u8fb9\u7c7b\u578b\uff1a nebula> CREATE EDGE serve(start_year int, end_year int); \u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u67e5\u770b\u521a\u521a\u521b\u5efa\u7684\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u3002 5.1 \u8981\u83b7\u53d6\u521a\u521b\u5efa\u7684\u6807\u7b7e\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> SHOW TAGS; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ============ | Name | ============ | player | ------------ | team | ------------ 5.2 \u8981\u663e\u793a\u521a\u521b\u5efa\u7684\u8fb9\u7c7b\u578b\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> SHOW EDGES; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ========== | Name | ========== | serve | ---------- | follow | ---------- 5.3 \u8981\u663e\u793a player \u6807\u7b7e\u7684\u5c5e\u6027\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> DESCRIBE TAG player; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a =================== | Field | Type | =================== | name | string | ------------------- | age | int | ------------------- 5.4 \u8981\u83b7\u53d6 follow \u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> DESCRIBE EDGE follow; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ===================== | Field | Type | ===================== | degree | int | ---------------------","title":"\u5b9a\u4e49\u6570\u636e\u7684 Schema"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_5","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528 CREATE INDEX \u4e3a\u5df2\u6709 Tag/Edge-type \u521b\u5efa\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX player_index_0 on player(name); \u4e0a\u8ff0\u8bed\u53e5\u5728\u6240\u6709\u6807\u7b7e\u4e3a player \u7684\u9876\u70b9\u4e0a\u4e3a\u5c5e\u6027 name \u521b\u5efa\u4e86\u4e00\u4e2a\u7d22\u5f15\u3002 \u7d22\u5f15\u4f1a\u5f71\u54cd\u5199\u6027\u80fd \uff0c\u7b2c\u4e00\u6b21\u6279\u91cf\u5bfc\u5165\u7684\u65f6\u5019\uff0c\u5efa\u8bae\u5148\u5bfc\u5165\u6570\u636e\uff0c\u518d\u6279\u91cf\u91cd\u5efa\u7d22\u5f15\uff1b\u4e0d\u63a8\u8350\u5e26\u7d22\u5f15\u6279\u91cf\u5bfc\u5165\uff0c\u8fd9\u6837\u5199\u6027\u80fd\u4f1a\u975e\u5e38\u5dee\u3002 \u8be6\u60c5\u53c2\u770b \u7d22\u5f15\u6587\u6863 \u3002","title":"\u521b\u5efa\u7d22\u5f15"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_6","text":"","title":"\u589e\u5220\u6539\u67e5"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_7","text":"\u60a8\u53ef\u4ee5\u6839\u636e \u793a\u610f\u56fe \u4e2d\u7684\u5173\u7cfb\u63d2\u5165\u70b9\u548c\u8fb9\u6570\u636e\u3002","title":"\u63d2\u5165\u6570\u636e"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_8","text":"INSERT VERTEX \u8bed\u53e5\u901a\u8fc7\u6307\u5b9a\u70b9\u7684\u6807\u7b7e\u3001\u5c5e\u6027\u3001\u70b9 ID \u548c\u5c5e\u6027\u503c\u6765\u63d2\u5165\u4e00\u4e2a\u70b9\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u8bed\u53e5\u63d2\u5165\u70b9\uff1a nebula> INSERT VERTEX player(name, age) VALUES 100:(\"Tim Duncan\", 42); nebula> INSERT VERTEX player(name, age) VALUES 101:(\"Tony Parker\", 36); nebula> INSERT VERTEX player(name, age) VALUES 102:(\"LaMarcus Aldridge\", 33); nebula> INSERT VERTEX team(name) VALUES 200:(\"Warriors\"); nebula> INSERT VERTEX team(name) VALUES 201:(\"Nuggets\"); nebula> INSERT VERTEX player(name, age) VALUES 121:(\"Useless\", 60); \u6ce8\u610f \uff1a \u5728\u4e0a\u9762\u63d2\u5165\u7684\u70b9\u4e2d\uff0c\u5173\u952e\u8bcd VALUES \u4e4b\u540e\u7684\u6570\u5b57\u662f\u70b9\u7684 ID\uff08\u7f29\u5199\u4e3a VID , int64\uff09\u3002\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u7684 VID \u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002 \u6700\u540e\u63d2\u5165\u7684\u70b9(VID: 121)\u5c06\u5728\u4e0b\u6587 \u5220\u9664\u6570\u636e \u90e8\u5206\u4e2d\u5220\u9664\u3002 \u5982\u679c\u60a8\u60f3\u4e00\u6b21\u6279\u91cf\u63d2\u5165\u540c\u7c7b\u578b\u7684\u70b9\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> INSERT VERTEX player(name, age) VALUES 100:(\"Tim Duncan\", 42), \\ 101:(\"Tony Parker\", 36), 102:(\"LaMarcus Aldridge\", 33); \u53cd\u9664\u53f7 \\ \u7528\u4e8e\u5b9e\u73b0\u591a\u884c\u8bed\u53e5\u3002","title":"\u63d2\u5165\u70b9"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_9","text":"INSERT EDGE \u8bed\u53e5\u901a\u8fc7\u6307\u5b9a\u8fb9\u7c7b\u578b\u540d\u79f0\u3001\u5c5e\u6027\u3001\u8d77\u59cb\u70b9VID\u548c\u76ee\u6807\u70b9VID\u4ee5\u53ca\u5c5e\u6027\u503c\u6765\u63d2\u5165\u8fb9\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u8bed\u53e5\u63d2\u5165\u8fb9\uff1a nebula> INSERT EDGE follow(degree) VALUES 100 -> 101:(95); nebula> INSERT EDGE follow(degree) VALUES 100 -> 102:(90); nebula> INSERT EDGE follow(degree) VALUES 102 -> 101:(75); nebula> INSERT EDGE serve(start_year, end_year) VALUES 100 -> 200:(1997, 2016); nebula> INSERT EDGE serve(start_year, end_year) VALUES 101 -> 201:(1999, 2018); \u540c\u6837\u7684 \uff1a\u5982\u679c\u60a8\u60f3\u4e00\u6b21\u6279\u91cf\u63d2\u5165\u591a\u6761\u540c\u7c7b\u578b\u7684\u8fb9\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> INSERT EDGE follow(degree) VALUES 100 -> 101:(95), 100 -> 102:(90), 102 -> 101:(75);","title":"\u63d2\u5165\u8fb9"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_10","text":"\u5728 Nebula Graph \u4e2d\u63d2\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u4ece\u56fe\u7a7a\u95f4\u4e2d\u67e5\u8be2\u5230\u4e4b\u524d\u5df2\u7ecf\u63d2\u5165\u7684\u6570\u636e\u3002 FETCH PROP ON \u8bed\u53e5\u4ece\u56fe\u7a7a\u95f4\u68c0\u7d22\u6570\u636e\u3002\u5982\u679c\u8981\u83b7\u53d6\u70b9\u7684\u6570\u636e\uff0c\u5219\u5fc5\u987b\u6307\u5b9a\u70b9\u7684\u6807\u7b7e\u548c\u70b9 VID\uff1b\u5982\u679c\u8981\u83b7\u53d6\u8fb9\u6570\u636e\uff0c\u5219\u5fc5\u987b\u6307\u5b9a\u8fb9\u7684\u7c7b\u578b\u3001\u8d77\u59cb\u70b9 VID \u548c\u76ee\u6807\u70b9 VID\u3002 \u4f8b\u5982\uff0c\u8981\u83b7\u53d6 VID \u4e3a 100 \u7684\u9009\u624b\u7684\u6570\u636e\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> FETCH PROP ON player 100; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ======================================= | VertexID | player.name | player.age | ======================================= | 100 | Tim Duncan | 42 | --------------------------------------- \u4f8b\u5982\uff0c\u8981\u83b7\u53d6 VID 100 \u548c VID 200 \u4e4b\u95f4\u7684\u7c7b\u578b\u4e3a serve \u7684\u8fb9\u4e0a\u7684\u5c5e\u6027\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> FETCH PROP ON serve 100 -> 200; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ============================================================================= | serve._src | serve._dst | serve._rank | serve.start_year | serve.end_year | ============================================================================= | 100 | 200 | 0 | 1997 | 2016 | -----------------------------------------------------------------------------","title":"\u8bfb\u53d6\u6570\u636e"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_11","text":"\u60a8\u53ef\u4ee5\u66f4\u65b0\u521a\u63d2\u5165\u7684\u70b9\u548c\u8fb9\u6570\u636e\u3002","title":"\u66f4\u65b0\u6570\u636e"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_12","text":"UPDATE VERTEX \u8bed\u53e5\u7528\u4e8e\u66f4\u65b0\u70b9\u7684\u5c5e\u6027\u3002 \u6307\u5b9a\u8981\u66f4\u65b0\u7684\u70b9 VID \uff0c\u7136\u540e\u5728\u7b49\u53f7\u53f3\u4fa7\u4e3a\u5176\u5206\u914d\u65b0\u503c\u6765\u66f4\u65b0\u70b9\u7684\u5168\u90e8\u6216\u8005\u90e8\u5206\u5c5e\u6027\u3002 \u4ee5\u4e0b\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u5c06 VID 100 \u7684\u5c5e\u6027 name \u4ece Tim Duncan \u66f4\u6539\u4e3a Tim \u3002 \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\u66f4\u65b0 name \u503c\uff1a nebula> UPDATE VERTEX 100 SET player.name = \"Tim\"; \u8981\u68c0\u67e5 name \u503c\u662f\u5426\u5df2\u66f4\u65b0\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> FETCH PROP ON player 100; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ======================================= | VertexID | player.name | player.age | ======================================= | 100 | Tim | 42 | ---------------------------------------","title":"\u66f4\u65b0\u70b9\u6570\u636e"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_13","text":"\u7c7b\u4f3c\u7684\uff0c UPDATE EDGE \u8bed\u53e5\u7528\u4e8e\u66f4\u65b0\u8fb9\u7684\u5c5e\u6027\u3002 \u901a\u8fc7\u6307\u5b9a\u8fb9\u7684\u8d77\u59cb\u70b9 VID \u548c\u76ee\u6807\u70b9 VID\uff0c\u7136\u540e\u5728\u7b49\u53f7\u53f3\u4fa7\u4e3a\u5176\u5206\u914d\u65b0\u503c\u6765\u66f4\u65b0\u8fb9\u7684\u5c5e\u6027\u3002 \u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u4e86\u5982\u4f55\u66f4\u6539 VID 100 \u548c VID 101 \u4e4b\u95f4\uff0c\u7c7b\u578b\u4e3a follow \u7684\u8fb9\u7684\u5c5e\u6027\u3002 \u73b0\u5728\uff0c\u6211\u4eec\u5c06 degree \u7684\u503c\u589e\u52a0 1 \u3002 nebula> UPDATE EDGE 100 -> 101 OF follow SET degree = follow.degree + 1; \u8981\u68c0\u67e5 degree \u7684\u503c\u662f\u5426\u5df2\u66f4\u65b0\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> FETCH PROP ON follow 100 -> 101; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ============================================================ | follow._src | follow._dst | follow._rank | follow.degree | ============================================================ | 100 | 101 | 0 | 96 | ------------------------------------------------------------","title":"\u66f4\u65b0\u8fb9\u6570\u636e"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#upsert","text":"UPSERT \u7528\u4e8e\u63d2\u5165\u65b0\u7684\u9876\u70b9\u6216\u8fb9\u6216\u66f4\u65b0\u73b0\u6709\u7684\u9876\u70b9\u6216\u8fb9\u3002\u5982\u679c\u9876\u70b9\u6216\u8fb9\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u65b0\u5efa\u8be5\u9876\u70b9\u6216\u8fb9\u3002 UPSERT \u662f INSERT \u548c UPDATE \u7684\u7ec4\u5408\u3002 \u4f8b\u5982\uff1a nebula> INSERT VERTEX player(name, age) VALUES 111:(\"Ben Simmons\", 22); -- \u63d2\u5165\u4e00\u4e2a\u65b0\u70b9\u3002 nebula> UPSERT VERTEX 111 SET player.name = \"Dwight Howard\", player.age = $^.player.age + 11 WHEN $^.player.name == \"Ben Simmons\" && $^.player.age > 20 YIELD $^.player.name AS Name, $^.player.age AS Age; -- \u5bf9\u8be5\u70b9\u8fdb\u884c UPSERT \u64cd\u4f5c\u3002 ======================= | Name | Age | ======================= | Dwight Howard | 33 | ----------------------- \u8be6\u60c5\u67e5\u770b UPSERT \u6587\u6863 \u3002","title":"UPSERT"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_14","text":"","title":"\u5220\u9664\u6570\u636e"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_15","text":"DELETE VERTEX \u8bed\u53e5\u901a\u8fc7\u6307\u5b9a\u70b9 VID \u6765\u5220\u9664\u70b9\u3002 \u540c\u65f6\u4e5f\u4f1a\u5220\u9664\u8be5\u70b9\u7684\u6240\u6709\u6807\u7b7e\uff0c\u4ee5\u53ca\u548c\u8be5\u70b9\u76f8\u90bb\u7684\u6240\u6709\u5165\u8fb9\u548c\u51fa\u8fb9 \u3002 \u8981\u5220\u9664 VID 121 \u7684\u70b9\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> DELETE VERTEX 121; \u8981\u68c0\u67e5\u662f\u5426\u5220\u9664\u4e86\u8be5\u70b9\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1b nebula> FETCH PROP ON player 121; Execution succeeded (Time spent: 1571/1910 us) \u4e0a\u9762\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a\uff0c\u8868\u793a\u67e5\u8be2\u64cd\u4f5c\u6210\u529f\uff0c\u4f46\u662f\u7531\u4e8e\u6570\u636e\u5df2\u88ab\u5220\u9664\uff0c\u672a\u80fd\u4ece\u56fe\u7a7a\u95f4\u4e2d\u67e5\u8be2\u5230\u4efb\u4f55\u6570\u636e\u3002","title":"\u5220\u9664\u70b9"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_16","text":"\u60a8\u53ef\u4ee5\u4ece\u56fe\u7a7a\u95f4\u4e2d\u5220\u9664\u4efb\u4f55\u8fb9\u3002 DELETE EDGE \u8bed\u53e5\u901a\u8fc7\u6307\u5b9a\u8fb9\u7684\u7c7b\u578b\u4ee5\u53ca\u8d77\u59cb\u70b9 VID \u548c\u76ee\u6807\u70b9 VID \u6765\u5220\u9664\u8fb9\u3002 \u8981\u5220\u9664 VID 100 \u548c VID 200 \u4e4b\u95f4\u7684\u7c7b\u578b\u4e3a follow \u7684\u8fb9\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> DELETE EDGE follow 100 -> 200;","title":"\u5220\u9664\u8fb9"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_17","text":"","title":"\u5176\u4ed6"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_18","text":"\u672c\u8282\u63d0\u4f9b\u4e86\u66f4\u591a\u67e5\u8be2\u793a\u4f8b\u4f9b\u60a8\u53c2\u8003\u3002","title":"\u67e5\u8be2\u793a\u4f8b"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#1","text":"\u67e5\u8be2\u7403\u5458 VID 100 \u5173\u6ce8 (follow) \u7684\u5176\u4ed6\u7403\u5458\u3002 \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> GO FROM 100 OVER follow; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a =============== | follow._dst | =============== | 101 | --------------- | 102 | ---------------","title":"\u793a\u4f8b1"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#2","text":"\u67e5\u8be2\u7403\u5458 VID 100 \u5173\u6ce8\u7684\u7403\u5458\uff0c\u88ab\u5173\u6ce8\u7403\u5458\u5e74\u9f84\u9700\u5927\u4e8e 35 \u5c81\u3002 \u8fd4\u56de\u5176\u59d3\u540d\u548c\u5e74\u9f84\uff0c\u5e76\u53d6\u522b\u540d\u4e3a Teammate \u548c Age \u3002 \u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> GO FROM 100 OVER follow WHERE $$.player.age >= 35 \\ YIELD $$.player.name AS Teammate, $$.player.age AS Age; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a ===================== | Teammate | Age | ===================== | Tony Parker | 36 | --------------------- \u8fd9\u91cc \uff1a YIELD \u6307\u5b9a\u5e0c\u671b\u4ece\u67e5\u8be2\u4e2d\u8fd4\u56de\u7684\u7ed3\u679c\u3002 $$ \u8868\u793a\u8fb9\u4e0a\u7684\u76ee\u7684\u70b9\u3002 \\ \u8868\u793a\u6362\u884c\u7b26\u3002","title":"\u793a\u4f8b2"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#3","text":"\u67e5\u8be2\u7403\u5458 100 \u5173\u6ce8\u7684\u7403\u5458\u6240\u6548\u529b\u7684\u7403\u961f\u3002 \u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u83b7\u5f97\u76f8\u540c\u7684\u7ed3\u679c\uff1a \u4f7f\u7528 \u7ba1\u9053(|) \u6765\u7ec4\u5408\u4e24\u4e2a\u67e5\u8be2\u8bed\u53e5 nebula> GO FROM 100 OVER follow YIELD follow._dst AS id | \\ GO FROM $-.id OVER serve YIELD $$.team.name AS Team, \\ $^.player.name AS Player; \u8fd4\u56de\u5982\u4e0b\u4fe1\u606f\uff1a =============================== | Team | Player | =============================== | Nuggets | Tony Parker | ------------------------------- \u8fd9\u91cc \uff1a $^ \u8868\u793a\u8fb9\u7684\u8d77\u59cb\u70b9\u3002 | \u8868\u793a\u7ba1\u9053\u3002 $- \u8868\u793a\u8f93\u5165\u6d41\u3002\u4e0a\u4e00\u4e2a\u67e5\u8be2\u7684\u8f93\u51fa (id) \u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u67e5\u8be2\u7684\u8f93\u5165 ($-.id) \u3002 \u4f7f\u7528 \u81ea\u5b9a\u4e49\u7684\u53d8\u91cf \u6765\u7ec4\u5408\u4e24\u4e2a\u67e5\u8be2\u8bed\u53e5 nebula> $var = GO FROM 100 OVER follow YIELD follow._dst AS id; \\ GO FROM $var.id OVER serve YIELD $$.team.name AS Team, \\ $^.player.name AS Player; \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a =============================== | Team | Player | =============================== | Nuggets | Tony Parker | ------------------------------- \u5f53\u4e00\u6761\u7ec4\u5408\u8bed\u53e5\u88ab\u6574\u4f53\u63d0\u4ea4\u7ed9\u670d\u52a1\u5668\u540e\uff0c\u8be5\u8bed\u53e5\u5185\u7684\u81ea\u5b9a\u4e49\u53d8\u91cf\u5c31\u5df2\u7ed3\u675f\u751f\u547d\u5468\u671f\u3002","title":"\u793a\u4f8b3"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#4","text":"\u5982\u679c\u60a8\u5df2\u4e3a\u6570\u636e\u521b\u5efa\u7d22\u5f15\u4e14\u91cd\u6784\u7d22\u5f15\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 LOOKUP ON \u5173\u952e\u5b57\u8fdb\u884c\u5c5e\u6027\u67e5\u8be2\u3002 \u8bf7\u53c2\u8003 \u7d22\u5f15\u6587\u6863 \u521b\u5efa\u7d22\u5f15\u3002 \u5982\u4e0b\u793a\u4f8b\u8fd4\u56de\u540d\u79f0\u4e3a Tony Parker \uff0c\u6807\u7b7e\u4e3a player \u7684\u9876\u70b9\u3002 nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\" \\ YIELD player.name, player.age; ======================================= | VertexID | player.name | player.age | ======================================= | 101 | Tony Parker | 36 | --------------------------------------- \u8be6\u60c5\u53c2\u8003 LOOKUP \u6587\u6863 \u3002","title":"\u793a\u4f8b 4"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_19","text":"\u901a\u5e38\u6d4b\u8bd5\u65f6\u9700\u8981\u6267\u884c\u591a\u6761\u6570\u636e\u6765\u51c6\u5907\u73af\u5883\uff0c\u53ef\u4ee5\u5c06\u6240\u6709\u8bed\u53e5\u653e\u5165\u4e00\u4e2a .ngql \u6587\u4ef6\u4e2d\uff0c\u5982\u4e0b\u6240\u793a\u3002 CREATE SPACE basketballplayer(partition_num=10, replica_factor=1); USE basketballplayer; CREATE TAG player(name string, age int); CREATE TAG team(name string); CREATE EDGE follow(degree int); CREATE EDGE serve(start_year int, end_year int); \u5728\u670d\u52a1\u5668\uff1a $ cat schema.ngql | ./bin/nebula -u <user> -p <password> \u6216\u8005 Docker \u4e2d $ cat basketballplayer.ngql | sudo docker run --rm -i --network = host \\ vesoft/nebula-console:nightly --addr = < 127 .0.0.1> --port = < 3699 > \u8fd9\u91cc \uff1a \u5fc5\u987b\u5c06 --addr \u548c --port \u66f4\u6539\u4e3a\u60a8\u81ea\u5df1\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u3002 \u53ef\u4ee5\u5728 \u8fd9\u91cc \u4e0b\u8f7d basketballplayer.ngql \u6587\u4ef6\u3002","title":"\u6279\u91cf\u6267\u884c"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_20","text":"\u5982\u679c\u60a8\u8981\u63d2\u5165\u6570\u767e\u4e07\u6761\u8bb0\u5f55\uff0c\u5efa\u8bae\u4f7f\u7528 csv \u5bfc\u5165\u5de5\u5177 \u548c Spark \u5bfc\u5165\u5de5\u5177 \u3002","title":"\u6279\u91cf\u5bfc\u5165"},{"location":"manual-CN/1.overview/2.quick-start/1.get-started/#_21","text":"\u5982\u679c\u60a8\u5728\u4f7f\u7528 Nebula Graph \u7684\u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u524d\u5f80\u6211\u4eec\u7684 \u5b98\u65b9\u8bba\u575b \u63d0\u95ee\uff0c\u5c06\u6709\u4e13\u95e8\u7684\u503c\u73ed\u5f00\u53d1\u4eba\u5458\u4e3a\u60a8\u89e3\u7b54\u95ee\u9898\u3002 \u5982\u679c\u60a8\u5b8c\u6210\u4e86\u672c\u624b\u518c\u7684\u5168\u90e8\u64cd\u4f5c\uff0c\u8ba4\u4e3a Nebula Graph \u662f\u4e00\u6b3e\u503c\u5f97\u5c1d\u8bd5\u7684\u56fe\u6570\u636e\u5e93\u4ea7\u54c1\uff0c\u6073\u8bf7\u79fb\u6b65 GitHub \u7559\u4e0b\u60a8\u73cd\u8d35\u7684\u4e00\u9897\u661f\uff0c\u8fd9\u5c06\u9f13\u821e\u6211\u4eec\u7ee7\u7eed\u5411\u524d\u3002","title":"\u6700\u540e"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/","text":"\u5e38\u89c1\u95ee\u9898 \u00b6 \u672c\u6587\u6863\u5217\u51fa\u4e86 Nebula Graph \u5e38\u89c1\u95ee\u9898\u3002\u5982\u679c\u60a8\u6ca1\u6709\u5728\u6587\u6863\u4e2d\u627e\u5230\u9700\u8981\u7684\u4fe1\u606f\uff0c\u8bf7\u5c1d\u8bd5\u5728 Nebula Graph \u5b98\u65b9\u8bba\u575b \u4e2d\u7684 \u7528\u6237\u95ee\u7b54 \u5206\u7c7b\u4e0b\u8fdb\u884c\u641c\u7d22\u3002 General Information \u00b6 General Information \u90e8\u5206\u5217\u51fa\u4e86\u5173\u4e8e Nebula Graph \u7684\u6982\u5ff5\u6027\u95ee\u9898\u3002 \u67e5\u8be2\u8fd4\u56de\u65f6\u95f4\u89e3\u91ca \u00b6 nebula> GO FROM 101 OVER follow; =============== | follow._dst | =============== | 100 | --------------- | 102 | --------------- | 125 | --------------- Got 3 rows (Time spent: 7431/10406 us) \u4ee5\u4e0a\u8ff0\u67e5\u8be2\u4e3a\u4f8b\uff0cTime spent \u4e2d\u524d\u4e00\u4e2a\u6570\u5b57 7431 \u4e3a\u6570\u636e\u5e93\u672c\u8eab\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u5373 query engine \u4ece console \u6536\u5230\u8fd9\u6761\u67e5\u8be2\u8bed\u53e5\uff0c\u5230\u5b58\u50a8\u62ff\u5230\u6570\u636e\uff0c\u5e76\u8fdb\u884c\u4e00\u7cfb\u5217\u8ba1\u7b97\u6240\u82b1\u7684\u65f6\u95f4\uff1b\u540e\u4e00\u4e2a\u6570\u5b57 10406 \u662f\u4ece\u5ba2\u6237\u7aef\u89d2\u5ea6\u770b\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u5373 console \u4ece\u53d1\u9001\u8bf7\u6c42\uff0c\u5230\u6536\u5230\u54cd\u5e94\uff0c\u5e76\u5c06\u7ed3\u679c\u8f93\u51fa\u5230\u5c4f\u5e55\u7684\u65f6\u95f4\u3002 Trouble Shooting \u00b6 Trouble Shooting \u90e8\u5206\u5217\u51fa\u4e86 Nebula Graph \u64cd\u4f5c\u4e2d\u7684\u5e38\u89c1\u9519\u8bef\u3002 \u670d\u52a1\u5668\u53c2\u6570\u914d\u7f6e \u00b6 \u5728 Nebula console \u4e2d\u8fd0\u884c nebula> SHOW CONFIGS; \u8be6\u7ec6\u53c2\u8003 \u8fd0\u884c\u914d\u7f6e\u8981\u6c42 \u53ca CONFIGS \u8bed\u6cd5 \u3002 \u914d\u7f6e\u6587\u4ef6 \u00b6 \u914d\u7f6e\u6587\u4ef6\u9ed8\u8ba4\u5728 /usr/local/nebula/etc/ \u4e0b\u3002 \u914d\u7f6e\u53c2\u8003 \u8fd9\u91cc \u53ca CONFIGS \u8bed\u6cd5 \u3002 partition \u5206\u5e03\u4e0d\u5747 \u00b6 \u53c2\u8003 \u8fd9\u91cc \u3002 \u65e5\u5fd7\u548c\u66f4\u6539\u65e5\u5fd7\u7ea7\u522b \u00b6 \u65e5\u5fd7\u6587\u4ef6\u9ed8\u8ba4\u5728 /usr/local/nebula/logs/ \u4e0b\u3002 \u53c2\u89c1 graphd \u65e5\u5fd7 \u548c storaged \u65e5\u5fd7 \u3002 \u4f7f\u7528\u591a\u5757\u786c\u76d8 \u00b6 \u4fee\u6539 /usr/local/nebula/etc/nebula-storage.conf \u3002\u4f8b\u5982 --data_path=/disk1/storage/,/disk2/storage/,/disk3/storage/ \u591a\u5757\u786c\u76d8\u65f6\u53ef\u4ee5\u9017\u53f7\u5206\u9694\u591a\u4e2a\u76ee\u5f55\uff0c\u6bcf\u4e2a\u76ee\u5f55\u5bf9\u5e94\u4e00\u4e2a RocksDB \u5b9e\u4f8b\uff0c\u4ee5\u6709\u66f4\u597d\u7684\u5e76\u53d1\u80fd\u529b\u3002\u53c2\u8003 \u8fd9\u91cc \u3002 \u8fdb\u7a0b\u5f02\u5e38 crash \u00b6 \u68c0\u67e5\u786c\u76d8\u7a7a\u95f4 df -h \u6ca1\u6709\u78c1\u76d8\u7a7a\u95f4\uff0c\u5bfc\u81f4\u670d\u52a1\u5199\u6587\u4ef6\u5931\u8d25\uff0c\u670d\u52a1 crash\uff0c\u901a\u8fc7\u4ee5\u4e0a\u547d\u4ee4\u67e5\u770b\u5f53\u524d\u78c1\u76d8\u7684\u4f7f\u7528\u60c5\u51b5\uff0c\u670d\u52a1\u914d\u7f6e\u7684 --data_path \u76ee\u5f55\u662f\u5426\u662f\u6ee1\u7684\u76ee\u5f55\u3002 \u68c0\u67e5\u5185\u5b58\u662f\u5426\u8db3\u591f free -h \u670d\u52a1\u4f7f\u7528\u8fc7\u591a\u5185\u5b58\uff0c\u88ab\u7cfb\u7edf\u6740\u6389\uff0c\u901a\u8fc7 dmesg \u67e5\u770b\u662f\u5426\u6709 OOM \u7684\u8bb0\u5f55\uff0c\u8bb0\u5f55\u662f\u5426\u6709 nebula \u5173\u952e\u5b57\u3002 \u68c0\u67e5\u65e5\u5fd7 \u4f7f\u7528 Docker \u542f\u52a8\u540e\uff0c\u6267\u884c\u547d\u4ee4\u65f6\u62a5\u9519 \u00b6 \u53ef\u80fd\u7684\u539f\u56e0\u662f Docker \u7684 IP \u5730\u5740\u548c\u9ed8\u8ba4\u914d\u7f6e\u4e2d\u7684\u76d1\u542c\u5730\u5740\u4e0d\u4e00\u81f4\uff08\u9ed8\u8ba4\u662f 172.17.0.2\uff09\uff0c\u56e0\u6b64\u8fd9\u91cc\u9700\u8981\u4fee\u6539\u9ed8\u8ba4\u914d\u7f6e\u4e2d\u7684\u76d1\u542c\u5730\u5740\u3002 \u9996\u5148\u5728\u5bb9\u5668\u4e2d\u6267\u884c ifconfig \u547d\u4ee4\uff0c\u67e5\u770b\u60a8\u7684\u5bb9\u5668\u5730\u5740\uff0c\u8fd9\u91cc\u5047\u8bbe\u60a8\u7684\u5bb9\u5668\u5730\u5740\u662f 172.17.0.3\uff0c\u90a3\u4e48\u5c31\u610f\u5473\u7740\u60a8\u9700\u8981\u4fee\u6539\u9ed8\u8ba4\u914d\u7f6e\u7684 IP \u5730\u5740\u3002 \u7136\u540e\u8fdb\u5165\u914d\u7f6e\u76ee\u5f55 cd /usr/local/nebula/etc \uff0c\u67e5\u627e\u6240\u6709 IP \u5730\u5740\u914d\u7f6e\u7684\u4f4d\u7f6e\uff08 grep \"172.17.0.2\" . -r \uff09\u3002 \u4fee\u6539\u4e0a\u4e00\u6b65\u67e5\u5230\u7684\u6240\u6709 IP \u5730\u5740\u4e3a\u60a8\u7684\u5bb9\u5668\u5730\u5740\uff08172.17.0.3\uff09\u3002 \u6700\u540e\u91cd\u65b0\u542f\u52a8\u6240\u6709\u670d\u52a1\uff08 /usr/local/nebula/scripts/nebula.service restart all \uff09\u3002 \u5355\u673a\u5148\u540e\u52a0\u5165\u4e24\u4e2a\u4e0d\u540c\u96c6\u7fa4 \u00b6 \u540c\u4e00\u53f0\u4e3b\u673a\u5148\u540e\u7528\u4e8e\u5355\u673a\u6d4b\u8bd5\u548c\u96c6\u7fa4\u6d4b\u8bd5\uff0cstoraged \u670d\u52a1\u65e0\u6cd5\u6b63\u5e38\u542f\u52a8\uff08\u7ec8\u7aef\u4e0a\u663e\u793a\u7684 storaged \u670d\u52a1\u7684\u76d1\u542c\u7aef\u53e3\u4e3a\u7ea2\u8272\uff09\u3002\u67e5\u770b storaged \u670d\u52a1\u7684\u65e5\u5fd7\uff08 /usr/local/nebula/nebula-storaged.ERROR \uff09\uff0c\u82e5\u53d1\u73b0 \"wrong cluster\" \u7684\u62a5\u9519\u4fe1\u606f\uff0c\u5219\u53ef\u80fd\u7684\u51fa\u9519\u539f\u56e0\u662f\u5355\u673a\u6d4b\u8bd5\u548c\u96c6\u7fa4\u6d4b\u8bd5\u65f6\u7684 Nebula Graph \u751f\u6210\u7684 cluster id \u4e0d\u4e00\u81f4\uff0c\u9700\u8981\u5220\u9664 Nebula Graph \u5b89\u88c5\u76ee\u5f55\uff08 /usr/local/nebula \uff09\u4e0b\u7684 cluster.id \u6587\u4ef6\u548c data \u76ee\u5f55\uff0c\u7136\u540e\u91cd\u542f\u670d\u52a1\u3002 \u8fde\u63a5\u5931\u8d25 \u00b6 E1121 04:49:34.563858 256 GraphClient.cpp:54] Thrift rpc call failed: AsyncSocketException: connect failed, type = Socket not open, errno = 111 (Connection refused): Connection refused \u68c0\u67e5\u670d\u52a1\u662f\u5426\u5b58\u5728 $ /usr/local/nebula/scripts/nebula.service status all \u6216\u8005 nebula> SHOW HOSTS ; Could not create logging file:... Too many open files \u00b6 \u68c0\u67e5\u786c\u76d8\u7a7a\u95f4 df -h \u68c0\u67e5\u65e5\u5fd7\u76ee\u5f55 /usr/local/nebula/logs/ \u4fee\u6539\u5141\u8bb8\u6253\u5f00\u7684\u6700\u5927\u6587\u4ef6\u6570 ulimit -n 65536 \u5982\u4f55\u67e5\u770b Nebula Graph \u7248\u672c\u4fe1\u606f \u00b6 \u4f7f\u7528 curl http://ip:port/status \u547d\u4ee4\u83b7\u53d6 git_info_sha\u3001binary \u5305\u7684 commitID\u3002 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e0d\u751f\u6548 \u00b6 Nebula Graph \u4f7f\u7528\u5982\u4e0b\u4e24\u79cd\u65b9\u5f0f\u83b7\u53d6\u914d\u7f6e\uff1a \u4ece\u914d\u7f6e\u6587\u4ef6\u4e2d\uff08\u9700\u8981\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u5e76\u91cd\u542f\u670d\u52a1\uff09\uff1b \u4ece Meta \u670d\u52a1\u4e2d\u3002\u901a\u8fc7 CLI \u8bbe\u7f6e\uff0c\u5e76\u6301\u4e45\u5316\u4fdd\u5b58\u5728 Meta \u670d\u52a1\u4e2d\uff0c\u8be6\u60c5\u53c2\u8003 \u8fd9\u91cc \uff1b \u4fee\u6539\u4e86\u914d\u7f6e\u6587\u4ef6\u4e0d\u751f\u6548\uff0c\u662f\u56e0\u4e3a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c Nebula Graph \u7684\u914d\u7f6e\u53c2\u6570\u7ba1\u7406\u91c7\u7528\u7b2c\u4e8c\u79cd\u65b9\u5f0f \uff08Meta\uff09\uff0c\u5982\u679c\u5e0c\u671b\u91c7\u7528\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff0c\u9700\u8981\u5728 /usr/local/nebula/etc/ \u914d\u7f6e\u6587\u4ef6 metad.conf \u3001 storaged.conf \u3001 graphd.conf \u4e2d\u5206\u522b\u6dfb\u52a0 --local_config=true \u9009\u9879\u3002 \u4fee\u6539 RocksDB block cache \u00b6 \u66f4\u6539 storage \u7684\u914d\u7f6e\u6587\u4ef6 storaged.conf \uff08\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \uff09\u5e76\u91cd\u542f\uff0c\u4f8b\u5982\uff1a # Change rocksdb_block_cache to 1024 MB --rocksdb_block_cache = 1024 # Stop storaged and restart /usr/local/nebula/scripts/nebula.service stop storaged /usr/local/nebula/scripts/nebula.service start storaged \u53c2\u89c1 \u8fd9\u91cc \u4f7f\u7528 CentOS 6.5 Nebula \u670d\u52a1\u5931\u8d25 \u00b6 \u5728 CentOS 6.5 \u90e8\u7f72 Nebula Graph \u5931\u8d25\uff0c\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a # storage \u65e5\u5fd7 Heartbeat failed, status:RPC failure in MetaClient: N6apache6thrift9transport19TTransportExceptionE: AsyncSocketException: connect failed, type = Socket not open, errno = 111 ( Connection refused ) : Connection refused # meta \u65e5\u5fd7 Log line format: [ IWEF ] mmdd hh:mm:ss.uuuuuu threadid file:line ] msg E0415 22 :32:38.944437 15532 AsyncServerSocket.cpp:762 ] failed to set SO_REUSEPORT on async server socket Protocol not available E0415 22 :32:38.945001 15510 ThriftServer.cpp:440 ] Got an exception while setting up the server: 92failed to bind to async server socket: [ :: ] :0: Protocol not available E0415 22 :32:38.945057 15510 RaftexService.cpp:90 ] Setup the Raftex Service failed, error: 92failed to bind to async server socket: [ :: ] :0: Protocol not available E0415 22 :32:38.949586 15463 NebulaStore.cpp:47 ] Start the raft service failed E0415 22 :32:38.949597 15463 MetaDaemon.cpp:88 ] Nebula store init failed E0415 22 :32:38.949796 15463 MetaDaemon.cpp:215 ] Init kv failed! \u6b64\u65f6\u670d\u52a1\u72b6\u6001\u4e3a\uff1a [ root@redhat6 scripts ] # ./nebula.service status all [ WARN ] The maximum files allowed to open might be too few: 1024 [ INFO ] nebula-metad: Exited [ INFO ] nebula-graphd: Exited [ INFO ] nebula-storaged: Running as 15547 , Listening on 44500 \u51fa\u9519\u539f\u56e0\uff1aCentOS 6.5 \u7cfb\u7edf\u5185\u6838\u7248\u672c\u4e3a 2.6.32\uff0c SO_REUSEPORT \u4ec5\u652f\u6301 Linux 3.9 \u53ca\u4ee5\u4e0a\u7248\u672c\u3002 \u5c06\u7cfb\u7edf\u5347\u7ea7\u5230 CentOS 7.5 \u95ee\u9898\u53ef\u81ea\u884c\u89e3\u51b3\u3002 max_edge_returned_per_vertex \u548c WHERE \u6761\u4ef6\u6267\u884c\u7684\u4f18\u5148\u987a\u5e8f \u00b6 \u5982\u679c\u5df2\u8bbe\u7f6e max_edge_returned_per_vertex=10\uff0c\u4f7f\u7528 WHERE \u8fdb\u884c\u8fc7\u6ee4\u65f6\uff0c\u5b9e\u9645\u8fb9\u6570\u91cf\u5927\u4e8e 10\uff0c\u6b64\u65f6\u8fd4\u56de 10 \u6761\u8fb9\uff0c\u8fd8\u662f\u6240\u6709\u8fb9\uff1f Nebula Graph \u5148\u8fdb\u884c WHERE \u6761\u4ef6\u8fc7\u6ee4\uff0c\u5982\u679c\u5b9e\u9645\u8fb9\u6570\u91cf\u5c11\u4e8e 10\uff0c \u5219\u8fd4\u56de\u5b9e\u9645\u8fb9\u6570\u91cf\u3002\u53cd\u4e4b\uff0c\u5219\u6839\u636e max_edge_returned_per_vertex \u9650\u5236\u8fd4\u56de 10 \u6761\u8fb9\u3002 \u4f7f\u7528 FETCH \u8fd4\u56de\u6570\u636e\u65f6\uff0c\u6709\u65f6\u53ef\u4ee5\u8fd4\u56de\u6570\u636e\uff0c\u6709\u65f6\u8fd4\u56de\u4e3a\u7a7a \u00b6 \u8bf7\u68c0\u67e5\u662f\u5426\u5728\u540c\u4e00\u4e2a\u8282\u70b9\u542f\u52a8\u4e86\u4e24\u4e2a storage\uff0c\u5e76\u4e14\u8fd9\u4e24\u4e2a storage \u914d\u7f6e\u7684\u7aef\u53e3\u53f7\u76f8\u540c\u3002\u5047\u5982\u5b58\u5728\u4ee5\u4e0a\u60c5\u51b5\uff0c\u8bf7\u4fee\u6539\u5176\u4e2d\u4e00\u4e2a storage \u7aef\u53e3\u53f7\uff0c\u7136\u540e\u91cd\u65b0\u5bfc\u5165\u6570\u636e\u3002","title":"\u5e38\u89c1\u95ee\u9898 FAQ"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#_1","text":"\u672c\u6587\u6863\u5217\u51fa\u4e86 Nebula Graph \u5e38\u89c1\u95ee\u9898\u3002\u5982\u679c\u60a8\u6ca1\u6709\u5728\u6587\u6863\u4e2d\u627e\u5230\u9700\u8981\u7684\u4fe1\u606f\uff0c\u8bf7\u5c1d\u8bd5\u5728 Nebula Graph \u5b98\u65b9\u8bba\u575b \u4e2d\u7684 \u7528\u6237\u95ee\u7b54 \u5206\u7c7b\u4e0b\u8fdb\u884c\u641c\u7d22\u3002","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#general_information","text":"General Information \u90e8\u5206\u5217\u51fa\u4e86\u5173\u4e8e Nebula Graph \u7684\u6982\u5ff5\u6027\u95ee\u9898\u3002","title":"General Information"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#_2","text":"nebula> GO FROM 101 OVER follow; =============== | follow._dst | =============== | 100 | --------------- | 102 | --------------- | 125 | --------------- Got 3 rows (Time spent: 7431/10406 us) \u4ee5\u4e0a\u8ff0\u67e5\u8be2\u4e3a\u4f8b\uff0cTime spent \u4e2d\u524d\u4e00\u4e2a\u6570\u5b57 7431 \u4e3a\u6570\u636e\u5e93\u672c\u8eab\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u5373 query engine \u4ece console \u6536\u5230\u8fd9\u6761\u67e5\u8be2\u8bed\u53e5\uff0c\u5230\u5b58\u50a8\u62ff\u5230\u6570\u636e\uff0c\u5e76\u8fdb\u884c\u4e00\u7cfb\u5217\u8ba1\u7b97\u6240\u82b1\u7684\u65f6\u95f4\uff1b\u540e\u4e00\u4e2a\u6570\u5b57 10406 \u662f\u4ece\u5ba2\u6237\u7aef\u89d2\u5ea6\u770b\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u5373 console \u4ece\u53d1\u9001\u8bf7\u6c42\uff0c\u5230\u6536\u5230\u54cd\u5e94\uff0c\u5e76\u5c06\u7ed3\u679c\u8f93\u51fa\u5230\u5c4f\u5e55\u7684\u65f6\u95f4\u3002","title":"\u67e5\u8be2\u8fd4\u56de\u65f6\u95f4\u89e3\u91ca"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#trouble_shooting","text":"Trouble Shooting \u90e8\u5206\u5217\u51fa\u4e86 Nebula Graph \u64cd\u4f5c\u4e2d\u7684\u5e38\u89c1\u9519\u8bef\u3002","title":"Trouble Shooting"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#_3","text":"\u5728 Nebula console \u4e2d\u8fd0\u884c nebula> SHOW CONFIGS; \u8be6\u7ec6\u53c2\u8003 \u8fd0\u884c\u914d\u7f6e\u8981\u6c42 \u53ca CONFIGS \u8bed\u6cd5 \u3002","title":"\u670d\u52a1\u5668\u53c2\u6570\u914d\u7f6e"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#_4","text":"\u914d\u7f6e\u6587\u4ef6\u9ed8\u8ba4\u5728 /usr/local/nebula/etc/ \u4e0b\u3002 \u914d\u7f6e\u53c2\u8003 \u8fd9\u91cc \u53ca CONFIGS \u8bed\u6cd5 \u3002","title":"\u914d\u7f6e\u6587\u4ef6"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#partition","text":"\u53c2\u8003 \u8fd9\u91cc \u3002","title":"partition \u5206\u5e03\u4e0d\u5747"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#_5","text":"\u65e5\u5fd7\u6587\u4ef6\u9ed8\u8ba4\u5728 /usr/local/nebula/logs/ \u4e0b\u3002 \u53c2\u89c1 graphd \u65e5\u5fd7 \u548c storaged \u65e5\u5fd7 \u3002","title":"\u65e5\u5fd7\u548c\u66f4\u6539\u65e5\u5fd7\u7ea7\u522b"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#_6","text":"\u4fee\u6539 /usr/local/nebula/etc/nebula-storage.conf \u3002\u4f8b\u5982 --data_path=/disk1/storage/,/disk2/storage/,/disk3/storage/ \u591a\u5757\u786c\u76d8\u65f6\u53ef\u4ee5\u9017\u53f7\u5206\u9694\u591a\u4e2a\u76ee\u5f55\uff0c\u6bcf\u4e2a\u76ee\u5f55\u5bf9\u5e94\u4e00\u4e2a RocksDB \u5b9e\u4f8b\uff0c\u4ee5\u6709\u66f4\u597d\u7684\u5e76\u53d1\u80fd\u529b\u3002\u53c2\u8003 \u8fd9\u91cc \u3002","title":"\u4f7f\u7528\u591a\u5757\u786c\u76d8"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#crash","text":"\u68c0\u67e5\u786c\u76d8\u7a7a\u95f4 df -h \u6ca1\u6709\u78c1\u76d8\u7a7a\u95f4\uff0c\u5bfc\u81f4\u670d\u52a1\u5199\u6587\u4ef6\u5931\u8d25\uff0c\u670d\u52a1 crash\uff0c\u901a\u8fc7\u4ee5\u4e0a\u547d\u4ee4\u67e5\u770b\u5f53\u524d\u78c1\u76d8\u7684\u4f7f\u7528\u60c5\u51b5\uff0c\u670d\u52a1\u914d\u7f6e\u7684 --data_path \u76ee\u5f55\u662f\u5426\u662f\u6ee1\u7684\u76ee\u5f55\u3002 \u68c0\u67e5\u5185\u5b58\u662f\u5426\u8db3\u591f free -h \u670d\u52a1\u4f7f\u7528\u8fc7\u591a\u5185\u5b58\uff0c\u88ab\u7cfb\u7edf\u6740\u6389\uff0c\u901a\u8fc7 dmesg \u67e5\u770b\u662f\u5426\u6709 OOM \u7684\u8bb0\u5f55\uff0c\u8bb0\u5f55\u662f\u5426\u6709 nebula \u5173\u952e\u5b57\u3002 \u68c0\u67e5\u65e5\u5fd7","title":"\u8fdb\u7a0b\u5f02\u5e38 crash"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#docker","text":"\u53ef\u80fd\u7684\u539f\u56e0\u662f Docker \u7684 IP \u5730\u5740\u548c\u9ed8\u8ba4\u914d\u7f6e\u4e2d\u7684\u76d1\u542c\u5730\u5740\u4e0d\u4e00\u81f4\uff08\u9ed8\u8ba4\u662f 172.17.0.2\uff09\uff0c\u56e0\u6b64\u8fd9\u91cc\u9700\u8981\u4fee\u6539\u9ed8\u8ba4\u914d\u7f6e\u4e2d\u7684\u76d1\u542c\u5730\u5740\u3002 \u9996\u5148\u5728\u5bb9\u5668\u4e2d\u6267\u884c ifconfig \u547d\u4ee4\uff0c\u67e5\u770b\u60a8\u7684\u5bb9\u5668\u5730\u5740\uff0c\u8fd9\u91cc\u5047\u8bbe\u60a8\u7684\u5bb9\u5668\u5730\u5740\u662f 172.17.0.3\uff0c\u90a3\u4e48\u5c31\u610f\u5473\u7740\u60a8\u9700\u8981\u4fee\u6539\u9ed8\u8ba4\u914d\u7f6e\u7684 IP \u5730\u5740\u3002 \u7136\u540e\u8fdb\u5165\u914d\u7f6e\u76ee\u5f55 cd /usr/local/nebula/etc \uff0c\u67e5\u627e\u6240\u6709 IP \u5730\u5740\u914d\u7f6e\u7684\u4f4d\u7f6e\uff08 grep \"172.17.0.2\" . -r \uff09\u3002 \u4fee\u6539\u4e0a\u4e00\u6b65\u67e5\u5230\u7684\u6240\u6709 IP \u5730\u5740\u4e3a\u60a8\u7684\u5bb9\u5668\u5730\u5740\uff08172.17.0.3\uff09\u3002 \u6700\u540e\u91cd\u65b0\u542f\u52a8\u6240\u6709\u670d\u52a1\uff08 /usr/local/nebula/scripts/nebula.service restart all \uff09\u3002","title":"\u4f7f\u7528 Docker \u542f\u52a8\u540e\uff0c\u6267\u884c\u547d\u4ee4\u65f6\u62a5\u9519"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#_7","text":"\u540c\u4e00\u53f0\u4e3b\u673a\u5148\u540e\u7528\u4e8e\u5355\u673a\u6d4b\u8bd5\u548c\u96c6\u7fa4\u6d4b\u8bd5\uff0cstoraged \u670d\u52a1\u65e0\u6cd5\u6b63\u5e38\u542f\u52a8\uff08\u7ec8\u7aef\u4e0a\u663e\u793a\u7684 storaged \u670d\u52a1\u7684\u76d1\u542c\u7aef\u53e3\u4e3a\u7ea2\u8272\uff09\u3002\u67e5\u770b storaged \u670d\u52a1\u7684\u65e5\u5fd7\uff08 /usr/local/nebula/nebula-storaged.ERROR \uff09\uff0c\u82e5\u53d1\u73b0 \"wrong cluster\" \u7684\u62a5\u9519\u4fe1\u606f\uff0c\u5219\u53ef\u80fd\u7684\u51fa\u9519\u539f\u56e0\u662f\u5355\u673a\u6d4b\u8bd5\u548c\u96c6\u7fa4\u6d4b\u8bd5\u65f6\u7684 Nebula Graph \u751f\u6210\u7684 cluster id \u4e0d\u4e00\u81f4\uff0c\u9700\u8981\u5220\u9664 Nebula Graph \u5b89\u88c5\u76ee\u5f55\uff08 /usr/local/nebula \uff09\u4e0b\u7684 cluster.id \u6587\u4ef6\u548c data \u76ee\u5f55\uff0c\u7136\u540e\u91cd\u542f\u670d\u52a1\u3002","title":"\u5355\u673a\u5148\u540e\u52a0\u5165\u4e24\u4e2a\u4e0d\u540c\u96c6\u7fa4"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#_8","text":"E1121 04:49:34.563858 256 GraphClient.cpp:54] Thrift rpc call failed: AsyncSocketException: connect failed, type = Socket not open, errno = 111 (Connection refused): Connection refused \u68c0\u67e5\u670d\u52a1\u662f\u5426\u5b58\u5728 $ /usr/local/nebula/scripts/nebula.service status all \u6216\u8005 nebula> SHOW HOSTS ;","title":"\u8fde\u63a5\u5931\u8d25"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#could_not_create_logging_file_too_many_open_files","text":"\u68c0\u67e5\u786c\u76d8\u7a7a\u95f4 df -h \u68c0\u67e5\u65e5\u5fd7\u76ee\u5f55 /usr/local/nebula/logs/ \u4fee\u6539\u5141\u8bb8\u6253\u5f00\u7684\u6700\u5927\u6587\u4ef6\u6570 ulimit -n 65536","title":"Could not create logging file:... Too many open files"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#nebula_graph","text":"\u4f7f\u7528 curl http://ip:port/status \u547d\u4ee4\u83b7\u53d6 git_info_sha\u3001binary \u5305\u7684 commitID\u3002","title":"\u5982\u4f55\u67e5\u770b Nebula Graph \u7248\u672c\u4fe1\u606f"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#_9","text":"Nebula Graph \u4f7f\u7528\u5982\u4e0b\u4e24\u79cd\u65b9\u5f0f\u83b7\u53d6\u914d\u7f6e\uff1a \u4ece\u914d\u7f6e\u6587\u4ef6\u4e2d\uff08\u9700\u8981\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u5e76\u91cd\u542f\u670d\u52a1\uff09\uff1b \u4ece Meta \u670d\u52a1\u4e2d\u3002\u901a\u8fc7 CLI \u8bbe\u7f6e\uff0c\u5e76\u6301\u4e45\u5316\u4fdd\u5b58\u5728 Meta \u670d\u52a1\u4e2d\uff0c\u8be6\u60c5\u53c2\u8003 \u8fd9\u91cc \uff1b \u4fee\u6539\u4e86\u914d\u7f6e\u6587\u4ef6\u4e0d\u751f\u6548\uff0c\u662f\u56e0\u4e3a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c Nebula Graph \u7684\u914d\u7f6e\u53c2\u6570\u7ba1\u7406\u91c7\u7528\u7b2c\u4e8c\u79cd\u65b9\u5f0f \uff08Meta\uff09\uff0c\u5982\u679c\u5e0c\u671b\u91c7\u7528\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff0c\u9700\u8981\u5728 /usr/local/nebula/etc/ \u914d\u7f6e\u6587\u4ef6 metad.conf \u3001 storaged.conf \u3001 graphd.conf \u4e2d\u5206\u522b\u6dfb\u52a0 --local_config=true \u9009\u9879\u3002","title":"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e0d\u751f\u6548"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#rocksdb_block_cache","text":"\u66f4\u6539 storage \u7684\u914d\u7f6e\u6587\u4ef6 storaged.conf \uff08\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \uff09\u5e76\u91cd\u542f\uff0c\u4f8b\u5982\uff1a # Change rocksdb_block_cache to 1024 MB --rocksdb_block_cache = 1024 # Stop storaged and restart /usr/local/nebula/scripts/nebula.service stop storaged /usr/local/nebula/scripts/nebula.service start storaged \u53c2\u89c1 \u8fd9\u91cc","title":"\u4fee\u6539  RocksDB block cache"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#centos_65_nebula","text":"\u5728 CentOS 6.5 \u90e8\u7f72 Nebula Graph \u5931\u8d25\uff0c\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a # storage \u65e5\u5fd7 Heartbeat failed, status:RPC failure in MetaClient: N6apache6thrift9transport19TTransportExceptionE: AsyncSocketException: connect failed, type = Socket not open, errno = 111 ( Connection refused ) : Connection refused # meta \u65e5\u5fd7 Log line format: [ IWEF ] mmdd hh:mm:ss.uuuuuu threadid file:line ] msg E0415 22 :32:38.944437 15532 AsyncServerSocket.cpp:762 ] failed to set SO_REUSEPORT on async server socket Protocol not available E0415 22 :32:38.945001 15510 ThriftServer.cpp:440 ] Got an exception while setting up the server: 92failed to bind to async server socket: [ :: ] :0: Protocol not available E0415 22 :32:38.945057 15510 RaftexService.cpp:90 ] Setup the Raftex Service failed, error: 92failed to bind to async server socket: [ :: ] :0: Protocol not available E0415 22 :32:38.949586 15463 NebulaStore.cpp:47 ] Start the raft service failed E0415 22 :32:38.949597 15463 MetaDaemon.cpp:88 ] Nebula store init failed E0415 22 :32:38.949796 15463 MetaDaemon.cpp:215 ] Init kv failed! \u6b64\u65f6\u670d\u52a1\u72b6\u6001\u4e3a\uff1a [ root@redhat6 scripts ] # ./nebula.service status all [ WARN ] The maximum files allowed to open might be too few: 1024 [ INFO ] nebula-metad: Exited [ INFO ] nebula-graphd: Exited [ INFO ] nebula-storaged: Running as 15547 , Listening on 44500 \u51fa\u9519\u539f\u56e0\uff1aCentOS 6.5 \u7cfb\u7edf\u5185\u6838\u7248\u672c\u4e3a 2.6.32\uff0c SO_REUSEPORT \u4ec5\u652f\u6301 Linux 3.9 \u53ca\u4ee5\u4e0a\u7248\u672c\u3002 \u5c06\u7cfb\u7edf\u5347\u7ea7\u5230 CentOS 7.5 \u95ee\u9898\u53ef\u81ea\u884c\u89e3\u51b3\u3002","title":"\u4f7f\u7528 CentOS 6.5 Nebula \u670d\u52a1\u5931\u8d25"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#max_edge_returned_per_vertex_where","text":"\u5982\u679c\u5df2\u8bbe\u7f6e max_edge_returned_per_vertex=10\uff0c\u4f7f\u7528 WHERE \u8fdb\u884c\u8fc7\u6ee4\u65f6\uff0c\u5b9e\u9645\u8fb9\u6570\u91cf\u5927\u4e8e 10\uff0c\u6b64\u65f6\u8fd4\u56de 10 \u6761\u8fb9\uff0c\u8fd8\u662f\u6240\u6709\u8fb9\uff1f Nebula Graph \u5148\u8fdb\u884c WHERE \u6761\u4ef6\u8fc7\u6ee4\uff0c\u5982\u679c\u5b9e\u9645\u8fb9\u6570\u91cf\u5c11\u4e8e 10\uff0c \u5219\u8fd4\u56de\u5b9e\u9645\u8fb9\u6570\u91cf\u3002\u53cd\u4e4b\uff0c\u5219\u6839\u636e max_edge_returned_per_vertex \u9650\u5236\u8fd4\u56de 10 \u6761\u8fb9\u3002","title":"max_edge_returned_per_vertex \u548c WHERE \u6761\u4ef6\u6267\u884c\u7684\u4f18\u5148\u987a\u5e8f"},{"location":"manual-CN/1.overview/2.quick-start/2.FAQ/#fetch","text":"\u8bf7\u68c0\u67e5\u662f\u5426\u5728\u540c\u4e00\u4e2a\u8282\u70b9\u542f\u52a8\u4e86\u4e24\u4e2a storage\uff0c\u5e76\u4e14\u8fd9\u4e24\u4e2a storage \u914d\u7f6e\u7684\u7aef\u53e3\u53f7\u76f8\u540c\u3002\u5047\u5982\u5b58\u5728\u4ee5\u4e0a\u60c5\u51b5\uff0c\u8bf7\u4fee\u6539\u5176\u4e2d\u4e00\u4e2a storage \u7aef\u53e3\u53f7\uff0c\u7136\u540e\u91cd\u65b0\u5bfc\u5165\u6570\u636e\u3002","title":"\u4f7f\u7528 FETCH \u8fd4\u56de\u6570\u636e\u65f6\uff0c\u6709\u65f6\u53ef\u4ee5\u8fd4\u56de\u6570\u636e\uff0c\u6709\u65f6\u8fd4\u56de\u4e3a\u7a7a"},{"location":"manual-CN/1.overview/2.quick-start/3.supported-clients/","text":"Nebula Graph \u652f\u6301\u7684\u5ba2\u6237\u7aef \u00b6 \u76ee\u524d\uff0c Nebula Graph \u652f\u6301\u5982\u4e0b\u5ba2\u6237\u7aef\uff1a Go \u5ba2\u6237\u7aef Python \u5ba2\u6237\u7aef Java \u5ba2\u6237\u7aef","title":"Nebula Graph \u5ba2\u6237\u7aef"},{"location":"manual-CN/1.overview/2.quick-start/3.supported-clients/#nebula_graph","text":"\u76ee\u524d\uff0c Nebula Graph \u652f\u6301\u5982\u4e0b\u5ba2\u6237\u7aef\uff1a Go \u5ba2\u6237\u7aef Python \u5ba2\u6237\u7aef Java \u5ba2\u6237\u7aef","title":"Nebula Graph \u652f\u6301\u7684\u5ba2\u6237\u7aef"},{"location":"manual-CN/1.overview/2.quick-start/4.import-csv-file/","text":"CSV\u6587\u4ef6\u5bfc\u5165\u793a\u4f8b \u00b6 \u4ee5\u4e0b\u793a\u4f8b\u5c06\u6307\u5bfc\u60a8\u5982\u4f55\u4f7f\u7528 Nebula Importer \u5c06 CSV \u6570\u636e\u5bfc\u5165\u5230 Nebula Graph \u4e2d\u3002\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c Nebula Graph \u901a\u8fc7 Docker \u548c Docker Compose \u5b89\u88c5\u3002\u6211\u4eec\u5c06\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u5f15\u5bfc\u60a8\u5b8c\u6210\u8be5\u793a\u4f8b\uff1a \u542f\u52a8 Nebula Graph \u670d\u52a1 \u521b\u5efa\u70b9\u548c\u8fb9\u7684 Schema \u51c6\u5907\u914d\u7f6e\u6587\u4ef6 \u51c6\u5907 CSV \u6570\u636e \u5bfc\u5165 CSV \u6570\u636e \u542f\u52a8 Nebula Graph \u670d\u52a1 \u00b6 \u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u542f\u52a8 Nebula Graph \u670d\u52a1\uff1a \u5728\u547d\u4ee4\u884c\u754c\u9762\u4e0a\uff0c\u8fdb\u5165 nebula-docker-compose \u76ee\u5f55\u3002 \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u542f\u52a8 Nebula Graph \u670d\u52a1\uff1a $ sudo docker-compose up -d \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u628a Nebula Graph \u955c\u50cf\u6587\u4ef6\u4e0b\u62c9\u5230\u672c\u5730\uff1a $ sudo docker pull vesoft/nebula-console:nightly \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u8fde\u63a5 Nebula Graph \u670d\u52a1\u5668\uff1a $ sudo docker run --rm -ti --network = host vesoft/nebula-console:nightly --addr = 127 .0.0.1 --port = 3699 \u6ce8\u610f \uff1a\u60a8\u5fc5\u987b\u786e\u4fdd IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u914d\u7f6e\u6b63\u786e\u3002 \u521b\u5efa\u70b9\u548c\u8fb9\u7684 Schema \u00b6 \u5728\u8f93\u5165 schema \u4e4b\u524d\uff0c\u5fc5\u987b\u521b\u5efa\u4e00\u4e2a\u7a7a\u95f4\u5e76\u4f7f\u7528\u5b83\u3002\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a nba \u7a7a\u95f4\u5e76\u4f7f\u7528\u5b83\u3002 \u6211\u4eec\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e24\u4e2a\u6807\u7b7e\u548c\u4e24\u4e2a\u8fb9\u7c7b\u578b\uff1a nebula> CREATE TAG player (name string, age int); nebula> CREATE TAG team (name string); nebula> CREATE EDGE serve (start_year int, end_year int); nebula> CREATE EDGE follow (degree, int); \u51c6\u5907\u914d\u7f6e\u6587\u4ef6 \u00b6 \u60a8\u5fc5\u987b\u914d\u7f6e .yaml \u914d\u7f6e\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u89c4\u5b9a\u4e86 CSV \u6587\u4ef6\u4e2d\u6570\u636e\u7684\u683c\u5f0f\u3002\u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a config.yaml \u7684\u914d\u7f6e\u6587\u4ef6\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u6309\u4ee5\u4e0b\u65b9\u5f0f\u914d\u7f6e config.yaml \u6587\u4ef6\uff1a version: v1rc1 description: example clientSettings: concurrency: 2 # number of graph clients channelBufferSize: 50 space: nba connection: user: user password: password address: 127.0.0.1:3699 logPath: ./err/test.log files: - path: /home/nebula/serve.csv failDataPath: ./err/serve.csv batchSize: 10 type: csv csv: withHeader: false withLabel: false schema: type: edge edge: name: serve withRanking: false props: - name: start_year type: int - name: end_year type: int - path: /home/nebula/follow.csv failDataPath: ./err/follow.csv batchSize: 10 type: csv csv: withHeader: false withLabel: false schema: type: edge edge: name: follow withRanking: false props: - name: degree type: int - path: /home/nebula/player.csv failDataPath: ./err/player.csv batchSize: 10 type: csv csv: withHeader: false withLabel: false schema: type: vertex vertex: tags: - name: player props: - name: name type: string - name: age type: int - path: /home/nebula/team.csv failDataPath: ./err/team.csv batchSize: 10 type: csv csv: withHeader: false withLabel: false schema: type: vertex vertex: tags: - name: team props: - name: name type: string \u6ce8\u610f \uff1a \u5728\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u60a8\u5fc5\u987b\u5c06 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u66f4\u6539\u4e3a\u60a8\u81ea\u5df1\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u3002 \u60a8\u5fc5\u987b\u5c06 CSV \u6587\u4ef6\u7684\u76ee\u5f55\u66f4\u6539\u4e3a\u60a8\u81ea\u5df1\u7684\u76ee\u5f55\uff0c\u5426\u5219\uff0c Nebula Importer \u65e0\u6cd5\u627e\u5230 CSV \u6587\u4ef6\u3002 \u51c6\u5907 CSV \u6570\u636e \u00b6 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u51c6\u5907\u4e86\u56db\u4e2a CSV \u6570\u636e\u6587\u4ef6\uff1a player.csv \u3001 team.csv \u3001 serve.csv \u4ee5\u53ca follow.csv \u3002 serve.csv \u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5982\u4e0b\uff1a 100,200,1997,2016 101,201,1999,2018 102,203,2006,2015 102,204,2015,2019 103,204,2017,2019 104,200,2007,2009 follow.csv \u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5982\u4e0b\uff1a 100,101,95 100,102,90 101,100,95 102,101,75 102,100,75 103,102,70 104,101,50 104,105,60 105,104,83 player.csv \u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5982\u4e0b\uff1a 100,Tim Duncan,42 101,Tony Parker,36 102,LaMarcus Aldridge,33 103,Rudy Gay,32 104,Marco Belinelli,32 105,Danny Green,31 106,Kyle Anderson,25 107,Aron Baynes,32 108,Boris Diaw,36 team.csv \u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5982\u4e0b\uff1a 200,Warriors 201,Nuggets 202,Rockets 203,Trail 204,Spurs 205,Thunders 206,Jazz 207,Clippers 208,Kings \u6ce8\u610f \uff1a \u5728 serve \u548c follow CSV \u6587\u4ef6\u4e2d\uff0c\u7b2c\u4e00\u5217\u662f\u8d77\u59cb\u70b9 ID\u3001\u7b2c\u4e8c\u5217\u662f\u76ee\u6807\u70b9 ID\uff0c\u5176\u4ed6\u5217\u4e0e config.yaml \u6587\u4ef6\u4e00\u81f4\u3002 \u5728 player \u548c team CSV \u6587\u4ef6\u4e2d\uff0c\u7b2c\u4e00\u5217\u662f\u70b9 ID\uff0c\u5176\u4ed6\u5217\u4e0e config.yaml \u6587\u4ef6\u4e00\u81f4\u3002 \u5bfc\u5165 CSV \u6570\u636e \u00b6 \u5b8c\u6210\u4e0a\u8ff0\u6240\u6709\u56db\u4e2a\u6b65\u9aa4\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Docker \u6216 Go \u5bfc\u5165 CSV \u6570\u636e\u3002 \u4f7f\u7528 Go-importer \u5bfc\u5165 CSV \u6570\u636e \u00b6 \u5728\u4f7f\u7528 Go-importer \u5bfc\u5165 CSV \u6570\u636e\u4e4b\u524d\uff0c\u5fc5\u987b\u786e\u4fdd\u5df2\u5b89\u88c5 Go \u5e76\u914d\u7f6e\u4e86 Go \u7684\u73af\u5883\u53d8\u91cf\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u5bfc\u5165 CSV \u6570\u636e\uff1a \u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5c06\u5f53\u524d\u76ee\u5f55\u66f4\u6539\u4e3a import.go \u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\uff1a $ cd /home/nebula/nebula-importer/cmd \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5bfc\u5165 CSV \u6570\u636e\uff1a $ go run importer.go --config /home/nebula/config.yaml \u6ce8\u610f \uff1a\u60a8\u5fc5\u987b\u5c06 import.go \u6587\u4ef6\u7684\u76ee\u5f55\u548c config.yaml \u6587\u4ef6\u7684\u76ee\u5f55\u66f4\u6539\u4e3a\u60a8\u81ea\u5df1\u7684\u76ee\u5f55\uff0c\u5426\u5219\uff0c\u5bfc\u5165\u64cd\u4f5c\u53ef\u80fd\u4f1a\u5931\u8d25\u3002 \u4f7f\u7528 Docker \u5bfc\u5165 CSV \u6570\u636e \u00b6 \u5728\u4f7f\u7528 Docker \u5bfc\u5165CSV\u6570\u636e\u4e4b\u524d\uff0c\u5fc5\u987b\u786e\u4fdd Docker \u5df2\u542f\u52a8\u5e76\u8fd0\u884c\u6b63\u5e38\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u4f7f\u7528 Docker \u5bfc\u5165 CSV \u6570\u636e\uff1a $ sudo docker run --rm -ti --network = host \\ -v /home/nebula/config.yaml:/home/nebula/config.yaml \\ -v /home/nebula/:/home/nebula/ vesoft/nebula-importer \\ --config /home/nebula/config.yaml \u6ce8\u610f \uff1a\u60a8\u5fc5\u987b\u5c06 config.yaml \u6587\u4ef6\u7684\u76ee\u5f55\u66f4\u6539\u4e3a\u60a8\u81ea\u5df1\u7684\u76ee\u5f55\uff0c\u5426\u5219\u5bfc\u5165\u64cd\u4f5c\u53ef\u80fd\u4f1a\u5931\u8d25\u3002","title":"\u5bfc\u5165 .csv \u6587\u4ef6"},{"location":"manual-CN/1.overview/2.quick-start/4.import-csv-file/#csv","text":"\u4ee5\u4e0b\u793a\u4f8b\u5c06\u6307\u5bfc\u60a8\u5982\u4f55\u4f7f\u7528 Nebula Importer \u5c06 CSV \u6570\u636e\u5bfc\u5165\u5230 Nebula Graph \u4e2d\u3002\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c Nebula Graph \u901a\u8fc7 Docker \u548c Docker Compose \u5b89\u88c5\u3002\u6211\u4eec\u5c06\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u5f15\u5bfc\u60a8\u5b8c\u6210\u8be5\u793a\u4f8b\uff1a \u542f\u52a8 Nebula Graph \u670d\u52a1 \u521b\u5efa\u70b9\u548c\u8fb9\u7684 Schema \u51c6\u5907\u914d\u7f6e\u6587\u4ef6 \u51c6\u5907 CSV \u6570\u636e \u5bfc\u5165 CSV \u6570\u636e","title":"CSV\u6587\u4ef6\u5bfc\u5165\u793a\u4f8b"},{"location":"manual-CN/1.overview/2.quick-start/4.import-csv-file/#nebula_graph","text":"\u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u542f\u52a8 Nebula Graph \u670d\u52a1\uff1a \u5728\u547d\u4ee4\u884c\u754c\u9762\u4e0a\uff0c\u8fdb\u5165 nebula-docker-compose \u76ee\u5f55\u3002 \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u542f\u52a8 Nebula Graph \u670d\u52a1\uff1a $ sudo docker-compose up -d \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u628a Nebula Graph \u955c\u50cf\u6587\u4ef6\u4e0b\u62c9\u5230\u672c\u5730\uff1a $ sudo docker pull vesoft/nebula-console:nightly \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u8fde\u63a5 Nebula Graph \u670d\u52a1\u5668\uff1a $ sudo docker run --rm -ti --network = host vesoft/nebula-console:nightly --addr = 127 .0.0.1 --port = 3699 \u6ce8\u610f \uff1a\u60a8\u5fc5\u987b\u786e\u4fdd IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u914d\u7f6e\u6b63\u786e\u3002","title":"\u542f\u52a8 Nebula Graph \u670d\u52a1"},{"location":"manual-CN/1.overview/2.quick-start/4.import-csv-file/#schema","text":"\u5728\u8f93\u5165 schema \u4e4b\u524d\uff0c\u5fc5\u987b\u521b\u5efa\u4e00\u4e2a\u7a7a\u95f4\u5e76\u4f7f\u7528\u5b83\u3002\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a nba \u7a7a\u95f4\u5e76\u4f7f\u7528\u5b83\u3002 \u6211\u4eec\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e24\u4e2a\u6807\u7b7e\u548c\u4e24\u4e2a\u8fb9\u7c7b\u578b\uff1a nebula> CREATE TAG player (name string, age int); nebula> CREATE TAG team (name string); nebula> CREATE EDGE serve (start_year int, end_year int); nebula> CREATE EDGE follow (degree, int);","title":"\u521b\u5efa\u70b9\u548c\u8fb9\u7684 Schema"},{"location":"manual-CN/1.overview/2.quick-start/4.import-csv-file/#_1","text":"\u60a8\u5fc5\u987b\u914d\u7f6e .yaml \u914d\u7f6e\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u89c4\u5b9a\u4e86 CSV \u6587\u4ef6\u4e2d\u6570\u636e\u7684\u683c\u5f0f\u3002\u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a config.yaml \u7684\u914d\u7f6e\u6587\u4ef6\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u6309\u4ee5\u4e0b\u65b9\u5f0f\u914d\u7f6e config.yaml \u6587\u4ef6\uff1a version: v1rc1 description: example clientSettings: concurrency: 2 # number of graph clients channelBufferSize: 50 space: nba connection: user: user password: password address: 127.0.0.1:3699 logPath: ./err/test.log files: - path: /home/nebula/serve.csv failDataPath: ./err/serve.csv batchSize: 10 type: csv csv: withHeader: false withLabel: false schema: type: edge edge: name: serve withRanking: false props: - name: start_year type: int - name: end_year type: int - path: /home/nebula/follow.csv failDataPath: ./err/follow.csv batchSize: 10 type: csv csv: withHeader: false withLabel: false schema: type: edge edge: name: follow withRanking: false props: - name: degree type: int - path: /home/nebula/player.csv failDataPath: ./err/player.csv batchSize: 10 type: csv csv: withHeader: false withLabel: false schema: type: vertex vertex: tags: - name: player props: - name: name type: string - name: age type: int - path: /home/nebula/team.csv failDataPath: ./err/team.csv batchSize: 10 type: csv csv: withHeader: false withLabel: false schema: type: vertex vertex: tags: - name: team props: - name: name type: string \u6ce8\u610f \uff1a \u5728\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u60a8\u5fc5\u987b\u5c06 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u66f4\u6539\u4e3a\u60a8\u81ea\u5df1\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u3002 \u60a8\u5fc5\u987b\u5c06 CSV \u6587\u4ef6\u7684\u76ee\u5f55\u66f4\u6539\u4e3a\u60a8\u81ea\u5df1\u7684\u76ee\u5f55\uff0c\u5426\u5219\uff0c Nebula Importer \u65e0\u6cd5\u627e\u5230 CSV \u6587\u4ef6\u3002","title":"\u51c6\u5907\u914d\u7f6e\u6587\u4ef6"},{"location":"manual-CN/1.overview/2.quick-start/4.import-csv-file/#csv_1","text":"\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u51c6\u5907\u4e86\u56db\u4e2a CSV \u6570\u636e\u6587\u4ef6\uff1a player.csv \u3001 team.csv \u3001 serve.csv \u4ee5\u53ca follow.csv \u3002 serve.csv \u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5982\u4e0b\uff1a 100,200,1997,2016 101,201,1999,2018 102,203,2006,2015 102,204,2015,2019 103,204,2017,2019 104,200,2007,2009 follow.csv \u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5982\u4e0b\uff1a 100,101,95 100,102,90 101,100,95 102,101,75 102,100,75 103,102,70 104,101,50 104,105,60 105,104,83 player.csv \u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5982\u4e0b\uff1a 100,Tim Duncan,42 101,Tony Parker,36 102,LaMarcus Aldridge,33 103,Rudy Gay,32 104,Marco Belinelli,32 105,Danny Green,31 106,Kyle Anderson,25 107,Aron Baynes,32 108,Boris Diaw,36 team.csv \u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5982\u4e0b\uff1a 200,Warriors 201,Nuggets 202,Rockets 203,Trail 204,Spurs 205,Thunders 206,Jazz 207,Clippers 208,Kings \u6ce8\u610f \uff1a \u5728 serve \u548c follow CSV \u6587\u4ef6\u4e2d\uff0c\u7b2c\u4e00\u5217\u662f\u8d77\u59cb\u70b9 ID\u3001\u7b2c\u4e8c\u5217\u662f\u76ee\u6807\u70b9 ID\uff0c\u5176\u4ed6\u5217\u4e0e config.yaml \u6587\u4ef6\u4e00\u81f4\u3002 \u5728 player \u548c team CSV \u6587\u4ef6\u4e2d\uff0c\u7b2c\u4e00\u5217\u662f\u70b9 ID\uff0c\u5176\u4ed6\u5217\u4e0e config.yaml \u6587\u4ef6\u4e00\u81f4\u3002","title":"\u51c6\u5907 CSV \u6570\u636e"},{"location":"manual-CN/1.overview/2.quick-start/4.import-csv-file/#csv_2","text":"\u5b8c\u6210\u4e0a\u8ff0\u6240\u6709\u56db\u4e2a\u6b65\u9aa4\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Docker \u6216 Go \u5bfc\u5165 CSV \u6570\u636e\u3002","title":"\u5bfc\u5165 CSV \u6570\u636e"},{"location":"manual-CN/1.overview/2.quick-start/4.import-csv-file/#go-importer_csv","text":"\u5728\u4f7f\u7528 Go-importer \u5bfc\u5165 CSV \u6570\u636e\u4e4b\u524d\uff0c\u5fc5\u987b\u786e\u4fdd\u5df2\u5b89\u88c5 Go \u5e76\u914d\u7f6e\u4e86 Go \u7684\u73af\u5883\u53d8\u91cf\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u5bfc\u5165 CSV \u6570\u636e\uff1a \u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5c06\u5f53\u524d\u76ee\u5f55\u66f4\u6539\u4e3a import.go \u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\uff1a $ cd /home/nebula/nebula-importer/cmd \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5bfc\u5165 CSV \u6570\u636e\uff1a $ go run importer.go --config /home/nebula/config.yaml \u6ce8\u610f \uff1a\u60a8\u5fc5\u987b\u5c06 import.go \u6587\u4ef6\u7684\u76ee\u5f55\u548c config.yaml \u6587\u4ef6\u7684\u76ee\u5f55\u66f4\u6539\u4e3a\u60a8\u81ea\u5df1\u7684\u76ee\u5f55\uff0c\u5426\u5219\uff0c\u5bfc\u5165\u64cd\u4f5c\u53ef\u80fd\u4f1a\u5931\u8d25\u3002","title":"\u4f7f\u7528 Go-importer \u5bfc\u5165 CSV \u6570\u636e"},{"location":"manual-CN/1.overview/2.quick-start/4.import-csv-file/#docker_csv","text":"\u5728\u4f7f\u7528 Docker \u5bfc\u5165CSV\u6570\u636e\u4e4b\u524d\uff0c\u5fc5\u987b\u786e\u4fdd Docker \u5df2\u542f\u52a8\u5e76\u8fd0\u884c\u6b63\u5e38\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u4f7f\u7528 Docker \u5bfc\u5165 CSV \u6570\u636e\uff1a $ sudo docker run --rm -ti --network = host \\ -v /home/nebula/config.yaml:/home/nebula/config.yaml \\ -v /home/nebula/:/home/nebula/ vesoft/nebula-importer \\ --config /home/nebula/config.yaml \u6ce8\u610f \uff1a\u60a8\u5fc5\u987b\u5c06 config.yaml \u6587\u4ef6\u7684\u76ee\u5f55\u66f4\u6539\u4e3a\u60a8\u81ea\u5df1\u7684\u76ee\u5f55\uff0c\u5426\u5219\u5bfc\u5165\u64cd\u4f5c\u53ef\u80fd\u4f1a\u5931\u8d25\u3002","title":"\u4f7f\u7528 Docker \u5bfc\u5165 CSV \u6570\u636e"},{"location":"manual-CN/1.overview/3.design-and-architecture/1.design-and-architecture/","text":"Nebula Graph \u7684\u6574\u4f53\u67b6\u6784 \u00b6 \u4e00\u4e2a\u5b8c\u6574\u7684 Nebula Graph \u90e8\u7f72\u96c6\u7fa4\u5305\u542b\u4e09\u4e2a\u670d\u52a1\uff0c\u5373 Query Service\uff0cStorage Service \u548c Meta Service\u3002\u6bcf\u4e2a\u670d\u52a1\u90fd\u6709\u5176\u5404\u81ea\u7684\u53ef\u6267\u884c\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u8fd9\u4e9b\u4e8c\u8fdb\u5236\u6587\u4ef6\u65e2\u53ef\u4ee5\u90e8\u7f72\u5728\u540c\u4e00\u7ec4\u8282\u70b9\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u90e8\u7f72\u5728\u4e0d\u540c\u7684\u8282\u70b9\u4e0a\u3002 Meta Service \u00b6 \u4e0a\u56fe\u4e3a Nebula Graph \u7684\u67b6\u6784\u56fe\uff0c\u5176\u53f3\u4fa7\u4e3a Meta Service \u96c6\u7fa4\uff0c\u5b83\u91c7\u7528 leader/follower \u67b6\u6784\u3002Leader \u7531\u96c6\u7fa4\u4e2d\u6240\u6709\u7684 Meta Service \u8282\u70b9\u9009\u51fa\uff0c\u7136\u540e\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\u3002Followers \u5904\u4e8e\u5f85\u547d\u72b6\u6001\u5e76\u4ece leader \u590d\u5236\u66f4\u65b0\u7684\u6570\u636e\u3002\u4e00\u65e6 leader \u8282\u70b9 down \u6389\uff0c\u4f1a\u518d\u9009\u4e3e\u5176\u4e2d\u4e00\u4e2a follower \u6210\u4e3a\u65b0\u7684 leader\u3002 Meta Service \u4e0d\u4ec5\u8d1f\u8d23\u5b58\u50a8\u548c\u63d0\u4f9b\u56fe\u6570\u636e\u7684 meta \u4fe1\u606f\uff0c\u5982 schema\u3001partition \u4fe1\u606f\u7b49\uff0c\u8fd8\u540c\u65f6\u8d1f\u8d23\u6307\u6325\u6570\u636e\u8fc1\u79fb\u53ca leader \u7684\u53d8\u66f4\u7b49\u8fd0\u7ef4\u64cd\u4f5c\u3002 \u5b58\u50a8\u8ba1\u7b97\u5206\u79bb \u00b6 \u5728\u67b6\u6784\u56fe\u4e2d Meta Service \u7684\u5de6\u4fa7\uff0c\u4e3a Nebula Graph \u7684\u4e3b\u8981\u670d\u52a1\uff0c Nebula Graph \u91c7\u7528\u5b58\u50a8\u4e0e\u8ba1\u7b97\u5206\u79bb\u7684\u67b6\u6784\uff0c\u865a\u7ebf\u4ee5\u4e0a\u4e3a\u8ba1\u7b97\uff0c\u4ee5\u4e0b\u4e3a\u5b58\u50a8\u3002 \u5b58\u50a8\u8ba1\u7b97\u5206\u79bb\u6709\u8bf8\u591a\u4f18\u52bf\uff0c\u6700\u76f4\u63a5\u7684\u4f18\u52bf\u5c31\u662f\uff0c\u8ba1\u7b97\u5c42\u548c\u5b58\u50a8\u5c42\u53ef\u4ee5\u6839\u636e\u5404\u81ea\u7684\u60c5\u51b5\u5f39\u6027\u6269\u5bb9\u3001\u7f29\u5bb9\u3002 \u5b58\u50a8\u8ba1\u7b97\u5206\u79bb\u8fd8\u6709\u53e6\u4e00\u4e2a\u4f18\u52bf\uff1a\u4f7f\u6c34\u5e73\u6269\u5c55\u6210\u4e3a\u53ef\u80fd\u3002 \u6b64\u5916\uff0c\u5b58\u50a8\u8ba1\u7b97\u5206\u79bb\u4f7f\u5f97 Storage Service \u53ef\u4ee5\u4e3a\u591a\u79cd\u7c7b\u578b\u7684\u4e2a\u8ba1\u7b97\u5c42\u6216\u8005\u8ba1\u7b97\u5f15\u64ce\u63d0\u4f9b\u670d\u52a1\u3002\u5f53\u524d Query Service \u662f\u4e00\u4e2a\u9ad8\u4f18\u5148\u7ea7\u7684\u8ba1\u7b97\u5c42\uff0c\u800c\u5404\u79cd\u8fed\u4ee3\u8ba1\u7b97\u6846\u67b6\u4f1a\u662f\u53e6\u5916\u4e00\u4e2a\u8ba1\u7b97\u5c42\u3002 \u65e0\u72b6\u6001\u8ba1\u7b97\u5c42 \u00b6 \u73b0\u5728\u6765\u770b\u4e0b\u8ba1\u7b97\u5c42\uff0c\u6bcf\u4e2a\u8ba1\u7b97\u8282\u70b9\u90fd\u8fd0\u884c\u7740\u4e00\u4e2a\u65e0\u72b6\u6001\u7684\u67e5\u8be2\u8ba1\u7b97\u5f15\u64ce\uff0c\u800c\u8282\u70b9\u5f7c\u6b64\u95f4\u65e0\u4efb\u4f55\u901a\u4fe1\u5173\u7cfb\u3002\u8ba1\u7b97\u8282\u70b9\u4ec5\u4ece Meta Service \u8bfb\u53d6 meta \u4fe1\u606f\uff0c\u4ee5\u53ca\u548c Storage Service \u8fdb\u884c\u4ea4\u4e92\u3002\u8fd9\u6837\u8bbe\u8ba1\u4f7f\u5f97\u8ba1\u7b97\u5c42\u96c6\u7fa4\u66f4\u5bb9\u6613\u4f7f\u7528 K8s \u7ba1\u7406\u6216\u90e8\u7f72\u5728\u4e91\u4e0a\u3002 \u8ba1\u7b97\u5c42\u7684\u8d1f\u8f7d\u5747\u8861\u6709\u4e24\u79cd\u5f62\u5f0f\uff0c\u6700\u5e38\u89c1\u7684\u65b9\u5f0f\u662f\u5728\u8ba1\u7b97\u5c42\u4e0a\u52a0\u4e00\u4e2a\u8d1f\u8f7d\u5747\u8861 (balance)\uff0c\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u662f\u5c06\u8ba1\u7b97\u5c42\u6240\u6709\u8282\u70b9\u7684 IP \u5730\u5740\u914d\u7f6e\u5728\u5ba2\u6237\u7aef\u4e2d\uff0c\u8fd9\u6837\u5ba2\u6237\u7aef\u53ef\u4ee5\u968f\u673a\u9009\u53d6\u8ba1\u7b97\u8282\u70b9\u8fdb\u884c\u8fde\u63a5\u3002 \u6bcf\u4e2a\u67e5\u8be2\u8ba1\u7b97\u5f15\u64ce\u90fd\u80fd\u63a5\u6536\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\uff0c\u89e3\u6790\u67e5\u8be2\u8bed\u53e5\uff0c\u751f\u6210\u62bd\u8c61\u8bed\u6cd5\u6811\uff08AST\uff09\u5e76\u5c06 AST \u4f20\u9012\u7ed9\u6267\u884c\u8ba1\u5212\u5668\u548c\u4f18\u5316\u5668\uff0c\u6700\u540e\u518d\u4ea4\u7531\u6267\u884c\u5668\u6267\u884c\u3002 Shared-nothing \u5206\u5e03\u5f0f\u5b58\u50a8\u5c42 \u00b6 Storage Service \u91c7\u7528 shared-nothing \u7684\u5206\u5e03\u5f0f\u67b6\u6784\u8bbe\u8ba1\uff0c\u6bcf\u4e2a\u5b58\u50a8\u8282\u70b9\u90fd\u6709\u591a\u4e2a\u672c\u5730 KV \u5b58\u50a8\u5b9e\u4f8b\u4f5c\u4e3a\u7269\u7406\u5b58\u50a8\u3002 Nebula Graph \u91c7\u7528\u591a\u6570\u6d3e\u534f\u8bae Raft \u6765\u4fdd\u8bc1\u8fd9\u4e9b KV \u5b58\u50a8\u4e4b\u95f4\u7684\u4e00\u81f4\u6027\uff08\u7531\u4e8e Raft \u6bd4 Paxos \u66f4\u7b80\u6d01\uff0c\u6211\u4eec\u9009\u7528\u4e86 Raft \uff09\u3002\u5728 KVStore \u4e4b\u4e0a\u662f\u56fe\u8bed\u4e49\u5c42\uff0c\u7528\u4e8e\u5c06\u56fe\u64cd\u4f5c\u8f6c\u6362\u4e3a\u4e0b\u5c42 KV \u64cd\u4f5c\u3002 \u56fe\u6570\u636e\uff08\u70b9\u548c\u8fb9\uff09\u901a\u8fc7 Hash \u7684\u65b9\u5f0f\u5b58\u50a8\u5728\u4e0d\u540c Partition \u4e2d\u3002\u8fd9\u91cc\u7528\u7684 Hash \u51fd\u6570\u5b9e\u73b0\u5f88\u76f4\u63a5\uff0c\u5373 vertex_id \u53d6\u4f59 Partition \u6570\u3002\u5728 Nebula Graph \u4e2d\uff0cPartition \u8868\u793a\u4e00\u4e2a\u865a\u62df\u7684\u6570\u636e\u96c6\uff0c\u8fd9\u4e9b Partition \u5206\u5e03\u5728\u6240\u6709\u7684\u5b58\u50a8\u8282\u70b9\uff0c\u5206\u5e03\u4fe1\u606f\u5b58\u50a8\u5728 Meta Service \u4e2d\uff08\u56e0\u6b64\u6240\u6709\u7684\u5b58\u50a8\u8282\u70b9\u548c\u8ba1\u7b97\u8282\u70b9\u90fd\u80fd\u83b7\u53d6\u5230\u8fd9\u4e2a\u5206\u5e03\u4fe1\u606f\uff09\u3002","title":"\u8bbe\u8ba1\u603b\u89c8"},{"location":"manual-CN/1.overview/3.design-and-architecture/1.design-and-architecture/#nebula_graph","text":"\u4e00\u4e2a\u5b8c\u6574\u7684 Nebula Graph \u90e8\u7f72\u96c6\u7fa4\u5305\u542b\u4e09\u4e2a\u670d\u52a1\uff0c\u5373 Query Service\uff0cStorage Service \u548c Meta Service\u3002\u6bcf\u4e2a\u670d\u52a1\u90fd\u6709\u5176\u5404\u81ea\u7684\u53ef\u6267\u884c\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u8fd9\u4e9b\u4e8c\u8fdb\u5236\u6587\u4ef6\u65e2\u53ef\u4ee5\u90e8\u7f72\u5728\u540c\u4e00\u7ec4\u8282\u70b9\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u90e8\u7f72\u5728\u4e0d\u540c\u7684\u8282\u70b9\u4e0a\u3002","title":"Nebula Graph \u7684\u6574\u4f53\u67b6\u6784"},{"location":"manual-CN/1.overview/3.design-and-architecture/1.design-and-architecture/#meta_service","text":"\u4e0a\u56fe\u4e3a Nebula Graph \u7684\u67b6\u6784\u56fe\uff0c\u5176\u53f3\u4fa7\u4e3a Meta Service \u96c6\u7fa4\uff0c\u5b83\u91c7\u7528 leader/follower \u67b6\u6784\u3002Leader \u7531\u96c6\u7fa4\u4e2d\u6240\u6709\u7684 Meta Service \u8282\u70b9\u9009\u51fa\uff0c\u7136\u540e\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\u3002Followers \u5904\u4e8e\u5f85\u547d\u72b6\u6001\u5e76\u4ece leader \u590d\u5236\u66f4\u65b0\u7684\u6570\u636e\u3002\u4e00\u65e6 leader \u8282\u70b9 down \u6389\uff0c\u4f1a\u518d\u9009\u4e3e\u5176\u4e2d\u4e00\u4e2a follower \u6210\u4e3a\u65b0\u7684 leader\u3002 Meta Service \u4e0d\u4ec5\u8d1f\u8d23\u5b58\u50a8\u548c\u63d0\u4f9b\u56fe\u6570\u636e\u7684 meta \u4fe1\u606f\uff0c\u5982 schema\u3001partition \u4fe1\u606f\u7b49\uff0c\u8fd8\u540c\u65f6\u8d1f\u8d23\u6307\u6325\u6570\u636e\u8fc1\u79fb\u53ca leader \u7684\u53d8\u66f4\u7b49\u8fd0\u7ef4\u64cd\u4f5c\u3002","title":"Meta Service"},{"location":"manual-CN/1.overview/3.design-and-architecture/1.design-and-architecture/#_1","text":"\u5728\u67b6\u6784\u56fe\u4e2d Meta Service \u7684\u5de6\u4fa7\uff0c\u4e3a Nebula Graph \u7684\u4e3b\u8981\u670d\u52a1\uff0c Nebula Graph \u91c7\u7528\u5b58\u50a8\u4e0e\u8ba1\u7b97\u5206\u79bb\u7684\u67b6\u6784\uff0c\u865a\u7ebf\u4ee5\u4e0a\u4e3a\u8ba1\u7b97\uff0c\u4ee5\u4e0b\u4e3a\u5b58\u50a8\u3002 \u5b58\u50a8\u8ba1\u7b97\u5206\u79bb\u6709\u8bf8\u591a\u4f18\u52bf\uff0c\u6700\u76f4\u63a5\u7684\u4f18\u52bf\u5c31\u662f\uff0c\u8ba1\u7b97\u5c42\u548c\u5b58\u50a8\u5c42\u53ef\u4ee5\u6839\u636e\u5404\u81ea\u7684\u60c5\u51b5\u5f39\u6027\u6269\u5bb9\u3001\u7f29\u5bb9\u3002 \u5b58\u50a8\u8ba1\u7b97\u5206\u79bb\u8fd8\u6709\u53e6\u4e00\u4e2a\u4f18\u52bf\uff1a\u4f7f\u6c34\u5e73\u6269\u5c55\u6210\u4e3a\u53ef\u80fd\u3002 \u6b64\u5916\uff0c\u5b58\u50a8\u8ba1\u7b97\u5206\u79bb\u4f7f\u5f97 Storage Service \u53ef\u4ee5\u4e3a\u591a\u79cd\u7c7b\u578b\u7684\u4e2a\u8ba1\u7b97\u5c42\u6216\u8005\u8ba1\u7b97\u5f15\u64ce\u63d0\u4f9b\u670d\u52a1\u3002\u5f53\u524d Query Service \u662f\u4e00\u4e2a\u9ad8\u4f18\u5148\u7ea7\u7684\u8ba1\u7b97\u5c42\uff0c\u800c\u5404\u79cd\u8fed\u4ee3\u8ba1\u7b97\u6846\u67b6\u4f1a\u662f\u53e6\u5916\u4e00\u4e2a\u8ba1\u7b97\u5c42\u3002","title":"\u5b58\u50a8\u8ba1\u7b97\u5206\u79bb"},{"location":"manual-CN/1.overview/3.design-and-architecture/1.design-and-architecture/#_2","text":"\u73b0\u5728\u6765\u770b\u4e0b\u8ba1\u7b97\u5c42\uff0c\u6bcf\u4e2a\u8ba1\u7b97\u8282\u70b9\u90fd\u8fd0\u884c\u7740\u4e00\u4e2a\u65e0\u72b6\u6001\u7684\u67e5\u8be2\u8ba1\u7b97\u5f15\u64ce\uff0c\u800c\u8282\u70b9\u5f7c\u6b64\u95f4\u65e0\u4efb\u4f55\u901a\u4fe1\u5173\u7cfb\u3002\u8ba1\u7b97\u8282\u70b9\u4ec5\u4ece Meta Service \u8bfb\u53d6 meta \u4fe1\u606f\uff0c\u4ee5\u53ca\u548c Storage Service \u8fdb\u884c\u4ea4\u4e92\u3002\u8fd9\u6837\u8bbe\u8ba1\u4f7f\u5f97\u8ba1\u7b97\u5c42\u96c6\u7fa4\u66f4\u5bb9\u6613\u4f7f\u7528 K8s \u7ba1\u7406\u6216\u90e8\u7f72\u5728\u4e91\u4e0a\u3002 \u8ba1\u7b97\u5c42\u7684\u8d1f\u8f7d\u5747\u8861\u6709\u4e24\u79cd\u5f62\u5f0f\uff0c\u6700\u5e38\u89c1\u7684\u65b9\u5f0f\u662f\u5728\u8ba1\u7b97\u5c42\u4e0a\u52a0\u4e00\u4e2a\u8d1f\u8f7d\u5747\u8861 (balance)\uff0c\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u662f\u5c06\u8ba1\u7b97\u5c42\u6240\u6709\u8282\u70b9\u7684 IP \u5730\u5740\u914d\u7f6e\u5728\u5ba2\u6237\u7aef\u4e2d\uff0c\u8fd9\u6837\u5ba2\u6237\u7aef\u53ef\u4ee5\u968f\u673a\u9009\u53d6\u8ba1\u7b97\u8282\u70b9\u8fdb\u884c\u8fde\u63a5\u3002 \u6bcf\u4e2a\u67e5\u8be2\u8ba1\u7b97\u5f15\u64ce\u90fd\u80fd\u63a5\u6536\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\uff0c\u89e3\u6790\u67e5\u8be2\u8bed\u53e5\uff0c\u751f\u6210\u62bd\u8c61\u8bed\u6cd5\u6811\uff08AST\uff09\u5e76\u5c06 AST \u4f20\u9012\u7ed9\u6267\u884c\u8ba1\u5212\u5668\u548c\u4f18\u5316\u5668\uff0c\u6700\u540e\u518d\u4ea4\u7531\u6267\u884c\u5668\u6267\u884c\u3002","title":"\u65e0\u72b6\u6001\u8ba1\u7b97\u5c42"},{"location":"manual-CN/1.overview/3.design-and-architecture/1.design-and-architecture/#shared-nothing","text":"Storage Service \u91c7\u7528 shared-nothing \u7684\u5206\u5e03\u5f0f\u67b6\u6784\u8bbe\u8ba1\uff0c\u6bcf\u4e2a\u5b58\u50a8\u8282\u70b9\u90fd\u6709\u591a\u4e2a\u672c\u5730 KV \u5b58\u50a8\u5b9e\u4f8b\u4f5c\u4e3a\u7269\u7406\u5b58\u50a8\u3002 Nebula Graph \u91c7\u7528\u591a\u6570\u6d3e\u534f\u8bae Raft \u6765\u4fdd\u8bc1\u8fd9\u4e9b KV \u5b58\u50a8\u4e4b\u95f4\u7684\u4e00\u81f4\u6027\uff08\u7531\u4e8e Raft \u6bd4 Paxos \u66f4\u7b80\u6d01\uff0c\u6211\u4eec\u9009\u7528\u4e86 Raft \uff09\u3002\u5728 KVStore \u4e4b\u4e0a\u662f\u56fe\u8bed\u4e49\u5c42\uff0c\u7528\u4e8e\u5c06\u56fe\u64cd\u4f5c\u8f6c\u6362\u4e3a\u4e0b\u5c42 KV \u64cd\u4f5c\u3002 \u56fe\u6570\u636e\uff08\u70b9\u548c\u8fb9\uff09\u901a\u8fc7 Hash \u7684\u65b9\u5f0f\u5b58\u50a8\u5728\u4e0d\u540c Partition \u4e2d\u3002\u8fd9\u91cc\u7528\u7684 Hash \u51fd\u6570\u5b9e\u73b0\u5f88\u76f4\u63a5\uff0c\u5373 vertex_id \u53d6\u4f59 Partition \u6570\u3002\u5728 Nebula Graph \u4e2d\uff0cPartition \u8868\u793a\u4e00\u4e2a\u865a\u62df\u7684\u6570\u636e\u96c6\uff0c\u8fd9\u4e9b Partition \u5206\u5e03\u5728\u6240\u6709\u7684\u5b58\u50a8\u8282\u70b9\uff0c\u5206\u5e03\u4fe1\u606f\u5b58\u50a8\u5728 Meta Service \u4e2d\uff08\u56e0\u6b64\u6240\u6709\u7684\u5b58\u50a8\u8282\u70b9\u548c\u8ba1\u7b97\u8282\u70b9\u90fd\u80fd\u83b7\u53d6\u5230\u8fd9\u4e2a\u5206\u5e03\u4fe1\u606f\uff09\u3002","title":"Shared-nothing \u5206\u5e03\u5f0f\u5b58\u50a8\u5c42"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/","text":"\u5b58\u50a8\u5c42\u8bbe\u8ba1 \u00b6 \u6458\u8981 \u00b6 Nebula Graph \u7684 Storage \u5305\u542b\u4e24\u4e2a\u90e8\u5206\uff0c \u4e00\u662f meta \u76f8\u5173\u7684\u5b58\u50a8\uff0c \u79f0\u4e4b\u4e3a Meta Service \uff0c\u53e6\u4e00\u4e2a\u662f data \u76f8\u5173\u7684\u5b58\u50a8\uff0c \u79f0\u4e4b\u4e3a Storage Service \u3002 \u8fd9\u4e24\u4e2a\u670d\u52a1\u662f\u4e24\u4e2a\u72ec\u7acb\u7684\u8fdb\u7a0b\uff0c\u6570\u636e\u4e5f\u5b8c\u5168\u9694\u79bb\uff0c\u5f53\u7136\u90e8\u7f72\u4e5f\u662f\u5206\u522b\u90e8\u7f72\uff0c \u4e0d\u8fc7\u4e24\u8005\u6574\u4f53\u67b6\u6784\u76f8\u5dee\u4e0d\u5927\u3002 \u5982\u679c\u6ca1\u6709\u7279\u6b8a\u8bf4\u660e\uff0c\u672c\u6587\u4e2d Storage Service \u4ee3\u6307 data \u7684\u5b58\u50a8\u670d\u52a1\u3002 \u67b6\u6784 \u00b6 \u56fe\u4e00 storage service \u67b6\u6784\u56fe \u5982\u56fe1 \u6240\u793a\uff0cStorage Service \u5171\u6709\u4e09\u5c42\uff0c\u6700\u5e95\u5c42\u662f Store Engine\uff0c\u5b83\u662f\u4e00\u4e2a\u5355\u673a\u7248 local store engine\uff0c\u63d0\u4f9b\u4e86\u5bf9\u672c\u5730\u6570\u636e\u7684 get / put / scan / delete \u64cd\u4f5c\uff0c\u76f8\u5173\u7684\u63a5\u53e3\u653e\u5728 KVStore/KVEngine.h \u6587\u4ef6\u91cc\u9762\uff0c\u7528\u6237\u5b8c\u5168\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u5b9a\u5236\u5f00\u53d1\u76f8\u5173 local store plugin\uff0c\u76ee\u524d Nebula Graph \u63d0\u4f9b\u4e86\u57fa\u4e8e RocksDB \u5b9e\u73b0\u7684 Store Engine\u3002 \u5728 local store engine \u4e4b\u4e0a\uff0c\u4fbf\u662f Consensus \u5c42\uff0c\u5b9e\u73b0\u4e86 Multi Group Raft\uff0c\u6bcf\u4e00\u4e2a Partition \u90fd\u5bf9\u5e94\u4e86\u4e00\u7ec4 Raft Group\uff0c\u8fd9\u91cc\u7684 Partition \u4fbf\u662f\u6570\u636e\u5206\u7247\u3002\u76ee\u524d Nebula Graph \u7684\u5206\u7247\u7b56\u7565\u91c7\u7528\u4e86 \u9759\u6001 Hash \u7684\u65b9\u5f0f\u3002\u7528\u6237\u5728\u521b\u5efa SPACE \u65f6\u9700\u6307\u5b9a Partition \u6570\uff0cPartition \u6570\u91cf\u4e00\u65e6\u8bbe\u7f6e\u4fbf\u4e0d\u53ef\u66f4\u6539\uff0c\u4e00\u822c\u6765\u8bb2\uff0cPartition \u6570\u76ee\u8981\u80fd\u6ee1\u8db3\u4e1a\u52a1\u5c06\u6765\u7684\u6269\u5bb9\u9700\u6c42\u3002 \u5728 Consensus \u5c42\u4e0a\u9762\u4e5f\u5c31\u662f Storage Service \u7684\u6700\u4e0a\u5c42\uff0c\u4fbf\u662f Storage interfaces\uff0c\u8fd9\u4e00\u5c42\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u548c\u56fe\u76f8\u5173\u7684 API\u3002 \u8fd9\u4e9b API \u8bf7\u6c42\u4f1a\u5728\u8fd9\u4e00\u5c42\u88ab\u7ffb\u8bd1\u6210\u4e00\u7ec4\u9488\u5bf9\u76f8\u5e94 Partition \u7684 kv \u64cd\u4f5c\u3002\u6b63\u662f\u8fd9\u4e00\u5c42\u7684\u5b58\u5728\uff0c\u4f7f\u5f97\u5b58\u50a8\u670d\u52a1\u53d8\u6210\u4e86\u771f\u6b63\u7684\u56fe\u5b58\u50a8\uff0c\u5426\u5219\uff0cStorage Service \u53ea\u662f\u4e00\u4e2a kv \u5b58\u50a8\u3002\u800c Nebula Graph \u6ca1\u628a kv \u4f5c\u4e3a\u4e00\u4e2a\u670d\u52a1\u5355\u72ec\u63d0\u51fa\uff0c\u5176\u6700\u4e3b\u8981\u7684\u539f\u56e0\u4fbf\u662f\u56fe\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u4f1a\u6d89\u53ca\u5230\u5927\u91cf\u8ba1\u7b97\uff0c\u8fd9\u4e9b\u8ba1\u7b97\u5f80\u5f80\u9700\u8981\u4f7f\u7528\u56fe\u7684 schema\uff0c\u800c kv \u5c42\u662f\u6ca1\u6709\u6570\u636e schema \u6982\u5ff5\uff0c\u8fd9\u6837\u8bbe\u8ba1\u4f1a\u6bd4\u8f83\u5bb9\u6613\u5b9e\u73b0\u8ba1\u7b97\u4e0b\u63a8\u3002 Schema & Partition \u00b6 \u6570\u636e\u7ed3\u6784\u4e0a\uff0c\u56fe\u7684\u4e3b\u8981\u6570\u636e\u662f\u70b9\u548c\u8fb9\u3002\u4f46 Nebula Graph \u5b58\u50a8\u7684\u662f\u5c5e\u6027\u56fe\uff1a\u9664\u4e86\u70b9\u548c\u8fb9\u4ee5\u5916\uff0c\u8fd8\u5b58\u50a8\u4e86\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u4ee5\u4fbf\u66f4\u9ad8\u6548\u5730\u4f7f\u7528\u5c5e\u6027\u8fc7\u6ee4\u3002 \u5bf9\u4e8e\u70b9\u6765\u8bf4\uff0c Nebula Graph \u4f7f\u7528\u4e0d\u540c\u7684 Tag \u8868\u793a\u4e0d\u540c\u7c7b\u578b\u7684\u70b9\uff0c\u540c\u4e00\u4e2a VertexID \u53ef\u4ee5\u5173\u8054\u591a\u4e2a Tag\uff0c\u800c\u6bcf\u4e00\u4e2a Tag \u90fd\u6709\u81ea\u5df1\u5bf9\u5e94\u7684\u5c5e\u6027\u3002\u5bf9\u5e94\u5230 kv \u5b58\u50a8\u91cc\u9762\uff0c Nebula Graph \u4f7f\u7528 vertexID + TagID \u6765\u8868\u793a key, \u628a\u76f8\u5173\u7684\u5c5e\u6027\u7f16\u7801\u540e\u653e\u5728 value \u91cc\u9762\uff0c\u5177\u4f53 key \u7684 format \u5982\u56fe2 \u6240\u793a\uff1a \u56fe\u4e8c Vertex Key Format Type : 1 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u8868\u793a key \u7c7b\u578b\uff0c\u5f53\u524d\u7684\u7c7b\u578b\u6709 data, index, system \u7b49 Part ID : 3 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u8868\u793a\u6570\u636e\u5206\u7247 Partition\uff0c\u6b64\u5b57\u6bb5\u4e3b\u8981\u7528\u4e8e Partition \u91cd\u65b0\u5206\u5e03 (balance) \u65f6\u65b9\u4fbf\u6839\u636e\u524d\u7f00\u626b\u63cf\u6574\u4e2a Partition \u6570\u636e Vertex ID : 8 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u8868\u793a\u70b9\u7684 ID Tag ID : 4 \u4e2a\u5b57\u8282, \u7528\u6765\u8868\u793a\u5173\u8054\u7684\u67d0\u4e2a tag Timestamp : 8 \u4e2a\u5b57\u8282\uff0c\u5bf9\u7528\u6237\u4e0d\u53ef\u89c1\uff0c\u672a\u6765\u5b9e\u73b0\u5206\u5e03\u5f0f\u4e8b\u52a1 (MVCC) \u65f6\u4f7f\u7528 \u5728\u4e00\u4e2a\u56fe\u4e2d\uff0c\u6bcf\u4e00\u6761\u903b\u8f91\u610f\u4e49\u4e0a\u7684\u8fb9\uff0c\u5728 Nebula Graph \u4e2d\u4f1a\u5efa\u6a21\u6210\u4e24\u4e2a\u72ec\u7acb\u7684 key-value\uff0c\u5206\u522b\u79f0\u4e3a out-key \u548c in-key\u3002out-key \u4e0e\u8fd9\u6761\u8fb9\u6240\u5bf9\u5e94\u7684\u8d77\u70b9\u5b58\u50a8\u5728\u540c\u4e00\u4e2a partition \u4e0a\uff0cin-key \u4e0e\u8fd9\u6761\u8fb9\u6240\u5bf9\u5e94\u7684\u7ec8\u70b9\u5b58\u50a8\u5728\u540c\u4e00\u4e2apartition \u4e0a\u3002\u901a\u5e38\u6765\u8bf4\uff0cout-key \u548c in-key \u4f1a\u5206\u5e03\u5728\u4e24\u4e2a\u4e0d\u540c\u7684 Partition \u4e2d\u3002 \u4e24\u4e2a\u70b9\u4e4b\u95f4\u53ef\u80fd\u5b58\u5728\u591a\u79cd\u7c7b\u578b\u7684\u8fb9\uff0c Nebula Graph \u7528 Edge Type \u6765\u8868\u793a\u8fb9\u7c7b\u578b\u3002\u800c\u540c\u4e00\u7c7b\u578b\u7684\u8fb9\u53ef\u80fd\u5b58\u5728\u591a\u6761\uff0c\u6bd4\u5982\uff0c\u5b9a\u4e49\u4e00\u4e2a edge type \"\u8f6c\u8d26\"\uff0c\u7528\u6237 A \u53ef\u80fd\u591a\u6b21\u8f6c\u8d26\u7ed9 B\uff0c \u6240\u4ee5 Nebula Graph \u53c8\u589e\u52a0\u4e86\u4e00\u4e2a Rank \u5b57\u6bb5\u6765\u505a\u533a\u5206\uff0c\u8868\u793a A \u5230 B \u4e4b\u95f4\u591a\u6b21\u8f6c\u8d26\u8bb0\u5f55\u3002 Edge key \u7684 format \u5982\u56fe 3 \u6240\u793a\uff1a \u56fe\u4e09 Edge Key Format Type \uff1a1 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u8868\u793a key \u7684\u7c7b\u578b\uff0c\u5f53\u524d\u7684\u7c7b\u578b\u6709 data, index, system \u7b49\u3002 Part ID \uff1a3 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u8868\u793a\u6570\u636e\u5206\u7247 Partition\uff0c\u6b64\u5b57\u6bb5\u4e3b\u8981\u7528\u4e8e Partition \u91cd\u65b0\u5206\u5e03 (balance) \u65f6\u65b9\u4fbf\u6839\u636e\u524d\u7f00\u626b\u63cf\u6574\u4e2a Partition \u6570\u636e Vertex ID \uff1a8 \u4e2a\u5b57\u8282\uff0c\u51fa\u8fb9\u91cc\u9762\u7528\u6765\u8868\u793a\u6e90\u70b9\u7684 ID\uff0c \u5165\u8fb9\u91cc\u9762\u8868\u793a\u76ee\u6807\u70b9\u7684 ID\u3002 Edge Type \uff1a4 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u8868\u793a\u8fd9\u6761\u8fb9\u7684\u7c7b\u578b\uff0c\u5982\u679c\u5927\u4e8e 0 \u8868\u793a\u51fa\u8fb9\uff0c\u5c0f\u4e8e 0 \u8868\u793a\u5165\u8fb9\u3002 Rank \uff1a8 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u5904\u7406\u540c\u4e00\u79cd\u7c7b\u578b\u7684\u8fb9\u5b58\u5728\u591a\u6761\u7684\u60c5\u51b5\u3002\u7528\u6237\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u8fdb\u884c\u8bbe\u7f6e\uff0c\u8fd9\u4e2a\u5b57\u6bb5\u53ef \u5b58\u653e\u4ea4\u6613\u65f6\u95f4 \u3001 \u4ea4\u6613\u6d41\u6c34\u53f7 \u3001\u6216 \u67d0\u4e2a\u6392\u5e8f Vertex ID \uff1a8 \u4e2a\u5b57\u8282\uff0c\u51fa\u8fb9\u91cc\u9762\u7528\u6765\u8868\u793a\u76ee\u6807\u70b9\u7684 ID\uff0c \u5165\u8fb9\u91cc\u9762\u8868\u793a\u6e90\u70b9\u7684 ID\u3002 Timestamp \uff1a8 \u4e2a\u5b57\u8282\uff0c\u5bf9\u7528\u6237\u4e0d\u53ef\u89c1\uff0c\u672a\u6765\u5b9e\u73b0\u5206\u5e03\u5f0f\u505a\u4e8b\u52a1\u7684\u65f6\u5019\u4f7f\u7528\u3002 \u9488\u5bf9 Edge Type \u7684\u503c\uff0c\u82e5\u5982\u679c\u5927\u4e8e 0 \u8868\u793a\u51fa\u8fb9\uff0c\u5219\u5bf9\u5e94\u7684 edge key format \u5982\u56fe4 \u6240\u793a\uff1b\u82e5 Edge Type \u7684\u503c\u5c0f\u4e8e 0\uff0c\u5219\u5bf9\u5e94\u7684 edge key format \u5982\u56fe5 \u6240\u793a \u56fe4 \u51fa\u8fb9\u7684 Key Format \u56fe5 \u5165\u8fb9\u7684 Key Format \u5bf9\u4e8e\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u4fe1\u606f\uff0c\u6709\u5bf9\u5e94\u7684\u4e00\u7ec4 kv pairs\uff0c Nebula Graph \u5c06\u5b83\u4eec\u7f16\u7801\u540e\u5b58\u5728\u5bf9\u5e94\u7684 value \u91cc\u3002\u7531\u4e8e Nebula Graph \u4f7f\u7528\u5f3a\u7c7b\u578b schema\uff0c\u6240\u4ee5\u5728\u89e3\u7801\u4e4b\u524d\uff0c\u9700\u8981\u5148\u53bb Meta Service \u4e2d\u53d6\u5177\u4f53\u7684 schema \u4fe1\u606f\u3002\u53e6\u5916\uff0c\u4e3a\u4e86\u652f\u6301\u5728\u7ebf\u53d8\u66f4 schema\uff0c\u5728\u7f16\u7801\u5c5e\u6027\u65f6\uff0c\u4f1a\u52a0\u5165\u5bf9\u5e94\u7684 schema \u7248\u672c\u4fe1\u606f\u3002 \u6570\u636e\u7684\u5206\u7247\u65b9\u5f0f\u4e3a\u5bf9 Vertex ID \u53d6\u6a21 \u3002\u901a\u8fc7\u5bf9 Vertex ID \u53d6\u6a21\uff0c\u540c\u4e00\u4e2a\u70b9\u7684\u6240\u6709 \u51fa\u8fb9 \uff0c \u5165\u8fb9 \u4ee5\u53ca\u8fd9\u4e2a\u70b9\u4e0a\u6240\u6709\u5173\u8054\u7684 Tag \u4fe1\u606f \u90fd\u4f1a\u88ab\u5206\u5230\u540c\u4e00\u4e2a Partition\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5927\u5927\u5730\u63d0\u5347\u4e86\u67e5\u8be2\u6548\u7387\u3002\u5bf9\u4e8e\u5728\u7ebf\u56fe\u67e5\u8be2\u6765\u8bb2\uff0c\u6700\u5e38\u89c1\u7684\u64cd\u4f5c\u4fbf\u662f\u4ece\u4e00\u4e2a\u70b9\u5f00\u59cb\u5411\u5916 BFS\uff08\u5e7f\u5ea6\u4f18\u5148\uff09\u62d3\u5c55\uff0c\u4e8e\u662f\u62ff\u4e00\u4e2a\u70b9\u7684\u51fa\u8fb9\u6216\u8005\u5165\u8fb9\u662f\u6700\u57fa\u672c\u7684\u64cd\u4f5c\uff0c\u800c\u8fd9\u4e2a\u64cd\u4f5c\u7684\u6027\u80fd\u4e5f\u51b3\u5b9a\u4e86\u6574\u4e2a\u904d\u5386\u7684\u6027\u80fd\u3002BFS \u4e2d\u53ef\u80fd\u4f1a\u51fa\u73b0\u6309\u7167\u67d0\u4e9b\u5c5e\u6027\u8fdb\u884c\u526a\u679d\u7684\u60c5\u51b5\uff0c Nebula Graph \u901a\u8fc7\u5c06\u5c5e\u6027\u4e0e\u70b9\u8fb9\u5b58\u5728\u4e00\u8d77\uff0c\u6765\u4fdd\u8bc1\u6574\u4e2a\u64cd\u4f5c\u7684\u9ad8\u6548\u3002\u5728\u5b9e\u9645\u7684\u573a\u666f\u4e2d\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u90fd\u662f\u5c5e\u6027\u56fe\uff0c\u5e76\u4e14\u5b9e\u9645\u4e2d\u7684 BFS \u4e5f\u9700\u8981\u8fdb\u884c\u5927\u91cf\u7684\u526a\u679d\u64cd\u4f5c\u3002 KVStore \u00b6 \u5bf9\u4e8eKVStore\u7684\u8981\u6c42\uff1a \u6027\u80fd \uff1b \u4ee5 library \u7684\u5f62\u5f0f\u63d0\u4f9b \uff1a\u5bf9\u4e8e\u5f3a schema \u7684 Nebula Graph \u6765\u8bb2\uff0c\u8ba1\u7b97\u4e0b\u63a8\u9700\u8981 schema \u4fe1\u606f\uff0c\u800c\u8ba1\u7b97\u4e0b\u63a8\u5b9e\u73b0\u7684\u597d\u574f\uff0c\u662f Nebula Graph \u662f\u5426\u9ad8\u6548\u7684\u5173\u952e\uff1b \u6570\u636e\u5f3a\u4e00\u81f4 \uff1a\u8fd9\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u51b3\u5b9a\u7684\uff1b \u4f7f\u7528 C++\u5b9e\u73b0 \uff1a\u8fd9\u7531\u56e2\u961f\u7684\u6280\u672f\u7279\u70b9\u51b3\u5b9a\uff1b \u57fa\u4e8e\u4e0a\u8ff0\u8981\u6c42\uff0c Nebula Graph \u5b9e\u73b0\u4e86\u81ea\u5df1\u7684 KVStore\u3002\u5f53\u7136\uff0c\u5bf9\u4e8e\u6027\u80fd\u5b8c\u5168\u4e0d\u654f\u611f\u4e14\u4e0d\u592a\u5e0c\u671b\u642c\u8fc1\u6570\u636e\u7684\u7528\u6237\u6765\u8bf4\uff0c Nebula Graph \u4e5f\u63d0\u4f9b\u4e86\u6574\u4e2a KVStore \u5c42\u7684 plugin\uff0c\u76f4\u63a5\u5c06 Storage Service \u642d\u5efa\u5728\u7b2c\u4e09\u65b9\u7684 KVStore \u4e0a\u9762\uff0c\u76ee\u524d\u5b98\u65b9\u63d0\u4f9b\u7684\u662f HBase \u7684 plugin\u3002 Nebula Graph KVStore \u4e3b\u8981\u91c7\u7528 RocksDB \u4f5c\u4e3a\u672c\u5730\u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u5bf9\u4e8e\u591a\u786c\u76d8\u673a\u5668\uff0c\u4e3a\u4e86\u5145\u5206\u5229\u7528\u591a\u786c\u76d8\u7684\u5e76\u53d1\u80fd\u529b\uff0c Nebula Graph \u652f\u6301\u81ea\u5df1\u7ba1\u7406\u591a\u5757\u76d8\uff0c\u7528\u6237\u53ea\u9700\u914d\u7f6e\u591a\u4e2a\u4e0d\u540c\u7684\u6570\u636e\u76ee\u5f55\u5373\u53ef\u3002 \u5206\u5e03\u5f0f KVStore \u7684\u7ba1\u7406\u7531 Meta Service \u6765\u7edf\u4e00\u8c03\u5ea6\uff0c\u5b83\u8bb0\u5f55\u4e86\u6240\u6709 Partition \u7684\u5206\u5e03\u60c5\u51b5\uff0c\u4ee5\u53ca\u5f53\u524d\u673a\u5668\u7684\u72b6\u6001\uff0c\u5f53\u7528\u6237\u589e\u51cf\u673a\u5668\u65f6\uff0c\u53ea\u9700\u8981\u901a\u8fc7 console \u8f93\u5165\u76f8\u5e94\u7684\u6307\u4ee4\uff0cMeta Service \u4fbf\u80fd\u591f\u751f\u6210\u6574\u4e2a balance plan \u5e76\u6267\u884c\u3002\uff08\u4e4b\u6240\u4ee5\u6ca1\u6709\u91c7\u7528\u5b8c\u5168\u81ea\u52a8 balance \u7684\u65b9\u5f0f\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u51cf\u5c11\u6570\u636e\u642c\u8fc1\u5bf9\u4e8e\u7ebf\u4e0a\u670d\u52a1\u7684\u5f71\u54cd\uff0cbalance \u7684\u65f6\u673a\u7531\u7528\u6237\u81ea\u5df1\u63a7\u5236\uff0c\u901a\u5e38\u4f1a\u5728\u4e1a\u52a1\u4f4e\u8c37\u8fdb\u884c\u3002\uff09 \u4e3a\u4e86\u65b9\u4fbf\u5bf9\u4e8e WAL \u8fdb\u884c\u5b9a\u5236\uff0c Nebula Graph KVStore \u5b9e\u73b0\u4e86\u81ea\u5df1\u7684 WAL \u6a21\u5757\uff0c\u6bcf\u4e2a partition \u90fd\u6709\u81ea\u5df1\u7684 WAL\uff0c\u8fd9\u6837\u5728\u8ffd\u6570\u636e\u65f6\uff0c\u4e0d\u9700\u8981\u8fdb\u884c wal split \u64cd\u4f5c\uff0c \u66f4\u52a0\u9ad8\u6548\u3002 \u53e6\u5916\uff0c\u4e3a\u4e86\u5b9e\u73b0\u4e00\u4e9b\u7279\u6b8a\u7684\u64cd\u4f5c\uff0c\u4e13\u95e8\u5b9a\u4e49\u4e86 Command Log \u8fd9\u4e2a\u7c7b\u522b\uff0c\u8fd9\u4e9b log \u53ea\u4e3a\u4e86\u4f7f\u7528 Raft \u6765\u901a\u77e5\u6240\u6709 replica \u6267\u884c\u67d0\u4e00\u4e2a\u7279\u5b9a\u64cd\u4f5c\uff0c\u5e76\u6ca1\u6709\u771f\u6b63\u7684\u6570\u636e\u3002\u9664\u4e86 Command Log \u5916\uff0c Nebula Graph \u8fd8\u63d0\u4f9b\u4e86\u4e00\u7c7b\u65e5\u5fd7\u6765\u5b9e\u73b0\u9488\u5bf9\u67d0\u4e2a Partition \u7684 atomic operation\uff0c\u4f8b\u5982 CAS\uff0cread-modify-write, \u5b83\u5145\u5206\u5229\u7528\u4e86Raft \u4e32\u884c\u7684\u7279\u6027\u3002 \u5173\u4e8e\u591a\u56fe\u7a7a\u95f4\uff08space\uff09\u7684\u652f\u6301\uff1a\u4e00\u4e2a Nebula Graph KVStore \u96c6\u7fa4\u53ef\u4ee5\u652f\u6301\u591a\u4e2a space\uff0c\u6bcf\u4e2a space \u53ef\u8bbe\u7f6e\u81ea\u5df1\u7684 partition \u6570\u548c replica \u6570\u3002\u4e0d\u540c space \u5728\u7269\u7406\u4e0a\u662f\u5b8c\u5168\u9694\u79bb\u7684\uff0c\u800c\u4e14\u5728\u540c\u4e00\u4e2a\u96c6\u7fa4\u4e0a\u7684\u4e0d\u540c space \u53ef\u652f\u6301\u4e0d\u540c\u7684 store engine \u53ca\u5206\u7247\u7b56\u7565\u3002 Raft \u00b6 \u4f5c\u4e3a\u4e00\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0cKVStore \u7684 replication\u3001scale out \u7b49\u529f\u80fd\u9700 Raft \u7684\u652f\u6301\u3002\u4e3b\u8981\u4ecb\u7ecd Nebula Graph Raft \u7684\u4e00\u4e9b\u7279\u70b9\u4ee5\u53ca\u5de5\u7a0b\u5b9e\u73b0\u3002 Multi Raft Group \u00b6 \u7531\u4e8e Raft \u7684\u65e5\u5fd7\u4e0d\u5141\u8bb8\u7a7a\u6d1e\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u5b9e\u73b0\u90fd\u4f1a\u91c7\u7528 Multi Raft Group \u6765\u7f13\u89e3\u8fd9\u4e2a\u95ee\u9898\uff0c\u56e0\u6b64 partition \u7684\u6570\u76ee\u51e0\u4e4e\u51b3\u5b9a\u4e86\u6574\u4e2a Raft Group \u7684\u6027\u80fd\u3002\u4f46\u8fd9\u4e5f\u5e76\u4e0d\u662f\u8bf4 Partition \u7684\u6570\u76ee\u8d8a\u591a\u8d8a\u597d\uff1a\u6bcf\u4e00\u4e2a Raft Group \u5185\u90e8\u90fd\u8981\u5b58\u50a8\u4e00\u7cfb\u5217\u7684\u72b6\u6001\u4fe1\u606f\uff0c\u5e76\u4e14\u6bcf\u4e00\u4e2a Raft Group \u6709\u81ea\u5df1\u7684 WAL \u6587\u4ef6\uff0c\u56e0\u6b64 Partition \u6570\u76ee\u592a\u591a\u4f1a\u589e\u52a0\u5f00\u9500\u3002\u6b64\u5916\uff0c\u5f53 Partition \u592a\u591a\u65f6\uff0c \u5982\u679c\u8d1f\u8f7d\u6ca1\u6709\u8db3\u591f\u9ad8\uff0cbatch \u64cd\u4f5c\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002\u6bd4\u5982\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u6709 1\u4e07 TPS \u7684\u7ebf\u4e0a\u7cfb\u7edf\uff0c\u5373\u4f7f\u5b83\u7684\u6bcf\u53f0\u673a\u5668\u4e0a partition \u7684\u6570\u76ee\u8d85\u8fc7 1\u4e07\uff0c\u4f46\u5f88\u6709\u53ef\u80fd\u6bcf\u4e2a partition TPS \u53ea\u6709 1\uff0c\u8fd9\u6837 batch \u64cd\u4f5c\u5c31\u5931\u53bb\u4e86\u610f\u4e49\uff0c\u8fd8\u589e\u52a0\u4e86 CPU \u5f00\u9500\u3002 \u5b9e\u73b0 Multi Raft Group \u7684\u6700\u5173\u952e\u4e4b\u5904\u6709\u4e24\u70b9\uff0c \u7b2c\u4e00\u662f\u5171\u4eab Transport \u5c42 \uff0c\u56e0\u4e3a\u6bcf\u4e00\u4e2a Raft Group \u5185\u90e8\u90fd\u9700\u8981\u5411\u5bf9\u5e94\u7684 peer \u53d1\u9001\u6d88\u606f\uff0c\u5982\u679c\u4e0d\u80fd\u5171\u4eab Transport \u5c42\uff0c\u8fde\u63a5\u7684\u5f00\u9500\u5de8\u5927\uff1b \u7b2c\u4e8c\u662f\u7ebf\u7a0b\u6a21\u578b \uff0cMulti Raft Group \u4e00\u5b9a\u8981\u5171\u4eab\u4e00\u7ec4\u7ebf\u7a0b\u6c60\uff0c\u5426\u5219\u4f1a\u9020\u6210\u7cfb\u7edf\u7684\u7ebf\u7a0b\u6570\u76ee\u8fc7\u591a\uff0c\u5bfc\u81f4\u5927\u91cf\u7684 context switch \u5f00\u9500\u3002 Batch \u00b6 \u5bf9\u4e8e\u6bcf\u4e2a Partition\u6765\u8bf4\uff0c\u7531\u4e8e\u4e32\u884c\u5199 WAL\uff0c\u4e3a\u4e86\u63d0\u9ad8\u541e\u5410\uff0c\u505a batch \u662f\u5341\u5206\u5fc5\u8981\u7684\u3002Nebula Graph \u5229\u7528\u6bcf\u4e2a part \u4e32\u884c\u7684\u7279\u70b9\uff0c\u505a\u4e86\u4e00\u4e9b\u7279\u6b8a\u7c7b\u578b\u7684 WAL\uff0c\u5e26\u6765\u4e86\u4e00\u4e9b\u5de5\u7a0b\u4e0a\u7684\u6311\u6218\u3002 \u4e3e\u4e2a\u4f8b\u5b50\uff0cNebula Graph \u5229\u7528 WAL \u5b9e\u73b0\u4e86\u65e0\u9501\u7684 CAS \u64cd\u4f5c\uff0c\u800c\u6bcf\u4e2a CAS \u64cd\u4f5c\u9700\u8981\u4e4b\u524d\u7684 WAL \u5168\u90e8 commit \u4e4b\u540e\u624d\u80fd\u6267\u884c\uff0c\u6240\u4ee5\u5bf9\u4e8e\u4e00\u4e2a batch\uff0c\u5982\u679c\u4e2d\u95f4\u5939\u6742\u4e86\u51e0\u6761 CAS \u7c7b\u578b\u7684 WAL, \u8fd8\u9700\u8981\u628a\u8fd9\u4e2a batch \u5206\u6210\u7c92\u5ea6\u66f4\u5c0f\u7684\u51e0\u4e2a group\uff0cgroup \u4e4b\u95f4\u4fdd\u8bc1\u4e32\u884c\u3002\u8fd8\u6709\uff0ccommand \u7c7b\u578b\u7684 WAL \u9700\u8981\u5b83\u540e\u9762\u7684 WAL \u5728\u5176 commit \u4e4b\u540e\u624d\u80fd\u6267\u884c\uff0c\u6240\u4ee5\u6574\u4e2a batch \u5212\u5206 group \u7684\u64cd\u4f5c\u5de5\u7a0b\u5b9e\u73b0\u4e0a\u6bd4\u8f83\u6709\u7279\u8272\u3002 Learner \u00b6 Learner \u8fd9\u4e2a\u89d2\u8272\u7684\u5b58\u5728\u4e3b\u8981\u662f\u4e3a\u4e86 \u5e94\u5bf9\u6269\u5bb9 \u65f6\uff0c\u65b0\u673a\u5668\u9700\u8981\u201c\u8ffd\u201d\u76f8\u5f53\u957f\u4e00\u6bb5\u65f6\u95f4\u7684\u6570\u636e\uff0c\u800c\u8fd9\u6bb5\u65f6\u95f4\u6709\u53ef\u80fd\u4f1a\u53d1\u751f\u610f\u5916\u3002\u5982\u679c\u76f4\u63a5\u4ee5 follower \u7684\u8eab\u4efd\u5f00\u59cb\u8ffd\u6570\u636e\uff0c\u5c31\u4f1a\u4f7f\u5f97\u6574\u4e2a\u96c6\u7fa4\u7684 HA \u80fd\u529b\u4e0b\u964d\u3002 Nebula Graph \u91cc\u9762 learner \u7684\u5b9e\u73b0\u5c31\u662f\u91c7\u7528\u4e86\u4e0a\u9762\u63d0\u5230\u7684 command wal\u3002 Leader \u5728\u5199 wal \u65f6\u5982\u679c\u78b0\u5230 add learner \u7684 command\uff0c \u5c31\u4f1a\u5c06 learner \u52a0\u5165\u81ea\u5df1\u7684 peers\uff0c\u5e76\u628a\u5b83\u6807\u8bb0\u4e3a learner\uff0c\u8fd9\u6837\u5728\u7edf\u8ba1\u591a\u6570\u6d3e\u7684\u65f6\u5019\uff0c\u5c31\u4e0d\u4f1a\u7b97\u4e0a learner\uff0c\u4f46\u662f\u65e5\u5fd7\u8fd8\u662f\u4f1a\u7167\u5e38\u53d1\u9001\u7ed9\u5b83\u4eec\u3002\u5f53\u7136 learner \u4e5f\u4e0d\u4f1a\u4e3b\u52a8\u53d1\u8d77\u9009\u4e3e\u3002 Transfer Leadership \u00b6 Transfer leadership \u8fd9\u4e2a\u64cd\u4f5c\u5bf9\u4e8e balance \u6765\u8bb2\u81f3\u5173\u91cd\u8981\uff0c\u5f53\u628a\u67d0\u4e2a Partition \u4ece\u4e00\u53f0\u673a\u5668\u632a\u5230\u53e6\u4e00\u53f0\u673a\u5668\u65f6\uff0c\u9996\u5148\u4fbf\u4f1a\u68c0\u67e5 source \u662f\u4e0d\u662f leader\uff0c\u5982\u679c\u662f\u7684\u8bdd\uff0c\u9700\u8981\u5148\u628a\u4ed6\u632a\u5230\u53e6\u5916\u7684 peer \u4e0a\u9762\uff1b\u5728\u642c\u8fc1\u6570\u636e\u5b8c\u6bd5\u4e4b\u540e\uff0c\u901a\u5e38\u8fd8\u8981\u628a leader \u8fdb\u884c\u4e00\u6b21 balance\uff0c\u8fd9\u6837\u6bcf\u53f0\u673a\u5668\u627f\u62c5\u7684\u8d1f\u8f7d\u4e5f\u80fd\u4fdd\u8bc1\u5747\u8861\u3002 \u5b9e\u73b0 transfer leadership\uff0c \u9700\u8981\u6ce8\u610f\u7684\u662f leader \u653e\u5f03\u81ea\u5df1\u7684 leadership\uff0c\u548c follower \u5f00\u59cb\u8fdb\u884c leader election \u7684\u65f6\u673a\u3002\u5bf9\u4e8e leader \u6765\u8bb2\uff0c\u5f53 transfer leadership command \u5728 commit \u7684\u65f6\u5019\uff0c\u5b83\u653e\u5f03 leadership\uff1b\u800c\u5bf9\u4e8e follower \u6765\u8bb2\uff0c\u5f53\u6536\u5230\u6b64 command \u7684\u65f6\u5019\u5c31\u8981\u5f00\u59cb\u8fdb\u884c leader election\uff0c \u8fd9\u5957\u5b9e\u73b0\u8981\u548c Raft \u672c\u8eab\u7684 leader election \u8d70\u4e00\u5957\u8def\u5f84\uff0c\u5426\u5219\u5f88\u5bb9\u6613\u51fa\u73b0\u4e00\u4e9b\u96be\u4ee5\u5904\u7406\u7684 corner case\u3002 Membership change \u00b6 \u4e3a\u4e86\u907f\u514d\u8111\u88c2\uff0c\u5f53\u4e00\u4e2a Raft Group \u7684\u6210\u5458\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u9700\u8981\u6709\u4e00\u4e2a\u4e2d\u95f4\u72b6\u6001\uff0c \u8fd9\u4e2a\u72b6\u6001\u4e0b old group \u7684\u591a\u6570\u6d3e\u4e0e new group \u7684\u591a\u6570\u6d3e\u603b\u662f\u6709 overlap\uff0c\u8fd9\u6837\u5c31\u9632\u6b62\u4e86 old group \u6216\u8005\u65b0 group \u5355\u65b9\u9762\u505a\u51fa\u51b3\u5b9a\uff0c\u8fd9\u5c31\u662f \u8bba\u6587 \u4e2d\u63d0\u5230\u7684 joint consensus \u3002\u4e3a\u4e86\u66f4\u52a0\u7b80\u5316\uff0cDiego Ongaro \u5728\u81ea\u5df1\u7684\u535a\u58eb\u8bba\u6587\u4e2d\u63d0\u51fa \u6bcf\u6b21\u589e\u51cf\u4e00\u4e2a peer \u7684\u65b9\u5f0f \uff0c \u4ee5\u4fdd\u8bc1 old group \u7684\u591a\u6570\u6d3e\u603b\u662f\u4e0e new group \u7684\u591a\u6570\u6d3e\u6709 overlap \u3002 Nebula Graph \u7684\u5b9e\u73b0\u4e5f\u91c7\u7528\u4e86\u8fd9\u4e2a\u65b9\u5f0f\uff0c\u53ea\u4e0d\u8fc7 add member \u4e0e remove member \u7684\u5b9e\u73b0\u6709\u6240\u533a\u522b\uff0c\u5177\u4f53\u5b9e\u73b0\u65b9\u5f0f\u53ef\u4ee5\u53c2\u8003 Raft Part class \u91cc\u9762 addPeer/removePeer \u7684\u5b9e\u73b0\u3002 Snapshot \u00b6 Snapshot \u5982\u4f55\u4e0e Raft \u6d41\u7a0b\u7ed3\u5408\u8d77\u6765\uff0c \u8bba\u6587 \u4e2d\u5e76\u6ca1\u6709\u7ec6\u8bb2\uff0c\u4f46\u662f\u8fd9\u4e00\u90e8\u5206\u662f\u4e00\u4e2a Raft \u5b9e\u73b0\u91cc\u6700\u5bb9\u6613\u51fa\u9519\u7684\u5730\u65b9\uff0c\u56e0\u4e3a\u8fd9\u91cc\u4f1a\u4ea7\u751f\u5927\u91cf\u7684 corner case\u3002 \u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5f53 leader \u53d1\u9001 snapshot \u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c leader \u53d1\u751f\u4e86\u53d8\u5316\uff0c\u8be5\u600e\u4e48\u529e\uff1f \u8fd9\u4e2a\u65f6\u5019\uff0c\u6709\u53ef\u80fd follower \u53ea\u63a5\u5230\u4e86\u4e00\u534a\u7684 snapshot \u6570\u636e\u3002 \u6240\u4ee5\u9700\u8981\u6709\u4e00\u4e2a Partition \u6570\u636e\u6e05\u7406\u8fc7\u7a0b\uff0c\u7531\u4e8e\u591a\u4e2a Partition \u5171\u4eab\u4e00\u4efd\u5b58\u50a8\uff0c\u56e0\u6b64\u5982\u4f55\u6e05\u7406\u6570\u636e\u53c8\u662f\u4e00\u4e2a\u5f88\u9ebb\u70e6\u7684\u95ee\u9898\u3002\u53e6\u5916\uff0csnapshot \u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u4ea7\u751f\u5927\u91cf\u7684 IO\uff0c\u4e3a\u4e86\u6027\u80fd\u8003\u8651\uff0c\u4e0d\u5e0c\u671b\u8fd9\u4e2a\u8fc7\u7a0b\u4e0e\u6b63\u5e38\u7684 Raft \u5171\u7528\u4e00\u4e2a IO threadPool\uff0c\u5e76\u4e14\u6574\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u9700\u8981\u4f7f\u7528\u5927\u91cf\u7684\u5185\u5b58\uff0c\u5982\u4f55\u4f18\u5316\u5185\u5b58\u7684\u4f7f\u7528\uff0c\u5bf9\u4e8e\u6027\u80fd\u5341\u5206\u5173\u952e\u3002\u7531\u4e8e\u7bc7\u5e45\u539f\u56e0\uff0c\u5e76\u4e0d\u4f1a\u5728\u672c\u6587\u5bf9\u8fd9\u4e9b\u95ee\u9898\u5c55\u5f00\u8bb2\u8ff0\uff0c\u53ef\u4ee5\u53c2\u8003 SnapshotManager \u7684\u5b9e\u73b0\u3002 Storage Service \u00b6 \u5728 KVStore \u7684\u63a5\u53e3\u4e4b\u4e0a\uff0cNebula Graph \u5c01\u88c5\u6709\u56fe\u8bed\u4e49\u63a5\u53e3\uff0c\u4e3b\u8981\u7684\u63a5\u53e3\u5982\u4e0b\uff1a getNeighbors \uff1a\u67e5\u8be2\u4e00\u6279\u70b9\u7684\u51fa\u8fb9\u6216\u8005\u5165\u8fb9\uff0c\u8fd4\u56de\u8fb9\u4ee5\u53ca\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u5e76\u4e14\u9700\u8981\u652f\u6301\u6761\u4ef6\u8fc7\u6ee4\uff1b Insert vertex/edge \uff1a\u63d2\u5165\u4e00\u6761\u70b9\u6216\u8005\u8fb9\u53ca\u5176\u5c5e\u6027\uff1b getProps \uff1a\u53d6\u4e00\u4e2a\u70b9\u6216\u8005\u4e00\u6761\u8fb9\u7684\u5c5e\u6027\uff1b \u8fd9\u4e00\u5c42\u4f1a\u5c06\u56fe\u8bed\u4e49\u7684\u63a5\u53e3\u8f6c\u5316\u6210 kv \u64cd\u4f5c\u3002\u4e3a\u4e86\u63d0\u9ad8\u904d\u5386\u7684\u6027\u80fd\uff0c\u8fd8\u8981\u505a\u5e76\u53d1\u64cd\u4f5c\u3002 Meta Service \u00b6 \u5728 KVStore \u7684\u63a5\u53e3\u4e0a\uff0cNebula Graph \u4e5f\u540c\u65f6\u5c01\u88c5\u4e86\u4e00\u5957 meta \u76f8\u5173\u7684\u63a5\u53e3\u3002Meta Service \u4e0d\u4f46\u63d0\u4f9b\u4e86\u56fe schema \u7684\u589e\u5220\u67e5\u6539\u7684\u529f\u80fd\uff0c\u8fd8\u63d0\u4f9b\u4e86\u96c6\u7fa4\u7684\u7ba1\u7406\u529f\u80fd\u4ee5\u53ca\u7528\u6237\u9274\u6743\u76f8\u5173\u7684\u529f\u80fd\u3002Meta Service \u652f\u6301\u5355\u72ec\u90e8\u7f72\uff0c\u4e5f\u652f\u6301\u4f7f\u7528\u591a\u526f\u672c\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u5b89\u5168\u3002","title":"\u5b58\u50a8\u5c42\u67b6\u6784"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#_1","text":"","title":"\u5b58\u50a8\u5c42\u8bbe\u8ba1"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#_2","text":"Nebula Graph \u7684 Storage \u5305\u542b\u4e24\u4e2a\u90e8\u5206\uff0c \u4e00\u662f meta \u76f8\u5173\u7684\u5b58\u50a8\uff0c \u79f0\u4e4b\u4e3a Meta Service \uff0c\u53e6\u4e00\u4e2a\u662f data \u76f8\u5173\u7684\u5b58\u50a8\uff0c \u79f0\u4e4b\u4e3a Storage Service \u3002 \u8fd9\u4e24\u4e2a\u670d\u52a1\u662f\u4e24\u4e2a\u72ec\u7acb\u7684\u8fdb\u7a0b\uff0c\u6570\u636e\u4e5f\u5b8c\u5168\u9694\u79bb\uff0c\u5f53\u7136\u90e8\u7f72\u4e5f\u662f\u5206\u522b\u90e8\u7f72\uff0c \u4e0d\u8fc7\u4e24\u8005\u6574\u4f53\u67b6\u6784\u76f8\u5dee\u4e0d\u5927\u3002 \u5982\u679c\u6ca1\u6709\u7279\u6b8a\u8bf4\u660e\uff0c\u672c\u6587\u4e2d Storage Service \u4ee3\u6307 data \u7684\u5b58\u50a8\u670d\u52a1\u3002","title":"\u6458\u8981"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#_3","text":"\u56fe\u4e00 storage service \u67b6\u6784\u56fe \u5982\u56fe1 \u6240\u793a\uff0cStorage Service \u5171\u6709\u4e09\u5c42\uff0c\u6700\u5e95\u5c42\u662f Store Engine\uff0c\u5b83\u662f\u4e00\u4e2a\u5355\u673a\u7248 local store engine\uff0c\u63d0\u4f9b\u4e86\u5bf9\u672c\u5730\u6570\u636e\u7684 get / put / scan / delete \u64cd\u4f5c\uff0c\u76f8\u5173\u7684\u63a5\u53e3\u653e\u5728 KVStore/KVEngine.h \u6587\u4ef6\u91cc\u9762\uff0c\u7528\u6237\u5b8c\u5168\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u5b9a\u5236\u5f00\u53d1\u76f8\u5173 local store plugin\uff0c\u76ee\u524d Nebula Graph \u63d0\u4f9b\u4e86\u57fa\u4e8e RocksDB \u5b9e\u73b0\u7684 Store Engine\u3002 \u5728 local store engine \u4e4b\u4e0a\uff0c\u4fbf\u662f Consensus \u5c42\uff0c\u5b9e\u73b0\u4e86 Multi Group Raft\uff0c\u6bcf\u4e00\u4e2a Partition \u90fd\u5bf9\u5e94\u4e86\u4e00\u7ec4 Raft Group\uff0c\u8fd9\u91cc\u7684 Partition \u4fbf\u662f\u6570\u636e\u5206\u7247\u3002\u76ee\u524d Nebula Graph \u7684\u5206\u7247\u7b56\u7565\u91c7\u7528\u4e86 \u9759\u6001 Hash \u7684\u65b9\u5f0f\u3002\u7528\u6237\u5728\u521b\u5efa SPACE \u65f6\u9700\u6307\u5b9a Partition \u6570\uff0cPartition \u6570\u91cf\u4e00\u65e6\u8bbe\u7f6e\u4fbf\u4e0d\u53ef\u66f4\u6539\uff0c\u4e00\u822c\u6765\u8bb2\uff0cPartition \u6570\u76ee\u8981\u80fd\u6ee1\u8db3\u4e1a\u52a1\u5c06\u6765\u7684\u6269\u5bb9\u9700\u6c42\u3002 \u5728 Consensus \u5c42\u4e0a\u9762\u4e5f\u5c31\u662f Storage Service \u7684\u6700\u4e0a\u5c42\uff0c\u4fbf\u662f Storage interfaces\uff0c\u8fd9\u4e00\u5c42\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u548c\u56fe\u76f8\u5173\u7684 API\u3002 \u8fd9\u4e9b API \u8bf7\u6c42\u4f1a\u5728\u8fd9\u4e00\u5c42\u88ab\u7ffb\u8bd1\u6210\u4e00\u7ec4\u9488\u5bf9\u76f8\u5e94 Partition \u7684 kv \u64cd\u4f5c\u3002\u6b63\u662f\u8fd9\u4e00\u5c42\u7684\u5b58\u5728\uff0c\u4f7f\u5f97\u5b58\u50a8\u670d\u52a1\u53d8\u6210\u4e86\u771f\u6b63\u7684\u56fe\u5b58\u50a8\uff0c\u5426\u5219\uff0cStorage Service \u53ea\u662f\u4e00\u4e2a kv \u5b58\u50a8\u3002\u800c Nebula Graph \u6ca1\u628a kv \u4f5c\u4e3a\u4e00\u4e2a\u670d\u52a1\u5355\u72ec\u63d0\u51fa\uff0c\u5176\u6700\u4e3b\u8981\u7684\u539f\u56e0\u4fbf\u662f\u56fe\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u4f1a\u6d89\u53ca\u5230\u5927\u91cf\u8ba1\u7b97\uff0c\u8fd9\u4e9b\u8ba1\u7b97\u5f80\u5f80\u9700\u8981\u4f7f\u7528\u56fe\u7684 schema\uff0c\u800c kv \u5c42\u662f\u6ca1\u6709\u6570\u636e schema \u6982\u5ff5\uff0c\u8fd9\u6837\u8bbe\u8ba1\u4f1a\u6bd4\u8f83\u5bb9\u6613\u5b9e\u73b0\u8ba1\u7b97\u4e0b\u63a8\u3002","title":"\u67b6\u6784"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#schema_partition","text":"\u6570\u636e\u7ed3\u6784\u4e0a\uff0c\u56fe\u7684\u4e3b\u8981\u6570\u636e\u662f\u70b9\u548c\u8fb9\u3002\u4f46 Nebula Graph \u5b58\u50a8\u7684\u662f\u5c5e\u6027\u56fe\uff1a\u9664\u4e86\u70b9\u548c\u8fb9\u4ee5\u5916\uff0c\u8fd8\u5b58\u50a8\u4e86\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u4ee5\u4fbf\u66f4\u9ad8\u6548\u5730\u4f7f\u7528\u5c5e\u6027\u8fc7\u6ee4\u3002 \u5bf9\u4e8e\u70b9\u6765\u8bf4\uff0c Nebula Graph \u4f7f\u7528\u4e0d\u540c\u7684 Tag \u8868\u793a\u4e0d\u540c\u7c7b\u578b\u7684\u70b9\uff0c\u540c\u4e00\u4e2a VertexID \u53ef\u4ee5\u5173\u8054\u591a\u4e2a Tag\uff0c\u800c\u6bcf\u4e00\u4e2a Tag \u90fd\u6709\u81ea\u5df1\u5bf9\u5e94\u7684\u5c5e\u6027\u3002\u5bf9\u5e94\u5230 kv \u5b58\u50a8\u91cc\u9762\uff0c Nebula Graph \u4f7f\u7528 vertexID + TagID \u6765\u8868\u793a key, \u628a\u76f8\u5173\u7684\u5c5e\u6027\u7f16\u7801\u540e\u653e\u5728 value \u91cc\u9762\uff0c\u5177\u4f53 key \u7684 format \u5982\u56fe2 \u6240\u793a\uff1a \u56fe\u4e8c Vertex Key Format Type : 1 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u8868\u793a key \u7c7b\u578b\uff0c\u5f53\u524d\u7684\u7c7b\u578b\u6709 data, index, system \u7b49 Part ID : 3 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u8868\u793a\u6570\u636e\u5206\u7247 Partition\uff0c\u6b64\u5b57\u6bb5\u4e3b\u8981\u7528\u4e8e Partition \u91cd\u65b0\u5206\u5e03 (balance) \u65f6\u65b9\u4fbf\u6839\u636e\u524d\u7f00\u626b\u63cf\u6574\u4e2a Partition \u6570\u636e Vertex ID : 8 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u8868\u793a\u70b9\u7684 ID Tag ID : 4 \u4e2a\u5b57\u8282, \u7528\u6765\u8868\u793a\u5173\u8054\u7684\u67d0\u4e2a tag Timestamp : 8 \u4e2a\u5b57\u8282\uff0c\u5bf9\u7528\u6237\u4e0d\u53ef\u89c1\uff0c\u672a\u6765\u5b9e\u73b0\u5206\u5e03\u5f0f\u4e8b\u52a1 (MVCC) \u65f6\u4f7f\u7528 \u5728\u4e00\u4e2a\u56fe\u4e2d\uff0c\u6bcf\u4e00\u6761\u903b\u8f91\u610f\u4e49\u4e0a\u7684\u8fb9\uff0c\u5728 Nebula Graph \u4e2d\u4f1a\u5efa\u6a21\u6210\u4e24\u4e2a\u72ec\u7acb\u7684 key-value\uff0c\u5206\u522b\u79f0\u4e3a out-key \u548c in-key\u3002out-key \u4e0e\u8fd9\u6761\u8fb9\u6240\u5bf9\u5e94\u7684\u8d77\u70b9\u5b58\u50a8\u5728\u540c\u4e00\u4e2a partition \u4e0a\uff0cin-key \u4e0e\u8fd9\u6761\u8fb9\u6240\u5bf9\u5e94\u7684\u7ec8\u70b9\u5b58\u50a8\u5728\u540c\u4e00\u4e2apartition \u4e0a\u3002\u901a\u5e38\u6765\u8bf4\uff0cout-key \u548c in-key \u4f1a\u5206\u5e03\u5728\u4e24\u4e2a\u4e0d\u540c\u7684 Partition \u4e2d\u3002 \u4e24\u4e2a\u70b9\u4e4b\u95f4\u53ef\u80fd\u5b58\u5728\u591a\u79cd\u7c7b\u578b\u7684\u8fb9\uff0c Nebula Graph \u7528 Edge Type \u6765\u8868\u793a\u8fb9\u7c7b\u578b\u3002\u800c\u540c\u4e00\u7c7b\u578b\u7684\u8fb9\u53ef\u80fd\u5b58\u5728\u591a\u6761\uff0c\u6bd4\u5982\uff0c\u5b9a\u4e49\u4e00\u4e2a edge type \"\u8f6c\u8d26\"\uff0c\u7528\u6237 A \u53ef\u80fd\u591a\u6b21\u8f6c\u8d26\u7ed9 B\uff0c \u6240\u4ee5 Nebula Graph \u53c8\u589e\u52a0\u4e86\u4e00\u4e2a Rank \u5b57\u6bb5\u6765\u505a\u533a\u5206\uff0c\u8868\u793a A \u5230 B \u4e4b\u95f4\u591a\u6b21\u8f6c\u8d26\u8bb0\u5f55\u3002 Edge key \u7684 format \u5982\u56fe 3 \u6240\u793a\uff1a \u56fe\u4e09 Edge Key Format Type \uff1a1 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u8868\u793a key \u7684\u7c7b\u578b\uff0c\u5f53\u524d\u7684\u7c7b\u578b\u6709 data, index, system \u7b49\u3002 Part ID \uff1a3 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u8868\u793a\u6570\u636e\u5206\u7247 Partition\uff0c\u6b64\u5b57\u6bb5\u4e3b\u8981\u7528\u4e8e Partition \u91cd\u65b0\u5206\u5e03 (balance) \u65f6\u65b9\u4fbf\u6839\u636e\u524d\u7f00\u626b\u63cf\u6574\u4e2a Partition \u6570\u636e Vertex ID \uff1a8 \u4e2a\u5b57\u8282\uff0c\u51fa\u8fb9\u91cc\u9762\u7528\u6765\u8868\u793a\u6e90\u70b9\u7684 ID\uff0c \u5165\u8fb9\u91cc\u9762\u8868\u793a\u76ee\u6807\u70b9\u7684 ID\u3002 Edge Type \uff1a4 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u8868\u793a\u8fd9\u6761\u8fb9\u7684\u7c7b\u578b\uff0c\u5982\u679c\u5927\u4e8e 0 \u8868\u793a\u51fa\u8fb9\uff0c\u5c0f\u4e8e 0 \u8868\u793a\u5165\u8fb9\u3002 Rank \uff1a8 \u4e2a\u5b57\u8282\uff0c\u7528\u6765\u5904\u7406\u540c\u4e00\u79cd\u7c7b\u578b\u7684\u8fb9\u5b58\u5728\u591a\u6761\u7684\u60c5\u51b5\u3002\u7528\u6237\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u8fdb\u884c\u8bbe\u7f6e\uff0c\u8fd9\u4e2a\u5b57\u6bb5\u53ef \u5b58\u653e\u4ea4\u6613\u65f6\u95f4 \u3001 \u4ea4\u6613\u6d41\u6c34\u53f7 \u3001\u6216 \u67d0\u4e2a\u6392\u5e8f Vertex ID \uff1a8 \u4e2a\u5b57\u8282\uff0c\u51fa\u8fb9\u91cc\u9762\u7528\u6765\u8868\u793a\u76ee\u6807\u70b9\u7684 ID\uff0c \u5165\u8fb9\u91cc\u9762\u8868\u793a\u6e90\u70b9\u7684 ID\u3002 Timestamp \uff1a8 \u4e2a\u5b57\u8282\uff0c\u5bf9\u7528\u6237\u4e0d\u53ef\u89c1\uff0c\u672a\u6765\u5b9e\u73b0\u5206\u5e03\u5f0f\u505a\u4e8b\u52a1\u7684\u65f6\u5019\u4f7f\u7528\u3002 \u9488\u5bf9 Edge Type \u7684\u503c\uff0c\u82e5\u5982\u679c\u5927\u4e8e 0 \u8868\u793a\u51fa\u8fb9\uff0c\u5219\u5bf9\u5e94\u7684 edge key format \u5982\u56fe4 \u6240\u793a\uff1b\u82e5 Edge Type \u7684\u503c\u5c0f\u4e8e 0\uff0c\u5219\u5bf9\u5e94\u7684 edge key format \u5982\u56fe5 \u6240\u793a \u56fe4 \u51fa\u8fb9\u7684 Key Format \u56fe5 \u5165\u8fb9\u7684 Key Format \u5bf9\u4e8e\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u4fe1\u606f\uff0c\u6709\u5bf9\u5e94\u7684\u4e00\u7ec4 kv pairs\uff0c Nebula Graph \u5c06\u5b83\u4eec\u7f16\u7801\u540e\u5b58\u5728\u5bf9\u5e94\u7684 value \u91cc\u3002\u7531\u4e8e Nebula Graph \u4f7f\u7528\u5f3a\u7c7b\u578b schema\uff0c\u6240\u4ee5\u5728\u89e3\u7801\u4e4b\u524d\uff0c\u9700\u8981\u5148\u53bb Meta Service \u4e2d\u53d6\u5177\u4f53\u7684 schema \u4fe1\u606f\u3002\u53e6\u5916\uff0c\u4e3a\u4e86\u652f\u6301\u5728\u7ebf\u53d8\u66f4 schema\uff0c\u5728\u7f16\u7801\u5c5e\u6027\u65f6\uff0c\u4f1a\u52a0\u5165\u5bf9\u5e94\u7684 schema \u7248\u672c\u4fe1\u606f\u3002 \u6570\u636e\u7684\u5206\u7247\u65b9\u5f0f\u4e3a\u5bf9 Vertex ID \u53d6\u6a21 \u3002\u901a\u8fc7\u5bf9 Vertex ID \u53d6\u6a21\uff0c\u540c\u4e00\u4e2a\u70b9\u7684\u6240\u6709 \u51fa\u8fb9 \uff0c \u5165\u8fb9 \u4ee5\u53ca\u8fd9\u4e2a\u70b9\u4e0a\u6240\u6709\u5173\u8054\u7684 Tag \u4fe1\u606f \u90fd\u4f1a\u88ab\u5206\u5230\u540c\u4e00\u4e2a Partition\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5927\u5927\u5730\u63d0\u5347\u4e86\u67e5\u8be2\u6548\u7387\u3002\u5bf9\u4e8e\u5728\u7ebf\u56fe\u67e5\u8be2\u6765\u8bb2\uff0c\u6700\u5e38\u89c1\u7684\u64cd\u4f5c\u4fbf\u662f\u4ece\u4e00\u4e2a\u70b9\u5f00\u59cb\u5411\u5916 BFS\uff08\u5e7f\u5ea6\u4f18\u5148\uff09\u62d3\u5c55\uff0c\u4e8e\u662f\u62ff\u4e00\u4e2a\u70b9\u7684\u51fa\u8fb9\u6216\u8005\u5165\u8fb9\u662f\u6700\u57fa\u672c\u7684\u64cd\u4f5c\uff0c\u800c\u8fd9\u4e2a\u64cd\u4f5c\u7684\u6027\u80fd\u4e5f\u51b3\u5b9a\u4e86\u6574\u4e2a\u904d\u5386\u7684\u6027\u80fd\u3002BFS \u4e2d\u53ef\u80fd\u4f1a\u51fa\u73b0\u6309\u7167\u67d0\u4e9b\u5c5e\u6027\u8fdb\u884c\u526a\u679d\u7684\u60c5\u51b5\uff0c Nebula Graph \u901a\u8fc7\u5c06\u5c5e\u6027\u4e0e\u70b9\u8fb9\u5b58\u5728\u4e00\u8d77\uff0c\u6765\u4fdd\u8bc1\u6574\u4e2a\u64cd\u4f5c\u7684\u9ad8\u6548\u3002\u5728\u5b9e\u9645\u7684\u573a\u666f\u4e2d\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u90fd\u662f\u5c5e\u6027\u56fe\uff0c\u5e76\u4e14\u5b9e\u9645\u4e2d\u7684 BFS \u4e5f\u9700\u8981\u8fdb\u884c\u5927\u91cf\u7684\u526a\u679d\u64cd\u4f5c\u3002","title":"Schema &amp; Partition"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#kvstore","text":"\u5bf9\u4e8eKVStore\u7684\u8981\u6c42\uff1a \u6027\u80fd \uff1b \u4ee5 library \u7684\u5f62\u5f0f\u63d0\u4f9b \uff1a\u5bf9\u4e8e\u5f3a schema \u7684 Nebula Graph \u6765\u8bb2\uff0c\u8ba1\u7b97\u4e0b\u63a8\u9700\u8981 schema \u4fe1\u606f\uff0c\u800c\u8ba1\u7b97\u4e0b\u63a8\u5b9e\u73b0\u7684\u597d\u574f\uff0c\u662f Nebula Graph \u662f\u5426\u9ad8\u6548\u7684\u5173\u952e\uff1b \u6570\u636e\u5f3a\u4e00\u81f4 \uff1a\u8fd9\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u51b3\u5b9a\u7684\uff1b \u4f7f\u7528 C++\u5b9e\u73b0 \uff1a\u8fd9\u7531\u56e2\u961f\u7684\u6280\u672f\u7279\u70b9\u51b3\u5b9a\uff1b \u57fa\u4e8e\u4e0a\u8ff0\u8981\u6c42\uff0c Nebula Graph \u5b9e\u73b0\u4e86\u81ea\u5df1\u7684 KVStore\u3002\u5f53\u7136\uff0c\u5bf9\u4e8e\u6027\u80fd\u5b8c\u5168\u4e0d\u654f\u611f\u4e14\u4e0d\u592a\u5e0c\u671b\u642c\u8fc1\u6570\u636e\u7684\u7528\u6237\u6765\u8bf4\uff0c Nebula Graph \u4e5f\u63d0\u4f9b\u4e86\u6574\u4e2a KVStore \u5c42\u7684 plugin\uff0c\u76f4\u63a5\u5c06 Storage Service \u642d\u5efa\u5728\u7b2c\u4e09\u65b9\u7684 KVStore \u4e0a\u9762\uff0c\u76ee\u524d\u5b98\u65b9\u63d0\u4f9b\u7684\u662f HBase \u7684 plugin\u3002 Nebula Graph KVStore \u4e3b\u8981\u91c7\u7528 RocksDB \u4f5c\u4e3a\u672c\u5730\u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u5bf9\u4e8e\u591a\u786c\u76d8\u673a\u5668\uff0c\u4e3a\u4e86\u5145\u5206\u5229\u7528\u591a\u786c\u76d8\u7684\u5e76\u53d1\u80fd\u529b\uff0c Nebula Graph \u652f\u6301\u81ea\u5df1\u7ba1\u7406\u591a\u5757\u76d8\uff0c\u7528\u6237\u53ea\u9700\u914d\u7f6e\u591a\u4e2a\u4e0d\u540c\u7684\u6570\u636e\u76ee\u5f55\u5373\u53ef\u3002 \u5206\u5e03\u5f0f KVStore \u7684\u7ba1\u7406\u7531 Meta Service \u6765\u7edf\u4e00\u8c03\u5ea6\uff0c\u5b83\u8bb0\u5f55\u4e86\u6240\u6709 Partition \u7684\u5206\u5e03\u60c5\u51b5\uff0c\u4ee5\u53ca\u5f53\u524d\u673a\u5668\u7684\u72b6\u6001\uff0c\u5f53\u7528\u6237\u589e\u51cf\u673a\u5668\u65f6\uff0c\u53ea\u9700\u8981\u901a\u8fc7 console \u8f93\u5165\u76f8\u5e94\u7684\u6307\u4ee4\uff0cMeta Service \u4fbf\u80fd\u591f\u751f\u6210\u6574\u4e2a balance plan \u5e76\u6267\u884c\u3002\uff08\u4e4b\u6240\u4ee5\u6ca1\u6709\u91c7\u7528\u5b8c\u5168\u81ea\u52a8 balance \u7684\u65b9\u5f0f\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u51cf\u5c11\u6570\u636e\u642c\u8fc1\u5bf9\u4e8e\u7ebf\u4e0a\u670d\u52a1\u7684\u5f71\u54cd\uff0cbalance \u7684\u65f6\u673a\u7531\u7528\u6237\u81ea\u5df1\u63a7\u5236\uff0c\u901a\u5e38\u4f1a\u5728\u4e1a\u52a1\u4f4e\u8c37\u8fdb\u884c\u3002\uff09 \u4e3a\u4e86\u65b9\u4fbf\u5bf9\u4e8e WAL \u8fdb\u884c\u5b9a\u5236\uff0c Nebula Graph KVStore \u5b9e\u73b0\u4e86\u81ea\u5df1\u7684 WAL \u6a21\u5757\uff0c\u6bcf\u4e2a partition \u90fd\u6709\u81ea\u5df1\u7684 WAL\uff0c\u8fd9\u6837\u5728\u8ffd\u6570\u636e\u65f6\uff0c\u4e0d\u9700\u8981\u8fdb\u884c wal split \u64cd\u4f5c\uff0c \u66f4\u52a0\u9ad8\u6548\u3002 \u53e6\u5916\uff0c\u4e3a\u4e86\u5b9e\u73b0\u4e00\u4e9b\u7279\u6b8a\u7684\u64cd\u4f5c\uff0c\u4e13\u95e8\u5b9a\u4e49\u4e86 Command Log \u8fd9\u4e2a\u7c7b\u522b\uff0c\u8fd9\u4e9b log \u53ea\u4e3a\u4e86\u4f7f\u7528 Raft \u6765\u901a\u77e5\u6240\u6709 replica \u6267\u884c\u67d0\u4e00\u4e2a\u7279\u5b9a\u64cd\u4f5c\uff0c\u5e76\u6ca1\u6709\u771f\u6b63\u7684\u6570\u636e\u3002\u9664\u4e86 Command Log \u5916\uff0c Nebula Graph \u8fd8\u63d0\u4f9b\u4e86\u4e00\u7c7b\u65e5\u5fd7\u6765\u5b9e\u73b0\u9488\u5bf9\u67d0\u4e2a Partition \u7684 atomic operation\uff0c\u4f8b\u5982 CAS\uff0cread-modify-write, \u5b83\u5145\u5206\u5229\u7528\u4e86Raft \u4e32\u884c\u7684\u7279\u6027\u3002 \u5173\u4e8e\u591a\u56fe\u7a7a\u95f4\uff08space\uff09\u7684\u652f\u6301\uff1a\u4e00\u4e2a Nebula Graph KVStore \u96c6\u7fa4\u53ef\u4ee5\u652f\u6301\u591a\u4e2a space\uff0c\u6bcf\u4e2a space \u53ef\u8bbe\u7f6e\u81ea\u5df1\u7684 partition \u6570\u548c replica \u6570\u3002\u4e0d\u540c space \u5728\u7269\u7406\u4e0a\u662f\u5b8c\u5168\u9694\u79bb\u7684\uff0c\u800c\u4e14\u5728\u540c\u4e00\u4e2a\u96c6\u7fa4\u4e0a\u7684\u4e0d\u540c space \u53ef\u652f\u6301\u4e0d\u540c\u7684 store engine \u53ca\u5206\u7247\u7b56\u7565\u3002","title":"KVStore"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#raft","text":"\u4f5c\u4e3a\u4e00\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0cKVStore \u7684 replication\u3001scale out \u7b49\u529f\u80fd\u9700 Raft \u7684\u652f\u6301\u3002\u4e3b\u8981\u4ecb\u7ecd Nebula Graph Raft \u7684\u4e00\u4e9b\u7279\u70b9\u4ee5\u53ca\u5de5\u7a0b\u5b9e\u73b0\u3002","title":"Raft"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#multi_raft_group","text":"\u7531\u4e8e Raft \u7684\u65e5\u5fd7\u4e0d\u5141\u8bb8\u7a7a\u6d1e\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u5b9e\u73b0\u90fd\u4f1a\u91c7\u7528 Multi Raft Group \u6765\u7f13\u89e3\u8fd9\u4e2a\u95ee\u9898\uff0c\u56e0\u6b64 partition \u7684\u6570\u76ee\u51e0\u4e4e\u51b3\u5b9a\u4e86\u6574\u4e2a Raft Group \u7684\u6027\u80fd\u3002\u4f46\u8fd9\u4e5f\u5e76\u4e0d\u662f\u8bf4 Partition \u7684\u6570\u76ee\u8d8a\u591a\u8d8a\u597d\uff1a\u6bcf\u4e00\u4e2a Raft Group \u5185\u90e8\u90fd\u8981\u5b58\u50a8\u4e00\u7cfb\u5217\u7684\u72b6\u6001\u4fe1\u606f\uff0c\u5e76\u4e14\u6bcf\u4e00\u4e2a Raft Group \u6709\u81ea\u5df1\u7684 WAL \u6587\u4ef6\uff0c\u56e0\u6b64 Partition \u6570\u76ee\u592a\u591a\u4f1a\u589e\u52a0\u5f00\u9500\u3002\u6b64\u5916\uff0c\u5f53 Partition \u592a\u591a\u65f6\uff0c \u5982\u679c\u8d1f\u8f7d\u6ca1\u6709\u8db3\u591f\u9ad8\uff0cbatch \u64cd\u4f5c\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002\u6bd4\u5982\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u6709 1\u4e07 TPS \u7684\u7ebf\u4e0a\u7cfb\u7edf\uff0c\u5373\u4f7f\u5b83\u7684\u6bcf\u53f0\u673a\u5668\u4e0a partition \u7684\u6570\u76ee\u8d85\u8fc7 1\u4e07\uff0c\u4f46\u5f88\u6709\u53ef\u80fd\u6bcf\u4e2a partition TPS \u53ea\u6709 1\uff0c\u8fd9\u6837 batch \u64cd\u4f5c\u5c31\u5931\u53bb\u4e86\u610f\u4e49\uff0c\u8fd8\u589e\u52a0\u4e86 CPU \u5f00\u9500\u3002 \u5b9e\u73b0 Multi Raft Group \u7684\u6700\u5173\u952e\u4e4b\u5904\u6709\u4e24\u70b9\uff0c \u7b2c\u4e00\u662f\u5171\u4eab Transport \u5c42 \uff0c\u56e0\u4e3a\u6bcf\u4e00\u4e2a Raft Group \u5185\u90e8\u90fd\u9700\u8981\u5411\u5bf9\u5e94\u7684 peer \u53d1\u9001\u6d88\u606f\uff0c\u5982\u679c\u4e0d\u80fd\u5171\u4eab Transport \u5c42\uff0c\u8fde\u63a5\u7684\u5f00\u9500\u5de8\u5927\uff1b \u7b2c\u4e8c\u662f\u7ebf\u7a0b\u6a21\u578b \uff0cMulti Raft Group \u4e00\u5b9a\u8981\u5171\u4eab\u4e00\u7ec4\u7ebf\u7a0b\u6c60\uff0c\u5426\u5219\u4f1a\u9020\u6210\u7cfb\u7edf\u7684\u7ebf\u7a0b\u6570\u76ee\u8fc7\u591a\uff0c\u5bfc\u81f4\u5927\u91cf\u7684 context switch \u5f00\u9500\u3002","title":"Multi Raft Group"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#batch","text":"\u5bf9\u4e8e\u6bcf\u4e2a Partition\u6765\u8bf4\uff0c\u7531\u4e8e\u4e32\u884c\u5199 WAL\uff0c\u4e3a\u4e86\u63d0\u9ad8\u541e\u5410\uff0c\u505a batch \u662f\u5341\u5206\u5fc5\u8981\u7684\u3002Nebula Graph \u5229\u7528\u6bcf\u4e2a part \u4e32\u884c\u7684\u7279\u70b9\uff0c\u505a\u4e86\u4e00\u4e9b\u7279\u6b8a\u7c7b\u578b\u7684 WAL\uff0c\u5e26\u6765\u4e86\u4e00\u4e9b\u5de5\u7a0b\u4e0a\u7684\u6311\u6218\u3002 \u4e3e\u4e2a\u4f8b\u5b50\uff0cNebula Graph \u5229\u7528 WAL \u5b9e\u73b0\u4e86\u65e0\u9501\u7684 CAS \u64cd\u4f5c\uff0c\u800c\u6bcf\u4e2a CAS \u64cd\u4f5c\u9700\u8981\u4e4b\u524d\u7684 WAL \u5168\u90e8 commit \u4e4b\u540e\u624d\u80fd\u6267\u884c\uff0c\u6240\u4ee5\u5bf9\u4e8e\u4e00\u4e2a batch\uff0c\u5982\u679c\u4e2d\u95f4\u5939\u6742\u4e86\u51e0\u6761 CAS \u7c7b\u578b\u7684 WAL, \u8fd8\u9700\u8981\u628a\u8fd9\u4e2a batch \u5206\u6210\u7c92\u5ea6\u66f4\u5c0f\u7684\u51e0\u4e2a group\uff0cgroup \u4e4b\u95f4\u4fdd\u8bc1\u4e32\u884c\u3002\u8fd8\u6709\uff0ccommand \u7c7b\u578b\u7684 WAL \u9700\u8981\u5b83\u540e\u9762\u7684 WAL \u5728\u5176 commit \u4e4b\u540e\u624d\u80fd\u6267\u884c\uff0c\u6240\u4ee5\u6574\u4e2a batch \u5212\u5206 group \u7684\u64cd\u4f5c\u5de5\u7a0b\u5b9e\u73b0\u4e0a\u6bd4\u8f83\u6709\u7279\u8272\u3002","title":"Batch"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#learner","text":"Learner \u8fd9\u4e2a\u89d2\u8272\u7684\u5b58\u5728\u4e3b\u8981\u662f\u4e3a\u4e86 \u5e94\u5bf9\u6269\u5bb9 \u65f6\uff0c\u65b0\u673a\u5668\u9700\u8981\u201c\u8ffd\u201d\u76f8\u5f53\u957f\u4e00\u6bb5\u65f6\u95f4\u7684\u6570\u636e\uff0c\u800c\u8fd9\u6bb5\u65f6\u95f4\u6709\u53ef\u80fd\u4f1a\u53d1\u751f\u610f\u5916\u3002\u5982\u679c\u76f4\u63a5\u4ee5 follower \u7684\u8eab\u4efd\u5f00\u59cb\u8ffd\u6570\u636e\uff0c\u5c31\u4f1a\u4f7f\u5f97\u6574\u4e2a\u96c6\u7fa4\u7684 HA \u80fd\u529b\u4e0b\u964d\u3002 Nebula Graph \u91cc\u9762 learner \u7684\u5b9e\u73b0\u5c31\u662f\u91c7\u7528\u4e86\u4e0a\u9762\u63d0\u5230\u7684 command wal\u3002 Leader \u5728\u5199 wal \u65f6\u5982\u679c\u78b0\u5230 add learner \u7684 command\uff0c \u5c31\u4f1a\u5c06 learner \u52a0\u5165\u81ea\u5df1\u7684 peers\uff0c\u5e76\u628a\u5b83\u6807\u8bb0\u4e3a learner\uff0c\u8fd9\u6837\u5728\u7edf\u8ba1\u591a\u6570\u6d3e\u7684\u65f6\u5019\uff0c\u5c31\u4e0d\u4f1a\u7b97\u4e0a learner\uff0c\u4f46\u662f\u65e5\u5fd7\u8fd8\u662f\u4f1a\u7167\u5e38\u53d1\u9001\u7ed9\u5b83\u4eec\u3002\u5f53\u7136 learner \u4e5f\u4e0d\u4f1a\u4e3b\u52a8\u53d1\u8d77\u9009\u4e3e\u3002","title":"Learner"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#transfer_leadership","text":"Transfer leadership \u8fd9\u4e2a\u64cd\u4f5c\u5bf9\u4e8e balance \u6765\u8bb2\u81f3\u5173\u91cd\u8981\uff0c\u5f53\u628a\u67d0\u4e2a Partition \u4ece\u4e00\u53f0\u673a\u5668\u632a\u5230\u53e6\u4e00\u53f0\u673a\u5668\u65f6\uff0c\u9996\u5148\u4fbf\u4f1a\u68c0\u67e5 source \u662f\u4e0d\u662f leader\uff0c\u5982\u679c\u662f\u7684\u8bdd\uff0c\u9700\u8981\u5148\u628a\u4ed6\u632a\u5230\u53e6\u5916\u7684 peer \u4e0a\u9762\uff1b\u5728\u642c\u8fc1\u6570\u636e\u5b8c\u6bd5\u4e4b\u540e\uff0c\u901a\u5e38\u8fd8\u8981\u628a leader \u8fdb\u884c\u4e00\u6b21 balance\uff0c\u8fd9\u6837\u6bcf\u53f0\u673a\u5668\u627f\u62c5\u7684\u8d1f\u8f7d\u4e5f\u80fd\u4fdd\u8bc1\u5747\u8861\u3002 \u5b9e\u73b0 transfer leadership\uff0c \u9700\u8981\u6ce8\u610f\u7684\u662f leader \u653e\u5f03\u81ea\u5df1\u7684 leadership\uff0c\u548c follower \u5f00\u59cb\u8fdb\u884c leader election \u7684\u65f6\u673a\u3002\u5bf9\u4e8e leader \u6765\u8bb2\uff0c\u5f53 transfer leadership command \u5728 commit \u7684\u65f6\u5019\uff0c\u5b83\u653e\u5f03 leadership\uff1b\u800c\u5bf9\u4e8e follower \u6765\u8bb2\uff0c\u5f53\u6536\u5230\u6b64 command \u7684\u65f6\u5019\u5c31\u8981\u5f00\u59cb\u8fdb\u884c leader election\uff0c \u8fd9\u5957\u5b9e\u73b0\u8981\u548c Raft \u672c\u8eab\u7684 leader election \u8d70\u4e00\u5957\u8def\u5f84\uff0c\u5426\u5219\u5f88\u5bb9\u6613\u51fa\u73b0\u4e00\u4e9b\u96be\u4ee5\u5904\u7406\u7684 corner case\u3002","title":"Transfer Leadership"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#membership_change","text":"\u4e3a\u4e86\u907f\u514d\u8111\u88c2\uff0c\u5f53\u4e00\u4e2a Raft Group \u7684\u6210\u5458\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u9700\u8981\u6709\u4e00\u4e2a\u4e2d\u95f4\u72b6\u6001\uff0c \u8fd9\u4e2a\u72b6\u6001\u4e0b old group \u7684\u591a\u6570\u6d3e\u4e0e new group \u7684\u591a\u6570\u6d3e\u603b\u662f\u6709 overlap\uff0c\u8fd9\u6837\u5c31\u9632\u6b62\u4e86 old group \u6216\u8005\u65b0 group \u5355\u65b9\u9762\u505a\u51fa\u51b3\u5b9a\uff0c\u8fd9\u5c31\u662f \u8bba\u6587 \u4e2d\u63d0\u5230\u7684 joint consensus \u3002\u4e3a\u4e86\u66f4\u52a0\u7b80\u5316\uff0cDiego Ongaro \u5728\u81ea\u5df1\u7684\u535a\u58eb\u8bba\u6587\u4e2d\u63d0\u51fa \u6bcf\u6b21\u589e\u51cf\u4e00\u4e2a peer \u7684\u65b9\u5f0f \uff0c \u4ee5\u4fdd\u8bc1 old group \u7684\u591a\u6570\u6d3e\u603b\u662f\u4e0e new group \u7684\u591a\u6570\u6d3e\u6709 overlap \u3002 Nebula Graph \u7684\u5b9e\u73b0\u4e5f\u91c7\u7528\u4e86\u8fd9\u4e2a\u65b9\u5f0f\uff0c\u53ea\u4e0d\u8fc7 add member \u4e0e remove member \u7684\u5b9e\u73b0\u6709\u6240\u533a\u522b\uff0c\u5177\u4f53\u5b9e\u73b0\u65b9\u5f0f\u53ef\u4ee5\u53c2\u8003 Raft Part class \u91cc\u9762 addPeer/removePeer \u7684\u5b9e\u73b0\u3002","title":"Membership change"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#snapshot","text":"Snapshot \u5982\u4f55\u4e0e Raft \u6d41\u7a0b\u7ed3\u5408\u8d77\u6765\uff0c \u8bba\u6587 \u4e2d\u5e76\u6ca1\u6709\u7ec6\u8bb2\uff0c\u4f46\u662f\u8fd9\u4e00\u90e8\u5206\u662f\u4e00\u4e2a Raft \u5b9e\u73b0\u91cc\u6700\u5bb9\u6613\u51fa\u9519\u7684\u5730\u65b9\uff0c\u56e0\u4e3a\u8fd9\u91cc\u4f1a\u4ea7\u751f\u5927\u91cf\u7684 corner case\u3002 \u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5f53 leader \u53d1\u9001 snapshot \u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c leader \u53d1\u751f\u4e86\u53d8\u5316\uff0c\u8be5\u600e\u4e48\u529e\uff1f \u8fd9\u4e2a\u65f6\u5019\uff0c\u6709\u53ef\u80fd follower \u53ea\u63a5\u5230\u4e86\u4e00\u534a\u7684 snapshot \u6570\u636e\u3002 \u6240\u4ee5\u9700\u8981\u6709\u4e00\u4e2a Partition \u6570\u636e\u6e05\u7406\u8fc7\u7a0b\uff0c\u7531\u4e8e\u591a\u4e2a Partition \u5171\u4eab\u4e00\u4efd\u5b58\u50a8\uff0c\u56e0\u6b64\u5982\u4f55\u6e05\u7406\u6570\u636e\u53c8\u662f\u4e00\u4e2a\u5f88\u9ebb\u70e6\u7684\u95ee\u9898\u3002\u53e6\u5916\uff0csnapshot \u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u4ea7\u751f\u5927\u91cf\u7684 IO\uff0c\u4e3a\u4e86\u6027\u80fd\u8003\u8651\uff0c\u4e0d\u5e0c\u671b\u8fd9\u4e2a\u8fc7\u7a0b\u4e0e\u6b63\u5e38\u7684 Raft \u5171\u7528\u4e00\u4e2a IO threadPool\uff0c\u5e76\u4e14\u6574\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u9700\u8981\u4f7f\u7528\u5927\u91cf\u7684\u5185\u5b58\uff0c\u5982\u4f55\u4f18\u5316\u5185\u5b58\u7684\u4f7f\u7528\uff0c\u5bf9\u4e8e\u6027\u80fd\u5341\u5206\u5173\u952e\u3002\u7531\u4e8e\u7bc7\u5e45\u539f\u56e0\uff0c\u5e76\u4e0d\u4f1a\u5728\u672c\u6587\u5bf9\u8fd9\u4e9b\u95ee\u9898\u5c55\u5f00\u8bb2\u8ff0\uff0c\u53ef\u4ee5\u53c2\u8003 SnapshotManager \u7684\u5b9e\u73b0\u3002","title":"Snapshot"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#storage_service","text":"\u5728 KVStore \u7684\u63a5\u53e3\u4e4b\u4e0a\uff0cNebula Graph \u5c01\u88c5\u6709\u56fe\u8bed\u4e49\u63a5\u53e3\uff0c\u4e3b\u8981\u7684\u63a5\u53e3\u5982\u4e0b\uff1a getNeighbors \uff1a\u67e5\u8be2\u4e00\u6279\u70b9\u7684\u51fa\u8fb9\u6216\u8005\u5165\u8fb9\uff0c\u8fd4\u56de\u8fb9\u4ee5\u53ca\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u5e76\u4e14\u9700\u8981\u652f\u6301\u6761\u4ef6\u8fc7\u6ee4\uff1b Insert vertex/edge \uff1a\u63d2\u5165\u4e00\u6761\u70b9\u6216\u8005\u8fb9\u53ca\u5176\u5c5e\u6027\uff1b getProps \uff1a\u53d6\u4e00\u4e2a\u70b9\u6216\u8005\u4e00\u6761\u8fb9\u7684\u5c5e\u6027\uff1b \u8fd9\u4e00\u5c42\u4f1a\u5c06\u56fe\u8bed\u4e49\u7684\u63a5\u53e3\u8f6c\u5316\u6210 kv \u64cd\u4f5c\u3002\u4e3a\u4e86\u63d0\u9ad8\u904d\u5386\u7684\u6027\u80fd\uff0c\u8fd8\u8981\u505a\u5e76\u53d1\u64cd\u4f5c\u3002","title":"Storage Service"},{"location":"manual-CN/1.overview/3.design-and-architecture/2.storage-design/#meta_service","text":"\u5728 KVStore \u7684\u63a5\u53e3\u4e0a\uff0cNebula Graph \u4e5f\u540c\u65f6\u5c01\u88c5\u4e86\u4e00\u5957 meta \u76f8\u5173\u7684\u63a5\u53e3\u3002Meta Service \u4e0d\u4f46\u63d0\u4f9b\u4e86\u56fe schema \u7684\u589e\u5220\u67e5\u6539\u7684\u529f\u80fd\uff0c\u8fd8\u63d0\u4f9b\u4e86\u96c6\u7fa4\u7684\u7ba1\u7406\u529f\u80fd\u4ee5\u53ca\u7528\u6237\u9274\u6743\u76f8\u5173\u7684\u529f\u80fd\u3002Meta Service \u652f\u6301\u5355\u72ec\u90e8\u7f72\uff0c\u4e5f\u652f\u6301\u4f7f\u7528\u591a\u526f\u672c\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u5b89\u5168\u3002","title":"Meta Service"},{"location":"manual-CN/1.overview/3.design-and-architecture/3.query-engine/","text":"\u67e5\u8be2\u5f15\u64ce\u8bbe\u8ba1 \u00b6 \u5728 Nebula Graph \u4e2d\uff0cQuery Engine \u7528\u6765\u5904\u7406 Nebula Graph \u67e5\u8be2\u8bed\u8a00\u8bed\u53e5\uff08nGQL\uff09\u3002\u672c\u7bc7\u6587\u7ae0\u5c06\u5e26\u4f60\u4e86\u89e3 Nebula Query Engine \u7684\u67b6\u6784\u3002 \u4e0a\u56fe\u4e3a\u67e5\u8be2\u5f15\u64ce\u7684\u67b6\u6784\u56fe\uff0c\u5982\u679c\u4f60\u5bf9 SQL \u7684\u6267\u884c\u5f15\u64ce\u6bd4\u8f83\u719f\u6089\uff0c\u90a3\u4e48\u5bf9\u4e0a\u56fe\u4e00\u5b9a\u4e0d\u4f1a\u964c\u751f\u3002 Nebula Graph \u7684 Query Engine \u67b6\u6784\u56fe\u548c\u73b0\u4ee3 SQL \u7684\u6267\u884c\u5f15\u64ce\u7c7b\u4f3c\uff0c\u53ea\u662f\u5728\u67e5\u8be2\u8bed\u8a00\u89e3\u6790\u5668\u548c\u5177\u4f53\u7684\u6267\u884c\u8ba1\u5212\u6709\u6240\u533a\u522b\u3002 Session Manager \u00b6 Nebula Graph \u6743\u9650\u7ba1\u7406\u91c7\u7528\u57fa\u4e8e\u89d2\u8272\u7684\u6743\u9650\u63a7\u5236\uff08Role Based Access Control\uff09\u3002\u5ba2\u6237\u7aef\u7b2c\u4e00\u6b21\u8fde\u63a5\u5230 Query Engine \u65f6\u9700\u4f5c\u8ba4\u8bc1\uff0c\u5f53\u8ba4\u8bc1\u6210\u529f\u4e4b\u540e Query Engine \u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0 session\uff0c\u5e76\u5c06\u8be5 session ID \u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u6240\u6709\u7684 session \u7edf\u4e00\u7531 Session Manager \u7ba1\u7406\u3002session \u4f1a\u8bb0\u5f55\u5f53\u524d\u7684 graph space \u4fe1\u606f\u53ca\u5bf9\u8be5 space \u7684\u6743\u9650\u3002\u6b64\u5916\uff0csession \u8fd8\u4f1a\u8bb0\u5f55\u4e00\u4e9b\u4f1a\u8bdd\u76f8\u5173\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u5e76\u4e34\u65f6\u4fdd\u5b58\u540c\u4e00 session \u5185\u7684\u8de8\u591a\u4e2a\u8bf7\u6c42\u7684\u4e00\u4e9b\u4fe1\u606f\u3002 \u5ba2\u6237\u7aef\u8fde\u63a5\u7ed3\u675f\u4e4b\u540e session \u4f1a\u5173\u95ed\uff0c\u6216\u8005\u5982\u679c\u957f\u65f6\u95f4\u6ca1\u901a\u4fe1\u4f1a\u5207\u6362\u4e3a\u7a7a\u95f2\u72b6\u6001\u3002\u8fd9\u4e2a\u7a7a\u95f2\u65f6\u957f\u662f\u53ef\u4ee5\u914d\u7f6e\u7684\u3002 \u5ba2\u6237\u7aef\u7684\u6bcf\u6b21\u8bf7\u6c42\u90fd\u5fc5\u987b\u5e26\u4e0a\u6b64 session ID\uff0c\u5426\u5219 Query Engine \u4f1a\u62d2\u7edd\u6b64\u8bf7\u6c42\u3002 Storage Engine \u4e0d\u7ba1\u7406 session\uff0cQuery Engine \u5728\u8bbf\u95ee\u5b58\u50a8\u5f15\u64ce\u65f6\uff0c\u4f1a\u5e26\u4e0a session \u4fe1\u606f\u3002 Parser \u00b6 Query Engine \u89e3\u6790\u6765\u81ea\u5ba2\u6237\u7aef\u7684 nGQL \u8bed\u53e5\uff0c\u5206\u6790\u5668\uff08parser\uff09\u4e3b\u8981\u57fa\u4e8e\u8457\u540d\u7684 flex / bison \u5de5\u5177\u96c6\u3002\u5b57\u5178\u6587\u4ef6\uff08lexicon\uff09\u548c\u8bed\u6cd5\u89c4\u5219\uff08syntax\uff09\u5728 Nebula Graph \u6e90\u4ee3\u7801\u7684 src/parser \u76ee\u5f55\u4e0b\u3002\u8bbe\u8ba1\u4e0a\uff0cnGQL \u7684\u8bed\u6cd5\u975e\u5e38\u63a5\u8fd1 SQL\uff0c\u76ee\u7684\u662f\u964d\u4f4e\u5b66\u4e60\u6210\u672c\u3002 \u56fe\u6570\u636e\u5e93\u76ee\u524d\u6ca1\u6709\u7edf\u4e00\u7684\u67e5\u8be2\u8bed\u8a00\u56fd\u9645\u6807\u51c6\uff0c\u4e00\u65e6 ISO/IEC \u7684\u56fe\u67e5\u8be2\u8bed\u8a00\uff08GQL\uff09\u59d4\u5458\u4f1a\u53d1\u5e03 GQL \u56fd\u9645\u6807\u51c6\uff0cnGQL \u4f1a\u5c3d\u5feb\u53bb\u5b9e\u73b0\u517c\u5bb9\u3002 Parser \u6784\u5efa\u4ea7\u51fa\u7684\u62bd\u8c61\u8bed\u6cd5\u6811\uff08Abstract Syntax Tree\uff0c\u7b80\u79f0 AST\uff09\u4f1a\u4ea4\u7ed9\u4e0b\u4e00\u6a21\u5757\uff1aExecution Planner\u3002 Execution Planner \u00b6 \u6267\u884c\u8ba1\u5212\u5668\uff08Execution Planner\uff09\u8d1f\u8d23\u5c06\u62bd\u8c61\u6811 AST \u89e3\u6790\u6210\u4e00\u7cfb\u5217\u6267\u884c\u52a8\u4f5c action\uff08\u53ef\u6267\u884c\u8ba1\u5212\uff09\u3002action \u4e3a\u6700\u5c0f\u53ef\u6267\u884c\u5355\u5143\u3002\u4f8b\u5982\uff0c\u5178\u578b\u7684 action \u53ef\u4ee5\u662f\u83b7\u53d6\u67d0\u4e2a\u8282\u70b9\u7684\u6240\u6709\u90bb\u8282\u70b9\uff0c\u6216\u8005\u83b7\u5f97\u67d0\u6761\u8fb9\u7684\u5c5e\u6027\uff0c\u6216\u57fa\u4e8e\u7279\u5b9a\u8fc7\u6ee4\u6761\u4ef6\u7b5b\u9009\u8282\u70b9\u6216\u8fb9\u3002 \u5f53\u62bd\u8c61\u6811 AST \u88ab\u8f6c\u6362\u6210\u6267\u884c\u8ba1\u5212\u65f6\uff0c\u6240\u6709 ID \u4fe1\u606f\u4f1a\u88ab\u62bd\u53d6\u51fa\u6765\u4ee5\u4fbf\u6267\u884c\u8ba1\u5212\u7684\u590d\u7528\u3002\u8fd9\u4e9b ID \u4fe1\u606f\u4f1a\u653e\u7f6e\u5728\u5f53\u524d\u8bf7\u6c42 context \u4e2d\uff0ccontext \u4e5f\u4f1a\u4fdd\u5b58\u53d8\u91cf\u548c\u4e2d\u95f4\u7ed3\u679c\u3002 Optimization \u00b6 \u7ecf\u7531 Execution Planner \u4ea7\u751f\u7684\u6267\u884c\u8ba1\u5212\u4f1a\u4ea4\u7ed9\u4f18\u5316\u6846\u67b6 Optimization Framework\u3002\u4f18\u5316\u6846\u67b6\u4e2d\u6ce8\u518c\u6709\u591a\u4e2a Optimizer\u3002Optimizer \u4f1a\u4f9d\u6b21\u88ab\u8c03\u7528\u5bf9\u6267\u884c\u8ba1\u5212\u8fdb\u884c\u4f18\u5316\uff0c\u8fd9\u6837\u6bcf\u4e2a Optimizer \u90fd\u6709\u673a\u4f1a\u4fee\u6539\uff08\u4f18\u5316\uff09\u6267\u884c\u8ba1\u5212\u3002 \u6700\u540e\uff0c\u4f18\u5316\u8fc7\u7684\u6267\u884c\u8ba1\u5212\u53ef\u80fd\u548c\u539f\u59cb\u6267\u884c\u8ba1\u5212\u5b8c\u5168\u4e0d\u4e00\u6837\uff0c\u4f46\u662f\u4f18\u5316\u540e\u7684\u6267\u884c\u7ed3\u679c\u5fc5\u987b\u548c\u539f\u59cb\u6267\u884c\u8ba1\u5212\u7684\u7ed3\u679c\u4e00\u6837\u3002 Execution \u00b6 Query Engine \u6700\u540e\u4e00\u6b65\u662f\u53bb\u6267\u884c\u4f18\u5316\u540e\u7684\u6267\u884c\u8ba1\u5212\uff0c\u8fd9\u6b65\u662f\u6267\u884c\u6846\u67b6\uff08Execution Framework\uff09\u5b8c\u6210\u7684\u3002\u6267\u884c\u5c42\u7684\u6bcf\u4e2a\u6267\u884c\u5668\u4e00\u6b21\u53ea\u5904\u7406\u4e00\u4e2a\u6267\u884c\u8ba1\u5212\uff0c\u8ba1\u5212\u4e2d\u7684 action \u4f1a\u4f9d\u6b21\u6267\u884c\u3002\u6267\u884c\u5668\u4e5f\u4f1a\u505a\u4e00\u4e9b\u6709\u9650\u7684\u5c40\u90e8\u4f18\u5316\uff0c\u6bd4\u5982\uff1a\u51b3\u5b9a\u662f\u5426\u5e76\u53d1\u6267\u884c\u3002 \u9488\u5bf9\u4e0d\u540c action\uff0c\u6267\u884c\u5668\u5c06\u901a\u8fc7\u5ba2\u6237\u7aef\u4e0e meta service \u6216 storage engine \u8fdb\u884c\u901a\u4fe1\u3002","title":"\u67e5\u8be2\u5f15\u64ce\u67b6\u6784"},{"location":"manual-CN/1.overview/3.design-and-architecture/3.query-engine/#_1","text":"\u5728 Nebula Graph \u4e2d\uff0cQuery Engine \u7528\u6765\u5904\u7406 Nebula Graph \u67e5\u8be2\u8bed\u8a00\u8bed\u53e5\uff08nGQL\uff09\u3002\u672c\u7bc7\u6587\u7ae0\u5c06\u5e26\u4f60\u4e86\u89e3 Nebula Query Engine \u7684\u67b6\u6784\u3002 \u4e0a\u56fe\u4e3a\u67e5\u8be2\u5f15\u64ce\u7684\u67b6\u6784\u56fe\uff0c\u5982\u679c\u4f60\u5bf9 SQL \u7684\u6267\u884c\u5f15\u64ce\u6bd4\u8f83\u719f\u6089\uff0c\u90a3\u4e48\u5bf9\u4e0a\u56fe\u4e00\u5b9a\u4e0d\u4f1a\u964c\u751f\u3002 Nebula Graph \u7684 Query Engine \u67b6\u6784\u56fe\u548c\u73b0\u4ee3 SQL \u7684\u6267\u884c\u5f15\u64ce\u7c7b\u4f3c\uff0c\u53ea\u662f\u5728\u67e5\u8be2\u8bed\u8a00\u89e3\u6790\u5668\u548c\u5177\u4f53\u7684\u6267\u884c\u8ba1\u5212\u6709\u6240\u533a\u522b\u3002","title":"\u67e5\u8be2\u5f15\u64ce\u8bbe\u8ba1"},{"location":"manual-CN/1.overview/3.design-and-architecture/3.query-engine/#session_manager","text":"Nebula Graph \u6743\u9650\u7ba1\u7406\u91c7\u7528\u57fa\u4e8e\u89d2\u8272\u7684\u6743\u9650\u63a7\u5236\uff08Role Based Access Control\uff09\u3002\u5ba2\u6237\u7aef\u7b2c\u4e00\u6b21\u8fde\u63a5\u5230 Query Engine \u65f6\u9700\u4f5c\u8ba4\u8bc1\uff0c\u5f53\u8ba4\u8bc1\u6210\u529f\u4e4b\u540e Query Engine \u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0 session\uff0c\u5e76\u5c06\u8be5 session ID \u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u6240\u6709\u7684 session \u7edf\u4e00\u7531 Session Manager \u7ba1\u7406\u3002session \u4f1a\u8bb0\u5f55\u5f53\u524d\u7684 graph space \u4fe1\u606f\u53ca\u5bf9\u8be5 space \u7684\u6743\u9650\u3002\u6b64\u5916\uff0csession \u8fd8\u4f1a\u8bb0\u5f55\u4e00\u4e9b\u4f1a\u8bdd\u76f8\u5173\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u5e76\u4e34\u65f6\u4fdd\u5b58\u540c\u4e00 session \u5185\u7684\u8de8\u591a\u4e2a\u8bf7\u6c42\u7684\u4e00\u4e9b\u4fe1\u606f\u3002 \u5ba2\u6237\u7aef\u8fde\u63a5\u7ed3\u675f\u4e4b\u540e session \u4f1a\u5173\u95ed\uff0c\u6216\u8005\u5982\u679c\u957f\u65f6\u95f4\u6ca1\u901a\u4fe1\u4f1a\u5207\u6362\u4e3a\u7a7a\u95f2\u72b6\u6001\u3002\u8fd9\u4e2a\u7a7a\u95f2\u65f6\u957f\u662f\u53ef\u4ee5\u914d\u7f6e\u7684\u3002 \u5ba2\u6237\u7aef\u7684\u6bcf\u6b21\u8bf7\u6c42\u90fd\u5fc5\u987b\u5e26\u4e0a\u6b64 session ID\uff0c\u5426\u5219 Query Engine \u4f1a\u62d2\u7edd\u6b64\u8bf7\u6c42\u3002 Storage Engine \u4e0d\u7ba1\u7406 session\uff0cQuery Engine \u5728\u8bbf\u95ee\u5b58\u50a8\u5f15\u64ce\u65f6\uff0c\u4f1a\u5e26\u4e0a session \u4fe1\u606f\u3002","title":"Session Manager"},{"location":"manual-CN/1.overview/3.design-and-architecture/3.query-engine/#parser","text":"Query Engine \u89e3\u6790\u6765\u81ea\u5ba2\u6237\u7aef\u7684 nGQL \u8bed\u53e5\uff0c\u5206\u6790\u5668\uff08parser\uff09\u4e3b\u8981\u57fa\u4e8e\u8457\u540d\u7684 flex / bison \u5de5\u5177\u96c6\u3002\u5b57\u5178\u6587\u4ef6\uff08lexicon\uff09\u548c\u8bed\u6cd5\u89c4\u5219\uff08syntax\uff09\u5728 Nebula Graph \u6e90\u4ee3\u7801\u7684 src/parser \u76ee\u5f55\u4e0b\u3002\u8bbe\u8ba1\u4e0a\uff0cnGQL \u7684\u8bed\u6cd5\u975e\u5e38\u63a5\u8fd1 SQL\uff0c\u76ee\u7684\u662f\u964d\u4f4e\u5b66\u4e60\u6210\u672c\u3002 \u56fe\u6570\u636e\u5e93\u76ee\u524d\u6ca1\u6709\u7edf\u4e00\u7684\u67e5\u8be2\u8bed\u8a00\u56fd\u9645\u6807\u51c6\uff0c\u4e00\u65e6 ISO/IEC \u7684\u56fe\u67e5\u8be2\u8bed\u8a00\uff08GQL\uff09\u59d4\u5458\u4f1a\u53d1\u5e03 GQL \u56fd\u9645\u6807\u51c6\uff0cnGQL \u4f1a\u5c3d\u5feb\u53bb\u5b9e\u73b0\u517c\u5bb9\u3002 Parser \u6784\u5efa\u4ea7\u51fa\u7684\u62bd\u8c61\u8bed\u6cd5\u6811\uff08Abstract Syntax Tree\uff0c\u7b80\u79f0 AST\uff09\u4f1a\u4ea4\u7ed9\u4e0b\u4e00\u6a21\u5757\uff1aExecution Planner\u3002","title":"Parser"},{"location":"manual-CN/1.overview/3.design-and-architecture/3.query-engine/#execution_planner","text":"\u6267\u884c\u8ba1\u5212\u5668\uff08Execution Planner\uff09\u8d1f\u8d23\u5c06\u62bd\u8c61\u6811 AST \u89e3\u6790\u6210\u4e00\u7cfb\u5217\u6267\u884c\u52a8\u4f5c action\uff08\u53ef\u6267\u884c\u8ba1\u5212\uff09\u3002action \u4e3a\u6700\u5c0f\u53ef\u6267\u884c\u5355\u5143\u3002\u4f8b\u5982\uff0c\u5178\u578b\u7684 action \u53ef\u4ee5\u662f\u83b7\u53d6\u67d0\u4e2a\u8282\u70b9\u7684\u6240\u6709\u90bb\u8282\u70b9\uff0c\u6216\u8005\u83b7\u5f97\u67d0\u6761\u8fb9\u7684\u5c5e\u6027\uff0c\u6216\u57fa\u4e8e\u7279\u5b9a\u8fc7\u6ee4\u6761\u4ef6\u7b5b\u9009\u8282\u70b9\u6216\u8fb9\u3002 \u5f53\u62bd\u8c61\u6811 AST \u88ab\u8f6c\u6362\u6210\u6267\u884c\u8ba1\u5212\u65f6\uff0c\u6240\u6709 ID \u4fe1\u606f\u4f1a\u88ab\u62bd\u53d6\u51fa\u6765\u4ee5\u4fbf\u6267\u884c\u8ba1\u5212\u7684\u590d\u7528\u3002\u8fd9\u4e9b ID \u4fe1\u606f\u4f1a\u653e\u7f6e\u5728\u5f53\u524d\u8bf7\u6c42 context \u4e2d\uff0ccontext \u4e5f\u4f1a\u4fdd\u5b58\u53d8\u91cf\u548c\u4e2d\u95f4\u7ed3\u679c\u3002","title":"Execution Planner"},{"location":"manual-CN/1.overview/3.design-and-architecture/3.query-engine/#optimization","text":"\u7ecf\u7531 Execution Planner \u4ea7\u751f\u7684\u6267\u884c\u8ba1\u5212\u4f1a\u4ea4\u7ed9\u4f18\u5316\u6846\u67b6 Optimization Framework\u3002\u4f18\u5316\u6846\u67b6\u4e2d\u6ce8\u518c\u6709\u591a\u4e2a Optimizer\u3002Optimizer \u4f1a\u4f9d\u6b21\u88ab\u8c03\u7528\u5bf9\u6267\u884c\u8ba1\u5212\u8fdb\u884c\u4f18\u5316\uff0c\u8fd9\u6837\u6bcf\u4e2a Optimizer \u90fd\u6709\u673a\u4f1a\u4fee\u6539\uff08\u4f18\u5316\uff09\u6267\u884c\u8ba1\u5212\u3002 \u6700\u540e\uff0c\u4f18\u5316\u8fc7\u7684\u6267\u884c\u8ba1\u5212\u53ef\u80fd\u548c\u539f\u59cb\u6267\u884c\u8ba1\u5212\u5b8c\u5168\u4e0d\u4e00\u6837\uff0c\u4f46\u662f\u4f18\u5316\u540e\u7684\u6267\u884c\u7ed3\u679c\u5fc5\u987b\u548c\u539f\u59cb\u6267\u884c\u8ba1\u5212\u7684\u7ed3\u679c\u4e00\u6837\u3002","title":"Optimization"},{"location":"manual-CN/1.overview/3.design-and-architecture/3.query-engine/#execution","text":"Query Engine \u6700\u540e\u4e00\u6b65\u662f\u53bb\u6267\u884c\u4f18\u5316\u540e\u7684\u6267\u884c\u8ba1\u5212\uff0c\u8fd9\u6b65\u662f\u6267\u884c\u6846\u67b6\uff08Execution Framework\uff09\u5b8c\u6210\u7684\u3002\u6267\u884c\u5c42\u7684\u6bcf\u4e2a\u6267\u884c\u5668\u4e00\u6b21\u53ea\u5904\u7406\u4e00\u4e2a\u6267\u884c\u8ba1\u5212\uff0c\u8ba1\u5212\u4e2d\u7684 action \u4f1a\u4f9d\u6b21\u6267\u884c\u3002\u6267\u884c\u5668\u4e5f\u4f1a\u505a\u4e00\u4e9b\u6709\u9650\u7684\u5c40\u90e8\u4f18\u5316\uff0c\u6bd4\u5982\uff1a\u51b3\u5b9a\u662f\u5426\u5e76\u53d1\u6267\u884c\u3002 \u9488\u5bf9\u4e0d\u540c action\uff0c\u6267\u884c\u5668\u5c06\u901a\u8fc7\u5ba2\u6237\u7aef\u4e0e meta service \u6216 storage engine \u8fdb\u884c\u901a\u4fe1\u3002","title":"Execution"},{"location":"manual-CN/2.query-language/0.README/","text":"\u9762\u5411\u7684\u8bfb\u8005 \u00b6 \u672c\u7ae0\u4ecb\u7ecd Nebula Graph \u7684\u67e5\u8be2\u8bed\u8a00\uff0c\u9002\u5408\u6240\u6709\u4f7f\u7528 Nebula Graph \u7684\u7528\u6237\u3002 \u793a\u4f8b\u6570\u636e \u00b6 Nebula Graph \u67e5\u8be2\u8bed\u53e5\u4e2d\u4f7f\u7528\u7684\u793a\u4f8b\u6570\u636e\u53ef\u4ee5\u5728 \u6b64\u5904 \u4e0b\u8f7d\u3002\u793a\u4f8b\u6570\u636e\u4e0b\u8f7d\u5b8c\u6210\u540e\u53ef\u4ee5\u901a\u8fc7 Nebula Graph Studio \u628a\u6570\u636e\u5bfc\u5165\u5230 Nebula Graph \u6570\u636e\u5e93\u4e2d\u3002 \u5360\u4f4d\u6807\u8bc6\u7b26\u548c\u5360\u4f4d\u7b26\u503c \u00b6 Nebula Graph \u67e5\u8be2\u8bed\u8a00 nGQL \u53c2\u7167\u4ee5\u4e0b\u6807\u51c6\u8bbe\u8ba1\uff1a ISO/IEC 10646 ISO/IEC 39075 ISO/IEC NP 39075 (Draft) \u5728\u6a21\u677f\u4ee3\u7801\u4e2d\uff0c\u4efb\u4f55\u975e\u5173\u952e\u8bcd\uff0c\u6587\u5b57\u6216\u6807\u70b9\u7b26\u53f7\u7684\u6807\u8bb0\u5747\u4e3a\u5360\u4f4d\u6807\u8bc6\u7b26\u6216\u5360\u4f4d\u7b26\u503c\u3002 \u7b26\u53f7\u6807\u8bb0\u4f7f\u7528\u89c1\u4e0b\u8868\uff1a \u7b26\u53f7 \u542b\u4e49 < > \u5fc5\u9009\u9879 ::= \u5b9a\u4e49\u5143\u7d20\u7684\u516c\u5f0f [ ] \u53ef\u9009\u9879 { } \u660e\u786e\u6307\u5b9a\u7684\u5143\u7d20 | \u8868\u793a\u5728\u5176\u5de6\u53f3\u4e24\u8fb9\u4efb\u9009\u4e00\u9879 ... \u5143\u7d20\u53ef\u91cd\u590d\u591a\u6b21","title":"\u67e5\u8be2\u8bed\u8a00\u7b80\u4ecb"},{"location":"manual-CN/2.query-language/0.README/#_1","text":"\u672c\u7ae0\u4ecb\u7ecd Nebula Graph \u7684\u67e5\u8be2\u8bed\u8a00\uff0c\u9002\u5408\u6240\u6709\u4f7f\u7528 Nebula Graph \u7684\u7528\u6237\u3002","title":"\u9762\u5411\u7684\u8bfb\u8005"},{"location":"manual-CN/2.query-language/0.README/#_2","text":"Nebula Graph \u67e5\u8be2\u8bed\u53e5\u4e2d\u4f7f\u7528\u7684\u793a\u4f8b\u6570\u636e\u53ef\u4ee5\u5728 \u6b64\u5904 \u4e0b\u8f7d\u3002\u793a\u4f8b\u6570\u636e\u4e0b\u8f7d\u5b8c\u6210\u540e\u53ef\u4ee5\u901a\u8fc7 Nebula Graph Studio \u628a\u6570\u636e\u5bfc\u5165\u5230 Nebula Graph \u6570\u636e\u5e93\u4e2d\u3002","title":"\u793a\u4f8b\u6570\u636e"},{"location":"manual-CN/2.query-language/0.README/#_3","text":"Nebula Graph \u67e5\u8be2\u8bed\u8a00 nGQL \u53c2\u7167\u4ee5\u4e0b\u6807\u51c6\u8bbe\u8ba1\uff1a ISO/IEC 10646 ISO/IEC 39075 ISO/IEC NP 39075 (Draft) \u5728\u6a21\u677f\u4ee3\u7801\u4e2d\uff0c\u4efb\u4f55\u975e\u5173\u952e\u8bcd\uff0c\u6587\u5b57\u6216\u6807\u70b9\u7b26\u53f7\u7684\u6807\u8bb0\u5747\u4e3a\u5360\u4f4d\u6807\u8bc6\u7b26\u6216\u5360\u4f4d\u7b26\u503c\u3002 \u7b26\u53f7\u6807\u8bb0\u4f7f\u7528\u89c1\u4e0b\u8868\uff1a \u7b26\u53f7 \u542b\u4e49 < > \u5fc5\u9009\u9879 ::= \u5b9a\u4e49\u5143\u7d20\u7684\u516c\u5f0f [ ] \u53ef\u9009\u9879 { } \u660e\u786e\u6307\u5b9a\u7684\u5143\u7d20 | \u8868\u793a\u5728\u5176\u5de6\u53f3\u4e24\u8fb9\u4efb\u9009\u4e00\u9879 ... \u5143\u7d20\u53ef\u91cd\u590d\u591a\u6b21","title":"\u5360\u4f4d\u6807\u8bc6\u7b26\u548c\u5360\u4f4d\u7b26\u503c"},{"location":"manual-CN/2.query-language/1.data-types/data-types/","text":"\u6570\u636e\u7c7b\u578b \u00b6 Nebula Graph \u652f\u6301\u7684\u5185\u5efa\u6570\u636e\u7c7b\u578b\u5982\u4e0b\uff1a \u6570\u503c\u578b \u00b6 \u6574\u578b \u00b6 \u6574\u578b\u7684\u5173\u952e\u5b57\u4e3a int \uff0c\u4e3a 64 \u4f4d \u6709\u7b26\u53f7 \u6574\u578b\uff0c\u8303\u56f4\u662f [-9223372036854775808, 9223372036854775807] \u3002\u6574\u578b\u5e38\u91cf\u652f\u6301\u591a\u79cd\u683c\u5f0f\uff1a 1. \u5341\u8fdb\u5236\uff0c\u4f8b\u5982 123456 2. \u5341\u516d\u8fdb\u5236\uff0c\u4f8b\u5982 0xdeadbeaf 3. \u516b\u8fdb\u5236\uff0c\u4f8b\u5982 01234567 \u53cc\u6d6e\u70b9\u578b \u00b6 \u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u7684\u5173\u952e\u5b57\u4e3a double \uff0c\u4e14\u6ca1\u6709\u4e0a\u9650\u548c\u4e0b\u9650\u3002 \u5e03\u5c14\u578b \u00b6 \u5e03\u5c14\u578b\u5173\u952e\u5b57\u4e3a bool \uff0c\u5b57\u9762\u5e38\u91cf\u4e3a true \u548c false \u3002 \u5b57\u7b26\u578b \u00b6 \u5b57\u7b26\u578b\u5173\u952e\u5b57\u4e3a string \uff0c\u5b57\u9762\u5e38\u91cf\u4e3a\u53cc\u5f15\u53f7\u6216\u5355\u5f15\u53f7\u5305\u56f4\u7684\u4efb\u610f\u957f\u5ea6\u7684\u5b57\u7b26\u5e8f\u5217\uff0c\u5b57\u7b26\u4e32\u4e2d\u95f4\u4e0d\u5141\u8bb8\u6362\u884c\u3002\u4f8b\u5982 \"Shaquile O'Neal\" \uff0c '\"This is a double-quoted literal string\"' \u3002\u5b57\u7b26\u4e32\u5185\u652f\u6301\u5d4c\u5165\u8f6c\u4e49\u5e8f\u5217\uff0c\u4f8b\u5982\uff1a 1. \"\\n\\t\\r\\b\\f\" 1. \"\\110ello world\" \u65f6\u95f4\u6233\u7c7b\u578b \u00b6 \u65f6\u95f4\u6233\u7c7b\u578b\u7684\u53d6\u503c\u8303\u56f4\u4e3a 1970-01-01 00:00:01 UTC \u5230 2262-04-11 23:47:16 UTC \u65f6\u95f4\u6233\u5355\u4f4d\u4e3a\u79d2 \u63d2\u5165\u6570\u636e\u7684\u65f6\u5019\uff0c\u652f\u6301\u63d2\u5165\u65b9\u5f0f \u8c03\u7528\u51fd\u6570 now() \u65f6\u95f4\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982\uff1a\"2019-10-01 10:00:00\" \u76f4\u63a5\u8f93\u5165\u65f6\u95f4\u6233\uff0c\u5373\u4ece 1970-01-01 00:00:00 \u5f00\u59cb\u7684\u79d2\u6570 \u5f53\u63d2\u5165\u7684\u65f6\u95f4\u683c\u5f0f\u4e3a\u5b57\u7b26\u4e32\u65f6\uff0c\u505a\u6570\u636e\u5b58\u50a8\u7684\u65f6\u5019\uff0c\u4f1a\u5148\u5c06\u65f6\u95f4\u6839\u636e\u670d\u52a1\u7aef\u65f6\u533a\u8f6c\u5316\u4e3a UTC \u65f6\u95f4\uff0c\u8bfb\u53d6\u7684\u65f6\u5019 console \u4f1a\u5c06\u5b58\u50a8\u7684 UTC \u65f6\u95f4\u6233\u8f6c\u6362\u4e3a\u672c\u5730\u65f6\u95f4\u7ed9\u7528\u6237\u3002 \u5e95\u5c42\u5b58\u50a8\u6570\u636e\u7c7b\u578b\u4e3a: int64 \u793a\u4f8b \u00b6 \u5148\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a school \u7684 tag nebula> CREATE TAG school(name string , create_time timestamp); \u63d2\u5165\u4e00\u4e2a\u70b9\uff0c\u540d\u4e3a \"xiwang\"\uff0c\u5efa\u6821\u65f6\u95f4\u4e3a \"2010-09-01 08:00:00\" nebula> INSERT VERTEX school(name, create_time) VALUES hash(\"xiwang\"):(\"xiwang\", \"2010-09-01 08:00:00\"); \u63d2\u5165\u4e00\u4e2a\u70b9\uff0c\u540d\u4e3a \"guangming\"\uff0c\u5efa\u6821\u65f6\u95f4\u4e3a\u73b0\u5728 nebula> INSERT VERTEX school(name, create_time) VALUES hash(\"guangming\"):(\"guangming\", now());","title":"\u57fa\u672c\u6570\u636e\u7c7b\u578b"},{"location":"manual-CN/2.query-language/1.data-types/data-types/#_1","text":"Nebula Graph \u652f\u6301\u7684\u5185\u5efa\u6570\u636e\u7c7b\u578b\u5982\u4e0b\uff1a","title":"\u6570\u636e\u7c7b\u578b"},{"location":"manual-CN/2.query-language/1.data-types/data-types/#_2","text":"","title":"\u6570\u503c\u578b"},{"location":"manual-CN/2.query-language/1.data-types/data-types/#_3","text":"\u6574\u578b\u7684\u5173\u952e\u5b57\u4e3a int \uff0c\u4e3a 64 \u4f4d \u6709\u7b26\u53f7 \u6574\u578b\uff0c\u8303\u56f4\u662f [-9223372036854775808, 9223372036854775807] \u3002\u6574\u578b\u5e38\u91cf\u652f\u6301\u591a\u79cd\u683c\u5f0f\uff1a 1. \u5341\u8fdb\u5236\uff0c\u4f8b\u5982 123456 2. \u5341\u516d\u8fdb\u5236\uff0c\u4f8b\u5982 0xdeadbeaf 3. \u516b\u8fdb\u5236\uff0c\u4f8b\u5982 01234567","title":"\u6574\u578b"},{"location":"manual-CN/2.query-language/1.data-types/data-types/#_4","text":"\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u7684\u5173\u952e\u5b57\u4e3a double \uff0c\u4e14\u6ca1\u6709\u4e0a\u9650\u548c\u4e0b\u9650\u3002","title":"\u53cc\u6d6e\u70b9\u578b"},{"location":"manual-CN/2.query-language/1.data-types/data-types/#_5","text":"\u5e03\u5c14\u578b\u5173\u952e\u5b57\u4e3a bool \uff0c\u5b57\u9762\u5e38\u91cf\u4e3a true \u548c false \u3002","title":"\u5e03\u5c14\u578b"},{"location":"manual-CN/2.query-language/1.data-types/data-types/#_6","text":"\u5b57\u7b26\u578b\u5173\u952e\u5b57\u4e3a string \uff0c\u5b57\u9762\u5e38\u91cf\u4e3a\u53cc\u5f15\u53f7\u6216\u5355\u5f15\u53f7\u5305\u56f4\u7684\u4efb\u610f\u957f\u5ea6\u7684\u5b57\u7b26\u5e8f\u5217\uff0c\u5b57\u7b26\u4e32\u4e2d\u95f4\u4e0d\u5141\u8bb8\u6362\u884c\u3002\u4f8b\u5982 \"Shaquile O'Neal\" \uff0c '\"This is a double-quoted literal string\"' \u3002\u5b57\u7b26\u4e32\u5185\u652f\u6301\u5d4c\u5165\u8f6c\u4e49\u5e8f\u5217\uff0c\u4f8b\u5982\uff1a 1. \"\\n\\t\\r\\b\\f\" 1. \"\\110ello world\"","title":"\u5b57\u7b26\u578b"},{"location":"manual-CN/2.query-language/1.data-types/data-types/#_7","text":"\u65f6\u95f4\u6233\u7c7b\u578b\u7684\u53d6\u503c\u8303\u56f4\u4e3a 1970-01-01 00:00:01 UTC \u5230 2262-04-11 23:47:16 UTC \u65f6\u95f4\u6233\u5355\u4f4d\u4e3a\u79d2 \u63d2\u5165\u6570\u636e\u7684\u65f6\u5019\uff0c\u652f\u6301\u63d2\u5165\u65b9\u5f0f \u8c03\u7528\u51fd\u6570 now() \u65f6\u95f4\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982\uff1a\"2019-10-01 10:00:00\" \u76f4\u63a5\u8f93\u5165\u65f6\u95f4\u6233\uff0c\u5373\u4ece 1970-01-01 00:00:00 \u5f00\u59cb\u7684\u79d2\u6570 \u5f53\u63d2\u5165\u7684\u65f6\u95f4\u683c\u5f0f\u4e3a\u5b57\u7b26\u4e32\u65f6\uff0c\u505a\u6570\u636e\u5b58\u50a8\u7684\u65f6\u5019\uff0c\u4f1a\u5148\u5c06\u65f6\u95f4\u6839\u636e\u670d\u52a1\u7aef\u65f6\u533a\u8f6c\u5316\u4e3a UTC \u65f6\u95f4\uff0c\u8bfb\u53d6\u7684\u65f6\u5019 console \u4f1a\u5c06\u5b58\u50a8\u7684 UTC \u65f6\u95f4\u6233\u8f6c\u6362\u4e3a\u672c\u5730\u65f6\u95f4\u7ed9\u7528\u6237\u3002 \u5e95\u5c42\u5b58\u50a8\u6570\u636e\u7c7b\u578b\u4e3a: int64","title":"\u65f6\u95f4\u6233\u7c7b\u578b"},{"location":"manual-CN/2.query-language/1.data-types/data-types/#_8","text":"\u5148\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a school \u7684 tag nebula> CREATE TAG school(name string , create_time timestamp); \u63d2\u5165\u4e00\u4e2a\u70b9\uff0c\u540d\u4e3a \"xiwang\"\uff0c\u5efa\u6821\u65f6\u95f4\u4e3a \"2010-09-01 08:00:00\" nebula> INSERT VERTEX school(name, create_time) VALUES hash(\"xiwang\"):(\"xiwang\", \"2010-09-01 08:00:00\"); \u63d2\u5165\u4e00\u4e2a\u70b9\uff0c\u540d\u4e3a \"guangming\"\uff0c\u5efa\u6821\u65f6\u95f4\u4e3a\u73b0\u5728 nebula> INSERT VERTEX school(name, create_time) VALUES hash(\"guangming\"):(\"guangming\", now());","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/1.data-types/type-conversion/","text":"\u7c7b\u578b\u8f6c\u6362 \u00b6 \u5728 nGQL \u4e2d\uff0c\u7c7b\u578b\u8f6c\u6362\u5206\u4e3a\u9690\u5f0f\u8f6c\u6362\u548c\u663e\u5f0f\u8f6c\u6362\u3002 \u9690\u5f0f\u8f6c\u6362 \u00b6 \u5728\u8868\u8fbe\u5f0f\u4e2d\uff0c\u517c\u5bb9\u7c7b\u578b\u95f4\u53ef\u81ea\u52a8\u5b8c\u6210\u7c7b\u578b\u8f6c\u6362\uff1a \u4ee5\u4e0b\u7c7b\u578b\u5747\u53ef\u9690\u5f0f\u8f6c\u6362\u81f3 bool \u7c7b\u578b\uff1a \u5f53\u4e14\u4ec5\u5f53\u5b57\u7b26\u4e32\u957f\u5ea6\u4e3a 0 \u65f6\uff0c\u53ef\u88ab\u9690\u5f0f\u8f6c\u6362\u4e3a false \uff0c\u5426\u5219\u4e3a true \u5f53\u4e14\u4ec5\u5f53\u6574\u578b\u6570\u503c\u4e3a 0 \u65f6\uff0c\u53ef\u88ab\u9690\u5f0f\u8f6c\u6362\u4e3a false \uff0c\u5426\u5219\u4e3a true \u5f53\u4e14\u4ec5\u5f53\u6d6e\u70b9\u7c7b\u578b\u6570\u503c\u4e3a 0.0 \u65f6\uff0c\u53ef\u88ab\u9690\u5f0f\u8f6c\u6362\u4e3a false \uff0c\u5426\u5219\u4e3a true int \u7c7b\u578b\u53ef\u9690\u5f0f\u8f6c\u6362\u4e3a double \u7c7b\u578b \u663e\u5f0f\u8f6c\u6362 \u00b6 \u9664\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\u5916\uff0c\u5728\u7b26\u5408\u8bed\u4e49\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\u3002\u8bed\u6cd5\u89c4\u5219\u7c7b\u4f3c C \u8bed\u8a00\uff1a (type_name)expression \u3002\u4f8b\u5982\uff0c YIELD length((string)(123)), (int)\"123\" + 1 \u6267\u884c\u7ed3\u679c\u4e3a 3, 124 \u3002 YIELD (int)(TRUE) \u6267\u884c\u7ed3\u679c\u4e3a 1 \u3002 YIELD (int)(\"12ab3\") \u5219\u4f1a\u8f6c\u6362\u5931\u8d25\u3002","title":"\u7c7b\u578b\u8f6c\u6362"},{"location":"manual-CN/2.query-language/1.data-types/type-conversion/#_1","text":"\u5728 nGQL \u4e2d\uff0c\u7c7b\u578b\u8f6c\u6362\u5206\u4e3a\u9690\u5f0f\u8f6c\u6362\u548c\u663e\u5f0f\u8f6c\u6362\u3002","title":"\u7c7b\u578b\u8f6c\u6362"},{"location":"manual-CN/2.query-language/1.data-types/type-conversion/#_2","text":"\u5728\u8868\u8fbe\u5f0f\u4e2d\uff0c\u517c\u5bb9\u7c7b\u578b\u95f4\u53ef\u81ea\u52a8\u5b8c\u6210\u7c7b\u578b\u8f6c\u6362\uff1a \u4ee5\u4e0b\u7c7b\u578b\u5747\u53ef\u9690\u5f0f\u8f6c\u6362\u81f3 bool \u7c7b\u578b\uff1a \u5f53\u4e14\u4ec5\u5f53\u5b57\u7b26\u4e32\u957f\u5ea6\u4e3a 0 \u65f6\uff0c\u53ef\u88ab\u9690\u5f0f\u8f6c\u6362\u4e3a false \uff0c\u5426\u5219\u4e3a true \u5f53\u4e14\u4ec5\u5f53\u6574\u578b\u6570\u503c\u4e3a 0 \u65f6\uff0c\u53ef\u88ab\u9690\u5f0f\u8f6c\u6362\u4e3a false \uff0c\u5426\u5219\u4e3a true \u5f53\u4e14\u4ec5\u5f53\u6d6e\u70b9\u7c7b\u578b\u6570\u503c\u4e3a 0.0 \u65f6\uff0c\u53ef\u88ab\u9690\u5f0f\u8f6c\u6362\u4e3a false \uff0c\u5426\u5219\u4e3a true int \u7c7b\u578b\u53ef\u9690\u5f0f\u8f6c\u6362\u4e3a double \u7c7b\u578b","title":"\u9690\u5f0f\u8f6c\u6362"},{"location":"manual-CN/2.query-language/1.data-types/type-conversion/#_3","text":"\u9664\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\u5916\uff0c\u5728\u7b26\u5408\u8bed\u4e49\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\u3002\u8bed\u6cd5\u89c4\u5219\u7c7b\u4f3c C \u8bed\u8a00\uff1a (type_name)expression \u3002\u4f8b\u5982\uff0c YIELD length((string)(123)), (int)\"123\" + 1 \u6267\u884c\u7ed3\u679c\u4e3a 3, 124 \u3002 YIELD (int)(TRUE) \u6267\u884c\u7ed3\u679c\u4e3a 1 \u3002 YIELD (int)(\"12ab3\") \u5219\u4f1a\u8f6c\u6362\u5931\u8d25\u3002","title":"\u663e\u5f0f\u8f6c\u6362"},{"location":"manual-CN/2.query-language/2.functions-and-operators/bitwise-operators/","text":"\u4f4d\u8fd0\u7b97\u7b26 \u00b6 \u540d\u79f0 \u63cf\u8ff0 & \u6309\u4f4d\u4e0e | \u6309\u4f4d\u6216 ^ \u6309\u4f4d\u5f02\u6216","title":"\u4f4d\u8fd0\u7b97"},{"location":"manual-CN/2.query-language/2.functions-and-operators/bitwise-operators/#_1","text":"\u540d\u79f0 \u63cf\u8ff0 & \u6309\u4f4d\u4e0e | \u6309\u4f4d\u6216 ^ \u6309\u4f4d\u5f02\u6216","title":"\u4f4d\u8fd0\u7b97\u7b26"},{"location":"manual-CN/2.query-language/2.functions-and-operators/built-in-functions/","text":"\u5185\u5efa\u51fd\u6570 \u00b6 Nebula Graph \u652f\u6301\u5728\u8868\u8fbe\u5f0f\u4e2d\u8c03\u7528\u5982\u4e0b\u7c7b\u578b\u7684\u5185\u5efa\u51fd\u6570\u3002 \u6570\u5b66\u76f8\u5173 \u00b6 \u51fd\u6570 \u63cf\u8ff0 double abs(double x) \u8fd4\u56de\u7edd\u5bf9\u503c double floor(double x) \u8fd4\u56de\u5c0f\u4e8e\u53c2\u6570\u7684\u6700\u5927\u6574\u6570\uff08\u5411\u4e0b\u53d6\u6574\uff09 double ceil(double x) \u8fd4\u56de\u5927\u4e8e\u53c2\u6570\u7684\u6700\u5c0f\u6574\u6570\uff08\u5411\u4e0a\u53d6\u6574\uff09 double round(double x) \u5bf9\u53c2\u6570\u53d6\u6574\uff0c\u5982\u679c\u53c2\u6570\u4f4d\u4e8e\u4e2d\u95f4\u4f4d\u7f6e\uff0c\u5219\u8fd4\u56de\u8fdc\u79bb 0 \u7684\u6570\u5b57 double sqrt(double x) \u8fd4\u56de\u53c2\u6570\u7684\u5e73\u65b9\u6839 double cbrt(double x) \u8fd4\u56de\u53c2\u6570\u7684\u7acb\u65b9\u6839 double hypot(double x, double y) \u8fd4\u56de\u4e00\u4e2a\u76f4\u89d2\u4e09\u89d2\u5f62\u7684\u659c\u8fb9 double pow(double x, double y) \u8fd4\u56de x \u7684 y \u6b21\u5e42 double exp(double x) \u8ba1\u7b97 e \u7684 x \u6b21\u5e42 double exp2(double x) \u8fd4\u56de 2 \u7684\u6307\u5b9a\u6b21\u5e42 double log(double x) \u8fd4\u56de\u53c2\u6570\u7684\u81ea\u7136\u5bf9\u6570 double log2(double x) \u8fd4\u56de\u5e95\u6570\u4e3a 2 \u7684\u5bf9\u6570 double log10(double x) \u8fd4\u56de\u5e95\u6570\u4e3a 10 \u7684\u5bf9\u6570 double sin(double x) \u8fd4\u56de\u6b63\u5f26\u51fd\u6570\u503c double asin(double x) \u8fd4\u56de\u53cd\u6b63\u5f26\u51fd\u6570\u503c double cos(double x) \u8fd4\u56de\u4f59\u5f26\u51fd\u6570\u503c double acos(double x) \u8fd4\u56de\u53cd\u4f59\u5f26\u51fd\u6570\u503c double tan(double x) \u8fd4\u56de\u6b63\u5207\u51fd\u6570\u503c double atan(double x) \u8fd4\u56de\u53cd\u6b63\u5207\u51fd\u6570\u503c int rand32() \u8fd4\u56de 32bit \u6574\u578b\u4f2a\u968f\u673a\u6570 int rand32(int max) \u8fd4\u56de [0, max) \u533a\u95f4\u5185\u7684 32bit \u6574\u578b\u4f2a\u968f\u673a\u6570 int rand32(int min, int max) \u8fd4\u56de [min, max) \u533a\u95f4\u5185\u7684 32bit \u6574\u578b\u4f2a\u968f\u673a\u6570 int rand64() \u8fd4\u56de 64bit \u6574\u578b\u4f2a\u968f\u673a\u6570 int rand64(int max) \u8fd4\u56de [0, max) \u533a\u95f4\u5185\u7684 64bit \u6574\u578b\u4f2a\u968f\u673a\u6570 int rand64(int min, int max) \u8fd4\u56de [min, max) \u533a\u95f4\u5185\u7684 64bit \u6574\u578b\u4f2a\u968f\u673a\u6570 \u5b57\u7b26\u4e32\u76f8\u5173 \u00b6 \u6ce8\u610f\uff1a \u548c SQL \u4e00\u6837\uff0cnGQL \u7684\u5b57\u7b26\u7d22\u5f15\uff08\u4f4d\u7f6e\uff09\u4ece 1 \u5f00\u59cb\uff0c\u800c\u4e0d\u662f\u7c7b\u4f3c C \u8bed\u8a00\u4ece 0 \u5f00\u59cb\u3002 \u51fd\u6570 \u63cf\u8ff0 int strcasecmp(string a, string b) \u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\u5b57\u7b26\u4e32\u6bd4\u8f83\uff0c\u76f8\u7b49\u65f6\u8fd4\u56de\u96f6\uff0ca > b \u65f6\u8fd4\u56de\u503c\u5927\u4e8e\u96f6\uff0c\u5426\u5219\u8fd4\u56de\u503c\u5c0f\u4e8e\u96f6 string lower(string a) \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5c0f\u5199 string upper(string a) \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5927\u5199 int length(string a) \u8fd4\u56de\u5b57\u7b26\u4e32\u957f\u5ea6\uff08\u6574\u6570\uff09\uff08\u76ee\u524d\u5b9e\u73b0\u4e3a\uff0c\u8fd4\u56de\u5360\u7528\u5b57\u8282\u6570\uff09 string trim(string a) \u5220\u9664\u5b57\u7b26\u4e32\u4e24\u7aef\u7684\u7a7a\u767d\u5b57\u7b26\uff08\u7a7a\u683c\uff0c\u6362\u884c\uff0c\u5236\u8868\u7b26\u7b49\uff09 string ltrim(string a) \u5220\u9664\u5b57\u7b26\u4e32\u8d77\u59cb\u7684\u7a7a\u767d\u5b57\u7b26 string rtrim(string a) \u5220\u9664\u5b57\u7b26\u4e32\u672b\u5c3e\u7684\u7a7a\u767d\u5b57\u7b26 string left(string a, int count) \u8fd4\u56de [1, count] \u8303\u56f4\u5185\u7684\u5b50\u4e32\uff0c\u82e5\u5b57\u7b26\u4e32\u957f\u5ea6\u5c0f\u4e8e count \uff0c\u5219\u8fd4\u56de\u539f\u5b57\u7b26\u4e32 string right(string a, int count) \u8fd4\u56de [size - count + 1, size] \u8303\u56f4\u5185\u7684\u5b50\u4e32\uff0c\u82e5\u5b57\u7b26\u4e32\u957f\u5ea6\u5c0f\u4e8e count \uff0c\u5219\u8fd4\u56de\u539f\u5b57\u7b26\u4e32 string lpad(string a, int size, string letters) \u4f7f\u7528\u5b57\u7b26\u4e32 letters \u4ece\u5de6\u4fa7\u586b\u5145\u5b57\u7b26\u4e32\u81f3\u5176\u957f\u5ea6\u4e0d\u5c0f\u4e8e size string rpad(string a, int size, string letters) \u4f7f\u7528\u5b57\u7b26\u4e32 letters \u4ece\u53f3\u4fa7\u586b\u5145\u5b57\u7b26\u4e32\u81f3\u5176\u957f\u5ea6\u4e0d\u5c0f\u4e8e size string substr(string a, int pos, int count) \u4ece\u6307\u5b9a\u8d77\u59cb\u4f4d\u7f6e pos \u5f00\u59cb\uff0c\u83b7\u53d6\u957f\u5ea6\u4e3a count \u7684\u5b50\u4e32 int hash(string a) \u5bf9\u6570\u503c\u8fdb\u884c hash\uff0c\u8fd4\u56de\u503c\u7c7b\u578b\u4e3a\u6574\u6570 \u51fd\u6570 substr \u8fd4\u56de\u7ed3\u679c \u6ce8\u91ca \uff1a \u5982\u679c pos \u7b49\u4e8e 0 \uff0c\u8fd4\u56de\u7a7a\u4e32 \u5982\u679c pos \u7edd\u5bf9\u503c\u5927\u4e8e\u539f\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c\u8fd4\u56de\u7a7a\u4e32 \u5982\u679c pos \u5927\u4e8e 0 \uff0c\u8fd4\u56de [pos, pos + count) \u8303\u56f4\u5185\u7684\u5b50\u4e32 \u5982\u679c pos \u5c0f\u4e8e 0 \uff0c\u8bbe\u8d77\u59cb\u4f4d\u7f6e N \u4e3a length(a) + pos + 1 \uff0c\u8fd4\u56de [N, N + count) \u8303\u56f4\u5185\u7684\u5b50\u4e32 \u5982\u679c count \u5927\u4e8e length(a) \uff0c\u5219\u8fd4\u56de\u6574\u4e2a\u5b57\u7b26\u4e32 \u65f6\u95f4\u76f8\u5173 \u00b6 \u51fd\u6570 \u63cf\u8ff0 int now() \u8fd4\u56de\u5f53\u524d\u65f6\u95f4\u6233","title":"\u5185\u7f6e\u51fd\u6570"},{"location":"manual-CN/2.query-language/2.functions-and-operators/built-in-functions/#_1","text":"Nebula Graph \u652f\u6301\u5728\u8868\u8fbe\u5f0f\u4e2d\u8c03\u7528\u5982\u4e0b\u7c7b\u578b\u7684\u5185\u5efa\u51fd\u6570\u3002","title":"\u5185\u5efa\u51fd\u6570"},{"location":"manual-CN/2.query-language/2.functions-and-operators/built-in-functions/#_2","text":"\u51fd\u6570 \u63cf\u8ff0 double abs(double x) \u8fd4\u56de\u7edd\u5bf9\u503c double floor(double x) \u8fd4\u56de\u5c0f\u4e8e\u53c2\u6570\u7684\u6700\u5927\u6574\u6570\uff08\u5411\u4e0b\u53d6\u6574\uff09 double ceil(double x) \u8fd4\u56de\u5927\u4e8e\u53c2\u6570\u7684\u6700\u5c0f\u6574\u6570\uff08\u5411\u4e0a\u53d6\u6574\uff09 double round(double x) \u5bf9\u53c2\u6570\u53d6\u6574\uff0c\u5982\u679c\u53c2\u6570\u4f4d\u4e8e\u4e2d\u95f4\u4f4d\u7f6e\uff0c\u5219\u8fd4\u56de\u8fdc\u79bb 0 \u7684\u6570\u5b57 double sqrt(double x) \u8fd4\u56de\u53c2\u6570\u7684\u5e73\u65b9\u6839 double cbrt(double x) \u8fd4\u56de\u53c2\u6570\u7684\u7acb\u65b9\u6839 double hypot(double x, double y) \u8fd4\u56de\u4e00\u4e2a\u76f4\u89d2\u4e09\u89d2\u5f62\u7684\u659c\u8fb9 double pow(double x, double y) \u8fd4\u56de x \u7684 y \u6b21\u5e42 double exp(double x) \u8ba1\u7b97 e \u7684 x \u6b21\u5e42 double exp2(double x) \u8fd4\u56de 2 \u7684\u6307\u5b9a\u6b21\u5e42 double log(double x) \u8fd4\u56de\u53c2\u6570\u7684\u81ea\u7136\u5bf9\u6570 double log2(double x) \u8fd4\u56de\u5e95\u6570\u4e3a 2 \u7684\u5bf9\u6570 double log10(double x) \u8fd4\u56de\u5e95\u6570\u4e3a 10 \u7684\u5bf9\u6570 double sin(double x) \u8fd4\u56de\u6b63\u5f26\u51fd\u6570\u503c double asin(double x) \u8fd4\u56de\u53cd\u6b63\u5f26\u51fd\u6570\u503c double cos(double x) \u8fd4\u56de\u4f59\u5f26\u51fd\u6570\u503c double acos(double x) \u8fd4\u56de\u53cd\u4f59\u5f26\u51fd\u6570\u503c double tan(double x) \u8fd4\u56de\u6b63\u5207\u51fd\u6570\u503c double atan(double x) \u8fd4\u56de\u53cd\u6b63\u5207\u51fd\u6570\u503c int rand32() \u8fd4\u56de 32bit \u6574\u578b\u4f2a\u968f\u673a\u6570 int rand32(int max) \u8fd4\u56de [0, max) \u533a\u95f4\u5185\u7684 32bit \u6574\u578b\u4f2a\u968f\u673a\u6570 int rand32(int min, int max) \u8fd4\u56de [min, max) \u533a\u95f4\u5185\u7684 32bit \u6574\u578b\u4f2a\u968f\u673a\u6570 int rand64() \u8fd4\u56de 64bit \u6574\u578b\u4f2a\u968f\u673a\u6570 int rand64(int max) \u8fd4\u56de [0, max) \u533a\u95f4\u5185\u7684 64bit \u6574\u578b\u4f2a\u968f\u673a\u6570 int rand64(int min, int max) \u8fd4\u56de [min, max) \u533a\u95f4\u5185\u7684 64bit \u6574\u578b\u4f2a\u968f\u673a\u6570","title":"\u6570\u5b66\u76f8\u5173"},{"location":"manual-CN/2.query-language/2.functions-and-operators/built-in-functions/#_3","text":"\u6ce8\u610f\uff1a \u548c SQL \u4e00\u6837\uff0cnGQL \u7684\u5b57\u7b26\u7d22\u5f15\uff08\u4f4d\u7f6e\uff09\u4ece 1 \u5f00\u59cb\uff0c\u800c\u4e0d\u662f\u7c7b\u4f3c C \u8bed\u8a00\u4ece 0 \u5f00\u59cb\u3002 \u51fd\u6570 \u63cf\u8ff0 int strcasecmp(string a, string b) \u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\u5b57\u7b26\u4e32\u6bd4\u8f83\uff0c\u76f8\u7b49\u65f6\u8fd4\u56de\u96f6\uff0ca > b \u65f6\u8fd4\u56de\u503c\u5927\u4e8e\u96f6\uff0c\u5426\u5219\u8fd4\u56de\u503c\u5c0f\u4e8e\u96f6 string lower(string a) \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5c0f\u5199 string upper(string a) \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5927\u5199 int length(string a) \u8fd4\u56de\u5b57\u7b26\u4e32\u957f\u5ea6\uff08\u6574\u6570\uff09\uff08\u76ee\u524d\u5b9e\u73b0\u4e3a\uff0c\u8fd4\u56de\u5360\u7528\u5b57\u8282\u6570\uff09 string trim(string a) \u5220\u9664\u5b57\u7b26\u4e32\u4e24\u7aef\u7684\u7a7a\u767d\u5b57\u7b26\uff08\u7a7a\u683c\uff0c\u6362\u884c\uff0c\u5236\u8868\u7b26\u7b49\uff09 string ltrim(string a) \u5220\u9664\u5b57\u7b26\u4e32\u8d77\u59cb\u7684\u7a7a\u767d\u5b57\u7b26 string rtrim(string a) \u5220\u9664\u5b57\u7b26\u4e32\u672b\u5c3e\u7684\u7a7a\u767d\u5b57\u7b26 string left(string a, int count) \u8fd4\u56de [1, count] \u8303\u56f4\u5185\u7684\u5b50\u4e32\uff0c\u82e5\u5b57\u7b26\u4e32\u957f\u5ea6\u5c0f\u4e8e count \uff0c\u5219\u8fd4\u56de\u539f\u5b57\u7b26\u4e32 string right(string a, int count) \u8fd4\u56de [size - count + 1, size] \u8303\u56f4\u5185\u7684\u5b50\u4e32\uff0c\u82e5\u5b57\u7b26\u4e32\u957f\u5ea6\u5c0f\u4e8e count \uff0c\u5219\u8fd4\u56de\u539f\u5b57\u7b26\u4e32 string lpad(string a, int size, string letters) \u4f7f\u7528\u5b57\u7b26\u4e32 letters \u4ece\u5de6\u4fa7\u586b\u5145\u5b57\u7b26\u4e32\u81f3\u5176\u957f\u5ea6\u4e0d\u5c0f\u4e8e size string rpad(string a, int size, string letters) \u4f7f\u7528\u5b57\u7b26\u4e32 letters \u4ece\u53f3\u4fa7\u586b\u5145\u5b57\u7b26\u4e32\u81f3\u5176\u957f\u5ea6\u4e0d\u5c0f\u4e8e size string substr(string a, int pos, int count) \u4ece\u6307\u5b9a\u8d77\u59cb\u4f4d\u7f6e pos \u5f00\u59cb\uff0c\u83b7\u53d6\u957f\u5ea6\u4e3a count \u7684\u5b50\u4e32 int hash(string a) \u5bf9\u6570\u503c\u8fdb\u884c hash\uff0c\u8fd4\u56de\u503c\u7c7b\u578b\u4e3a\u6574\u6570 \u51fd\u6570 substr \u8fd4\u56de\u7ed3\u679c \u6ce8\u91ca \uff1a \u5982\u679c pos \u7b49\u4e8e 0 \uff0c\u8fd4\u56de\u7a7a\u4e32 \u5982\u679c pos \u7edd\u5bf9\u503c\u5927\u4e8e\u539f\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c\u8fd4\u56de\u7a7a\u4e32 \u5982\u679c pos \u5927\u4e8e 0 \uff0c\u8fd4\u56de [pos, pos + count) \u8303\u56f4\u5185\u7684\u5b50\u4e32 \u5982\u679c pos \u5c0f\u4e8e 0 \uff0c\u8bbe\u8d77\u59cb\u4f4d\u7f6e N \u4e3a length(a) + pos + 1 \uff0c\u8fd4\u56de [N, N + count) \u8303\u56f4\u5185\u7684\u5b50\u4e32 \u5982\u679c count \u5927\u4e8e length(a) \uff0c\u5219\u8fd4\u56de\u6574\u4e2a\u5b57\u7b26\u4e32","title":"\u5b57\u7b26\u4e32\u76f8\u5173"},{"location":"manual-CN/2.query-language/2.functions-and-operators/built-in-functions/#_4","text":"\u51fd\u6570 \u63cf\u8ff0 int now() \u8fd4\u56de\u5f53\u524d\u65f6\u95f4\u6233","title":"\u65f6\u95f4\u76f8\u5173"},{"location":"manual-CN/2.query-language/2.functions-and-operators/comparison-functions-and-operators/","text":"\u6bd4\u8f83\u51fd\u6570\u548c\u8fd0\u7b97\u7b26 \u00b6 \u8fd0\u7b97\u7b26 \u63cf\u8ff0 = \u8d4b\u503c\u8fd0\u7b97\u7b26 / \u9664\u6cd5\u8fd0\u7b97\u7b26 == \u7b49\u4e8e\u8fd0\u7b97\u7b26 != \u4e0d\u7b49\u4e8e\u8fd0\u7b97\u7b26 < \u5c0f\u4e8e\u8fd0\u7b97\u7b26 <= \u5c0f\u4e8e\u6216\u7b49\u4e8e\u8fd0\u7b97\u7b26 - \u51cf\u6cd5\u8fd0\u7b97\u7b26 % \u4f59\u6570\u8fd0\u7b97\u7b26 + \u52a0\u6cd5\u8fd0\u7b97\u7b26 * \u4e58\u6cd5\u8fd0\u7b97\u7b26 - \u8d1f\u53f7\u8fd0\u7b97\u7b26 udf_is_in() \u6bd4\u8f83\u51fd\u6570\uff0c\u5224\u65ad\u503c\u662f\u5426\u5728\u6307\u5b9a\u7684\u5217\u8868\u4e2d \u6bd4\u8f83\u8fd0\u7b97\u7684\u7ed3\u679c\u662f true \u6216 false \u3002 == \u7b49\u4e8e\u3002String\u7684\u6bd4\u8f83\u5927\u5c0f\u5199\u654f\u611f\u3002\u4e0d\u540c\u7c7b\u7684\u503c\u4e0d\u76f8\u540c\uff1a nebula> YIELD 'A' == 'a'; ============== | (\"A\"==\"a\") | ============== | false | -------------- nebula> YIELD '2' == 2; [ERROR (-8)]: A string type can not be compared with a non-string type. > \u5927\u4e8e\uff1a nebula> YIELD 3 > 2; ========= | (3>2) | ========= | true | --------- \u2265 \u5927\u4e8e\u6216\u7b49\u4e8e\uff1a nebula> YIELD 2 >= 2; ========== | (2>=2) | ========== | true | ---------- < \u5c0f\u4e8e\uff1a nebula> YIELD 2.0 < 1.9; ========================================= | (2.000000000000000<1.900000000000000) | ========================================= | false | ----------------------------------------- \u2264 \u5c0f\u4e8e\u6216\u7b49\u4e8e\uff1a nebula> YIELD 0.11 <= 0.11; ======================== | (0.110000<=0.110000) | ======================== | true | ------------------------ != \u4e0d\u7b49\u4e8e\uff1a nebula> YIELD 1 != '1'; [ERROR (-8)]: A string type can not be compared with a non-string type. udf_is_in() \u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u8981\u6bd4\u8f83\u7684\u503c\u3002 nebula> YIELD udf_is_in(1,0,1,2); ====================== | udf_is_in(1,0,1,2) | ====================== | true | ---------------------- nebula> GO FROM 100 OVER follow WHERE udf_is_in($$.player.name, \"Tony Parker\"); /*\u7531\u4e8eudf_is_in \u540e\u9762\u53ef\u80fd\u53d8\u66f4\uff0c\u6240\u4ee5\u8be5\u793a\u4f8b\u53ef\u80fd\u5931\u6548\u3002*/ =============== | follow._dst | =============== | 101 | --------------- nebula> GO FROM 100 OVER follow YIELD follow._dst AS id | GO FROM $-.id OVER follow WHERE udf_is_in($-.id, 102, 102 + 1); =============== | follow._dst | =============== | 100 | --------------- | 101 | ---------------","title":"\u6bd4\u8f83\u8fd0\u7b97"},{"location":"manual-CN/2.query-language/2.functions-and-operators/comparison-functions-and-operators/#_1","text":"\u8fd0\u7b97\u7b26 \u63cf\u8ff0 = \u8d4b\u503c\u8fd0\u7b97\u7b26 / \u9664\u6cd5\u8fd0\u7b97\u7b26 == \u7b49\u4e8e\u8fd0\u7b97\u7b26 != \u4e0d\u7b49\u4e8e\u8fd0\u7b97\u7b26 < \u5c0f\u4e8e\u8fd0\u7b97\u7b26 <= \u5c0f\u4e8e\u6216\u7b49\u4e8e\u8fd0\u7b97\u7b26 - \u51cf\u6cd5\u8fd0\u7b97\u7b26 % \u4f59\u6570\u8fd0\u7b97\u7b26 + \u52a0\u6cd5\u8fd0\u7b97\u7b26 * \u4e58\u6cd5\u8fd0\u7b97\u7b26 - \u8d1f\u53f7\u8fd0\u7b97\u7b26 udf_is_in() \u6bd4\u8f83\u51fd\u6570\uff0c\u5224\u65ad\u503c\u662f\u5426\u5728\u6307\u5b9a\u7684\u5217\u8868\u4e2d \u6bd4\u8f83\u8fd0\u7b97\u7684\u7ed3\u679c\u662f true \u6216 false \u3002 == \u7b49\u4e8e\u3002String\u7684\u6bd4\u8f83\u5927\u5c0f\u5199\u654f\u611f\u3002\u4e0d\u540c\u7c7b\u7684\u503c\u4e0d\u76f8\u540c\uff1a nebula> YIELD 'A' == 'a'; ============== | (\"A\"==\"a\") | ============== | false | -------------- nebula> YIELD '2' == 2; [ERROR (-8)]: A string type can not be compared with a non-string type. > \u5927\u4e8e\uff1a nebula> YIELD 3 > 2; ========= | (3>2) | ========= | true | --------- \u2265 \u5927\u4e8e\u6216\u7b49\u4e8e\uff1a nebula> YIELD 2 >= 2; ========== | (2>=2) | ========== | true | ---------- < \u5c0f\u4e8e\uff1a nebula> YIELD 2.0 < 1.9; ========================================= | (2.000000000000000<1.900000000000000) | ========================================= | false | ----------------------------------------- \u2264 \u5c0f\u4e8e\u6216\u7b49\u4e8e\uff1a nebula> YIELD 0.11 <= 0.11; ======================== | (0.110000<=0.110000) | ======================== | true | ------------------------ != \u4e0d\u7b49\u4e8e\uff1a nebula> YIELD 1 != '1'; [ERROR (-8)]: A string type can not be compared with a non-string type. udf_is_in() \u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u8981\u6bd4\u8f83\u7684\u503c\u3002 nebula> YIELD udf_is_in(1,0,1,2); ====================== | udf_is_in(1,0,1,2) | ====================== | true | ---------------------- nebula> GO FROM 100 OVER follow WHERE udf_is_in($$.player.name, \"Tony Parker\"); /*\u7531\u4e8eudf_is_in \u540e\u9762\u53ef\u80fd\u53d8\u66f4\uff0c\u6240\u4ee5\u8be5\u793a\u4f8b\u53ef\u80fd\u5931\u6548\u3002*/ =============== | follow._dst | =============== | 101 | --------------- nebula> GO FROM 100 OVER follow YIELD follow._dst AS id | GO FROM $-.id OVER follow WHERE udf_is_in($-.id, 102, 102 + 1); =============== | follow._dst | =============== | 100 | --------------- | 101 | ---------------","title":"\u6bd4\u8f83\u51fd\u6570\u548c\u8fd0\u7b97\u7b26"},{"location":"manual-CN/2.query-language/2.functions-and-operators/group-by-function/","text":"\u5206\u7ec4 (Group By) \u00b6 GROUP BY \u7c7b\u4f3c\u4e8e SQL\u3002 \u53ea\u80fd\u4e0e YIELD \u8bed\u53e5\u4e00\u8d77\u4f7f\u7528\u3002 \u540d\u79f0 \u63cf\u8ff0 AVG() \u8fd4\u56de\u53c2\u6570\u7684\u5e73\u5747\u503c COUNT() \u8fd4\u56de\u8bb0\u5f55\u503c\u603b\u6570 COUNT_DISTINCT()) \u8fd4\u56de\u72ec\u7acb\u8bb0\u5f55\u503c\u7684\u603b\u6570 MAX() \u8fd4\u56de\u6700\u5927\u503c MIN() \u8fd4\u56de\u6700\u5c0f\u503c STD() \u8fd4\u56de\u603b\u4f53\u6807\u51c6\u5dee SUM() \u8fd4\u56de\u603b\u5408 BIT_AND() \u6309\u4f4d\u4e0e BIT_OR() \u6309\u4f4d\u6216 BIT_XOR() \u6309\u4f4d\u5f02\u6216 \u4ee5\u4e0a\u51fd\u6570\u53ea\u4f5c\u7528\u4e8e int64 \u548c double\u3002 \u793a\u4f8b \u00b6 nebula> GO FROM 100 OVER follow YIELD $$.player.name as Name | GROUP BY $-.Name YIELD $-.Name, COUNT(*); -- \u4ece\u8282\u70b9 100 \u51fa\u53d1\uff0c\u67e5\u627e\u5176\u5173\u6ce8\u7684\u7403\u5458\u5e76\u8fd4\u56de\u7403\u5458\u7684\u59d3\u540d\u4f5c\u4e3a Name\uff0c\u6309\u7167\u59d3\u540d\u5bf9\u7403\u5458\u5206\u7ec4\u5e76\u7edf\u8ba1\u6bcf\u4e2a\u5206\u7ec4\u7684\u4eba\u6570\u3002 -- \u8fd4\u56de\u4ee5\u4e0b\u7ed3\u679c\uff1a ================================ | $-.Name | COUNT(*) | ================================ | Kyle Anderson | 1 | -------------------------------- | Tony Parker | 1 | -------------------------------- | LaMarcus Aldridge | 1 | -------------------------------- nebula> GO FROM 101 OVER follow YIELD follow._src AS player, follow.degree AS degree | GROUP BY $-.player YIELD SUM($-.degree); -- \u4ece\u8282\u70b9 101 \u51fa\u53d1\u627e\u5230\u5176\u5173\u6ce8\u7684\u7403\u5458\uff0c\u8fd4\u56de\u8fd9\u4e9b\u7403\u5458\u4f5c\u4e3a player\uff0c\u8fb9\uff08follow\uff09\u7684\u5c5e\u6027\u503c\u4f5c\u4e3a degree\uff0c\u5bf9\u8fd9\u4e9b\u7403\u5458\u5206\u7ec4\u5e76\u8fd4\u56de\u5206\u7ec4\u7403\u5458\u5c5e\u6027 degree \u76f8\u52a0\u7684\u503c\u3002 -- \u8fd4\u56de\u4ee5\u4e0b\u7ed3\u679c\uff1a ================== | SUM($-.degree) | ================== | 186 | ------------------","title":"\u5206\u7ec4 GROUP BY"},{"location":"manual-CN/2.query-language/2.functions-and-operators/group-by-function/#group_by","text":"GROUP BY \u7c7b\u4f3c\u4e8e SQL\u3002 \u53ea\u80fd\u4e0e YIELD \u8bed\u53e5\u4e00\u8d77\u4f7f\u7528\u3002 \u540d\u79f0 \u63cf\u8ff0 AVG() \u8fd4\u56de\u53c2\u6570\u7684\u5e73\u5747\u503c COUNT() \u8fd4\u56de\u8bb0\u5f55\u503c\u603b\u6570 COUNT_DISTINCT()) \u8fd4\u56de\u72ec\u7acb\u8bb0\u5f55\u503c\u7684\u603b\u6570 MAX() \u8fd4\u56de\u6700\u5927\u503c MIN() \u8fd4\u56de\u6700\u5c0f\u503c STD() \u8fd4\u56de\u603b\u4f53\u6807\u51c6\u5dee SUM() \u8fd4\u56de\u603b\u5408 BIT_AND() \u6309\u4f4d\u4e0e BIT_OR() \u6309\u4f4d\u6216 BIT_XOR() \u6309\u4f4d\u5f02\u6216 \u4ee5\u4e0a\u51fd\u6570\u53ea\u4f5c\u7528\u4e8e int64 \u548c double\u3002","title":"\u5206\u7ec4 (Group By)"},{"location":"manual-CN/2.query-language/2.functions-and-operators/group-by-function/#_1","text":"nebula> GO FROM 100 OVER follow YIELD $$.player.name as Name | GROUP BY $-.Name YIELD $-.Name, COUNT(*); -- \u4ece\u8282\u70b9 100 \u51fa\u53d1\uff0c\u67e5\u627e\u5176\u5173\u6ce8\u7684\u7403\u5458\u5e76\u8fd4\u56de\u7403\u5458\u7684\u59d3\u540d\u4f5c\u4e3a Name\uff0c\u6309\u7167\u59d3\u540d\u5bf9\u7403\u5458\u5206\u7ec4\u5e76\u7edf\u8ba1\u6bcf\u4e2a\u5206\u7ec4\u7684\u4eba\u6570\u3002 -- \u8fd4\u56de\u4ee5\u4e0b\u7ed3\u679c\uff1a ================================ | $-.Name | COUNT(*) | ================================ | Kyle Anderson | 1 | -------------------------------- | Tony Parker | 1 | -------------------------------- | LaMarcus Aldridge | 1 | -------------------------------- nebula> GO FROM 101 OVER follow YIELD follow._src AS player, follow.degree AS degree | GROUP BY $-.player YIELD SUM($-.degree); -- \u4ece\u8282\u70b9 101 \u51fa\u53d1\u627e\u5230\u5176\u5173\u6ce8\u7684\u7403\u5458\uff0c\u8fd4\u56de\u8fd9\u4e9b\u7403\u5458\u4f5c\u4e3a player\uff0c\u8fb9\uff08follow\uff09\u7684\u5c5e\u6027\u503c\u4f5c\u4e3a degree\uff0c\u5bf9\u8fd9\u4e9b\u7403\u5458\u5206\u7ec4\u5e76\u8fd4\u56de\u5206\u7ec4\u7403\u5458\u5c5e\u6027 degree \u76f8\u52a0\u7684\u503c\u3002 -- \u8fd4\u56de\u4ee5\u4e0b\u7ed3\u679c\uff1a ================== | SUM($-.degree) | ================== | 186 | ------------------","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/2.functions-and-operators/limit-syntax/","text":"LIMIT \u8bed\u6cd5 \u00b6 LIMIT \u7528\u6cd5\u4e0e SQL \u4e2d\u7684\u76f8\u540c\uff0c\u4e14\u53ea\u80fd\u4e0e | \u7ed3\u5408\u4f7f\u7528\u3002 LIMIT \u5b50\u53e5\u63a5\u53d7\u4e00\u4e2a\u6216\u4e24\u4e2a\u53c2\u6570,\u4e24\u4e2a\u53c2\u6570\u7684\u503c\u90fd\u5fc5\u987b\u662f\u96f6\u6216\u6b63\u6574\u6570\u3002 ORDER BY <expressions> [ASC | DESC] LIMIT [<offset_value>,] <number_rows> expressions \u5f85\u6392\u5e8f\u7684\u5217\u6216\u8ba1\u7b97\u3002 number_rows number_rows \u6307\u5b9a\u8fd4\u56de\u7ed3\u679c\u884c\u6570\u3002\u4f8b\u5982\uff0cLIMIT 10 \u8fd4\u56de\u524d 10 \u884c\u7ed3\u679c\u3002\u7531\u4e8e\u6392\u5e8f\u987a\u5e8f\u4f1a\u5f71\u54cd\u8fd4\u56de\u7ed3\u679c\uff0c\u6240\u4ee5\u4f7f\u7528 ORDER BY \u65f6\u8bf7\u6ce8\u610f\u6392\u5e8f\u987a\u5e8f\u3002 offset_value \u53ef\u9009\u9009\u9879\uff0c\u7528\u6765\u8df3\u8fc7\u6307\u5b9a\u884c\u6570\u8fd4\u56de\u7ed3\u679c\uff0coffset \u4ece 0 \u5f00\u59cb\u3002 \u5f53\u4f7f\u7528 LIMIT \u65f6\uff0c\u8bf7\u4f7f\u7528 ORDER BY \u5b50\u53e5\u5bf9\u8fd4\u56de\u7ed3\u679c\u8fdb\u884c\u552f\u4e00\u6392\u5e8f\u3002\u5426\u5219\uff0c\u5c06\u8fd4\u56de\u96be\u4ee5\u9884\u6d4b\u7684\u5b50\u96c6\u3002 \u4f8b\u5982\uff1a nebula> GO FROM 200 OVER serve REVERSELY YIELD $$.player.name AS Friend, $$.player.age AS Age | ORDER BY Age, Friend | LIMIT 3; ========================= | Friend | Age | ========================= | Kyle Anderson | 25 | ------------------------- | Aron Baynes | 32 | ------------------------- | Marco Belinelli | 32 |","title":"LIMIT \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/2.functions-and-operators/limit-syntax/#limit","text":"LIMIT \u7528\u6cd5\u4e0e SQL \u4e2d\u7684\u76f8\u540c\uff0c\u4e14\u53ea\u80fd\u4e0e | \u7ed3\u5408\u4f7f\u7528\u3002 LIMIT \u5b50\u53e5\u63a5\u53d7\u4e00\u4e2a\u6216\u4e24\u4e2a\u53c2\u6570,\u4e24\u4e2a\u53c2\u6570\u7684\u503c\u90fd\u5fc5\u987b\u662f\u96f6\u6216\u6b63\u6574\u6570\u3002 ORDER BY <expressions> [ASC | DESC] LIMIT [<offset_value>,] <number_rows> expressions \u5f85\u6392\u5e8f\u7684\u5217\u6216\u8ba1\u7b97\u3002 number_rows number_rows \u6307\u5b9a\u8fd4\u56de\u7ed3\u679c\u884c\u6570\u3002\u4f8b\u5982\uff0cLIMIT 10 \u8fd4\u56de\u524d 10 \u884c\u7ed3\u679c\u3002\u7531\u4e8e\u6392\u5e8f\u987a\u5e8f\u4f1a\u5f71\u54cd\u8fd4\u56de\u7ed3\u679c\uff0c\u6240\u4ee5\u4f7f\u7528 ORDER BY \u65f6\u8bf7\u6ce8\u610f\u6392\u5e8f\u987a\u5e8f\u3002 offset_value \u53ef\u9009\u9009\u9879\uff0c\u7528\u6765\u8df3\u8fc7\u6307\u5b9a\u884c\u6570\u8fd4\u56de\u7ed3\u679c\uff0coffset \u4ece 0 \u5f00\u59cb\u3002 \u5f53\u4f7f\u7528 LIMIT \u65f6\uff0c\u8bf7\u4f7f\u7528 ORDER BY \u5b50\u53e5\u5bf9\u8fd4\u56de\u7ed3\u679c\u8fdb\u884c\u552f\u4e00\u6392\u5e8f\u3002\u5426\u5219\uff0c\u5c06\u8fd4\u56de\u96be\u4ee5\u9884\u6d4b\u7684\u5b50\u96c6\u3002 \u4f8b\u5982\uff1a nebula> GO FROM 200 OVER serve REVERSELY YIELD $$.player.name AS Friend, $$.player.age AS Age | ORDER BY Age, Friend | LIMIT 3; ========================= | Friend | Age | ========================= | Kyle Anderson | 25 | ------------------------- | Aron Baynes | 32 | ------------------------- | Marco Belinelli | 32 |","title":"LIMIT \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/2.functions-and-operators/logical-operators/","text":"\u903b\u8f91\u8fd0\u7b97\u7b26 \u00b6 \u540d\u79f0 \u63cf\u8ff0 && \u903b\u8f91\u4e0e AND ! \u903b\u8f91\u975e NOT || \u903b\u8f91\u6216 OR XOR \u903b\u8f91\u5f02\u6216 XOR \u5728 nGQL \u4e2d\uff0c\u975e 0 \u6570\u5b57\u5c06\u88ab\u89c6\u4e3a true \u3002\u903b\u8f91\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u53c2\u89c1 Operator Precedence \u3002 && \u903b\u8f91\u4e0e AND: nebula> YIELD -1 && true; ================ | (-(1)&&true) | ================ | true | ---------------- ! \u903b\u8f91\u975e NOT: nebula> YIELD !(-1); =========== | !(-(1)) | =========== | false | ----------- || \u903b\u8f91\u6216 OR: nebula> YIELD 1 || !1; ============= | (1||!(1)) | ============= | true | XOR \u903b\u8f91\u5f02\u6216 XOR: nebula> YIELD (NOT 0 || 0) AND 0 XOR 1 AS ret; ========= | ret | ========= | true | ---------","title":"\u903b\u8f91\u8fd0\u7b97"},{"location":"manual-CN/2.query-language/2.functions-and-operators/logical-operators/#_1","text":"\u540d\u79f0 \u63cf\u8ff0 && \u903b\u8f91\u4e0e AND ! \u903b\u8f91\u975e NOT || \u903b\u8f91\u6216 OR XOR \u903b\u8f91\u5f02\u6216 XOR \u5728 nGQL \u4e2d\uff0c\u975e 0 \u6570\u5b57\u5c06\u88ab\u89c6\u4e3a true \u3002\u903b\u8f91\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u53c2\u89c1 Operator Precedence \u3002 && \u903b\u8f91\u4e0e AND: nebula> YIELD -1 && true; ================ | (-(1)&&true) | ================ | true | ---------------- ! \u903b\u8f91\u975e NOT: nebula> YIELD !(-1); =========== | !(-(1)) | =========== | false | ----------- || \u903b\u8f91\u6216 OR: nebula> YIELD 1 || !1; ============= | (1||!(1)) | ============= | true | XOR \u903b\u8f91\u5f02\u6216 XOR: nebula> YIELD (NOT 0 || 0) AND 0 XOR 1 AS ret; ========= | ret | ========= | true | ---------","title":"\u903b\u8f91\u8fd0\u7b97\u7b26"},{"location":"manual-CN/2.query-language/2.functions-and-operators/operator-precedence/","text":"\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7 \u00b6 \u4e0b\u9762\u7684\u5217\u8868\u5c55\u793a\u4e86 nGQL \u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\uff08\u964d\u5e8f\uff09\u3002\u540c\u4e00\u884c\u7684\u8fd0\u7b97\u7b26\u62e5\u6709\u4e00\u81f4\u7684\u4f18\u5148\u7ea7\u3002 - ( \u8d1f\u6570 ) ! * , / , % - , + == , >= , > , <= , < , <> , != && || = ( \u8d4b\u503c ) \u5728\u4e00\u4e2a\u8868\u8fbe\u5f0f\u4e2d\uff0c\u540c\u7b49\u4f18\u5148\u7ea7\u7684\u8fd0\u7b97\u7b26\u5c06\u6309\u7167\u4ece\u5de6\u5230\u53f3\u7684\u987a\u5e8f\u6267\u884c\uff0c\u552f\u4e00\u4f8b\u5916\u662f\u8d4b\u503c\u6309\u7167\u4ece\u53f3\u5f80\u5de6\u7684\u987a\u5e8f\u6267\u884c\u3002\u4f46\u662f\uff0c\u53ef\u4ee5\u4f7f\u7528\u62ec\u53f7\u6765\u4fee\u6539\u6267\u884c\u987a\u5e8f\u3002 \u793a\u4f8b: nebula> YIELD 2+3*5; nebula> YIELD (2+3)*5;","title":"\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7"},{"location":"manual-CN/2.query-language/2.functions-and-operators/operator-precedence/#_1","text":"\u4e0b\u9762\u7684\u5217\u8868\u5c55\u793a\u4e86 nGQL \u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\uff08\u964d\u5e8f\uff09\u3002\u540c\u4e00\u884c\u7684\u8fd0\u7b97\u7b26\u62e5\u6709\u4e00\u81f4\u7684\u4f18\u5148\u7ea7\u3002 - ( \u8d1f\u6570 ) ! * , / , % - , + == , >= , > , <= , < , <> , != && || = ( \u8d4b\u503c ) \u5728\u4e00\u4e2a\u8868\u8fbe\u5f0f\u4e2d\uff0c\u540c\u7b49\u4f18\u5148\u7ea7\u7684\u8fd0\u7b97\u7b26\u5c06\u6309\u7167\u4ece\u5de6\u5230\u53f3\u7684\u987a\u5e8f\u6267\u884c\uff0c\u552f\u4e00\u4f8b\u5916\u662f\u8d4b\u503c\u6309\u7167\u4ece\u53f3\u5f80\u5de6\u7684\u987a\u5e8f\u6267\u884c\u3002\u4f46\u662f\uff0c\u53ef\u4ee5\u4f7f\u7528\u62ec\u53f7\u6765\u4fee\u6539\u6267\u884c\u987a\u5e8f\u3002 \u793a\u4f8b: nebula> YIELD 2+3*5; nebula> YIELD (2+3)*5;","title":"\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7"},{"location":"manual-CN/2.query-language/2.functions-and-operators/order-by-function/","text":"Order By \u51fd\u6570 \u00b6 \u7c7b\u4f3c\u4e8e SQL\uff0c ORDER BY \u53ef\u4ee5\u8fdb\u884c\u5347\u5e8f ( ASC ) \u6216\u964d\u5e8f ( DESC ) \u6392\u5e8f\u5e76\u8fd4\u56de\u7ed3\u679c\uff0c\u5e76\u4e14\u5b83\u53ea\u80fd\u5728 PIPE \u8bed\u53e5 ( | ) \u4e2d\u4f7f\u7528\u3002 ORDER BY <expression> [ASC | DESC] [, <expression> [ASC | DESC] ...] \u5982\u679c\u6ca1\u6709\u6307\u660e ASC \u6216 DESC\uff0c ORDER BY \u5c06\u9ed8\u8ba4\u8fdb\u884c\u5347\u5e8f\u6392\u5e8f\u3002 \u793a\u4f8b \u00b6 nebula> FETCH PROP ON player 100,101,102,103 YIELD player.age AS age, player.name AS name | ORDER BY age, name DESC; -- \u53d6 4 \u4e2a\u9876\u70b9\u5e76\u5c06\u4ed6\u4eec\u4ee5 age \u4ece\u5c0f\u5230\u5927\u7684\u987a\u5e8f\u6392\u5217\uff0c\u5982 age \u76f8\u540c\uff0c\u5219 name \u6309\u964d\u5e8f\u6392\u5217\u3002 -- \u8fd4\u56de\u5982\u4e0b\u7ed3\u679c: ====================================== | VertexID | age | name | ====================================== | 103 | 32 | Rudy Gay | -------------------------------------- | 102 | 33 | LaMarcus Aldridge | -------------------------------------- | 101 | 36 | Tony Parker | -------------------------------------- | 100 | 42 | Tim Duncan | -------------------------------------- (\u4f7f\u7528\u65b9\u6cd5\u53c2\u89c1 FETCH \u6587\u6863) nebula> GO FROM 100 OVER follow YIELD $$.player.age AS age, $$.player.name AS name | ORDER BY age DESC, name ASC; -- \u4ece\u9876\u70b9 100 \u51fa\u53d1\u67e5\u627e\u5176\u5173\u6ce8\u7684\u7403\u5458\uff0c\u8fd4\u56de\u7403\u5458\u7684 age \u548c name\uff0cage \u6309\u964d\u5e8f\u6392\u5217\uff0c\u5982 age \u76f8\u540c\uff0c\u5219 name \u6309\u5347\u5e8f\u6392\u5217\u3002 -- \u8fd4\u56de\u5982\u4e0b\u7ed3\u679c\uff1a =========================== | age | name | =========================== | 36 | Tony Parker | --------------------------- | 33 | LaMarcus Aldridge | --------------------------- | 25 | Kyle Anderson | ---------------------------","title":"ORDER BY \u51fd\u6570"},{"location":"manual-CN/2.query-language/2.functions-and-operators/order-by-function/#order_by","text":"\u7c7b\u4f3c\u4e8e SQL\uff0c ORDER BY \u53ef\u4ee5\u8fdb\u884c\u5347\u5e8f ( ASC ) \u6216\u964d\u5e8f ( DESC ) \u6392\u5e8f\u5e76\u8fd4\u56de\u7ed3\u679c\uff0c\u5e76\u4e14\u5b83\u53ea\u80fd\u5728 PIPE \u8bed\u53e5 ( | ) \u4e2d\u4f7f\u7528\u3002 ORDER BY <expression> [ASC | DESC] [, <expression> [ASC | DESC] ...] \u5982\u679c\u6ca1\u6709\u6307\u660e ASC \u6216 DESC\uff0c ORDER BY \u5c06\u9ed8\u8ba4\u8fdb\u884c\u5347\u5e8f\u6392\u5e8f\u3002","title":"Order By \u51fd\u6570"},{"location":"manual-CN/2.query-language/2.functions-and-operators/order-by-function/#_1","text":"nebula> FETCH PROP ON player 100,101,102,103 YIELD player.age AS age, player.name AS name | ORDER BY age, name DESC; -- \u53d6 4 \u4e2a\u9876\u70b9\u5e76\u5c06\u4ed6\u4eec\u4ee5 age \u4ece\u5c0f\u5230\u5927\u7684\u987a\u5e8f\u6392\u5217\uff0c\u5982 age \u76f8\u540c\uff0c\u5219 name \u6309\u964d\u5e8f\u6392\u5217\u3002 -- \u8fd4\u56de\u5982\u4e0b\u7ed3\u679c: ====================================== | VertexID | age | name | ====================================== | 103 | 32 | Rudy Gay | -------------------------------------- | 102 | 33 | LaMarcus Aldridge | -------------------------------------- | 101 | 36 | Tony Parker | -------------------------------------- | 100 | 42 | Tim Duncan | -------------------------------------- (\u4f7f\u7528\u65b9\u6cd5\u53c2\u89c1 FETCH \u6587\u6863) nebula> GO FROM 100 OVER follow YIELD $$.player.age AS age, $$.player.name AS name | ORDER BY age DESC, name ASC; -- \u4ece\u9876\u70b9 100 \u51fa\u53d1\u67e5\u627e\u5176\u5173\u6ce8\u7684\u7403\u5458\uff0c\u8fd4\u56de\u7403\u5458\u7684 age \u548c name\uff0cage \u6309\u964d\u5e8f\u6392\u5217\uff0c\u5982 age \u76f8\u540c\uff0c\u5219 name \u6309\u5347\u5e8f\u6392\u5217\u3002 -- \u8fd4\u56de\u5982\u4e0b\u7ed3\u679c\uff1a =========================== | age | name | =========================== | 36 | Tony Parker | --------------------------- | 33 | LaMarcus Aldridge | --------------------------- | 25 | Kyle Anderson | ---------------------------","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/2.functions-and-operators/set-operations/","text":"\u96c6\u5408\u64cd\u4f5c\uff08 UNION \uff0c INTERSECT \uff0c MINUS \uff09 \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528\u96c6\u5408\u8fd0\u7b97\u7b26 UNION \u3001 UNION ALL \u3001 INTERSECT \u548c MINUS \u8fdb\u884c\u591a\u4e2a\u7ec4\u5408\u67e5\u8be2\u3002\u6240\u6709\u96c6\u5408\u8fd0\u7b97\u7b26\u5177\u6709\u76f8\u540c\u7684\u4f18\u5148\u7ea7\u3002\u5982\u679c nGQL \u8bed\u53e5\u5305\u542b\u591a\u4e2a\u96c6\u5408\u8fd0\u7b97\u7b26\uff0c\u5219 Nebula Graph \u5c06\u5bf9\u5176\u8fdb\u884c\u4ece\u5de6\u5230\u53f3\u5904\u7406\uff0c\u9664\u975e\u4f7f\u7528\u62ec\u53f7\u660e\u786e\u6307\u5b9a\u4e86\u987a\u5e8f\u3002 \u590d\u5408\u67e5\u8be2\u4e2d\uff0c GO \u8bed\u53e5\u8fd4\u56de\u7684\u7ed3\u679c\u5fc5\u987b\u5217\u6570\u76f8\u540c\uff0c\u4e14\u6570\u636e\u7c7b\u578b\u76f8\u540c\uff08\u6bd4\u5982\u5747\u4e3a\u6570\u5b57\u7c7b\u578b\u6216\u5b57\u7b26\u7c7b\u578b\uff09\u3002 UNION\uff0cUNION DISTINCT\uff0cUNION ALL \u00b6 UNION DISTINCT \uff08\u7b80\u79f0 UNION \uff09\u8fd4\u56de\u6570\u636e\u96c6 A \u548c B \u7684\u5e76\u96c6\uff08\u4e0d\u5305\u542b\u91cd\u590d\u5143\u7d20\uff09\u3002 UNION ALL \u8fd4\u56de\u6570\u636e\u96c6 A \u548c B \u7684\u5e76\u96c6\uff08\u5305\u542b\u91cd\u590d\u5143\u7d20\uff09\u3002 UNION \u8bed\u6cd5\u4e3a <left> UNION [DISTINCT | ALL] <right> [ UNION [DISTINCT | ALL] <right> ...] <left> \u548c <right> \u5fc5\u987b\u5217\u6570\u76f8\u540c\uff0c\u4e14\u6570\u636e\u7c7b\u578b\u76f8\u540c\u3002\u5982\u679c\u6570\u636e\u7c7b\u578b\u4e0d\u540c\uff0c\u5c06\u6309\u7167 \u7c7b\u578b\u8f6c\u6362 \u8fdb\u884c\u8f6c\u6362\u3002 \u793a\u4f8b \u00b6 nebula> GO FROM 1 OVER e1 \\ UNION \\ GO FROM 2 OVER e1; \u4ee5\u4e0a\u8bed\u53e5\u8fd4\u56de\u70b9 1 \u548c 2 \uff08\u6cbf\u8fb9 e1 \uff09\u5173\u8054\u7684\u552f\u4e00\u7684\u70b9\u3002 nebula> GO FROM 1 OVER e1 \\ UNION ALL\\ GO FROM 2 OVER e1; \u4ee5\u4e0a\u8bed\u53e5\u8fd4\u56de\u70b9 1 \u548c 2 \u5173\u8054\u7684\u6240\u6709\u70b9\uff0c\u5176\u4e2d\u5b58\u5728\u91cd\u590d\u70b9\u3002 UNION \u4ea6\u53ef\u4e0e YIELD \u540c\u65f6\u4f7f\u7528\uff0c\u4f8b\u5982\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> GO FROM 1 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; -- query 1 ======================= | id | col_1| col_2 | ======================= | 104 | 1 | 2 | -- line 1 ----------------------- | 215 | 4 | 3 | -- line 3 ----------------------- nebula> GO FROM 2,3 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; -- query 2 ====================== | id | col_1| col_2 | ====================== | 104 | 1 | 2 | -- line 1 ---------------------- | 104 | 2 | 2 | -- line 2 ---------------------- nebula> GO FROM 1 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2 \\ UNION /* DISTINCT */ \\ GO FROM 2,3 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; \u4ee5\u4e0a\u8bed\u53e5\u8fd4\u56de ======================= | id | col_1| col_2 | -- UNION or UNION DISTINCT. The column names come from query 1 ======================= | 104 | 1 | 2 | -- line 1 ----------------------- | 104 | 2 | 2 | -- line 2 ----------------------- | 215 | 4 | 3 | -- line 3 ----------------------- \u8bf7\u6ce8\u610f\u7b2c\u4e00\u884c\u4e0e\u7b2c\u4e8c\u884c\u8fd4\u56de\u76f8\u540c id \u7684\u70b9\uff0c\u4f46\u662f\u8fd4\u56de\u7684\u503c\u4e0d\u540c\u3002 DISTINCT \u68c0\u67e5\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684\u91cd\u590d\u503c\u3002\u6240\u4ee5\u7b2c\u4e00\u884c\u4e0e\u7b2c\u4e8c\u884c\u7684\u8fd4\u56de\u7ed3\u679c\u4e0d\u540c\u3002 UNION ALL \u8fd4\u56de\u7ed3\u679c\u4e3a nebula> GO FROM 1 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2 \\ UNION ALL \\ GO FROM 2,3 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; ====================== | id | col_1| col_2 | -- UNION ALL ====================== | 104 | 1 | 2 | -- line 1 ---------------------- | 104 | 1 | 2 | -- line 1 ---------------------- | 104 | 2 | 2 | -- line 2 ---------------------- | 215 | 4 | 3 | -- line 3 ---------------------- INTERSECT \u00b6 INTERSECT \u8fd4\u56de\u96c6\u5408 A \u548c B \u7684\u4ea4\u96c6\uff08A \u22c2 B\uff09\u3002 <left> INTERSECT <right> \u4e0e UNION \u7c7b\u4f3c\uff0c <left> \u548c <right> \u5fc5\u987b\u5217\u6570\u76f8\u540c\uff0c\u4e14\u6570\u636e\u7c7b\u578b\u76f8\u540c\u3002 \u6b64\u5916\uff0c\u53ea\u8fd4\u56de <left> \u53f3 <right> \u76f8\u540c\u7684\u884c\u3002\u4f8b\u5982\uff1a nebula> GO FROM 1 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2 INTERSECT GO FROM 2,3 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; \u8fd4\u56de ======================= | id | col_1 | col_2 | ======================= | 104 | 1 | 2 | -- line 1 ----------------------- MINUS \u00b6 \u8fd4\u56de A - B \u6570\u636e\u7684\u5dee\u96c6\uff0c\u6b64\u5904\u8bf7\u6ce8\u610f\u8fd0\u7b97\u987a\u5e8f\u3002\u4f8b\u5982\uff1a nebula> GO FROM 1 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2 MINUS GO FROM 2,3 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; \u8fd4\u56de ======================== | id | col_1 | col_2 | ======================== | 215 | 4 | 3 | -- line 3 ------------------------ \u5982\u679c\u66f4\u6539 MINUS \u987a\u5e8f nebula> GO FROM 2,3 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2 MINUS GO FROM 1 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; \u5219\u8fd4\u56de ======================= | id | col_1 | col_2 | -- column named from query 2 ======================= | 104 | 2 | 2 | -- line 2 ----------------------- \u96c6\u5408\u64cd\u4f5c\u548c\u7ba1\u9053\u7684\u4f18\u5148\u7ea7 \u00b6 \u8bf7\u6ce8\u610f\u5f53\u4e00\u6761\u67e5\u8be2\u540c\u65f6\u5305\u542b\u7ba1\u9053 | \u548c\u96c6\u5408\u64cd\u4f5c\u65f6\uff0c\u7ba1\u9053\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u96c6\u5408\u64cd\u4f5c\u3002\u7ba1\u9053\u7528\u6cd5\u8bf7\u53c2\u8003 \u7ba1\u9053\u6587\u6863 \u3002\u8bed\u53e5 GO FROM 1 UNION GO FROM 2 | GO FROM 3 \u7b49\u4ef7\u4e8e\u8bed\u53e5 GO FROM 1 UNION (GO FROM 2 | GO FROM 3) \u3002 \u4f8b\u5982\uff1a nebula> GO FROM 100 OVER follow YIELD follow._dst AS play_dst \\ UNION \\ GO FROM 200 OVER serve REVERSELY YIELD serve._dst AS play_dst \\ | GO FROM $-.play_dst OVER follow YIELD follow._dst AS play_dst; \u7ea2\u8272\u6846\u5185\u7684\u8bed\u53e5\u5148\u6267\u884c\uff0c\u7136\u540e\u518d\u6267\u884c\u7eff\u8272\u6846\u5185\u7684\u8bed\u53e5\u3002 nebula> (GO FROM 100 OVER follow YIELD follow._dst AS play_dst \\ UNION \\ GO FROM 200 OVER serve REVERSELY YIELD serve._dst AS play_dst) \\ | GO FROM $-.play_dst OVER follow YIELD follow._dst AS play_dst; \u4ee5\u4e0a\u8bed\u53e5\u4e2d\uff0c\u62ec\u53f7\u6539\u53d8\u4e86\u6267\u884c\u7684\u4f18\u5148\u7ea7\uff0c\u62ec\u53f7\u5185\u7684\u8bed\u53e5\u5148\u6267\u884c\u3002","title":"SET \u8fd0\u7b97\u7b26"},{"location":"manual-CN/2.query-language/2.functions-and-operators/set-operations/#unionintersect_minus","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528\u96c6\u5408\u8fd0\u7b97\u7b26 UNION \u3001 UNION ALL \u3001 INTERSECT \u548c MINUS \u8fdb\u884c\u591a\u4e2a\u7ec4\u5408\u67e5\u8be2\u3002\u6240\u6709\u96c6\u5408\u8fd0\u7b97\u7b26\u5177\u6709\u76f8\u540c\u7684\u4f18\u5148\u7ea7\u3002\u5982\u679c nGQL \u8bed\u53e5\u5305\u542b\u591a\u4e2a\u96c6\u5408\u8fd0\u7b97\u7b26\uff0c\u5219 Nebula Graph \u5c06\u5bf9\u5176\u8fdb\u884c\u4ece\u5de6\u5230\u53f3\u5904\u7406\uff0c\u9664\u975e\u4f7f\u7528\u62ec\u53f7\u660e\u786e\u6307\u5b9a\u4e86\u987a\u5e8f\u3002 \u590d\u5408\u67e5\u8be2\u4e2d\uff0c GO \u8bed\u53e5\u8fd4\u56de\u7684\u7ed3\u679c\u5fc5\u987b\u5217\u6570\u76f8\u540c\uff0c\u4e14\u6570\u636e\u7c7b\u578b\u76f8\u540c\uff08\u6bd4\u5982\u5747\u4e3a\u6570\u5b57\u7c7b\u578b\u6216\u5b57\u7b26\u7c7b\u578b\uff09\u3002","title":"\u96c6\u5408\u64cd\u4f5c\uff08UNION\uff0cINTERSECT\uff0c MINUS\uff09"},{"location":"manual-CN/2.query-language/2.functions-and-operators/set-operations/#unionunion_distinctunion_all","text":"UNION DISTINCT \uff08\u7b80\u79f0 UNION \uff09\u8fd4\u56de\u6570\u636e\u96c6 A \u548c B \u7684\u5e76\u96c6\uff08\u4e0d\u5305\u542b\u91cd\u590d\u5143\u7d20\uff09\u3002 UNION ALL \u8fd4\u56de\u6570\u636e\u96c6 A \u548c B \u7684\u5e76\u96c6\uff08\u5305\u542b\u91cd\u590d\u5143\u7d20\uff09\u3002 UNION \u8bed\u6cd5\u4e3a <left> UNION [DISTINCT | ALL] <right> [ UNION [DISTINCT | ALL] <right> ...] <left> \u548c <right> \u5fc5\u987b\u5217\u6570\u76f8\u540c\uff0c\u4e14\u6570\u636e\u7c7b\u578b\u76f8\u540c\u3002\u5982\u679c\u6570\u636e\u7c7b\u578b\u4e0d\u540c\uff0c\u5c06\u6309\u7167 \u7c7b\u578b\u8f6c\u6362 \u8fdb\u884c\u8f6c\u6362\u3002","title":"UNION\uff0cUNION DISTINCT\uff0cUNION ALL"},{"location":"manual-CN/2.query-language/2.functions-and-operators/set-operations/#_1","text":"nebula> GO FROM 1 OVER e1 \\ UNION \\ GO FROM 2 OVER e1; \u4ee5\u4e0a\u8bed\u53e5\u8fd4\u56de\u70b9 1 \u548c 2 \uff08\u6cbf\u8fb9 e1 \uff09\u5173\u8054\u7684\u552f\u4e00\u7684\u70b9\u3002 nebula> GO FROM 1 OVER e1 \\ UNION ALL\\ GO FROM 2 OVER e1; \u4ee5\u4e0a\u8bed\u53e5\u8fd4\u56de\u70b9 1 \u548c 2 \u5173\u8054\u7684\u6240\u6709\u70b9\uff0c\u5176\u4e2d\u5b58\u5728\u91cd\u590d\u70b9\u3002 UNION \u4ea6\u53ef\u4e0e YIELD \u540c\u65f6\u4f7f\u7528\uff0c\u4f8b\u5982\u4ee5\u4e0b\u8bed\u53e5\uff1a nebula> GO FROM 1 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; -- query 1 ======================= | id | col_1| col_2 | ======================= | 104 | 1 | 2 | -- line 1 ----------------------- | 215 | 4 | 3 | -- line 3 ----------------------- nebula> GO FROM 2,3 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; -- query 2 ====================== | id | col_1| col_2 | ====================== | 104 | 1 | 2 | -- line 1 ---------------------- | 104 | 2 | 2 | -- line 2 ---------------------- nebula> GO FROM 1 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2 \\ UNION /* DISTINCT */ \\ GO FROM 2,3 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; \u4ee5\u4e0a\u8bed\u53e5\u8fd4\u56de ======================= | id | col_1| col_2 | -- UNION or UNION DISTINCT. The column names come from query 1 ======================= | 104 | 1 | 2 | -- line 1 ----------------------- | 104 | 2 | 2 | -- line 2 ----------------------- | 215 | 4 | 3 | -- line 3 ----------------------- \u8bf7\u6ce8\u610f\u7b2c\u4e00\u884c\u4e0e\u7b2c\u4e8c\u884c\u8fd4\u56de\u76f8\u540c id \u7684\u70b9\uff0c\u4f46\u662f\u8fd4\u56de\u7684\u503c\u4e0d\u540c\u3002 DISTINCT \u68c0\u67e5\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684\u91cd\u590d\u503c\u3002\u6240\u4ee5\u7b2c\u4e00\u884c\u4e0e\u7b2c\u4e8c\u884c\u7684\u8fd4\u56de\u7ed3\u679c\u4e0d\u540c\u3002 UNION ALL \u8fd4\u56de\u7ed3\u679c\u4e3a nebula> GO FROM 1 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2 \\ UNION ALL \\ GO FROM 2,3 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; ====================== | id | col_1| col_2 | -- UNION ALL ====================== | 104 | 1 | 2 | -- line 1 ---------------------- | 104 | 1 | 2 | -- line 1 ---------------------- | 104 | 2 | 2 | -- line 2 ---------------------- | 215 | 4 | 3 | -- line 3 ----------------------","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/2.functions-and-operators/set-operations/#intersect","text":"INTERSECT \u8fd4\u56de\u96c6\u5408 A \u548c B \u7684\u4ea4\u96c6\uff08A \u22c2 B\uff09\u3002 <left> INTERSECT <right> \u4e0e UNION \u7c7b\u4f3c\uff0c <left> \u548c <right> \u5fc5\u987b\u5217\u6570\u76f8\u540c\uff0c\u4e14\u6570\u636e\u7c7b\u578b\u76f8\u540c\u3002 \u6b64\u5916\uff0c\u53ea\u8fd4\u56de <left> \u53f3 <right> \u76f8\u540c\u7684\u884c\u3002\u4f8b\u5982\uff1a nebula> GO FROM 1 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2 INTERSECT GO FROM 2,3 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; \u8fd4\u56de ======================= | id | col_1 | col_2 | ======================= | 104 | 1 | 2 | -- line 1 -----------------------","title":"INTERSECT"},{"location":"manual-CN/2.query-language/2.functions-and-operators/set-operations/#minus","text":"\u8fd4\u56de A - B \u6570\u636e\u7684\u5dee\u96c6\uff0c\u6b64\u5904\u8bf7\u6ce8\u610f\u8fd0\u7b97\u987a\u5e8f\u3002\u4f8b\u5982\uff1a nebula> GO FROM 1 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2 MINUS GO FROM 2,3 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; \u8fd4\u56de ======================== | id | col_1 | col_2 | ======================== | 215 | 4 | 3 | -- line 3 ------------------------ \u5982\u679c\u66f4\u6539 MINUS \u987a\u5e8f nebula> GO FROM 2,3 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2 MINUS GO FROM 1 OVER e1 YIELD e1._dst AS id, e1.prop1 AS col_1, $$.tag.prop2 AS col_2; \u5219\u8fd4\u56de ======================= | id | col_1 | col_2 | -- column named from query 2 ======================= | 104 | 2 | 2 | -- line 2 -----------------------","title":"MINUS"},{"location":"manual-CN/2.query-language/2.functions-and-operators/set-operations/#_2","text":"\u8bf7\u6ce8\u610f\u5f53\u4e00\u6761\u67e5\u8be2\u540c\u65f6\u5305\u542b\u7ba1\u9053 | \u548c\u96c6\u5408\u64cd\u4f5c\u65f6\uff0c\u7ba1\u9053\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u96c6\u5408\u64cd\u4f5c\u3002\u7ba1\u9053\u7528\u6cd5\u8bf7\u53c2\u8003 \u7ba1\u9053\u6587\u6863 \u3002\u8bed\u53e5 GO FROM 1 UNION GO FROM 2 | GO FROM 3 \u7b49\u4ef7\u4e8e\u8bed\u53e5 GO FROM 1 UNION (GO FROM 2 | GO FROM 3) \u3002 \u4f8b\u5982\uff1a nebula> GO FROM 100 OVER follow YIELD follow._dst AS play_dst \\ UNION \\ GO FROM 200 OVER serve REVERSELY YIELD serve._dst AS play_dst \\ | GO FROM $-.play_dst OVER follow YIELD follow._dst AS play_dst; \u7ea2\u8272\u6846\u5185\u7684\u8bed\u53e5\u5148\u6267\u884c\uff0c\u7136\u540e\u518d\u6267\u884c\u7eff\u8272\u6846\u5185\u7684\u8bed\u53e5\u3002 nebula> (GO FROM 100 OVER follow YIELD follow._dst AS play_dst \\ UNION \\ GO FROM 200 OVER serve REVERSELY YIELD serve._dst AS play_dst) \\ | GO FROM $-.play_dst OVER follow YIELD follow._dst AS play_dst; \u4ee5\u4e0a\u8bed\u53e5\u4e2d\uff0c\u62ec\u53f7\u6539\u53d8\u4e86\u6267\u884c\u7684\u4f18\u5148\u7ea7\uff0c\u62ec\u53f7\u5185\u7684\u8bed\u53e5\u5148\u6267\u884c\u3002","title":"\u96c6\u5408\u64cd\u4f5c\u548c\u7ba1\u9053\u7684\u4f18\u5148\u7ea7"},{"location":"manual-CN/2.query-language/2.functions-and-operators/string-comparison-functions-and-operators/","text":"\u5b57\u7b26\u6bd4\u8f83\u51fd\u6570\u548c\u8fd0\u7b97\u7b26 \u00b6 \u540d\u79f0 \u63cf\u8ff0 CONTAINS \u641c\u7d22\u5305\u542b\u6307\u5b9a\u5b57\u6bb5\u7684\u5b57\u7b26\u4e32\uff0c\u5927\u5c0f\u5199\u654f\u611f CONTAINS CONTAINS \u8fd0\u7b97\u7b26\u7528\u6765\u641c\u7d22\u5305\u542b\u6307\u5b9a\u5b57\u6bb5\u7684\u5b57\u7b26\u4e32\uff0c\u4e14\u5927\u5c0f\u5199\u654f\u611f\u3002 CONTAINS \u8fd0\u7b97\u7b26\u5de6\u53f3\u4e24\u4fa7\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b\u3002 nebula> GO FROM 107 OVER serve WHERE $$.team.name CONTAINS \"riors\" \\ YIELD $^.player.name, serve.start_year, serve.end_year, $$.team.name; ===================================================================== | $^.player.name | serve.start_year | serve.end_year | $$.team.name | ===================================================================== | Aron Baynes | 2001 | 2009 | Warriors | --------------------------------------------------------------------- nebula> GO FROM 107 OVER serve WHERE $$.team.name CONTAINS \"Riors\" \\ YIELD $^.player.name, serve.start_year, serve.end_year, $$.team.name; -- \u4ee5\u4e0b\u8bed\u53e5\u8fd4\u56de\u4e3a\u7a7a\u3002 nebula> GO FROM 107 OVER serve WHERE (STRING)serve.start_year CONTAINS \"07\" && \\ $^.player.name CONTAINS \"Aron\" \\ YIELD $^.player.name, serve.start_year, serve.end_year, $$.team.name; ===================================================================== | $^.player.name | serve.start_year | serve.end_year | $$.team.name | ===================================================================== | Aron Baynes | 2007 | 2010 | Nuggets | --------------------------------------------------------------------- nebula> GO FROM 107 OVER serve WHERE !($$.team.name CONTAINS \"riors\") \\ YIELD $^.player.name, serve.start_year, serve.end_year, $$.team.name; ===================================================================== | $^.player.name | serve.start_year | serve.end_year | $$.team.name | ===================================================================== | Aron Baynes | 2007 | 2010 | Nuggets | ---------------------------------------------------------------------","title":"\u5b57\u7b26\u6bd4\u8f83\u51fd\u6570\u548c\u8fd0\u7b97\u7b26"},{"location":"manual-CN/2.query-language/2.functions-and-operators/string-comparison-functions-and-operators/#_1","text":"\u540d\u79f0 \u63cf\u8ff0 CONTAINS \u641c\u7d22\u5305\u542b\u6307\u5b9a\u5b57\u6bb5\u7684\u5b57\u7b26\u4e32\uff0c\u5927\u5c0f\u5199\u654f\u611f CONTAINS CONTAINS \u8fd0\u7b97\u7b26\u7528\u6765\u641c\u7d22\u5305\u542b\u6307\u5b9a\u5b57\u6bb5\u7684\u5b57\u7b26\u4e32\uff0c\u4e14\u5927\u5c0f\u5199\u654f\u611f\u3002 CONTAINS \u8fd0\u7b97\u7b26\u5de6\u53f3\u4e24\u4fa7\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b\u3002 nebula> GO FROM 107 OVER serve WHERE $$.team.name CONTAINS \"riors\" \\ YIELD $^.player.name, serve.start_year, serve.end_year, $$.team.name; ===================================================================== | $^.player.name | serve.start_year | serve.end_year | $$.team.name | ===================================================================== | Aron Baynes | 2001 | 2009 | Warriors | --------------------------------------------------------------------- nebula> GO FROM 107 OVER serve WHERE $$.team.name CONTAINS \"Riors\" \\ YIELD $^.player.name, serve.start_year, serve.end_year, $$.team.name; -- \u4ee5\u4e0b\u8bed\u53e5\u8fd4\u56de\u4e3a\u7a7a\u3002 nebula> GO FROM 107 OVER serve WHERE (STRING)serve.start_year CONTAINS \"07\" && \\ $^.player.name CONTAINS \"Aron\" \\ YIELD $^.player.name, serve.start_year, serve.end_year, $$.team.name; ===================================================================== | $^.player.name | serve.start_year | serve.end_year | $$.team.name | ===================================================================== | Aron Baynes | 2007 | 2010 | Nuggets | --------------------------------------------------------------------- nebula> GO FROM 107 OVER serve WHERE !($$.team.name CONTAINS \"riors\") \\ YIELD $^.player.name, serve.start_year, serve.end_year, $$.team.name; ===================================================================== | $^.player.name | serve.start_year | serve.end_year | $$.team.name | ===================================================================== | Aron Baynes | 2007 | 2010 | Nuggets | ---------------------------------------------------------------------","title":"\u5b57\u7b26\u6bd4\u8f83\u51fd\u6570\u548c\u8fd0\u7b97\u7b26"},{"location":"manual-CN/2.query-language/2.functions-and-operators/uuid/","text":"UUID \u00b6 UUID \u7528\u4e8e\u751f\u6210\u5168\u5c40\u552f\u4e00\u7684\u6807\u8bc6\u7b26\u3002 \u5f53\u9876\u70b9\u6570\u91cf\u5230\u8fbe\u5341\u4ebf\u7ea7\u522b\u65f6\uff0c\u7528 hash \u51fd\u6570\u751f\u6210 vid \u6709\u4e00\u5b9a\u7684\u51b2\u7a81\u6982\u7387\u3002\u56e0\u6b64 Nebula Graph \u63d0\u4f9b UUID \u51fd\u6570\u6765\u907f\u514d\u5927\u91cf\u9876\u70b9\u65f6\u7684 vid \u51b2\u7a81\u3002 UUID \u51fd\u6570\u7531 Murmurhash \u4e0e\u5f53\u524d\u65f6\u95f4\u6233\uff08\u5355\u4f4d\u4e3a\u79d2\uff09\u7ec4\u5408\u800c\u6210\u3002 UUID \u4ea7\u751f\u7684\u503c\u4f1a\u4ee5 key-value \u65b9\u5f0f\u5b58\u50a8\u5728 Nebula Graph \u7684 Storage \u670d\u52a1\u4e2d\uff0c\u8c03\u7528\u65f6\u4f1a\u68c0\u67e5\u8fd9\u4e2a key \u662f\u5426\u5b58\u5728\u6216\u51b2\u7a81\u3002\u56e0\u6b64\u76f8\u6bd4 hash\uff0c\u6027\u80fd\u53ef\u80fd\u4f1a\u66f4\u6162\u3002 \u63d2\u5165 UUID \uff1a -- \u4f7f\u7528 UUID \u51fd\u6570\u63d2\u5165\u4e00\u4e2a\u70b9\u3002 nebula> INSERT VERTEX player (name, age) VALUES uuid(\"n0\"):(\"n0\", 21); -- \u4f7f\u7528 UUID \u51fd\u6570\u63d2\u5165\u4e00\u6761\u8fb9\u3002 nebula> INSERT EDGE follow(degree) VALUES uuid(\"n0\") -> uuid(\"n1\"): (90); \u83b7\u53d6 UUID \uff1a nebula> FETCH PROP ON player uuid(\"n0\") YIELD player.name, player.age; -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a =================================================== | VertexID | player.name | player.age | =================================================== | -5057115778034027261 | n0 | 21 | --------------------------------------------------- nebula> FETCH PROP ON follow uuid(\"n0\") -> uuid(\"n1\"); -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a ============================================================================= | follow._src | follow._dst | follow._rank | follow.degree | ============================================================================= | -5057115778034027261 | 4039977434270020867 | 0 | 90 | ----------------------------------------------------------------------------- \u7ed3\u5408 Go \u4f7f\u7528 UUID : nebula> GO FROM uuid(\"n0\") OVER follow; -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a ======================= | follow._dst | ======================= | 4039977434270020867 | -----------------------","title":"UUID \u51fd\u6570"},{"location":"manual-CN/2.query-language/2.functions-and-operators/uuid/#uuid","text":"UUID \u7528\u4e8e\u751f\u6210\u5168\u5c40\u552f\u4e00\u7684\u6807\u8bc6\u7b26\u3002 \u5f53\u9876\u70b9\u6570\u91cf\u5230\u8fbe\u5341\u4ebf\u7ea7\u522b\u65f6\uff0c\u7528 hash \u51fd\u6570\u751f\u6210 vid \u6709\u4e00\u5b9a\u7684\u51b2\u7a81\u6982\u7387\u3002\u56e0\u6b64 Nebula Graph \u63d0\u4f9b UUID \u51fd\u6570\u6765\u907f\u514d\u5927\u91cf\u9876\u70b9\u65f6\u7684 vid \u51b2\u7a81\u3002 UUID \u51fd\u6570\u7531 Murmurhash \u4e0e\u5f53\u524d\u65f6\u95f4\u6233\uff08\u5355\u4f4d\u4e3a\u79d2\uff09\u7ec4\u5408\u800c\u6210\u3002 UUID \u4ea7\u751f\u7684\u503c\u4f1a\u4ee5 key-value \u65b9\u5f0f\u5b58\u50a8\u5728 Nebula Graph \u7684 Storage \u670d\u52a1\u4e2d\uff0c\u8c03\u7528\u65f6\u4f1a\u68c0\u67e5\u8fd9\u4e2a key \u662f\u5426\u5b58\u5728\u6216\u51b2\u7a81\u3002\u56e0\u6b64\u76f8\u6bd4 hash\uff0c\u6027\u80fd\u53ef\u80fd\u4f1a\u66f4\u6162\u3002 \u63d2\u5165 UUID \uff1a -- \u4f7f\u7528 UUID \u51fd\u6570\u63d2\u5165\u4e00\u4e2a\u70b9\u3002 nebula> INSERT VERTEX player (name, age) VALUES uuid(\"n0\"):(\"n0\", 21); -- \u4f7f\u7528 UUID \u51fd\u6570\u63d2\u5165\u4e00\u6761\u8fb9\u3002 nebula> INSERT EDGE follow(degree) VALUES uuid(\"n0\") -> uuid(\"n1\"): (90); \u83b7\u53d6 UUID \uff1a nebula> FETCH PROP ON player uuid(\"n0\") YIELD player.name, player.age; -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a =================================================== | VertexID | player.name | player.age | =================================================== | -5057115778034027261 | n0 | 21 | --------------------------------------------------- nebula> FETCH PROP ON follow uuid(\"n0\") -> uuid(\"n1\"); -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a ============================================================================= | follow._src | follow._dst | follow._rank | follow.degree | ============================================================================= | -5057115778034027261 | 4039977434270020867 | 0 | 90 | ----------------------------------------------------------------------------- \u7ed3\u5408 Go \u4f7f\u7528 UUID : nebula> GO FROM uuid(\"n0\") OVER follow; -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a ======================= | follow._dst | ======================= | 4039977434270020867 | -----------------------","title":"UUID"},{"location":"manual-CN/2.query-language/3.language-structure/comment-syntax/","text":"\u6ce8\u91ca \u00b6 Nebula Graph \u652f\u6301\u56db\u79cd\u6ce8\u91ca\u65b9\u5f0f\uff1a \u5728\u884c\u672b\u52a0 # \u5728\u884c\u672b\u52a0 --\uff0c\u4f7f\u7528 '--' \u4f5c\u6ce8\u91ca\u65f6\uff0c\u9700\u5728\u5176\u540e\u52a0\u7a7a\u683c\uff0c\u5373 '-- '\u3002 \u5728\u884c\u672b\u52a0 //\uff0c\u4e0e C \u8bed\u8a00\u7c7b\u4f3c \u6dfb\u52a0 /* */ \u7b26\u53f7\uff0c\u5176\u5f00\u59cb\u548c\u7ed3\u675f\u5e8f\u5217\u65e0\u9700\u5728\u540c\u4e00\u884c\uff0c\u56e0\u6b64\u6b64\u7c7b\u6ce8\u91ca\u65b9\u5f0f\u652f\u6301\u6362\u884c\u3002 \u5c1a\u4e0d\u652f\u6301\u5d4c\u5957\u6ce8\u91ca\u3002 \u6ce8\u91ca\u65b9\u5f0f\u793a\u4f8b\u5982\u4e0b\uff1a nebula> -- Do nothing in this line nebula> YIELD 1+1; # \u6ce8\u91ca\u5728\u672c\u884c\u672b\u7ed3\u675f nebula> YIELD 1+1; -- \u6ce8\u91ca\u5728\u672c\u884c\u672b\u7ed3\u675f nebula> YIELD 1+1; // \u6ce8\u91ca\u5728\u672c\u884c\u672b\u7ed3\u675f nebula> YIELD 1 /* \u8fd9\u662f\u884c\u5185\u6ce8\u91ca */ + 1; nebula> YIELD 11 + \\ /* \u591a\u884c\u6ce8\u91ca\u4f7f\u7528 \\ \u9694\u5f00 \\ */ 12; \u884c\u5185 \\ \u8868\u793a\u6362\u884c\u7b26\u3002","title":"\u6ce8\u91ca\u8bed\u6cd5"},{"location":"manual-CN/2.query-language/3.language-structure/comment-syntax/#_1","text":"Nebula Graph \u652f\u6301\u56db\u79cd\u6ce8\u91ca\u65b9\u5f0f\uff1a \u5728\u884c\u672b\u52a0 # \u5728\u884c\u672b\u52a0 --\uff0c\u4f7f\u7528 '--' \u4f5c\u6ce8\u91ca\u65f6\uff0c\u9700\u5728\u5176\u540e\u52a0\u7a7a\u683c\uff0c\u5373 '-- '\u3002 \u5728\u884c\u672b\u52a0 //\uff0c\u4e0e C \u8bed\u8a00\u7c7b\u4f3c \u6dfb\u52a0 /* */ \u7b26\u53f7\uff0c\u5176\u5f00\u59cb\u548c\u7ed3\u675f\u5e8f\u5217\u65e0\u9700\u5728\u540c\u4e00\u884c\uff0c\u56e0\u6b64\u6b64\u7c7b\u6ce8\u91ca\u65b9\u5f0f\u652f\u6301\u6362\u884c\u3002 \u5c1a\u4e0d\u652f\u6301\u5d4c\u5957\u6ce8\u91ca\u3002 \u6ce8\u91ca\u65b9\u5f0f\u793a\u4f8b\u5982\u4e0b\uff1a nebula> -- Do nothing in this line nebula> YIELD 1+1; # \u6ce8\u91ca\u5728\u672c\u884c\u672b\u7ed3\u675f nebula> YIELD 1+1; -- \u6ce8\u91ca\u5728\u672c\u884c\u672b\u7ed3\u675f nebula> YIELD 1+1; // \u6ce8\u91ca\u5728\u672c\u884c\u672b\u7ed3\u675f nebula> YIELD 1 /* \u8fd9\u662f\u884c\u5185\u6ce8\u91ca */ + 1; nebula> YIELD 11 + \\ /* \u591a\u884c\u6ce8\u91ca\u4f7f\u7528 \\ \u9694\u5f00 \\ */ 12; \u884c\u5185 \\ \u8868\u793a\u6362\u884c\u7b26\u3002","title":"\u6ce8\u91ca"},{"location":"manual-CN/2.query-language/3.language-structure/identifier-case-sensitivity/","text":"\u6807\u8bc6\u7b26\u5927\u5c0f\u5199 \u00b6 \u7528\u6237\u81ea\u5b9a\u4e49\u7684\u6807\u8bc6\u7b26\u4e3a\u5927\u5c0f\u5199\u654f\u611f \u00b6 \u4e0b\u65b9\u793a\u4f8b\u8bed\u53e5\u6709\u9519\uff0c\u56e0\u4e3a my_space \u548c MY_SPACE \u4e3a\u4e24\u4e2a\u4e0d\u540c\u7684\u53d8\u91cf\u540d\u3002 nebula> CREATE SPACE my_space; nebula> USE MY_SPACE; ---- my_space \u548c MY_SPACE \u662f\u4e24\u4e2a\u4e0d\u540c\u7684 space \u5173\u952e\u8bcd\u548c\u4fdd\u7559\u5173\u952e\u8bcd\u4e3a\u5927\u5c0f\u5199\u4e0d\u654f\u611f \u00b6 \u4e0b\u9762\u56db\u6761\u8bed\u53e5\u662f\u7b49\u4ef7\u7684\uff08\u56e0\u4e3a show \u548c spaces \u90fd\u662f\u4fdd\u7559\u5b57\uff09 nebula> show spaces; nebula> SHOW SPACES; nebula> SHOW spaces; nebula> show SPACES;","title":"\u6807\u8bc6\u7b26\u5927\u5c0f\u5199"},{"location":"manual-CN/2.query-language/3.language-structure/identifier-case-sensitivity/#_1","text":"","title":"\u6807\u8bc6\u7b26\u5927\u5c0f\u5199"},{"location":"manual-CN/2.query-language/3.language-structure/identifier-case-sensitivity/#_2","text":"\u4e0b\u65b9\u793a\u4f8b\u8bed\u53e5\u6709\u9519\uff0c\u56e0\u4e3a my_space \u548c MY_SPACE \u4e3a\u4e24\u4e2a\u4e0d\u540c\u7684\u53d8\u91cf\u540d\u3002 nebula> CREATE SPACE my_space; nebula> USE MY_SPACE; ---- my_space \u548c MY_SPACE \u662f\u4e24\u4e2a\u4e0d\u540c\u7684 space","title":"\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u6807\u8bc6\u7b26\u4e3a\u5927\u5c0f\u5199\u654f\u611f"},{"location":"manual-CN/2.query-language/3.language-structure/identifier-case-sensitivity/#_3","text":"\u4e0b\u9762\u56db\u6761\u8bed\u53e5\u662f\u7b49\u4ef7\u7684\uff08\u56e0\u4e3a show \u548c spaces \u90fd\u662f\u4fdd\u7559\u5b57\uff09 nebula> show spaces; nebula> SHOW SPACES; nebula> SHOW spaces; nebula> show SPACES;","title":"\u5173\u952e\u8bcd\u548c\u4fdd\u7559\u5173\u952e\u8bcd\u4e3a\u5927\u5c0f\u5199\u4e0d\u654f\u611f"},{"location":"manual-CN/2.query-language/3.language-structure/keywords-and-reserved-words/","text":"\u5173\u952e\u5b57\u548c\u4fdd\u7559\u5b57 \u00b6 \u5173\u952e\u5b57\u662f\u5728 nGQL \u4e2d\u5177\u6709\u91cd\u8981\u610f\u4e49\u7684\u5355\u8bcd\u3002\u4fdd\u7559\u5173\u952e\u5b57\u9700\u5f15\u7528\u65b9\u53ef\u4f7f\u7528\u3002 \u975e\u4fdd\u7559\u5173\u952e\u5b57\u65e0\u9700\u5f15\u7528\u53ef\u76f4\u63a5\u4f7f\u7528\uff0c\u4e14\u6240\u6709\u975e\u4fdd\u7559\u5b57\u90fd\u4f1a\u81ea\u52a8\u8f6c\u6362\u6210\u5c0f\u5199\uff0c\u6240\u4ee5\u975e\u4fdd\u7559\u5b57\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002\u4fdd\u7559\u5173\u952e\u5b57\u9700\u4f7f\u7528\u53cd\u5f15\u53f7\u6807\u6ce8\u65b9\u53ef\u4f7f\u7528\uff0c\u4f8b\u5982 `AND`\u3002 nebula> CREATE TAG TAG(name string); [ERROR (-7)]: SyntaxError: syntax error near `TAG' nebula> CREATE TAG SPACE(name string); -- SPACE \u4e3a\u975e\u4fdd\u7559\u5173\u952e\u5b57 Execution succeeded nebula> SHOW TAGS; -- \u6240\u6709\u975e\u4fdd\u7559\u5b57\u90fd\u4f1a\u81ea\u52a8\u8f6c\u6362\u6210\u5c0f\u5199 ============= | ID | Name | ============= | 25 | space| ------------- TAG \u4e3a\u4fdd\u7559\u5b57\u4f7f\u7528\u65f6\u5fc5\u987b\u4f7f\u7528\u53cd\u5f15\u53f7\u3002 SPACE \u4e3a\u975e\u4fdd\u7559\u5b57\u4f7f\u7528\u65f6\u65e0\u9700\u52a0\u53cd\u5f15\u53f7\u3002 nebula> CREATE TAG `TAG` (name string); -- \u6b64\u5904 TAG \u4e3a\u4fdd\u7559\u5b57 Execution succeeded \u4fdd\u7559\u5b57 \u00b6 \u4ee5\u4e0b\u5217\u8868\u4e3a nGQL \u4e2d\u7684\u4fdd\u7559\u5b57\u3002 ADD ALTER AND AS ASC BALANCE BIGINT BOOL BY CHANGE COMPACT CREATE DELETE DESC DESCRIBE DISTINCT DOUBLE DOWNLOAD DROP EDGE EDGES EXISTS FETCH FIND FLUSH FROM GET GO GRANT IF IN INDEX INDEXES INGEST INSERT INT INTERSECT IS LIMIT LOOKUP MATCH MINUS NO NOT NULL OF OFFSET ON OR ORDER OVER OVERWRITE PROP REBUILD RECOVER REMOVE RETURN REVERSELY REVOKE SET SHOW STEPS STOP STRING SUBMIT TAG TAGS TIMESTAMP TO UNION UPDATE UPSERT UPTO USE VERTEX WHEN WHERE WITH XOR YIELD \u975e\u4fdd\u7559\u5173\u952e\u5b57 \u00b6 ACCOUNT ADMIN ALL AVG BIDIRECT BIT_AND BIT_OR BIT_XOR CHARSET COLLATE COLLATION CONFIGS COUNT COUNT_DISTINCT DATA DBA DEFAULT FORCE GOD GRAPH GROUP GUEST HDFS HOSTS JOB JOBS LEADER MAX META MIN OFFLINE PART PARTITION_NUM PARTS PASSWORD PATH REPLICA_FACTOR ROLE ROLES SHORTEST SNAPSHOT SNAPSHOTS SPACE SPACES STATUS STD STORAGE SUM TTL_COL TTL_DURATION USER USERS UUID VALUES","title":"\u5173\u952e\u5b57\u548c\u4fdd\u7559\u5b57"},{"location":"manual-CN/2.query-language/3.language-structure/keywords-and-reserved-words/#_1","text":"\u5173\u952e\u5b57\u662f\u5728 nGQL \u4e2d\u5177\u6709\u91cd\u8981\u610f\u4e49\u7684\u5355\u8bcd\u3002\u4fdd\u7559\u5173\u952e\u5b57\u9700\u5f15\u7528\u65b9\u53ef\u4f7f\u7528\u3002 \u975e\u4fdd\u7559\u5173\u952e\u5b57\u65e0\u9700\u5f15\u7528\u53ef\u76f4\u63a5\u4f7f\u7528\uff0c\u4e14\u6240\u6709\u975e\u4fdd\u7559\u5b57\u90fd\u4f1a\u81ea\u52a8\u8f6c\u6362\u6210\u5c0f\u5199\uff0c\u6240\u4ee5\u975e\u4fdd\u7559\u5b57\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002\u4fdd\u7559\u5173\u952e\u5b57\u9700\u4f7f\u7528\u53cd\u5f15\u53f7\u6807\u6ce8\u65b9\u53ef\u4f7f\u7528\uff0c\u4f8b\u5982 `AND`\u3002 nebula> CREATE TAG TAG(name string); [ERROR (-7)]: SyntaxError: syntax error near `TAG' nebula> CREATE TAG SPACE(name string); -- SPACE \u4e3a\u975e\u4fdd\u7559\u5173\u952e\u5b57 Execution succeeded nebula> SHOW TAGS; -- \u6240\u6709\u975e\u4fdd\u7559\u5b57\u90fd\u4f1a\u81ea\u52a8\u8f6c\u6362\u6210\u5c0f\u5199 ============= | ID | Name | ============= | 25 | space| ------------- TAG \u4e3a\u4fdd\u7559\u5b57\u4f7f\u7528\u65f6\u5fc5\u987b\u4f7f\u7528\u53cd\u5f15\u53f7\u3002 SPACE \u4e3a\u975e\u4fdd\u7559\u5b57\u4f7f\u7528\u65f6\u65e0\u9700\u52a0\u53cd\u5f15\u53f7\u3002 nebula> CREATE TAG `TAG` (name string); -- \u6b64\u5904 TAG \u4e3a\u4fdd\u7559\u5b57 Execution succeeded","title":"\u5173\u952e\u5b57\u548c\u4fdd\u7559\u5b57"},{"location":"manual-CN/2.query-language/3.language-structure/keywords-and-reserved-words/#_2","text":"\u4ee5\u4e0b\u5217\u8868\u4e3a nGQL \u4e2d\u7684\u4fdd\u7559\u5b57\u3002 ADD ALTER AND AS ASC BALANCE BIGINT BOOL BY CHANGE COMPACT CREATE DELETE DESC DESCRIBE DISTINCT DOUBLE DOWNLOAD DROP EDGE EDGES EXISTS FETCH FIND FLUSH FROM GET GO GRANT IF IN INDEX INDEXES INGEST INSERT INT INTERSECT IS LIMIT LOOKUP MATCH MINUS NO NOT NULL OF OFFSET ON OR ORDER OVER OVERWRITE PROP REBUILD RECOVER REMOVE RETURN REVERSELY REVOKE SET SHOW STEPS STOP STRING SUBMIT TAG TAGS TIMESTAMP TO UNION UPDATE UPSERT UPTO USE VERTEX WHEN WHERE WITH XOR YIELD","title":"\u4fdd\u7559\u5b57"},{"location":"manual-CN/2.query-language/3.language-structure/keywords-and-reserved-words/#_3","text":"ACCOUNT ADMIN ALL AVG BIDIRECT BIT_AND BIT_OR BIT_XOR CHARSET COLLATE COLLATION CONFIGS COUNT COUNT_DISTINCT DATA DBA DEFAULT FORCE GOD GRAPH GROUP GUEST HDFS HOSTS JOB JOBS LEADER MAX META MIN OFFLINE PART PARTITION_NUM PARTS PASSWORD PATH REPLICA_FACTOR ROLE ROLES SHORTEST SNAPSHOT SNAPSHOTS SPACE SPACES STATUS STD STORAGE SUM TTL_COL TTL_DURATION USER USERS UUID VALUES","title":"\u975e\u4fdd\u7559\u5173\u952e\u5b57"},{"location":"manual-CN/2.query-language/3.language-structure/pipe-syntax/","text":"\u7ba1\u9053 \u00b6 nGQL \u548c SQL \u7684\u4e3b\u8981\u533a\u522b\u4e4b\u4e00\u662f\u5b50\u67e5\u8be2\u7684\u7ec4\u5408\u65b9\u5f0f\u3002 SQL \u4e2d\u7684\u67e5\u8be2\u8bed\u53e5\u901a\u5e38\u7531\u5b50\u67e5\u8be2\u5d4c\u5957\u7ec4\u6210\uff0c\u800c nGQL \u5219\u4f7f\u7528\u7c7b\u4f3c\u4e8e shell \u7684\u7ba1\u9053\u65b9\u5f0f PIPE(|) \u6765\u7ec4\u5408\u5b50\u67e5\u8be2\u3002 \u793a\u4f8b \u00b6 nebula> GO FROM 100 OVER follow YIELD follow._dst AS dstid, $$.player.name AS Name | \\ GO FROM $-.dstid OVER follow YIELD follow._dst, follow.degree, $-.Name; \u5982\u672a\u4f7f\u7528 YIELD \uff0c\u5219\u9ed8\u8ba4\u8fd4\u56de\u7ec8\u70b9 id \u3002 \u5982\u679c\u4f7f\u7528 YIELD \u660e\u786e\u58f0\u660e\u8fd4\u56de\u7ed3\u679c\uff0c\u5219\u4e0d\u4f1a\u8fd4\u56de\u9ed8\u8ba4\u503c id \u3002 $-. \u540e\u7684\u522b\u540d\u5fc5\u987b\u4e3a\u524d\u4e00\u4e2a\u5b50\u53e5 YIELD \u5b9a\u4e49\u7684\u503c\uff0c\u5982\u672c\u4f8b\u4e2d\u7684 dstid \u548c Name \u3002","title":"\u7ba1\u9053"},{"location":"manual-CN/2.query-language/3.language-structure/pipe-syntax/#_1","text":"nGQL \u548c SQL \u7684\u4e3b\u8981\u533a\u522b\u4e4b\u4e00\u662f\u5b50\u67e5\u8be2\u7684\u7ec4\u5408\u65b9\u5f0f\u3002 SQL \u4e2d\u7684\u67e5\u8be2\u8bed\u53e5\u901a\u5e38\u7531\u5b50\u67e5\u8be2\u5d4c\u5957\u7ec4\u6210\uff0c\u800c nGQL \u5219\u4f7f\u7528\u7c7b\u4f3c\u4e8e shell \u7684\u7ba1\u9053\u65b9\u5f0f PIPE(|) \u6765\u7ec4\u5408\u5b50\u67e5\u8be2\u3002","title":"\u7ba1\u9053"},{"location":"manual-CN/2.query-language/3.language-structure/pipe-syntax/#_2","text":"nebula> GO FROM 100 OVER follow YIELD follow._dst AS dstid, $$.player.name AS Name | \\ GO FROM $-.dstid OVER follow YIELD follow._dst, follow.degree, $-.Name; \u5982\u672a\u4f7f\u7528 YIELD \uff0c\u5219\u9ed8\u8ba4\u8fd4\u56de\u7ec8\u70b9 id \u3002 \u5982\u679c\u4f7f\u7528 YIELD \u660e\u786e\u58f0\u660e\u8fd4\u56de\u7ed3\u679c\uff0c\u5219\u4e0d\u4f1a\u8fd4\u56de\u9ed8\u8ba4\u503c id \u3002 $-. \u540e\u7684\u522b\u540d\u5fc5\u987b\u4e3a\u524d\u4e00\u4e2a\u5b50\u53e5 YIELD \u5b9a\u4e49\u7684\u503c\uff0c\u5982\u672c\u4f8b\u4e2d\u7684 dstid \u548c Name \u3002","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/3.language-structure/property-reference/","text":"\u5c5e\u6027\u5f15\u7528 \u00b6 WHERE \u548c YIELD \u53ef\u5f15\u7528\u8282\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u3002 \u5f15\u7528\u70b9\u7684\u5c5e\u6027 \u00b6 \u5f15\u7528\u8d77\u70b9\u7684\u5c5e\u6027 \u00b6 $^.tag_name.prop_name \u5176\u4e2d\u7b26\u53f7 $^ \u7528\u4e8e\u83b7\u53d6\u8d77\u70b9\u5c5e\u6027\uff0c tag_name \u8868\u793a\u8d77\u70b9\u7684 tag \uff0c prop_name \u4e3a\u6307\u5b9a\u5c5e\u6027\u7684\u540d\u79f0\u3002 \u5f15\u7528\u7ec8\u70b9\u7684\u5c5e\u6027 \u00b6 $$.tag_name.prop_name \u5176\u4e2d\u7b26\u53f7 $$ \u7528\u4e8e\u83b7\u53d6\u7ec8\u70b9\u5c5e\u6027\uff0c tag_name \u8868\u793a\u7ec8\u70b9\u7684 tag \uff0c prop_name \u4e3a\u6307\u5b9a\u5c5e\u6027\u7684\u540d\u79f0\u3002 \u793a\u4f8b \u00b6 nebula> GO FROM 100 OVER follow YIELD $^.player.name AS startName, $$.player.age AS endAge; \u8be5\u8bed\u53e5\u7528\u4e8e\u83b7\u53d6\u8d77\u70b9\u7684\u5c5e\u6027\u540d\u79f0\u548c\u7ec8\u70b9\u7684\u5c5e\u6027\u5e74\u9f84\u3002 \u5f15\u7528\u8fb9 \u00b6 \u5f15\u7528\u8fb9\u7684\u5c5e\u6027 \u00b6 \u4f7f\u7528\u5982\u4e0b\u65b9\u5f0f\u83b7\u53d6\u8fb9\u5c5e\u6027\uff1a edge_type.edge_prop \u6b64\u5904\uff0c edge_type \u4e3a\u8fb9\u7684\u7c7b\u578b\uff0c edge_prop \u4e3a\u5c5e\u6027\uff0c\u4f8b\u5982\uff1a nebula> GO FROM 100 OVER follow YIELD follow.degree; \u5f15\u7528\u8fb9\u7684\u5185\u7f6e\u5c5e\u6027 \u00b6 \u4e00\u6761\u8fb9\u6709\u56db\u4e2a\u5185\u7f6e\u5c5e\u6027\uff1a _src: \u8fb9\u8d77\u70b9 ID _dst: \u8fb9\u7ec8\u70b9 ID _type: \u8fb9\u7c7b\u578b _rank: \u8fb9\u7684 rank \u503c \u83b7\u53d6\u8d77\u70b9\u548c\u7ec8\u70b9 ID \u53ef\u901a\u8fc7 _src \u548c _dst \u83b7\u53d6\uff0c\u8fd9\u5728\u663e\u793a\u56fe\u8def\u5f84\u65f6\u7ecf\u5e38\u4f1a\u7528\u5230\u3002 \u4f8b\u5982\uff1a nebula> GO FROM 100 OVER follow YIELD follow._src, follow._dst, follow._type, follow._rank; =========================================================== | follow._src | follow._dst | follow._type | follow._rank | =========================================================== | 100 | 101 | 26 | 0 | ----------------------------------------------------------- | 100 | 102 | 26 | 0 | ----------------------------------------------------------- | 100 | 106 | 26 | 0 | ----------------------------------------------------------- \u8be5\u8bed\u53e5\u901a\u8fc7\u5f15\u7528 follow._src \u4f5c\u4e3a\u8d77\u70b9 ID \u548c follow._dst \u4f5c\u4e3a\u7ec8\u70b9 ID\uff0c\u8fd4\u56de\u8d77\u70b9 100 follow \u7684\u6240\u6709\u90bb\u5c45\u8282\u70b9\u3002\u5176\u4e2d follow._src \u8fd4\u56de\u8d77\u70b9 ID\uff0c follow._dst \u8fd4\u56de\u7ec8\u70b9 ID\u3002","title":"\u5c5e\u6027\u5f15\u7528"},{"location":"manual-CN/2.query-language/3.language-structure/property-reference/#_1","text":"WHERE \u548c YIELD \u53ef\u5f15\u7528\u8282\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u3002","title":"\u5c5e\u6027\u5f15\u7528"},{"location":"manual-CN/2.query-language/3.language-structure/property-reference/#_2","text":"","title":"\u5f15\u7528\u70b9\u7684\u5c5e\u6027"},{"location":"manual-CN/2.query-language/3.language-structure/property-reference/#_3","text":"$^.tag_name.prop_name \u5176\u4e2d\u7b26\u53f7 $^ \u7528\u4e8e\u83b7\u53d6\u8d77\u70b9\u5c5e\u6027\uff0c tag_name \u8868\u793a\u8d77\u70b9\u7684 tag \uff0c prop_name \u4e3a\u6307\u5b9a\u5c5e\u6027\u7684\u540d\u79f0\u3002","title":"\u5f15\u7528\u8d77\u70b9\u7684\u5c5e\u6027"},{"location":"manual-CN/2.query-language/3.language-structure/property-reference/#_4","text":"$$.tag_name.prop_name \u5176\u4e2d\u7b26\u53f7 $$ \u7528\u4e8e\u83b7\u53d6\u7ec8\u70b9\u5c5e\u6027\uff0c tag_name \u8868\u793a\u7ec8\u70b9\u7684 tag \uff0c prop_name \u4e3a\u6307\u5b9a\u5c5e\u6027\u7684\u540d\u79f0\u3002","title":"\u5f15\u7528\u7ec8\u70b9\u7684\u5c5e\u6027"},{"location":"manual-CN/2.query-language/3.language-structure/property-reference/#_5","text":"nebula> GO FROM 100 OVER follow YIELD $^.player.name AS startName, $$.player.age AS endAge; \u8be5\u8bed\u53e5\u7528\u4e8e\u83b7\u53d6\u8d77\u70b9\u7684\u5c5e\u6027\u540d\u79f0\u548c\u7ec8\u70b9\u7684\u5c5e\u6027\u5e74\u9f84\u3002","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/3.language-structure/property-reference/#_6","text":"","title":"\u5f15\u7528\u8fb9"},{"location":"manual-CN/2.query-language/3.language-structure/property-reference/#_7","text":"\u4f7f\u7528\u5982\u4e0b\u65b9\u5f0f\u83b7\u53d6\u8fb9\u5c5e\u6027\uff1a edge_type.edge_prop \u6b64\u5904\uff0c edge_type \u4e3a\u8fb9\u7684\u7c7b\u578b\uff0c edge_prop \u4e3a\u5c5e\u6027\uff0c\u4f8b\u5982\uff1a nebula> GO FROM 100 OVER follow YIELD follow.degree;","title":"\u5f15\u7528\u8fb9\u7684\u5c5e\u6027"},{"location":"manual-CN/2.query-language/3.language-structure/property-reference/#_8","text":"\u4e00\u6761\u8fb9\u6709\u56db\u4e2a\u5185\u7f6e\u5c5e\u6027\uff1a _src: \u8fb9\u8d77\u70b9 ID _dst: \u8fb9\u7ec8\u70b9 ID _type: \u8fb9\u7c7b\u578b _rank: \u8fb9\u7684 rank \u503c \u83b7\u53d6\u8d77\u70b9\u548c\u7ec8\u70b9 ID \u53ef\u901a\u8fc7 _src \u548c _dst \u83b7\u53d6\uff0c\u8fd9\u5728\u663e\u793a\u56fe\u8def\u5f84\u65f6\u7ecf\u5e38\u4f1a\u7528\u5230\u3002 \u4f8b\u5982\uff1a nebula> GO FROM 100 OVER follow YIELD follow._src, follow._dst, follow._type, follow._rank; =========================================================== | follow._src | follow._dst | follow._type | follow._rank | =========================================================== | 100 | 101 | 26 | 0 | ----------------------------------------------------------- | 100 | 102 | 26 | 0 | ----------------------------------------------------------- | 100 | 106 | 26 | 0 | ----------------------------------------------------------- \u8be5\u8bed\u53e5\u901a\u8fc7\u5f15\u7528 follow._src \u4f5c\u4e3a\u8d77\u70b9 ID \u548c follow._dst \u4f5c\u4e3a\u7ec8\u70b9 ID\uff0c\u8fd4\u56de\u8d77\u70b9 100 follow \u7684\u6240\u6709\u90bb\u5c45\u8282\u70b9\u3002\u5176\u4e2d follow._src \u8fd4\u56de\u8d77\u70b9 ID\uff0c follow._dst \u8fd4\u56de\u7ec8\u70b9 ID\u3002","title":"\u5f15\u7528\u8fb9\u7684\u5185\u7f6e\u5c5e\u6027"},{"location":"manual-CN/2.query-language/3.language-structure/schema-object-names/","text":"\u6807\u8bc6\u7b26\u547d\u540d\u89c4\u5219 \u00b6 Nebula Graph \u4e2d\u7684\u6807\u8bc6\u7b26\u5305\u62ec\u56fe\u7a7a\u95f4\u3001\u6807\u7b7e\u3001\u8fb9\u3001\u522b\u540d\u3001\u81ea\u5b9a\u4e49\u53d8\u91cf\u7b49\u3002\u6807\u8bc6\u7b26\u547d\u540d\u89c4\u5219\u4e3a\uff1a \u6807\u8bc6\u7b26\u4e2d\u5141\u8bb8\u7684\u5b57\u7b26\uff1a ASCII: [ 0-9,a-z,A-Z, ] (\u57fa\u672c\u62c9\u4e01\u5b57\u6bcd\uff0c\u6570\u5b57 0 - 9\uff0c\u4e0b\u5212\u7ebf)\uff0c\u4e0d\u652f\u6301\u5176\u4ed6\u6807\u70b9\u5b57\u7b26\u3002 \u6240\u6709\u6807\u8bc6\u7b26\u5fc5\u987b\u4ee5\u5b57\u6bcd\u5f00\u5934\u3002 \u6807\u8bc6\u7b26\u533a\u5206\u5927\u5c0f\u5199\u3002 \u4e0d\u53ef\u4f7f\u7528\u5173\u952e\u5b57\u6216\u4fdd\u7559\u5173\u952e\u5b57\u505a\u6807\u8bc6\u7b26\u3002","title":"\u6807\u8bc6\u7b26\u547d\u540d\u89c4\u5219"},{"location":"manual-CN/2.query-language/3.language-structure/schema-object-names/#_1","text":"Nebula Graph \u4e2d\u7684\u6807\u8bc6\u7b26\u5305\u62ec\u56fe\u7a7a\u95f4\u3001\u6807\u7b7e\u3001\u8fb9\u3001\u522b\u540d\u3001\u81ea\u5b9a\u4e49\u53d8\u91cf\u7b49\u3002\u6807\u8bc6\u7b26\u547d\u540d\u89c4\u5219\u4e3a\uff1a \u6807\u8bc6\u7b26\u4e2d\u5141\u8bb8\u7684\u5b57\u7b26\uff1a ASCII: [ 0-9,a-z,A-Z, ] (\u57fa\u672c\u62c9\u4e01\u5b57\u6bcd\uff0c\u6570\u5b57 0 - 9\uff0c\u4e0b\u5212\u7ebf)\uff0c\u4e0d\u652f\u6301\u5176\u4ed6\u6807\u70b9\u5b57\u7b26\u3002 \u6240\u6709\u6807\u8bc6\u7b26\u5fc5\u987b\u4ee5\u5b57\u6bcd\u5f00\u5934\u3002 \u6807\u8bc6\u7b26\u533a\u5206\u5927\u5c0f\u5199\u3002 \u4e0d\u53ef\u4f7f\u7528\u5173\u952e\u5b57\u6216\u4fdd\u7559\u5173\u952e\u5b57\u505a\u6807\u8bc6\u7b26\u3002","title":"\u6807\u8bc6\u7b26\u547d\u540d\u89c4\u5219"},{"location":"manual-CN/2.query-language/3.language-structure/statement-composition/","text":"\u8bed\u53e5\u7ec4\u5408 \u00b6 \u7ec4\u5408\u8bed\u53e5\uff08\u6216\u5b50\u67e5\u8be2\uff09\u7684\u65b9\u6cd5\u6709\u4e24\u79cd\uff1a \u5c06\u591a\u4e2a\u8bed\u53e5\u653e\u5728\u4e00\u4e2a\u8bed\u53e5\u4e2d\u8fdb\u884c\u6279\u5904\u7406\uff0c\u4ee5\u82f1\u6587\u5206\u53f7\uff08;\uff09\u9694\u5f00\uff0c\u6700\u540e\u4e00\u4e2a\u8bed\u53e5\u7684\u7ed3\u679c\u5c06\u4f5c\u4e3a\u6279\u5904\u7406\u7684\u7ed3\u679c\u8fd4\u56de\u3002 \u5c06\u591a\u4e2a\u8bed\u53e5\u901a\u8fc7\u8fd0\u7b97\u7b26\uff08|\uff09\u8fde\u63a5\u5728\u4e00\u8d77\uff0c\u7c7b\u4f3c\u4e8e shell \u811a\u672c\u4e2d\u7684\u7ba1\u9053\u3002\u524d\u4e00\u4e2a\u8bed\u53e5\u5f97\u5230\u7684\u7ed3\u679c\u53ef\u4ee5\u91cd\u5b9a\u5411\u5230\u4e0b\u4e00\u4e2a\u8bed\u53e5\u4f5c\u4e3a\u8f93\u5165\u3002 \u6ce8\u610f\u590d\u5408\u8bed\u53e5\u5e76\u4e0d\u80fd\u4fdd\u8bc1 \u4e8b\u52a1\u6027 \u3002 \u4f8b\u5982\uff0c\u7531\u4e09\u4e2a\u5b50\u67e5\u8be2\u7ec4\u6210\u7684\u8bed\u53e5\uff1aA | B | C\uff0c\u5176\u4e2d A \u662f\u8bfb\u64cd\u4f5c\uff0cB \u662f\u8ba1\u7b97\uff0cC \u662f\u5199\u64cd\u4f5c\u3002 \u5982\u679c\u4efb\u4f55\u90e8\u5206\u5728\u6267\u884c\u4e2d\u5931\u8d25\uff0c\u6574\u4e2a\u7ed3\u679c\u5c06\u672a\u88ab\u5b9a\u4e49--\u5c1a\u4e0d\u652f\u6301\u8c03\u7528\u56de\u6eda\u3002 \u793a\u4f8b \u00b6 \u5206\u53f7\u590d\u5408\u8bed\u53e5 \u00b6 nebula> SHOW TAGS; SHOW EDGES; -- \u4ec5\u5217\u51fa\u8fb9 nebula> INSERT VERTEX player(name, age) VALUES 100:(\"Tim Duncan\", 42); \\ INSERT VERTEX player(name, age) VALUES 101:(\"Tony Parker\", 36); \\ INSERT VERTEX player(name, age) VALUES 102:(\"LaMarcus Aldridge\", 33); /* \u901a\u8fc7\u590d\u5408\u8bed\u53e5\u63d2\u5165\u591a\u4e2a\u70b9*/ \u7ba1\u9053\u590d\u5408\u8bed\u53e5 \u00b6 nebula> GO FROM 201 OVER edge_serve | GO FROM $-.id OVER edge_fans | GO FROM $-.id ... \u5360\u4f4d\u7b26 $-.id \u83b7\u53d6\u7b2c\u4e00\u4e2a\u8bed\u53e5 GO FROM 201 OVER edge_serve YIELD edge_serve._dst AS id \u8fd4\u56de\u7684\u7ed3\u679c\u3002","title":"\u8bed\u53e5\u7ec4\u5408"},{"location":"manual-CN/2.query-language/3.language-structure/statement-composition/#_1","text":"\u7ec4\u5408\u8bed\u53e5\uff08\u6216\u5b50\u67e5\u8be2\uff09\u7684\u65b9\u6cd5\u6709\u4e24\u79cd\uff1a \u5c06\u591a\u4e2a\u8bed\u53e5\u653e\u5728\u4e00\u4e2a\u8bed\u53e5\u4e2d\u8fdb\u884c\u6279\u5904\u7406\uff0c\u4ee5\u82f1\u6587\u5206\u53f7\uff08;\uff09\u9694\u5f00\uff0c\u6700\u540e\u4e00\u4e2a\u8bed\u53e5\u7684\u7ed3\u679c\u5c06\u4f5c\u4e3a\u6279\u5904\u7406\u7684\u7ed3\u679c\u8fd4\u56de\u3002 \u5c06\u591a\u4e2a\u8bed\u53e5\u901a\u8fc7\u8fd0\u7b97\u7b26\uff08|\uff09\u8fde\u63a5\u5728\u4e00\u8d77\uff0c\u7c7b\u4f3c\u4e8e shell \u811a\u672c\u4e2d\u7684\u7ba1\u9053\u3002\u524d\u4e00\u4e2a\u8bed\u53e5\u5f97\u5230\u7684\u7ed3\u679c\u53ef\u4ee5\u91cd\u5b9a\u5411\u5230\u4e0b\u4e00\u4e2a\u8bed\u53e5\u4f5c\u4e3a\u8f93\u5165\u3002 \u6ce8\u610f\u590d\u5408\u8bed\u53e5\u5e76\u4e0d\u80fd\u4fdd\u8bc1 \u4e8b\u52a1\u6027 \u3002 \u4f8b\u5982\uff0c\u7531\u4e09\u4e2a\u5b50\u67e5\u8be2\u7ec4\u6210\u7684\u8bed\u53e5\uff1aA | B | C\uff0c\u5176\u4e2d A \u662f\u8bfb\u64cd\u4f5c\uff0cB \u662f\u8ba1\u7b97\uff0cC \u662f\u5199\u64cd\u4f5c\u3002 \u5982\u679c\u4efb\u4f55\u90e8\u5206\u5728\u6267\u884c\u4e2d\u5931\u8d25\uff0c\u6574\u4e2a\u7ed3\u679c\u5c06\u672a\u88ab\u5b9a\u4e49--\u5c1a\u4e0d\u652f\u6301\u8c03\u7528\u56de\u6eda\u3002","title":"\u8bed\u53e5\u7ec4\u5408"},{"location":"manual-CN/2.query-language/3.language-structure/statement-composition/#_2","text":"","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/3.language-structure/statement-composition/#_3","text":"nebula> SHOW TAGS; SHOW EDGES; -- \u4ec5\u5217\u51fa\u8fb9 nebula> INSERT VERTEX player(name, age) VALUES 100:(\"Tim Duncan\", 42); \\ INSERT VERTEX player(name, age) VALUES 101:(\"Tony Parker\", 36); \\ INSERT VERTEX player(name, age) VALUES 102:(\"LaMarcus Aldridge\", 33); /* \u901a\u8fc7\u590d\u5408\u8bed\u53e5\u63d2\u5165\u591a\u4e2a\u70b9*/","title":"\u5206\u53f7\u590d\u5408\u8bed\u53e5"},{"location":"manual-CN/2.query-language/3.language-structure/statement-composition/#_4","text":"nebula> GO FROM 201 OVER edge_serve | GO FROM $-.id OVER edge_fans | GO FROM $-.id ... \u5360\u4f4d\u7b26 $-.id \u83b7\u53d6\u7b2c\u4e00\u4e2a\u8bed\u53e5 GO FROM 201 OVER edge_serve YIELD edge_serve._dst AS id \u8fd4\u56de\u7684\u7ed3\u679c\u3002","title":"\u7ba1\u9053\u590d\u5408\u8bed\u53e5"},{"location":"manual-CN/2.query-language/3.language-structure/user-defined-variables/","text":"\u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf \u00b6 Nebula Graph \u652f\u6301\u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf\uff0c\u5176\u683c\u5f0f\u4e3a $var_name \u3002\u5176\u4e2d\u53d8\u91cf\u540d var_name \u7531\u5b57\u6bcd\u5b57\u7b26\u7ec4\u6210\u3002\u76ee\u524d\u4e0d\u5efa\u8bae\u4f7f\u7528\u4efb\u4f55\u5176\u4ed6\u5b57\u7b26\u3002\u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf\u53ef\u6682\u65f6\u5c06\u503c\u5b58\u50a8\u5728\u524d\u4e00\u4e2a\u8bed\u53e5\u4e2d\u7684\u81ea\u5b9a\u4e49\u53d8\u91cf\u4e2d\uff0c\u5e76\u5728\uff08\u968f\u540e\u7684\uff09\u53e6\u4e00\u4e2a\u8bed\u53e5\u4e2d\u4f7f\u7528\uff0c\u4ece\u800c\u53ef\u5c06\u4e2d\u95f4\u7ed3\u679c\u4ece\u4e00\u4e2a\u8bed\u53e5\u4f20\u9012\u5230\u53e6\u4e00\u4e2a\u8bed\u53e5\u3002 \u7528\u6237\u5b9a\u4e49\u53d8\u91cf\u53ea\u80fd\u5728\u4e00\u6b21\u6267\u884c\u4e2d\u4f7f\u7528\uff08\u7531\u5206\u53f7 ; \u6216\u7ba1\u9053 | \u9694\u5f00\u7684\u590d\u5408\u8bed\u53e5\uff0c\u5e76\u63d0\u4ea4\u7ed9\u670d\u52a1\u5668\u4e00\u8d77\u6267\u884c\uff09\u3002 \u8bf7\u6ce8\u610f\uff0c\u81ea\u5b9a\u4e49\u7684\u53d8\u91cf\u4ec5\u5728\u5f53\u524d\u4f1a\u8bdd\u7684\u5f53\u524d\u67e5\u8be2\u6709\u6548\u3002\u5728\u4e00\u4e2a\u8bed\u53e5\u4e2d\u5b9a\u4e49\u7684\u81ea\u5b9a\u4e49\u53d8\u91cf\u4e0d\u80fd\u5728\u5176\u4ed6\u5ba2\u6237\u7aef\u548c\u5176\u4ed6\u6267\u884c\u4e2d\u4f7f\u7528\uff0c\u4e5f\u5c31\u662f\u8bf4\u5b9a\u4e49\u8bed\u53e5\u548c\u4f7f\u7528\u5b83\u7684\u8bed\u53e5\u5e94\u8be5\u4e00\u8d77\u63d0\u4ea4\u3002\u5f53\u5ba2\u6237\u7aef\u53d1\u9001\u6267\u884c\u65f6\uff0c\u53d8\u91cf\u4f1a\u81ea\u52a8\u91ca\u653e\u3002 \u7528\u6237\u53d8\u91cf\u540d\u79f0\u533a\u5206\u5927\u5c0f\u5199\u3002 \u793a\u4f8b\uff1a nebula> $var = GO FROM hash('curry') OVER follow YIELD follow._dst AS id; \\ GO FROM $var.id OVER serve;","title":"\u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf"},{"location":"manual-CN/2.query-language/3.language-structure/user-defined-variables/#_1","text":"Nebula Graph \u652f\u6301\u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf\uff0c\u5176\u683c\u5f0f\u4e3a $var_name \u3002\u5176\u4e2d\u53d8\u91cf\u540d var_name \u7531\u5b57\u6bcd\u5b57\u7b26\u7ec4\u6210\u3002\u76ee\u524d\u4e0d\u5efa\u8bae\u4f7f\u7528\u4efb\u4f55\u5176\u4ed6\u5b57\u7b26\u3002\u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf\u53ef\u6682\u65f6\u5c06\u503c\u5b58\u50a8\u5728\u524d\u4e00\u4e2a\u8bed\u53e5\u4e2d\u7684\u81ea\u5b9a\u4e49\u53d8\u91cf\u4e2d\uff0c\u5e76\u5728\uff08\u968f\u540e\u7684\uff09\u53e6\u4e00\u4e2a\u8bed\u53e5\u4e2d\u4f7f\u7528\uff0c\u4ece\u800c\u53ef\u5c06\u4e2d\u95f4\u7ed3\u679c\u4ece\u4e00\u4e2a\u8bed\u53e5\u4f20\u9012\u5230\u53e6\u4e00\u4e2a\u8bed\u53e5\u3002 \u7528\u6237\u5b9a\u4e49\u53d8\u91cf\u53ea\u80fd\u5728\u4e00\u6b21\u6267\u884c\u4e2d\u4f7f\u7528\uff08\u7531\u5206\u53f7 ; \u6216\u7ba1\u9053 | \u9694\u5f00\u7684\u590d\u5408\u8bed\u53e5\uff0c\u5e76\u63d0\u4ea4\u7ed9\u670d\u52a1\u5668\u4e00\u8d77\u6267\u884c\uff09\u3002 \u8bf7\u6ce8\u610f\uff0c\u81ea\u5b9a\u4e49\u7684\u53d8\u91cf\u4ec5\u5728\u5f53\u524d\u4f1a\u8bdd\u7684\u5f53\u524d\u67e5\u8be2\u6709\u6548\u3002\u5728\u4e00\u4e2a\u8bed\u53e5\u4e2d\u5b9a\u4e49\u7684\u81ea\u5b9a\u4e49\u53d8\u91cf\u4e0d\u80fd\u5728\u5176\u4ed6\u5ba2\u6237\u7aef\u548c\u5176\u4ed6\u6267\u884c\u4e2d\u4f7f\u7528\uff0c\u4e5f\u5c31\u662f\u8bf4\u5b9a\u4e49\u8bed\u53e5\u548c\u4f7f\u7528\u5b83\u7684\u8bed\u53e5\u5e94\u8be5\u4e00\u8d77\u63d0\u4ea4\u3002\u5f53\u5ba2\u6237\u7aef\u53d1\u9001\u6267\u884c\u65f6\uff0c\u53d8\u91cf\u4f1a\u81ea\u52a8\u91ca\u653e\u3002 \u7528\u6237\u53d8\u91cf\u540d\u79f0\u533a\u5206\u5927\u5c0f\u5199\u3002 \u793a\u4f8b\uff1a nebula> $var = GO FROM hash('curry') OVER follow YIELD follow._dst AS id; \\ GO FROM $var.id OVER serve;","title":"\u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf"},{"location":"manual-CN/2.query-language/3.language-structure/literal-values/boolean-literals/","text":"\u5e03\u5c14\u5b57\u9762\u503c \u00b6 \u5e03\u5c14\u5b57\u9762\u503c TRUE \u548c FALSE \u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u3002 nebula> yield TRUE, true, FALSE, false, FalsE; ========================================= | true | true | false | false | false | ========================================= | true | true | false | false | false | -----------------------------------------","title":"\u5e03\u5c14\u7c7b\u578b"},{"location":"manual-CN/2.query-language/3.language-structure/literal-values/boolean-literals/#_1","text":"\u5e03\u5c14\u5b57\u9762\u503c TRUE \u548c FALSE \u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u3002 nebula> yield TRUE, true, FALSE, false, FalsE; ========================================= | true | true | false | false | false | ========================================= | true | true | false | false | false | -----------------------------------------","title":"\u5e03\u5c14\u5b57\u9762\u503c"},{"location":"manual-CN/2.query-language/3.language-structure/literal-values/numeric-literals/","text":"\u6570\u503c\u5b57\u9762\u503c \u00b6 \u6570\u503c\u5b57\u9762\u503c\u5305\u62ec\u6574\u6570\u5b57\u9762\u503c\u548c\u6d6e\u70b9\u5b57\u9762\u503c\u3002 \u6574\u6570 \u00b6 \u6574\u6570\u4e3a 64 \u4f4d\uff0c\u5e76\u4e14\u53ef\u4ee5\u7528 + \u548c - \u6765\u8868\u660e\u6b63\u8d1f\u6027\u3002\u5b83\u4eec\u548c C \u8bed\u8a00\u4e2d\u7684 int64_t \u662f\u4e00\u81f4\u7684\u3002 \u6ce8\u610f\u6574\u6570\u7684\u6700\u5927\u503c\u4e3a 9223372036854775807 \u3002\u8f93\u5165\u4efb\u4f55\u5927\u4e8e\u6b64\u6700\u5927\u503c\u7684\u6574\u6570\u4e3a\u8bed\u6cd5\u9519\u8bef\u3002\u6574\u6570\u7684\u6700\u5c0f\u503c -9223372036854775808 \u540c\u7406\u3002 \u53cc\u6d6e\u70b9\u6570 \u00b6 \u53cc\u6d6e\u70b9\u6570\u548c C \u8bed\u8a00\u4e2d\u7684 double \u662f\u4e00\u81f4\u7684\u3002 \u53cc\u6d6e\u70b9\u6570\u4e0a\u9650\u548c\u4e0b\u9650\u5206\u4e3a\u522b -1.79769e+308 \u548c 1.79769e+308 \u3002 \u79d1\u5b66\u8ba1\u6570\u6cd5 \u00b6 Nebula Graph \u4e2d\uff0c\u652f\u6301\u7528\u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a Double \u7c7b\u578b\u3002\u4f8b\u5982\uff1a nebula> CREATE TAG test1(price DOUBLE); nebula> INSERT VERTEX test1(price) VALUES 100:(1.2E3);","title":"\u6570\u503c\u7c7b\u578b"},{"location":"manual-CN/2.query-language/3.language-structure/literal-values/numeric-literals/#_1","text":"\u6570\u503c\u5b57\u9762\u503c\u5305\u62ec\u6574\u6570\u5b57\u9762\u503c\u548c\u6d6e\u70b9\u5b57\u9762\u503c\u3002","title":"\u6570\u503c\u5b57\u9762\u503c"},{"location":"manual-CN/2.query-language/3.language-structure/literal-values/numeric-literals/#_2","text":"\u6574\u6570\u4e3a 64 \u4f4d\uff0c\u5e76\u4e14\u53ef\u4ee5\u7528 + \u548c - \u6765\u8868\u660e\u6b63\u8d1f\u6027\u3002\u5b83\u4eec\u548c C \u8bed\u8a00\u4e2d\u7684 int64_t \u662f\u4e00\u81f4\u7684\u3002 \u6ce8\u610f\u6574\u6570\u7684\u6700\u5927\u503c\u4e3a 9223372036854775807 \u3002\u8f93\u5165\u4efb\u4f55\u5927\u4e8e\u6b64\u6700\u5927\u503c\u7684\u6574\u6570\u4e3a\u8bed\u6cd5\u9519\u8bef\u3002\u6574\u6570\u7684\u6700\u5c0f\u503c -9223372036854775808 \u540c\u7406\u3002","title":"\u6574\u6570"},{"location":"manual-CN/2.query-language/3.language-structure/literal-values/numeric-literals/#_3","text":"\u53cc\u6d6e\u70b9\u6570\u548c C \u8bed\u8a00\u4e2d\u7684 double \u662f\u4e00\u81f4\u7684\u3002 \u53cc\u6d6e\u70b9\u6570\u4e0a\u9650\u548c\u4e0b\u9650\u5206\u4e3a\u522b -1.79769e+308 \u548c 1.79769e+308 \u3002","title":"\u53cc\u6d6e\u70b9\u6570"},{"location":"manual-CN/2.query-language/3.language-structure/literal-values/numeric-literals/#_4","text":"Nebula Graph \u4e2d\uff0c\u652f\u6301\u7528\u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a Double \u7c7b\u578b\u3002\u4f8b\u5982\uff1a nebula> CREATE TAG test1(price DOUBLE); nebula> INSERT VERTEX test1(price) VALUES 100:(1.2E3);","title":"\u79d1\u5b66\u8ba1\u6570\u6cd5"},{"location":"manual-CN/2.query-language/3.language-structure/literal-values/string-literals/","text":"\u5b57\u7b26\u4e32\u5b57\u9762\u503c \u00b6 \u5b57\u7b26\u4e32\u7531\u4e00\u4e32\u5b57\u8282\u6216\u5b57\u7b26\u7ec4\u6210\uff0c\u5e76\u7531\u4e00\u5bf9\u5355\u5f15\u53f7 (') \u6216\u53cc\u5f15\u53f7 (\") \u5305\u88c5\u3002 nebula> YIELD 'a string'; nebula> YIELD \"another string\"; \u4e00\u4e9b\u8f6c\u4e49\u5b57\u7b26 (\\) \u5df2\u88ab\u652f\u6301\uff0c\u5982\u4e0b\u8868\u6240\u793a: \u8f6c\u4e49\u5b57\u7b26 \u5bf9\u5e94\u7684\u5b57\u7b26 \\' \u5355\u5f15\u53f7 (') \\\" \u53cc\u5f15\u53f7 (\") \\t \u5236\u8868\u7b26 \\n \u6362\u884c\u7b26 \\b \u9000\u683c\u7b26 \\ \u53cd\u659c\u6760 (\\) \u793a\u4f8b: nebula> YIELD 'This\\nIs\\nFour\\nLines'; ======================== | \"This Is Four Lines\" | ======================== | This Is Four Lines | ------------------------ nebula> YIELD 'disappearing\\ backslash'; ============================ | \"disappearing backslash\" | ============================ | disappearing backslash | ----------------------------","title":"\u5b57\u7b26\u4e32\u7c7b\u578b"},{"location":"manual-CN/2.query-language/3.language-structure/literal-values/string-literals/#_1","text":"\u5b57\u7b26\u4e32\u7531\u4e00\u4e32\u5b57\u8282\u6216\u5b57\u7b26\u7ec4\u6210\uff0c\u5e76\u7531\u4e00\u5bf9\u5355\u5f15\u53f7 (') \u6216\u53cc\u5f15\u53f7 (\") \u5305\u88c5\u3002 nebula> YIELD 'a string'; nebula> YIELD \"another string\"; \u4e00\u4e9b\u8f6c\u4e49\u5b57\u7b26 (\\) \u5df2\u88ab\u652f\u6301\uff0c\u5982\u4e0b\u8868\u6240\u793a: \u8f6c\u4e49\u5b57\u7b26 \u5bf9\u5e94\u7684\u5b57\u7b26 \\' \u5355\u5f15\u53f7 (') \\\" \u53cc\u5f15\u53f7 (\") \\t \u5236\u8868\u7b26 \\n \u6362\u884c\u7b26 \\b \u9000\u683c\u7b26 \\ \u53cd\u659c\u6760 (\\) \u793a\u4f8b: nebula> YIELD 'This\\nIs\\nFour\\nLines'; ======================== | \"This Is Four Lines\" | ======================== | This Is Four Lines | ------------------------ nebula> YIELD 'disappearing\\ backslash'; ============================ | \"disappearing backslash\" | ============================ | disappearing backslash | ----------------------------","title":"\u5b57\u7b26\u4e32\u5b57\u9762\u503c"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/","text":"Schema \u7d22\u5f15 \u00b6 CREATE {TAG | EDGE} INDEX [IF NOT EXISTS] <index_name> ON {<tag_name> | <edge_name>} (prop_name_list) schema \u7d22\u5f15\u53ef\u7528\u4e8e\u5feb\u901f\u5904\u7406\u56fe\u67e5\u8be2\u3002 Nebula Graph \u652f\u6301\u4e24\u79cd\u7c7b\u578b\u7684\u7d22\u5f15\uff1a Tag \u7d22\u5f15 \u548c Edge Type \u7d22\u5f15 \u3002 \u591a\u6570\u56fe\u67e5\u8be2\u90fd\u4ece\u62e5\u6709\u5171\u540c\u5c5e\u6027\u7684\u540c\u4e00\u7c7b\u578b\u7684\u70b9\u6216\u8fb9\u5f00\u59cb\u904d\u5386\u3002schema \u7d22\u5f15\u4f7f\u5f97\u8fd9\u4e9b\u5168\u5c40\u68c0\u7d22\u64cd\u4f5c\u5728\u5927\u578b\u56fe\u4e0a\u66f4\u4e3a\u9ad8\u6548\u3002 \u4e00\u822c\u5730\uff0c\u5728\u4f7f\u7528 CREATE TAG/EDGE \u8bed\u53e5\u5c06 Tag/Edge-type \u521b\u5efa\u597d\u4e4b\u540e\uff0c\u5373\u53ef\u4e3a\u5176\u521b\u5efa\u7d22\u5f15\u3002 \u521b\u5efa\u7d22\u5f15 \u00b6 CREATE INDEX \u7528\u4e8e\u4e3a\u5df2\u6709 Tag/Edge-type \u521b\u5efa\u7d22\u5f15\u3002 \u6ce8\u610f\uff1a\u7d22\u5f15\u4f1a\u5f71\u54cd\u5199\u6027\u80fd \uff0c\u7b2c\u4e00\u6b21\u6279\u91cf\u5bfc\u5165\u7684\u65f6\u5019\uff0c\u5efa\u8bae\u5148\u5bfc\u5165\u6570\u636e\uff0c\u518d\u6279\u91cf\u91cd\u5efa\u7d22\u5f15\uff1b\u4e0d\u63a8\u8350\u5e26\u7d22\u5f15\u6279\u91cf\u5bfc\u5165\uff0c\u8fd9\u6837\u5199\u6027\u80fd\u4f1a\u975e\u5e38\u5dee\u3002 \u521b\u5efa\u5355\u5c5e\u6027\u7d22\u5f15 \u00b6 nebula> CREATE TAG INDEX player_index_0 on player(name); \u4e0a\u8ff0\u8bed\u53e5\u5728\u6240\u6709\u6807\u7b7e\u4e3a player \u7684\u9876\u70b9\u4e0a\u4e3a\u5c5e\u6027 name \u521b\u5efa\u4e86\u4e00\u4e2a\u7d22\u5f15\u3002 nebula> CREATE EDGE INDEX follow_index_0 on follow(degree); \u4e0a\u8ff0\u8bed\u53e5\u5728 follow \u8fb9\u7c7b\u578b\u7684\u6240\u6709\u8fb9\u4e0a\u4e3a\u5c5e\u6027 degree \u521b\u5efa\u4e86\u4e00\u4e2a\u7d22\u5f15\u3002 \u521b\u5efa\u7ec4\u5408\u7d22\u5f15 \u00b6 schema \u7d22\u5f15\u8fd8\u652f\u6301\u4e3a\u76f8\u540c tag \u6216 edge \u4e2d\u7684\u591a\u4e2a\u5c5e\u6027\u540c\u65f6\u521b\u5efa\u7d22\u5f15\u3002\u8fd9\u79cd\u5305\u542b\u591a\u79cd\u5c5e\u6027\u7684\u7d22\u5f15\u5728 Nebula Graph \u4e2d\u79f0\u4e3a\u7ec4\u5408\u7d22\u5f15\u3002 \u6ce8\u610f\uff1a \u76ee\u524d\u5c1a\u4e0d\u652f\u6301\u8de8\u591a\u4e2a tag \u521b\u5efa\u590d\u5408\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX player_index_1 on player(name,age); \u4e0a\u8ff0\u8bed\u53e5\u5728\u6240\u6709\u6807\u7b7e\u4e3a player \u7684\u9876\u70b9\u4e0a\u4e3a\u5c5e\u6027 name \u548c age \u521b\u5efa\u4e86\u4e00\u4e2a\u590d\u5408\u7d22\u5f15\u3002 \u5217\u51fa\u7d22\u5f15 \u00b6 SHOW {TAG | EDGE} INDEXES SHOW INDEXES \u7528\u4e8e\u5217\u51fa\u5df2\u521b\u5efa\u5b8c\u6210\u7684 Tag/Edge-type \u7684\u7d22\u5f15\u4fe1\u606f\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5217\u51fa\u7d22\u5f15\uff1a nebula> SHOW TAG INDEXES; ============================= | Index ID | Index Name | ============================= | 22 | player_index_0 | ----------------------------- | 23 | player_index_1 | ----------------------------- nebula> SHOW EDGE INDEXES; ============================= | Index ID | Index Name | ============================= | 24 | follow_index_0 | ----------------------------- \u8fd4\u56de\u7d22\u5f15\u4fe1\u606f \u00b6 DESCRIBE {TAG | EDGE} INDEX <index_name> DESCRIBE INDEX \u7528\u4e8e\u8fd4\u56de\u6307\u5b9a\u7d22\u5f15\u4fe1\u606f\u3002\u4f8b\u5982\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fd4\u56de\u7d22\u5f15\u4fe1\u606f\uff1a nebula> DESCRIBE TAG INDEX player_index_0; ================== | Field | Type | ================== | name | string | ------------------ nebula> DESCRIBE TAG INDEX player_index_1; ================== | Field | Type | ================== | name | string | ------------------ | age | int | ------------------ \u5220\u9664\u7d22\u5f15 \u00b6 DROP {TAG | EDGE} INDEX [IF EXISTS] <index_name> DROP INDEX \u7528\u4e8e\u5220\u9664\u6307\u5b9a\u540d\u79f0\u7684 Tag/Edge-type \u7d22\u5f15\u3002\u4f8b\u5982\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5220\u9664\u540d\u4e3a player_index_0 \u7684\u7d22\u5f15\uff1a nebula> DROP TAG INDEX player_index_0; \u91cd\u6784\u7d22\u5f15 \u00b6 REBUILD {TAG | EDGE} INDEX <index_name> [OFFLINE] \u521b\u5efa\u7d22\u5f15 \u90e8\u5206\u4ecb\u7ecd\u4e86\u5982\u4f55\u521b\u5efa\u7d22\u5f15\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002\u5982\u679c\u7d22\u5f15\u5728\u63d2\u5165\u6570\u636e\u4e4b\u524d\u521b\u5efa\uff0c\u6b64\u65f6\u65e0\u9700\u6267\u884c\u7d22\u5f15\u91cd\u6784\u64cd\u4f5c\uff1b\u5982\u679c\u521b\u5efa\u7d22\u5f15\u65f6\uff0c\u6570\u636e\u5e93\u91cc\u5df2\u7ecf\u5b58\u6709\u6570\u636e\uff0c\u5219\u4e0d\u4f1a\u81ea\u52a8\u5bf9\u65e7\u7684\u6570\u636e\u8fdb\u884c\u7d22\u5f15\uff0c\u6b64\u65f6\u9700\u8981\u5bf9\u6574\u4e2a\u56fe\u4e2d\u4e0e\u7d22\u5f15\u76f8\u5173\u7684\u6570\u636e\u6267\u884c\u7d22\u5f15\u91cd\u6784\u64cd\u4f5c\u4ee5\u4fdd\u8bc1\u7d22\u5f15\u5305\u542b\u4e86\u4e4b\u524d\u7684\u6570\u636e\u3002\u82e5\u5f53\u524d\u6570\u636e\u5e93\u6ca1\u6709\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\uff0c\u5219\u53ef\u5728\u7d22\u5f15\u91cd\u6784\u65f6\u4f7f\u7528 OFFLINE \u5173\u952e\u5b57\u52a0\u5feb\u91cd\u6784\u901f\u5ea6\u3002 \u91cd\u6784\u5b8c\u6210\u540e\uff0c\u53ef\u4f7f\u7528 SHOW {TAG | EDGE} INDEX STATUS \u547d\u4ee4\u67e5\u770b\u7d22\u5f15\u662f\u5426\u91cd\u6784\u6210\u529f\u3002\u4f8b\u5982\uff1a nebula> CREATE TAG person(name string, age int, gender string, email string); Execution succeeded (Time spent: 10.051/11.397 ms) nebula> CREATE TAG INDEX single_person_index ON person(name); Execution succeeded (Time spent: 2.168/3.379 ms) nebula> REBUILD TAG INDEX single_person_index OFFLINE; Execution succeeded (Time spent: 2.352/3.568 ms) nebula> SHOW TAG INDEX STATUS; ========================================== | Name | Tag Index Status | ========================================== | single_person_index | SUCCEEDED | ------------------------------------------ \u4f7f\u7528\u7d22\u5f15 \u00b6 \u7d22\u5f15\u521b\u5efa\u5b8c\u6210\u5e76\u63d2\u5165\u76f8\u5173\u6570\u636e\u540e\uff0c\u5373\u53ef\u4f7f\u7528 LOOKUP \u8bed\u53e5\u8fdb\u884c\u6570\u636e\u67e5\u8be2\u3002 \u901a\u5e38\u65e0\u9700\u6307\u5b9a\u5728\u67e5\u8be2\u4e2d\u5177\u4f53\u4f7f\u7528\u7684\u7d22\u5f15\uff0c Nebula Graph \u4f1a\u81ea\u884c\u9009\u62e9\u3002","title":"INDEX"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/#schema","text":"CREATE {TAG | EDGE} INDEX [IF NOT EXISTS] <index_name> ON {<tag_name> | <edge_name>} (prop_name_list) schema \u7d22\u5f15\u53ef\u7528\u4e8e\u5feb\u901f\u5904\u7406\u56fe\u67e5\u8be2\u3002 Nebula Graph \u652f\u6301\u4e24\u79cd\u7c7b\u578b\u7684\u7d22\u5f15\uff1a Tag \u7d22\u5f15 \u548c Edge Type \u7d22\u5f15 \u3002 \u591a\u6570\u56fe\u67e5\u8be2\u90fd\u4ece\u62e5\u6709\u5171\u540c\u5c5e\u6027\u7684\u540c\u4e00\u7c7b\u578b\u7684\u70b9\u6216\u8fb9\u5f00\u59cb\u904d\u5386\u3002schema \u7d22\u5f15\u4f7f\u5f97\u8fd9\u4e9b\u5168\u5c40\u68c0\u7d22\u64cd\u4f5c\u5728\u5927\u578b\u56fe\u4e0a\u66f4\u4e3a\u9ad8\u6548\u3002 \u4e00\u822c\u5730\uff0c\u5728\u4f7f\u7528 CREATE TAG/EDGE \u8bed\u53e5\u5c06 Tag/Edge-type \u521b\u5efa\u597d\u4e4b\u540e\uff0c\u5373\u53ef\u4e3a\u5176\u521b\u5efa\u7d22\u5f15\u3002","title":"Schema \u7d22\u5f15"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/#_1","text":"CREATE INDEX \u7528\u4e8e\u4e3a\u5df2\u6709 Tag/Edge-type \u521b\u5efa\u7d22\u5f15\u3002 \u6ce8\u610f\uff1a\u7d22\u5f15\u4f1a\u5f71\u54cd\u5199\u6027\u80fd \uff0c\u7b2c\u4e00\u6b21\u6279\u91cf\u5bfc\u5165\u7684\u65f6\u5019\uff0c\u5efa\u8bae\u5148\u5bfc\u5165\u6570\u636e\uff0c\u518d\u6279\u91cf\u91cd\u5efa\u7d22\u5f15\uff1b\u4e0d\u63a8\u8350\u5e26\u7d22\u5f15\u6279\u91cf\u5bfc\u5165\uff0c\u8fd9\u6837\u5199\u6027\u80fd\u4f1a\u975e\u5e38\u5dee\u3002","title":"\u521b\u5efa\u7d22\u5f15"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/#_2","text":"nebula> CREATE TAG INDEX player_index_0 on player(name); \u4e0a\u8ff0\u8bed\u53e5\u5728\u6240\u6709\u6807\u7b7e\u4e3a player \u7684\u9876\u70b9\u4e0a\u4e3a\u5c5e\u6027 name \u521b\u5efa\u4e86\u4e00\u4e2a\u7d22\u5f15\u3002 nebula> CREATE EDGE INDEX follow_index_0 on follow(degree); \u4e0a\u8ff0\u8bed\u53e5\u5728 follow \u8fb9\u7c7b\u578b\u7684\u6240\u6709\u8fb9\u4e0a\u4e3a\u5c5e\u6027 degree \u521b\u5efa\u4e86\u4e00\u4e2a\u7d22\u5f15\u3002","title":"\u521b\u5efa\u5355\u5c5e\u6027\u7d22\u5f15"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/#_3","text":"schema \u7d22\u5f15\u8fd8\u652f\u6301\u4e3a\u76f8\u540c tag \u6216 edge \u4e2d\u7684\u591a\u4e2a\u5c5e\u6027\u540c\u65f6\u521b\u5efa\u7d22\u5f15\u3002\u8fd9\u79cd\u5305\u542b\u591a\u79cd\u5c5e\u6027\u7684\u7d22\u5f15\u5728 Nebula Graph \u4e2d\u79f0\u4e3a\u7ec4\u5408\u7d22\u5f15\u3002 \u6ce8\u610f\uff1a \u76ee\u524d\u5c1a\u4e0d\u652f\u6301\u8de8\u591a\u4e2a tag \u521b\u5efa\u590d\u5408\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX player_index_1 on player(name,age); \u4e0a\u8ff0\u8bed\u53e5\u5728\u6240\u6709\u6807\u7b7e\u4e3a player \u7684\u9876\u70b9\u4e0a\u4e3a\u5c5e\u6027 name \u548c age \u521b\u5efa\u4e86\u4e00\u4e2a\u590d\u5408\u7d22\u5f15\u3002","title":"\u521b\u5efa\u7ec4\u5408\u7d22\u5f15"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/#_4","text":"SHOW {TAG | EDGE} INDEXES SHOW INDEXES \u7528\u4e8e\u5217\u51fa\u5df2\u521b\u5efa\u5b8c\u6210\u7684 Tag/Edge-type \u7684\u7d22\u5f15\u4fe1\u606f\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5217\u51fa\u7d22\u5f15\uff1a nebula> SHOW TAG INDEXES; ============================= | Index ID | Index Name | ============================= | 22 | player_index_0 | ----------------------------- | 23 | player_index_1 | ----------------------------- nebula> SHOW EDGE INDEXES; ============================= | Index ID | Index Name | ============================= | 24 | follow_index_0 | -----------------------------","title":"\u5217\u51fa\u7d22\u5f15"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/#_5","text":"DESCRIBE {TAG | EDGE} INDEX <index_name> DESCRIBE INDEX \u7528\u4e8e\u8fd4\u56de\u6307\u5b9a\u7d22\u5f15\u4fe1\u606f\u3002\u4f8b\u5982\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fd4\u56de\u7d22\u5f15\u4fe1\u606f\uff1a nebula> DESCRIBE TAG INDEX player_index_0; ================== | Field | Type | ================== | name | string | ------------------ nebula> DESCRIBE TAG INDEX player_index_1; ================== | Field | Type | ================== | name | string | ------------------ | age | int | ------------------","title":"\u8fd4\u56de\u7d22\u5f15\u4fe1\u606f"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/#_6","text":"DROP {TAG | EDGE} INDEX [IF EXISTS] <index_name> DROP INDEX \u7528\u4e8e\u5220\u9664\u6307\u5b9a\u540d\u79f0\u7684 Tag/Edge-type \u7d22\u5f15\u3002\u4f8b\u5982\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5220\u9664\u540d\u4e3a player_index_0 \u7684\u7d22\u5f15\uff1a nebula> DROP TAG INDEX player_index_0;","title":"\u5220\u9664\u7d22\u5f15"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/#_7","text":"REBUILD {TAG | EDGE} INDEX <index_name> [OFFLINE] \u521b\u5efa\u7d22\u5f15 \u90e8\u5206\u4ecb\u7ecd\u4e86\u5982\u4f55\u521b\u5efa\u7d22\u5f15\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002\u5982\u679c\u7d22\u5f15\u5728\u63d2\u5165\u6570\u636e\u4e4b\u524d\u521b\u5efa\uff0c\u6b64\u65f6\u65e0\u9700\u6267\u884c\u7d22\u5f15\u91cd\u6784\u64cd\u4f5c\uff1b\u5982\u679c\u521b\u5efa\u7d22\u5f15\u65f6\uff0c\u6570\u636e\u5e93\u91cc\u5df2\u7ecf\u5b58\u6709\u6570\u636e\uff0c\u5219\u4e0d\u4f1a\u81ea\u52a8\u5bf9\u65e7\u7684\u6570\u636e\u8fdb\u884c\u7d22\u5f15\uff0c\u6b64\u65f6\u9700\u8981\u5bf9\u6574\u4e2a\u56fe\u4e2d\u4e0e\u7d22\u5f15\u76f8\u5173\u7684\u6570\u636e\u6267\u884c\u7d22\u5f15\u91cd\u6784\u64cd\u4f5c\u4ee5\u4fdd\u8bc1\u7d22\u5f15\u5305\u542b\u4e86\u4e4b\u524d\u7684\u6570\u636e\u3002\u82e5\u5f53\u524d\u6570\u636e\u5e93\u6ca1\u6709\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\uff0c\u5219\u53ef\u5728\u7d22\u5f15\u91cd\u6784\u65f6\u4f7f\u7528 OFFLINE \u5173\u952e\u5b57\u52a0\u5feb\u91cd\u6784\u901f\u5ea6\u3002 \u91cd\u6784\u5b8c\u6210\u540e\uff0c\u53ef\u4f7f\u7528 SHOW {TAG | EDGE} INDEX STATUS \u547d\u4ee4\u67e5\u770b\u7d22\u5f15\u662f\u5426\u91cd\u6784\u6210\u529f\u3002\u4f8b\u5982\uff1a nebula> CREATE TAG person(name string, age int, gender string, email string); Execution succeeded (Time spent: 10.051/11.397 ms) nebula> CREATE TAG INDEX single_person_index ON person(name); Execution succeeded (Time spent: 2.168/3.379 ms) nebula> REBUILD TAG INDEX single_person_index OFFLINE; Execution succeeded (Time spent: 2.352/3.568 ms) nebula> SHOW TAG INDEX STATUS; ========================================== | Name | Tag Index Status | ========================================== | single_person_index | SUCCEEDED | ------------------------------------------","title":"\u91cd\u6784\u7d22\u5f15"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/#_8","text":"\u7d22\u5f15\u521b\u5efa\u5b8c\u6210\u5e76\u63d2\u5165\u76f8\u5173\u6570\u636e\u540e\uff0c\u5373\u53ef\u4f7f\u7528 LOOKUP \u8bed\u53e5\u8fdb\u884c\u6570\u636e\u67e5\u8be2\u3002 \u901a\u5e38\u65e0\u9700\u6307\u5b9a\u5728\u67e5\u8be2\u4e2d\u5177\u4f53\u4f7f\u7528\u7684\u7d22\u5f15\uff0c Nebula Graph \u4f1a\u81ea\u884c\u9009\u62e9\u3002","title":"\u4f7f\u7528\u7d22\u5f15"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/TTL/","text":"TTL (time-to-live) \u00b6 Nebula Graph \u652f\u6301 TTL \uff0c\u5728\u4e00\u5b9a\u65f6\u95f4\u540e\u81ea\u52a8\u4ece\u6570\u636e\u5e93\u4e2d\u5220\u9664\u70b9\u6216\u8005\u8fb9\u3002\u8fc7\u671f\u6570\u636e\u4f1a\u5728\u4e0b\u6b21 compaction \u65f6\u88ab\u5220\u9664\uff0c\u5728\u4e0b\u6b21 compaction \u524d\uff0cquery \u4f1a\u8fc7\u6ee4\u6389\u8fc7\u671f\u7684\u70b9\u548c\u8fb9\u3002 ttl \u529f\u80fd\u9700\u8981 ttl_col \u548c ttl_duration \u4e00\u8d77\u4f7f\u7528\u3002\u81ea\u4ece ttl_col \u6307\u5b9a\u7684\u5b57\u6bb5\u7684\u503c\u8d77\uff0c\u7ecf\u8fc7 ttl_duration \u6307\u5b9a\u7684\u79d2\u6570\u540e\uff0c\u8be5\u6761\u6570\u636e\u8fc7\u671f\u3002\u5373\uff0c\u5230\u671f\u9608\u503c\u662f ttl_col \u6307\u5b9a\u7684 property \u7684\u503c\u52a0\u4e0a ttl_duration \u8bbe\u7f6e\u7684\u79d2\u6570\u3002\u5176\u4e2d ttl_col \u6307\u5b9a\u7684\u5b57\u6bb5\u7684\u7c7b\u578b\u9700\u4e3a integer \u6216\u8005 timestamp\u3002 TTL \u914d\u7f6e \u00b6 ttl_duration \u5355\u4f4d\u4e3a\u79d2\uff0c\u8303\u56f4\u4e3a 0 ~ max(int64)\uff0c\u5f53 ttl_duration \u88ab\u8bbe\u7f6e\u4e3a 0\uff0c\u5219\u70b9\u7684\u6b64 tag \u5c5e\u6027\u4e0d\u4f1a\u8fc7\u671f\u3002 \u5f53 ttl_col \u6307\u5b9a\u7684\u5b57\u6bb5\u7684\u503c + ttl_duration \u503c < \u5f53\u524d\u65f6\u95f4\u65f6\uff0c\u8be5\u6761\u6570\u636e\u6b64 tag \u5c5e\u6027\u503c\u8fc7\u671f\u3002 \u5f53\u8be5\u6761\u6570\u636e\u6709\u591a\u4e2a tag\uff0c\u6bcf\u4e2a tag \u7684 ttl \u5355\u72ec\u5904\u7406\u3002 \u8bbe\u7f6e TTL \u00b6 \u5bf9\u5df2\u7ecf\u521b\u5efa\u7684 tag\uff0c\u8bbe\u7f6e TTL\u3002 nebula> CREATE TAG t1(a timestamp); nebula> ALTER TAG t1 ttl_col = \"a\", ttl_duration = 5; -- \u521b\u5efa ttl nebula> INSERT VERTEX t1(a) values 101:(now()); \u70b9 101 \u7684 TAG t1 \u5c5e\u6027\u4f1a\u5728 now() \u4e4b\u540e\uff0c\u7ecf\u8fc7 5s \u540e\u8fc7\u671f\u3002 \u5728\u521b\u5efa tag \u65f6\u8bbe\u7f6e TTL\u3002 nebula> CREATE TAG t2(a int, b int, c string) ttl_duration= 100, ttl_col = \"a\"; nebula> INSERT VERTEX t2(a, b, c) values 102:(1584441231, 30, \"Word\"); \u70b9 102 \u7684 TAG t2 \u5c5e\u6027\u4f1a\u5728 2020\u5e743\u670817\u65e5 18\u65f633\u520651\u79d2 CST \uff08\u5373\u65f6\u95f4\u6233\u4e3a 1584441231\uff09\uff0c\u7ecf\u8fc7 100s \u540e\u8fc7\u671f\u3002 \u5f53\u70b9\u6709\u591a\u4e2a TAG \u65f6\uff0c\u5404 TAG \u7684 TTL \u76f8\u4e92\u72ec\u7acb\u3002 nebula> CREATE TAG t3(a string); nebula> INSERT VERTEX t1(a),t3(a) values 200:(now(), \"hello\"); 5s \u540e, \u70b9 Vertex 200 \u7684 t1 \u5c5e\u6027\u8fc7\u671f\u3002 nebula> FETCH PROP ON t1 200; Execution succeeded (Time spent: 5.945/7.492 ms) nebula> FETCH PROP ON t3 200; ====================== | VertexID | t3.a | ====================== | 200 | hello | ---------------------- nebula> FETCH PROP ON * 200; ====================== | VertexID | t3.a | ====================== | 200 | hello | ---------------------- \u5220\u9664 TTL \u00b6 \u5982\u679c\u60f3\u8981\u5220\u9664 TTL\uff0c\u53ef\u4ee5\u8bbe\u7f6e ttl_col \u5b57\u6bb5\u4e3a\u7a7a\uff0c\u6216\u5220\u9664\u914d\u7f6e\u7684 ttl_col \u5b57\u6bb5\uff0c\u6216\u8005\u8bbe\u7f6e ttl_duration \u4e3a 0\u3002 nebula> ALTER TAG t1 ttl_col = \"\"; -- drop ttl attribute; \u5220\u9664\u914d\u7f6e\u7684 ttl_col \u5b57\u6bb5\uff1a nebula> ALTER TAG t1 DROP (a); -- drop ttl_col \u8bbe\u7f6e ttl_duration \u4e3a 0\uff1a nebula> ALTER TAG t1 ttl_duration = 0; -- keep the ttl but the data never expires TTL \u4f7f\u7528\u6ce8\u610f\u4e8b\u9879 \u00b6 \u5982\u679c\u67d0\u4e2a\u5c5e\u6027\u88ab ttl_col \u5f15\u7528\uff0c\u5219\u4e0d\u652f\u6301\u5bf9\u5176\u8fdb\u884c\u66f4\u6539\u64cd\u4f5c\u3002 nebula> CREATE TAG t1(a int, b int, c string) ttl_duration = 100, ttl_col = \"a\"; nebula> ALTER TAG t1 CHANGE (a string); -- failed \u6ce8\u610f\u4e00\u4e2a tag \u6216 edge \u4e0d\u80fd\u540c\u65f6\u62e5\u6709 TTL \u548c\u7d22\u5f15\uff0c\u53ea\u80fd\u4e8c\u8005\u62e9\u5176\u4e00\uff0c\u5373\u4f7f ttl_col \u914d\u7f6e\u7684\u5b57\u6bb5\u4e0e\u8981\u521b\u5efa\u7d22\u5f15\u7684\u5b57\u6bb5\u4e0d\u540c\u3002 nebula> CREATE TAG t1(a int, b int, c string) ttl_duration = 100, ttl_col = \"a\"; nebula> CREATE TAG INDEX id1 ON t1(a); -- failed nebula> CREATE TAG t1(a int, b int, c string) ttl_duration = 100, ttl_col = \"a\"; nebula> CREATE TAG INDEX id1 ON t1(b); -- failed nebula> CREATE TAG t1(a int, b int, c string); nebula> CREATE TAG INDEX id1 ON t1(a); nebula> ALTER TAG t1 ttl_col = \"a\", ttl_duration = 100; -- failed \u5bf9 edge \u914d\u7f6e TTL \u4e0e tag \u7c7b\u4f3c\u3002","title":"TTL"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/TTL/#ttl_time-to-live","text":"Nebula Graph \u652f\u6301 TTL \uff0c\u5728\u4e00\u5b9a\u65f6\u95f4\u540e\u81ea\u52a8\u4ece\u6570\u636e\u5e93\u4e2d\u5220\u9664\u70b9\u6216\u8005\u8fb9\u3002\u8fc7\u671f\u6570\u636e\u4f1a\u5728\u4e0b\u6b21 compaction \u65f6\u88ab\u5220\u9664\uff0c\u5728\u4e0b\u6b21 compaction \u524d\uff0cquery \u4f1a\u8fc7\u6ee4\u6389\u8fc7\u671f\u7684\u70b9\u548c\u8fb9\u3002 ttl \u529f\u80fd\u9700\u8981 ttl_col \u548c ttl_duration \u4e00\u8d77\u4f7f\u7528\u3002\u81ea\u4ece ttl_col \u6307\u5b9a\u7684\u5b57\u6bb5\u7684\u503c\u8d77\uff0c\u7ecf\u8fc7 ttl_duration \u6307\u5b9a\u7684\u79d2\u6570\u540e\uff0c\u8be5\u6761\u6570\u636e\u8fc7\u671f\u3002\u5373\uff0c\u5230\u671f\u9608\u503c\u662f ttl_col \u6307\u5b9a\u7684 property \u7684\u503c\u52a0\u4e0a ttl_duration \u8bbe\u7f6e\u7684\u79d2\u6570\u3002\u5176\u4e2d ttl_col \u6307\u5b9a\u7684\u5b57\u6bb5\u7684\u7c7b\u578b\u9700\u4e3a integer \u6216\u8005 timestamp\u3002","title":"TTL (time-to-live)"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/TTL/#ttl","text":"ttl_duration \u5355\u4f4d\u4e3a\u79d2\uff0c\u8303\u56f4\u4e3a 0 ~ max(int64)\uff0c\u5f53 ttl_duration \u88ab\u8bbe\u7f6e\u4e3a 0\uff0c\u5219\u70b9\u7684\u6b64 tag \u5c5e\u6027\u4e0d\u4f1a\u8fc7\u671f\u3002 \u5f53 ttl_col \u6307\u5b9a\u7684\u5b57\u6bb5\u7684\u503c + ttl_duration \u503c < \u5f53\u524d\u65f6\u95f4\u65f6\uff0c\u8be5\u6761\u6570\u636e\u6b64 tag \u5c5e\u6027\u503c\u8fc7\u671f\u3002 \u5f53\u8be5\u6761\u6570\u636e\u6709\u591a\u4e2a tag\uff0c\u6bcf\u4e2a tag \u7684 ttl \u5355\u72ec\u5904\u7406\u3002","title":"TTL \u914d\u7f6e"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/TTL/#ttl_1","text":"\u5bf9\u5df2\u7ecf\u521b\u5efa\u7684 tag\uff0c\u8bbe\u7f6e TTL\u3002 nebula> CREATE TAG t1(a timestamp); nebula> ALTER TAG t1 ttl_col = \"a\", ttl_duration = 5; -- \u521b\u5efa ttl nebula> INSERT VERTEX t1(a) values 101:(now()); \u70b9 101 \u7684 TAG t1 \u5c5e\u6027\u4f1a\u5728 now() \u4e4b\u540e\uff0c\u7ecf\u8fc7 5s \u540e\u8fc7\u671f\u3002 \u5728\u521b\u5efa tag \u65f6\u8bbe\u7f6e TTL\u3002 nebula> CREATE TAG t2(a int, b int, c string) ttl_duration= 100, ttl_col = \"a\"; nebula> INSERT VERTEX t2(a, b, c) values 102:(1584441231, 30, \"Word\"); \u70b9 102 \u7684 TAG t2 \u5c5e\u6027\u4f1a\u5728 2020\u5e743\u670817\u65e5 18\u65f633\u520651\u79d2 CST \uff08\u5373\u65f6\u95f4\u6233\u4e3a 1584441231\uff09\uff0c\u7ecf\u8fc7 100s \u540e\u8fc7\u671f\u3002 \u5f53\u70b9\u6709\u591a\u4e2a TAG \u65f6\uff0c\u5404 TAG \u7684 TTL \u76f8\u4e92\u72ec\u7acb\u3002 nebula> CREATE TAG t3(a string); nebula> INSERT VERTEX t1(a),t3(a) values 200:(now(), \"hello\"); 5s \u540e, \u70b9 Vertex 200 \u7684 t1 \u5c5e\u6027\u8fc7\u671f\u3002 nebula> FETCH PROP ON t1 200; Execution succeeded (Time spent: 5.945/7.492 ms) nebula> FETCH PROP ON t3 200; ====================== | VertexID | t3.a | ====================== | 200 | hello | ---------------------- nebula> FETCH PROP ON * 200; ====================== | VertexID | t3.a | ====================== | 200 | hello | ----------------------","title":"\u8bbe\u7f6e TTL"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/TTL/#ttl_2","text":"\u5982\u679c\u60f3\u8981\u5220\u9664 TTL\uff0c\u53ef\u4ee5\u8bbe\u7f6e ttl_col \u5b57\u6bb5\u4e3a\u7a7a\uff0c\u6216\u5220\u9664\u914d\u7f6e\u7684 ttl_col \u5b57\u6bb5\uff0c\u6216\u8005\u8bbe\u7f6e ttl_duration \u4e3a 0\u3002 nebula> ALTER TAG t1 ttl_col = \"\"; -- drop ttl attribute; \u5220\u9664\u914d\u7f6e\u7684 ttl_col \u5b57\u6bb5\uff1a nebula> ALTER TAG t1 DROP (a); -- drop ttl_col \u8bbe\u7f6e ttl_duration \u4e3a 0\uff1a nebula> ALTER TAG t1 ttl_duration = 0; -- keep the ttl but the data never expires","title":"\u5220\u9664 TTL"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/TTL/#ttl_3","text":"\u5982\u679c\u67d0\u4e2a\u5c5e\u6027\u88ab ttl_col \u5f15\u7528\uff0c\u5219\u4e0d\u652f\u6301\u5bf9\u5176\u8fdb\u884c\u66f4\u6539\u64cd\u4f5c\u3002 nebula> CREATE TAG t1(a int, b int, c string) ttl_duration = 100, ttl_col = \"a\"; nebula> ALTER TAG t1 CHANGE (a string); -- failed \u6ce8\u610f\u4e00\u4e2a tag \u6216 edge \u4e0d\u80fd\u540c\u65f6\u62e5\u6709 TTL \u548c\u7d22\u5f15\uff0c\u53ea\u80fd\u4e8c\u8005\u62e9\u5176\u4e00\uff0c\u5373\u4f7f ttl_col \u914d\u7f6e\u7684\u5b57\u6bb5\u4e0e\u8981\u521b\u5efa\u7d22\u5f15\u7684\u5b57\u6bb5\u4e0d\u540c\u3002 nebula> CREATE TAG t1(a int, b int, c string) ttl_duration = 100, ttl_col = \"a\"; nebula> CREATE TAG INDEX id1 ON t1(a); -- failed nebula> CREATE TAG t1(a int, b int, c string) ttl_duration = 100, ttl_col = \"a\"; nebula> CREATE TAG INDEX id1 ON t1(b); -- failed nebula> CREATE TAG t1(a int, b int, c string); nebula> CREATE TAG INDEX id1 ON t1(a); nebula> ALTER TAG t1 ttl_col = \"a\", ttl_duration = 100; -- failed \u5bf9 edge \u914d\u7f6e TTL \u4e0e tag \u7c7b\u4f3c\u3002","title":"TTL \u4f7f\u7528\u6ce8\u610f\u4e8b\u9879"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/alter-edge-syntax/","text":"\u4fee\u6539 Edge \u00b6 ALTER EDGE <edge_name> <alter_definition> [, alter_definition] ...] [ttl_definition [, ttl_definition] ... ] <alter_definition>::= ADD (prop_name data_type) | DROP (prop_name) | CHANGE (prop_name data_type) ttl_definition::= TTL_DURATION = ttl_duration, TTL_COL = prop_name ALTER EDGE \u8bed\u53e5\u53ef\u6539\u53d8\u8fb9\u7684\u7ed3\u6784\uff0c\u4f8b\u5982\uff0c\u53ef\u4ee5\u6dfb\u52a0\u6216\u5220\u9664\u5c5e\u6027\uff0c\u66f4\u6539\u5df2\u6709\u5c5e\u6027\u7684\u7c7b\u578b\uff0c\u4e5f\u53ef\u5c06\u5c5e\u6027\u8bbe\u7f6e\u4e3a TTL\uff08\u751f\u5b58\u65f6\u95f4\uff09\uff0c\u6216\u66f4\u6539 TTL \u65f6\u95f4\u3002 \u6ce8\u610f\uff1a \u4fee\u6539\u8fb9\u7ed3\u6784\u65f6\uff0c Nebula Graph \u5c06\u81ea\u52a8\u68c0\u6d4b\u662f\u5426\u5b58\u5728\u7d22\u5f15\u3002\u4fee\u6539\u65f6\u9700\u8981\u4e24\u6b65\u5224\u65ad\u3002\u9996\u5148\uff0c\u5224\u65ad\u8fd9\u4e2a\u8fb9\u662f\u5426\u5173\u8054\u7d22\u5f15\u3002\u5176\u6b21\uff0c\u68c0\u67e5\u6240\u6709\u5173\u8054\u7684\u7d22\u5f15\uff0c\u5224\u65ad\u5f85\u5220\u9664\u6216\u66f4\u6539\u7684 column item \u662f\u5426\u5b58\u5728\u4e8e\u7d22\u5f15\u7684 column \u4e2d\uff0c\u5982\u679c\u5b58\u5728\u5219\u62d2\u7edd\u4fee\u6539\u3002\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5373\u4f7f\u6709\u5173\u8054\u7684\u7d22\u5f15\u4e5f\u5141\u8bb8\u4fee\u6539\u3002 \u8bf7\u53c2\u8003 \u7d22\u5f15\u6587\u6863 \u4e86\u89e3\u7d22\u5f15\u8be6\u60c5\u3002 \u4e00\u4e2a ALTER \u8bed\u53e5\u5141\u8bb8\u4f7f\u7528\u591a\u4e2a ADD \uff0c DROP \uff0c CHANGE \u8bed\u53e5\uff0c\u8bed\u53e5\u4e4b\u95f4\u9700\u7528\u9017\u53f7\u9694\u5f00\u3002\u4f46\u662f\u4e0d\u8981\u5728\u4e00\u4e2a\u8bed\u53e5\u4e2d\u6dfb\u52a0\uff0c\u5220\u9664\u6216\u66f4\u6539\u76f8\u540c\u7684\u5c5e\u6027\u3002\u5982\u679c\u5fc5\u987b\u8fdb\u884c\u6b64\u64cd\u4f5c\uff0c\u8bf7\u5c06\u5176\u4f5c\u4e3a ALTER \u8bed\u53e5\u7684\u5b50\u8bed\u53e5\u3002 nebula> CREATE EDGE e1 (prop3 int, prop4 int, prop5 int); nebula> ALTER EDGE e1 ADD (prop1 int, prop2 string), /* \u6dfb\u52a0 prop1 */ CHANGE (prop3 string), /* \u5c06 prop3 \u7c7b\u578b\u66f4\u6539\u4e3a\u5b57\u7b26 */ DROP (prop4, prop5); /* \u5220\u9664 prop4 \u548c prop5 */ nebula> ALTER EDGE e1 TTL_DURATION = 2, TTL_COL = \"prop1\"; \u6ce8\u610f\uff1a TTL_COL \u4ec5\u652f\u6301 INT \u548c TIMESTAMP \u7c7b\u578b\u7684\u5c5e\u6027\u3002","title":"ALTER EDGE"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/alter-edge-syntax/#edge","text":"ALTER EDGE <edge_name> <alter_definition> [, alter_definition] ...] [ttl_definition [, ttl_definition] ... ] <alter_definition>::= ADD (prop_name data_type) | DROP (prop_name) | CHANGE (prop_name data_type) ttl_definition::= TTL_DURATION = ttl_duration, TTL_COL = prop_name ALTER EDGE \u8bed\u53e5\u53ef\u6539\u53d8\u8fb9\u7684\u7ed3\u6784\uff0c\u4f8b\u5982\uff0c\u53ef\u4ee5\u6dfb\u52a0\u6216\u5220\u9664\u5c5e\u6027\uff0c\u66f4\u6539\u5df2\u6709\u5c5e\u6027\u7684\u7c7b\u578b\uff0c\u4e5f\u53ef\u5c06\u5c5e\u6027\u8bbe\u7f6e\u4e3a TTL\uff08\u751f\u5b58\u65f6\u95f4\uff09\uff0c\u6216\u66f4\u6539 TTL \u65f6\u95f4\u3002 \u6ce8\u610f\uff1a \u4fee\u6539\u8fb9\u7ed3\u6784\u65f6\uff0c Nebula Graph \u5c06\u81ea\u52a8\u68c0\u6d4b\u662f\u5426\u5b58\u5728\u7d22\u5f15\u3002\u4fee\u6539\u65f6\u9700\u8981\u4e24\u6b65\u5224\u65ad\u3002\u9996\u5148\uff0c\u5224\u65ad\u8fd9\u4e2a\u8fb9\u662f\u5426\u5173\u8054\u7d22\u5f15\u3002\u5176\u6b21\uff0c\u68c0\u67e5\u6240\u6709\u5173\u8054\u7684\u7d22\u5f15\uff0c\u5224\u65ad\u5f85\u5220\u9664\u6216\u66f4\u6539\u7684 column item \u662f\u5426\u5b58\u5728\u4e8e\u7d22\u5f15\u7684 column \u4e2d\uff0c\u5982\u679c\u5b58\u5728\u5219\u62d2\u7edd\u4fee\u6539\u3002\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5373\u4f7f\u6709\u5173\u8054\u7684\u7d22\u5f15\u4e5f\u5141\u8bb8\u4fee\u6539\u3002 \u8bf7\u53c2\u8003 \u7d22\u5f15\u6587\u6863 \u4e86\u89e3\u7d22\u5f15\u8be6\u60c5\u3002 \u4e00\u4e2a ALTER \u8bed\u53e5\u5141\u8bb8\u4f7f\u7528\u591a\u4e2a ADD \uff0c DROP \uff0c CHANGE \u8bed\u53e5\uff0c\u8bed\u53e5\u4e4b\u95f4\u9700\u7528\u9017\u53f7\u9694\u5f00\u3002\u4f46\u662f\u4e0d\u8981\u5728\u4e00\u4e2a\u8bed\u53e5\u4e2d\u6dfb\u52a0\uff0c\u5220\u9664\u6216\u66f4\u6539\u76f8\u540c\u7684\u5c5e\u6027\u3002\u5982\u679c\u5fc5\u987b\u8fdb\u884c\u6b64\u64cd\u4f5c\uff0c\u8bf7\u5c06\u5176\u4f5c\u4e3a ALTER \u8bed\u53e5\u7684\u5b50\u8bed\u53e5\u3002 nebula> CREATE EDGE e1 (prop3 int, prop4 int, prop5 int); nebula> ALTER EDGE e1 ADD (prop1 int, prop2 string), /* \u6dfb\u52a0 prop1 */ CHANGE (prop3 string), /* \u5c06 prop3 \u7c7b\u578b\u66f4\u6539\u4e3a\u5b57\u7b26 */ DROP (prop4, prop5); /* \u5220\u9664 prop4 \u548c prop5 */ nebula> ALTER EDGE e1 TTL_DURATION = 2, TTL_COL = \"prop1\"; \u6ce8\u610f\uff1a TTL_COL \u4ec5\u652f\u6301 INT \u548c TIMESTAMP \u7c7b\u578b\u7684\u5c5e\u6027\u3002","title":"\u4fee\u6539 Edge"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/alter-tag-syntax/","text":"\u4fee\u6539 Tag \u00b6 ALTER TAG <tag_name> <alter_definition> [, alter_definition] ...] [ttl_definition [, ttl_definition] ... ] <alter_definition>::= ADD (prop_name data_type) | DROP (prop_name) | CHANGE (prop_name data_type) ttl_definition::= TTL_DURATION = ttl_duration, TTL_COL = prop_name ALTER TAG \u8bed\u53e5\u53ef\u6539\u53d8\u6807\u7b7e\u7684\u7ed3\u6784\uff0c\u4f8b\u5982\uff0c\u53ef\u4ee5\u6dfb\u52a0\u6216\u5220\u9664\u5c5e\u6027\uff0c\u66f4\u6539\u5df2\u6709\u5c5e\u6027\u7684\u7c7b\u578b\uff0c\u4e5f\u53ef\u5c06\u5c5e\u6027\u8bbe\u7f6e\u4e3a TTL\uff08\u751f\u5b58\u65f6\u95f4\uff09\uff0c\u6216\u66f4\u6539 TTL \u65f6\u95f4\u3002 \u6ce8\u610f\uff1a \u4fee\u6539\u6807\u7b7e\u7ed3\u6784\u65f6\uff0c Nebula Graph \u5c06\u81ea\u52a8\u68c0\u6d4b\u662f\u5426\u5b58\u5728\u7d22\u5f15\u3002\u4fee\u6539\u65f6\u9700\u8981\u4e24\u6b65\u5224\u65ad\u3002\u9996\u5148\uff0c\u5224\u65ad\u8fd9\u4e2a\u6807\u7b7e\u662f\u5426\u5173\u8054\u7d22\u5f15\u3002\u5176\u6b21\uff0c\u68c0\u67e5\u6240\u6709\u5173\u8054\u7684\u7d22\u5f15\uff0c\u5224\u65ad\u5f85\u5220\u9664\u6216\u66f4\u6539\u7684 column item \u662f\u5426\u5b58\u5728\u4e8e\u7d22\u5f15\u7684 column \u4e2d\uff0c\u5982\u679c\u5b58\u5728\u5219\u62d2\u7edd\u4fee\u6539\u3002\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5373\u4f7f\u6709\u5173\u8054\u7684\u7d22\u5f15\u4e5f\u5141\u8bb8\u4fee\u6539\u3002 \u8bf7\u53c2\u8003 \u7d22\u5f15\u6587\u6863 \u4e86\u89e3\u7d22\u5f15\u8be6\u60c5\u3002 \u4e00\u4e2a ALTER \u8bed\u53e5\u5141\u8bb8\u4f7f\u7528\u591a\u4e2a ADD \uff0c DROP \uff0c CHANGE \u8bed\u53e5\uff0c\u8bed\u53e5\u4e4b\u95f4\u9700\u7528\u9017\u53f7\u9694\u5f00\u3002\u4f46\u662f\u4e0d\u8981\u5728\u4e00\u4e2a\u8bed\u53e5\u4e2d\u6dfb\u52a0\uff0c\u5220\u9664\u6216\u66f4\u6539\u76f8\u540c\u7684\u5c5e\u6027\u3002\u5982\u679c\u5fc5\u987b\u8fdb\u884c\u6b64\u64cd\u4f5c\uff0c\u8bf7\u5c06\u5176\u4f5c\u4e3a ALTER \u8bed\u53e5\u7684\u5b50\u8bed\u53e5\u3002 nebula> CREATE TAG t1 (name string, age int); nebula> ALTER TAG t1 ADD (id int, address string); nebula> ALTER TAG t1 TTL_DURATION = 2, TTL_COL = \"age\"; \u6ce8\u610f\uff1a TTL_COL \u4ec5\u652f\u6301 INT \u548c TIMESTAMP \u7c7b\u578b\u7684\u5c5e\u6027\u3002","title":"ALTER TAG"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/alter-tag-syntax/#tag","text":"ALTER TAG <tag_name> <alter_definition> [, alter_definition] ...] [ttl_definition [, ttl_definition] ... ] <alter_definition>::= ADD (prop_name data_type) | DROP (prop_name) | CHANGE (prop_name data_type) ttl_definition::= TTL_DURATION = ttl_duration, TTL_COL = prop_name ALTER TAG \u8bed\u53e5\u53ef\u6539\u53d8\u6807\u7b7e\u7684\u7ed3\u6784\uff0c\u4f8b\u5982\uff0c\u53ef\u4ee5\u6dfb\u52a0\u6216\u5220\u9664\u5c5e\u6027\uff0c\u66f4\u6539\u5df2\u6709\u5c5e\u6027\u7684\u7c7b\u578b\uff0c\u4e5f\u53ef\u5c06\u5c5e\u6027\u8bbe\u7f6e\u4e3a TTL\uff08\u751f\u5b58\u65f6\u95f4\uff09\uff0c\u6216\u66f4\u6539 TTL \u65f6\u95f4\u3002 \u6ce8\u610f\uff1a \u4fee\u6539\u6807\u7b7e\u7ed3\u6784\u65f6\uff0c Nebula Graph \u5c06\u81ea\u52a8\u68c0\u6d4b\u662f\u5426\u5b58\u5728\u7d22\u5f15\u3002\u4fee\u6539\u65f6\u9700\u8981\u4e24\u6b65\u5224\u65ad\u3002\u9996\u5148\uff0c\u5224\u65ad\u8fd9\u4e2a\u6807\u7b7e\u662f\u5426\u5173\u8054\u7d22\u5f15\u3002\u5176\u6b21\uff0c\u68c0\u67e5\u6240\u6709\u5173\u8054\u7684\u7d22\u5f15\uff0c\u5224\u65ad\u5f85\u5220\u9664\u6216\u66f4\u6539\u7684 column item \u662f\u5426\u5b58\u5728\u4e8e\u7d22\u5f15\u7684 column \u4e2d\uff0c\u5982\u679c\u5b58\u5728\u5219\u62d2\u7edd\u4fee\u6539\u3002\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5373\u4f7f\u6709\u5173\u8054\u7684\u7d22\u5f15\u4e5f\u5141\u8bb8\u4fee\u6539\u3002 \u8bf7\u53c2\u8003 \u7d22\u5f15\u6587\u6863 \u4e86\u89e3\u7d22\u5f15\u8be6\u60c5\u3002 \u4e00\u4e2a ALTER \u8bed\u53e5\u5141\u8bb8\u4f7f\u7528\u591a\u4e2a ADD \uff0c DROP \uff0c CHANGE \u8bed\u53e5\uff0c\u8bed\u53e5\u4e4b\u95f4\u9700\u7528\u9017\u53f7\u9694\u5f00\u3002\u4f46\u662f\u4e0d\u8981\u5728\u4e00\u4e2a\u8bed\u53e5\u4e2d\u6dfb\u52a0\uff0c\u5220\u9664\u6216\u66f4\u6539\u76f8\u540c\u7684\u5c5e\u6027\u3002\u5982\u679c\u5fc5\u987b\u8fdb\u884c\u6b64\u64cd\u4f5c\uff0c\u8bf7\u5c06\u5176\u4f5c\u4e3a ALTER \u8bed\u53e5\u7684\u5b50\u8bed\u53e5\u3002 nebula> CREATE TAG t1 (name string, age int); nebula> ALTER TAG t1 ADD (id int, address string); nebula> ALTER TAG t1 TTL_DURATION = 2, TTL_COL = \"age\"; \u6ce8\u610f\uff1a TTL_COL \u4ec5\u652f\u6301 INT \u548c TIMESTAMP \u7c7b\u578b\u7684\u5c5e\u6027\u3002","title":"\u4fee\u6539 Tag"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-edge-syntax/","text":"CREATE EDGE \u8bed\u6cd5 \u00b6 CREATE EDGE [IF NOT EXISTS] <edge_name> ([<create_definition>, ...]) [edge_options] <create_definition> ::= <prop_name> <data_type> <edge_options> ::= <option> [, <option> ...] <option> ::= TTL_DURATION [=] <ttl_duration> | TTL_COL [=] <prop_name> | DEFAULT <default_value> Nebula Graph \u7684\u56fe\u7ed3\u6784\u7531\u5e26\u6709\u5c5e\u6027\u7684 tags \u548c edges \u7ec4\u6210\u3002 CREATE EDGE \u4f7f\u7528\u4e00\u4e2a\u7ed9\u5b9a\u7684\u540d\u79f0\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 edge type\u3002 CREATE EDGE \u8bed\u6cd5\u6709\u4e00\u4e9b\u7279\u70b9\uff0c\u5728\u5982\u4e0b\u5206\u5757\u4e2d\u5c06\u5bf9\u8fd9\u4e9b\u7279\u70b9\u8fdb\u884c\u8ba8\u8bba\uff1a IF NOT EXISTS \u00b6 \u521b\u5efa edge type \u53ef\u4f7f\u7528 IF NOT EXISTS \u5173\u952e\u5b57\uff0c\u8fd9\u4e2a\u5173\u952e\u5b57\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5bf9\u5e94\u7684 edge type \u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u65b0\u7684\uff0c\u5982\u679c\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\u3002 \u6ce8\u610f\uff1a \u8fd9\u91cc\u5224\u65ad edge type \u662f\u5426\u5b58\u5728\u53ea\u662f\u6bd4\u8f83 edge type \u7684\u540d\u5b57(\u4e0d\u5305\u62ec\u5c5e\u6027)\u3002 Edge Type \u540d\u79f0 \u00b6 edge_name edge type \u7684\u540d\u79f0\u5728\u56fe\u4e2d\u5fc5\u987b \u552f\u4e00 \uff0c\u4e14\u540d\u79f0\u88ab\u5b9a\u4e49\u540e\u65e0\u6cd5\u88ab\u4fee\u6539\u3002edge type \u7684\u547d\u540d\u89c4\u5219\u548c space \u7684\u547d\u540d\u89c4\u5219\u4e00\u81f4\u3002\u53c2\u89c1 Schema Object Name \u3002 \u5c5e\u6027\u540d\u548c\u6570\u636e\u7c7b\u578b \u00b6 prop_name prop_name \u8868\u793a\u6bcf\u4e2a\u5c5e\u6027\u7684\u540d\u79f0\u3002\u5728\u6bcf\u4e2a edge type \u4e2d\u5fc5\u987b\u552f\u4e00\u3002 data_type data_type \u8868\u793a\u6bcf\u4e2a\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u3002\u66f4\u591a\u5173\u4e8e Nebula Graph \u652f\u6301\u7684\u6570\u636e\u7c7b\u578b\u4fe1\u606f\u8bf7\u53c2\u89c1 data-type \u3002 NULL \u548c NOT NULL \u5728\u521b\u5efa edge type \u65f6\u4e0d\u53ef\u7528\u3002(\u76f8\u6bd4\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93)\u3002 \u9ed8\u8ba4\u503c\u7ea6\u675f \u60a8\u53ef\u4ee5\u5728\u521b\u5efa edge type \u65f6\u4f7f\u7528 DEFAULT \u7ea6\u675f\u8bbe\u7f6e\u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u5176\u4ed6\u503c\uff0c\u90a3\u4e48\u4f1a\u5c06\u9ed8\u8ba4\u503c\u63d2\u5165\u65b0\u7684\u8fb9\u3002\u9ed8\u8ba4\u503c\u53ef\u4ee5\u4e3a Nebula Graph \u652f\u6301\u7684\u4efb\u4e00\u6570\u636e\u7c7b\u578b\uff0c\u4e14\u652f\u6301\u8868\u8fbe\u5f0f\u3002\u5982\u679c\u60a8\u4e0d\u60f3\u4f7f\u7528\u9ed8\u8ba4\u503c\uff0c\u4e5f\u53ef\u4ee5\u5199\u4e00\u4e2a\u7528\u6237\u6307\u5b9a\u7684\u503c\u3002 \u6682\u65f6\u4e0d\u652f\u6301\u4f7f\u7528 Alter \u66f4\u6539\u9ed8\u8ba4\u503c\u3002 Time-to-Live (TTL) \u8bed\u6cd5 \u00b6 TTL_DURATION TTL_DURATION \u6307\u5b9a\u4e86 vertices \u548c edges \u7684\u6709\u6548\u671f\uff0c\u8d85\u8fc7\u6709\u6548\u671f\u7684\u6570\u636e\u4f1a\u5931\u6548\u3002\u5931\u6548\u65f6\u95f4\u4e3a TTL_COL \u8bbe\u7f6e\u7684\u5c5e\u6027\u503c\u52a0 TTL_DURATION \u8bbe\u7f6e\u7684\u79d2\u6570\u3002 \u5982\u679c TTL_DURATION \u7684\u503c\u4e3a\u8d1f\u6216 0\uff0c\u5219\u8be5 edge \u4e0d\u4f1a\u5931\u6548\u3002 TTL_COL \u6307\u5b9a\u7684\u5217\uff08\u6216\u8005\u5c5e\u6027\uff09\u5fc5\u987b\u662f int64 \u6216\u8005 timestamp\u3002 \u5355 TTL \u5b9a\u4e49 \u4ec5\u652f\u6301\u6307\u5b9a\u5355\u4e2a TTL_COL \u5b57\u6bb5\u3002 TTL \u8be6\u7ec6\u7528\u6cd5\u53c2\u89c1 TTL \u6587\u6863 \u3002 \u793a\u4f8b \u00b6 nebula> CREATE EDGE follow(start_time timestamp, grade double); nebula> CREATE EDGE noedge(); -- \u5c5e\u6027\u4e3a\u7a7a nebula> CREATE TAG player_with_default(name string, age int DEFAULT 20); -- \u9ed8\u8ba4\u5e74\u9f84\u8bbe\u7f6e\u4e3a 20 \u5c81 nebula> CREATE EDGE follow_with_default(start_time timestamp DEFAULT 0, grade double DEFAULT 0.0); -- \u9ed8\u8ba4 start_time \u8bbe\u7f6e\u4e3a 0\uff0c\u9ed8\u8ba4 grade \u8bbe\u7f6e\u4e3a 0.0 nebula> CREATE EDGE marriage(location string, since timestamp) TTL_DURATION = 0, TTL_COL = \"since\"; -- \u8d1f\u503c\u6216 0 \u6570\u636e\u4e0d\u4f1a\u5931\u6548","title":"CREATE EDGE"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-edge-syntax/#create_edge","text":"CREATE EDGE [IF NOT EXISTS] <edge_name> ([<create_definition>, ...]) [edge_options] <create_definition> ::= <prop_name> <data_type> <edge_options> ::= <option> [, <option> ...] <option> ::= TTL_DURATION [=] <ttl_duration> | TTL_COL [=] <prop_name> | DEFAULT <default_value> Nebula Graph \u7684\u56fe\u7ed3\u6784\u7531\u5e26\u6709\u5c5e\u6027\u7684 tags \u548c edges \u7ec4\u6210\u3002 CREATE EDGE \u4f7f\u7528\u4e00\u4e2a\u7ed9\u5b9a\u7684\u540d\u79f0\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 edge type\u3002 CREATE EDGE \u8bed\u6cd5\u6709\u4e00\u4e9b\u7279\u70b9\uff0c\u5728\u5982\u4e0b\u5206\u5757\u4e2d\u5c06\u5bf9\u8fd9\u4e9b\u7279\u70b9\u8fdb\u884c\u8ba8\u8bba\uff1a","title":"CREATE EDGE \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-edge-syntax/#if_not_exists","text":"\u521b\u5efa edge type \u53ef\u4f7f\u7528 IF NOT EXISTS \u5173\u952e\u5b57\uff0c\u8fd9\u4e2a\u5173\u952e\u5b57\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5bf9\u5e94\u7684 edge type \u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u65b0\u7684\uff0c\u5982\u679c\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\u3002 \u6ce8\u610f\uff1a \u8fd9\u91cc\u5224\u65ad edge type \u662f\u5426\u5b58\u5728\u53ea\u662f\u6bd4\u8f83 edge type \u7684\u540d\u5b57(\u4e0d\u5305\u62ec\u5c5e\u6027)\u3002","title":"IF NOT EXISTS"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-edge-syntax/#edge_type","text":"edge_name edge type \u7684\u540d\u79f0\u5728\u56fe\u4e2d\u5fc5\u987b \u552f\u4e00 \uff0c\u4e14\u540d\u79f0\u88ab\u5b9a\u4e49\u540e\u65e0\u6cd5\u88ab\u4fee\u6539\u3002edge type \u7684\u547d\u540d\u89c4\u5219\u548c space \u7684\u547d\u540d\u89c4\u5219\u4e00\u81f4\u3002\u53c2\u89c1 Schema Object Name \u3002","title":"Edge Type \u540d\u79f0"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-edge-syntax/#_1","text":"prop_name prop_name \u8868\u793a\u6bcf\u4e2a\u5c5e\u6027\u7684\u540d\u79f0\u3002\u5728\u6bcf\u4e2a edge type \u4e2d\u5fc5\u987b\u552f\u4e00\u3002 data_type data_type \u8868\u793a\u6bcf\u4e2a\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u3002\u66f4\u591a\u5173\u4e8e Nebula Graph \u652f\u6301\u7684\u6570\u636e\u7c7b\u578b\u4fe1\u606f\u8bf7\u53c2\u89c1 data-type \u3002 NULL \u548c NOT NULL \u5728\u521b\u5efa edge type \u65f6\u4e0d\u53ef\u7528\u3002(\u76f8\u6bd4\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93)\u3002 \u9ed8\u8ba4\u503c\u7ea6\u675f \u60a8\u53ef\u4ee5\u5728\u521b\u5efa edge type \u65f6\u4f7f\u7528 DEFAULT \u7ea6\u675f\u8bbe\u7f6e\u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u5176\u4ed6\u503c\uff0c\u90a3\u4e48\u4f1a\u5c06\u9ed8\u8ba4\u503c\u63d2\u5165\u65b0\u7684\u8fb9\u3002\u9ed8\u8ba4\u503c\u53ef\u4ee5\u4e3a Nebula Graph \u652f\u6301\u7684\u4efb\u4e00\u6570\u636e\u7c7b\u578b\uff0c\u4e14\u652f\u6301\u8868\u8fbe\u5f0f\u3002\u5982\u679c\u60a8\u4e0d\u60f3\u4f7f\u7528\u9ed8\u8ba4\u503c\uff0c\u4e5f\u53ef\u4ee5\u5199\u4e00\u4e2a\u7528\u6237\u6307\u5b9a\u7684\u503c\u3002 \u6682\u65f6\u4e0d\u652f\u6301\u4f7f\u7528 Alter \u66f4\u6539\u9ed8\u8ba4\u503c\u3002","title":"\u5c5e\u6027\u540d\u548c\u6570\u636e\u7c7b\u578b"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-edge-syntax/#time-to-live_ttl","text":"TTL_DURATION TTL_DURATION \u6307\u5b9a\u4e86 vertices \u548c edges \u7684\u6709\u6548\u671f\uff0c\u8d85\u8fc7\u6709\u6548\u671f\u7684\u6570\u636e\u4f1a\u5931\u6548\u3002\u5931\u6548\u65f6\u95f4\u4e3a TTL_COL \u8bbe\u7f6e\u7684\u5c5e\u6027\u503c\u52a0 TTL_DURATION \u8bbe\u7f6e\u7684\u79d2\u6570\u3002 \u5982\u679c TTL_DURATION \u7684\u503c\u4e3a\u8d1f\u6216 0\uff0c\u5219\u8be5 edge \u4e0d\u4f1a\u5931\u6548\u3002 TTL_COL \u6307\u5b9a\u7684\u5217\uff08\u6216\u8005\u5c5e\u6027\uff09\u5fc5\u987b\u662f int64 \u6216\u8005 timestamp\u3002 \u5355 TTL \u5b9a\u4e49 \u4ec5\u652f\u6301\u6307\u5b9a\u5355\u4e2a TTL_COL \u5b57\u6bb5\u3002 TTL \u8be6\u7ec6\u7528\u6cd5\u53c2\u89c1 TTL \u6587\u6863 \u3002","title":"Time-to-Live (TTL) \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-edge-syntax/#_2","text":"nebula> CREATE EDGE follow(start_time timestamp, grade double); nebula> CREATE EDGE noedge(); -- \u5c5e\u6027\u4e3a\u7a7a nebula> CREATE TAG player_with_default(name string, age int DEFAULT 20); -- \u9ed8\u8ba4\u5e74\u9f84\u8bbe\u7f6e\u4e3a 20 \u5c81 nebula> CREATE EDGE follow_with_default(start_time timestamp DEFAULT 0, grade double DEFAULT 0.0); -- \u9ed8\u8ba4 start_time \u8bbe\u7f6e\u4e3a 0\uff0c\u9ed8\u8ba4 grade \u8bbe\u7f6e\u4e3a 0.0 nebula> CREATE EDGE marriage(location string, since timestamp) TTL_DURATION = 0, TTL_COL = \"since\"; -- \u8d1f\u503c\u6216 0 \u6570\u636e\u4e0d\u4f1a\u5931\u6548","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-space-syntax/","text":"CREATE SPACE \u8bed\u6cd5 \u00b6 CREATE SPACE [IF NOT EXISTS] <space_name> [(partition_num = <part_num>, replica_factor = <raft_copy>, charset = <charset>, collate = <collate>)] \u4ee5\u4e0a\u8bed\u53e5\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u56fe\u7a7a\u95f4\u3002\u4e0d\u540c\u7684\u56fe\u7a7a\u95f4\u662f\u7269\u7406\u9694\u79bb\u7684\u3002 IF NOT EXISTS \u00b6 \u521b\u5efa\u56fe\u7a7a\u95f4\u53ef\u4f7f\u7528 IF NOT EXISTS \u5173\u952e\u5b57\uff0c\u8fd9\u4e2a\u5173\u952e\u5b57\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5bf9\u5e94\u7684\u56fe\u7a7a\u95f4\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u65b0\u7684\uff0c\u5982\u679c\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\u3002 \u6ce8\u610f\uff1a \u8fd9\u91cc\u5224\u65ad\u56fe\u7a7a\u95f4\u662f\u5426\u5b58\u5728\u53ea\u662f\u6bd4\u8f83\u56fe\u7a7a\u95f4\u7684\u540d\u5b57(\u4e0d\u5305\u62ec\u5c5e\u6027)\u3002 Space Name \u56fe\u7a7a\u95f4\u540d \u00b6 space_name \u56fe\u7a7a\u95f4\u7684\u540d\u79f0\u5728\u96c6\u7fa4\u4e2d\u6807\u660e\u4e86\u4e00\u4e2a\u552f\u4e00\u7684\u7a7a\u95f4\u3002\u547d\u540d\u89c4\u5219\u8be6\u89c1 Schema Object Names \u81ea\u5b9a\u4e49\u56fe\u7a7a\u95f4\u9009\u9879 \u00b6 \u5728\u521b\u5efa\u56fe\u7a7a\u95f4\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4f20\u5165\u5982\u4e0b\u56db\u4e2a\u81ea\u5b9a\u4e49\u9009\u9879\uff1a partition_num partition_num \u8868\u793a\u6570\u636e\u5206\u7247\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a 100\u3002\u5efa\u8bae\u4e3a\u786c\u76d8\u6570\u91cf\u7684 5 \u500d\u3002 replica_factor replica_factor \u8868\u793a\u526f\u672c\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u662f 1\uff0c\u751f\u4ea7\u96c6\u7fa4\u5efa\u8bae\u4e3a 3\u3002\u7531\u4e8e\u91c7\u7528\u591a\u6570\u8868\u51b3\u539f\u7406\uff0c\u56e0\u6b64\u9700\u4e3a\u5947\u6570\u3002 charset charset \u8868\u793a\u5b57\u7b26\u96c6\uff0c\u5b9a\u4e49\u4e86\u5b57\u7b26\u4ee5\u53ca\u5b57\u7b26\u7684\u7f16\u7801\uff0c\u9ed8\u8ba4\u4e3a utf8\u3002 collate collate \u8868\u793a\u5b57\u7b26\u5e8f\uff0c\u5b9a\u4e49\u4e86\u5b57\u7b26\u7684\u6bd4\u8f83\u89c4\u5219\uff0c\u9ed8\u8ba4\u4e3a utf8_bin\u3002 \u5982\u679c\u6ca1\u6709\u81ea\u5b9a\u4e49\u9009\u9879\uff0c Nebula Graph \u4f1a\u4f7f\u7528\u9ed8\u8ba4\u7684\u503c\uff08partition_number\u3001replica_factor\u3001charset \u548c collate\uff09\u6765\u521b\u5efa\u56fe\u7a7a\u95f4\u3002 \u793a\u4f8b \u00b6 nebula> CREATE SPACE my_space_1; -- \u4f7f\u7528\u9ed8\u8ba4\u9009\u9879\u521b\u5efa\u56fe\u7a7a\u95f4 nebula> CREATE SPACE my_space_2(partition_num=10); -- \u4f7f\u7528\u9ed8\u8ba4 replica_factor \u521b\u5efa\u56fe\u7a7a\u95f4 nebula> CREATE SPACE my_space_3(replica_factor=1); -- \u4f7f\u7528\u9ed8\u8ba4 partition_number \u521b\u5efa\u56fe\u7a7a\u95f4 nebula> CREATE SPACE my_space_4(partition_num=10, replica_factor=1); \u68c0\u67e5 partition \u5206\u5e03\u6b63\u5e38 \u00b6 \u5728\u67d0\u4e9b\u5927\u96c6\u7fa4\u4e0a\uff0c\u7531\u4e8e\u542f\u52a8\u65f6\u95f4\u5148\u540e\u4e0d\u4e00\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4 partition \u5206\u5e03\u4e0d\u5747\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\uff08SHOW HOSTS\uff09\u68c0\u67e5\u673a\u5668\u548c\u5206\u5e03\u3002 nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 34600 | online | 13 | test: 13 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34900 | online | 12 | test: 12 | test: 38 | \u82e5\u53d1\u73b0\u673a\u5668\u90fd\u5df2\u5728\u7ebf\uff0c\u4f46 partition \u5206\u5e03\u4e0d\u5747\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4 \uff08BALANCE LEADER\uff09\u6765\u547d\u4ee4 partition \u91cd\u5206\u5e03\u3002 nebula> BALANCE LEADER; \u5177\u4f53\u89c1 SHOW HOSTS \u548c BALANCE \u3002","title":"CREATE SPACE"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-space-syntax/#create_space","text":"CREATE SPACE [IF NOT EXISTS] <space_name> [(partition_num = <part_num>, replica_factor = <raft_copy>, charset = <charset>, collate = <collate>)] \u4ee5\u4e0a\u8bed\u53e5\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u56fe\u7a7a\u95f4\u3002\u4e0d\u540c\u7684\u56fe\u7a7a\u95f4\u662f\u7269\u7406\u9694\u79bb\u7684\u3002","title":"CREATE SPACE \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-space-syntax/#if_not_exists","text":"\u521b\u5efa\u56fe\u7a7a\u95f4\u53ef\u4f7f\u7528 IF NOT EXISTS \u5173\u952e\u5b57\uff0c\u8fd9\u4e2a\u5173\u952e\u5b57\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5bf9\u5e94\u7684\u56fe\u7a7a\u95f4\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u65b0\u7684\uff0c\u5982\u679c\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\u3002 \u6ce8\u610f\uff1a \u8fd9\u91cc\u5224\u65ad\u56fe\u7a7a\u95f4\u662f\u5426\u5b58\u5728\u53ea\u662f\u6bd4\u8f83\u56fe\u7a7a\u95f4\u7684\u540d\u5b57(\u4e0d\u5305\u62ec\u5c5e\u6027)\u3002","title":"IF NOT EXISTS"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-space-syntax/#space_name","text":"space_name \u56fe\u7a7a\u95f4\u7684\u540d\u79f0\u5728\u96c6\u7fa4\u4e2d\u6807\u660e\u4e86\u4e00\u4e2a\u552f\u4e00\u7684\u7a7a\u95f4\u3002\u547d\u540d\u89c4\u5219\u8be6\u89c1 Schema Object Names","title":"Space Name \u56fe\u7a7a\u95f4\u540d"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-space-syntax/#_1","text":"\u5728\u521b\u5efa\u56fe\u7a7a\u95f4\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4f20\u5165\u5982\u4e0b\u56db\u4e2a\u81ea\u5b9a\u4e49\u9009\u9879\uff1a partition_num partition_num \u8868\u793a\u6570\u636e\u5206\u7247\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a 100\u3002\u5efa\u8bae\u4e3a\u786c\u76d8\u6570\u91cf\u7684 5 \u500d\u3002 replica_factor replica_factor \u8868\u793a\u526f\u672c\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u662f 1\uff0c\u751f\u4ea7\u96c6\u7fa4\u5efa\u8bae\u4e3a 3\u3002\u7531\u4e8e\u91c7\u7528\u591a\u6570\u8868\u51b3\u539f\u7406\uff0c\u56e0\u6b64\u9700\u4e3a\u5947\u6570\u3002 charset charset \u8868\u793a\u5b57\u7b26\u96c6\uff0c\u5b9a\u4e49\u4e86\u5b57\u7b26\u4ee5\u53ca\u5b57\u7b26\u7684\u7f16\u7801\uff0c\u9ed8\u8ba4\u4e3a utf8\u3002 collate collate \u8868\u793a\u5b57\u7b26\u5e8f\uff0c\u5b9a\u4e49\u4e86\u5b57\u7b26\u7684\u6bd4\u8f83\u89c4\u5219\uff0c\u9ed8\u8ba4\u4e3a utf8_bin\u3002 \u5982\u679c\u6ca1\u6709\u81ea\u5b9a\u4e49\u9009\u9879\uff0c Nebula Graph \u4f1a\u4f7f\u7528\u9ed8\u8ba4\u7684\u503c\uff08partition_number\u3001replica_factor\u3001charset \u548c collate\uff09\u6765\u521b\u5efa\u56fe\u7a7a\u95f4\u3002","title":"\u81ea\u5b9a\u4e49\u56fe\u7a7a\u95f4\u9009\u9879"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-space-syntax/#_2","text":"nebula> CREATE SPACE my_space_1; -- \u4f7f\u7528\u9ed8\u8ba4\u9009\u9879\u521b\u5efa\u56fe\u7a7a\u95f4 nebula> CREATE SPACE my_space_2(partition_num=10); -- \u4f7f\u7528\u9ed8\u8ba4 replica_factor \u521b\u5efa\u56fe\u7a7a\u95f4 nebula> CREATE SPACE my_space_3(replica_factor=1); -- \u4f7f\u7528\u9ed8\u8ba4 partition_number \u521b\u5efa\u56fe\u7a7a\u95f4 nebula> CREATE SPACE my_space_4(partition_num=10, replica_factor=1);","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-space-syntax/#partition","text":"\u5728\u67d0\u4e9b\u5927\u96c6\u7fa4\u4e0a\uff0c\u7531\u4e8e\u542f\u52a8\u65f6\u95f4\u5148\u540e\u4e0d\u4e00\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4 partition \u5206\u5e03\u4e0d\u5747\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\uff08SHOW HOSTS\uff09\u68c0\u67e5\u673a\u5668\u548c\u5206\u5e03\u3002 nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 34600 | online | 13 | test: 13 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34900 | online | 12 | test: 12 | test: 38 | \u82e5\u53d1\u73b0\u673a\u5668\u90fd\u5df2\u5728\u7ebf\uff0c\u4f46 partition \u5206\u5e03\u4e0d\u5747\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4 \uff08BALANCE LEADER\uff09\u6765\u547d\u4ee4 partition \u91cd\u5206\u5e03\u3002 nebula> BALANCE LEADER; \u5177\u4f53\u89c1 SHOW HOSTS \u548c BALANCE \u3002","title":"\u68c0\u67e5 partition \u5206\u5e03\u6b63\u5e38"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-tag-syntax/","text":"CREATE TAG \u8bed\u6cd5 \u00b6 CREATE TAG [IF NOT EXISTS] <tag_name> ([<create_definition>, ...]) [tag_options] <create_definition> ::= <prop_name> <data_type> <tag_options> ::= <option> [, <option> ...] <option> ::= TTL_DURATION [=] <ttl_duration> | TTL_COL [=] <prop_name> | DEFAULT <default_value> Nebula Graph \u7684\u56fe\u7ed3\u6784\u7531\u5e26\u6709\u5c5e\u6027\u7684 tags \u548c edges \u7ec4\u6210\u3002 CREATE TAG \u4f7f\u7528\u4e00\u4e2a\u7ed9\u5b9a\u7684\u540d\u79f0\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 tag\u3002 CREATE TAG \u8bed\u6cd5\u6709\u4e00\u4e9b\u7279\u70b9\uff0c\u5728\u5982\u4e0b\u5206\u5757\u4e2d\u5c06\u5bf9\u8fd9\u4e9b\u7279\u70b9\u8fdb\u884c\u8ba8\u8bba\uff1a IF NOT EXISTS \u00b6 \u521b\u5efa tag \u53ef\u4f7f\u7528 IF NOT EXISTS \u5173\u952e\u5b57\uff0c\u8fd9\u4e2a\u5173\u952e\u5b57\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5bf9\u5e94\u7684 tag \u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u65b0\u7684\uff0c\u5982\u679c\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\u3002 \u6ce8\u610f\uff1a \u8fd9\u91cc\u5224\u65ad tag \u662f\u5426\u5b58\u5728\u53ea\u662f\u6bd4\u8f83 tag \u7684\u540d\u5b57(\u4e0d\u5305\u62ec\u5c5e\u6027)\u3002 Tag \u540d\u79f0 \u00b6 tag_name tags \u7684\u540d\u79f0\u5728\u56fe\u4e2d\u5fc5\u987b \u552f\u4e00 \uff0c\u4e14\u540d\u79f0\u88ab\u5b9a\u4e49\u540e\u65e0\u6cd5\u88ab\u4fee\u6539\u3002Tag \u7684\u547d\u540d\u89c4\u5219\u548c space \u7684\u547d\u540d\u89c4\u5219\u4e00\u81f4\u3002\u53c2\u89c1 Schema Object Name \u3002 \u5c5e\u6027\u540d\u548c\u6570\u636e\u7c7b\u578b \u00b6 prop_name prop_name \u8868\u793a\u6bcf\u4e2a\u5c5e\u6027\u7684\u540d\u79f0\u3002\u5728\u6bcf\u4e2a tag \u4e2d\u5fc5\u987b\u552f\u4e00\u3002 data_type data_type \u8868\u793a\u6bcf\u4e2a\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u3002\u66f4\u591a\u5173\u4e8e Nebula Graph \u652f\u6301\u7684\u6570\u636e\u7c7b\u578b\u4fe1\u606f\u8bf7\u53c2\u89c1 data-type \u3002 NULL \u548c NOT NULL \u5728\u521b\u5efa tag \u65f6\u4e0d\u53ef\u7528\u3002(\u76f8\u6bd4\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93)\u3002 \u9ed8\u8ba4\u503c\u7ea6\u675f \u60a8\u53ef\u4ee5\u5728\u521b\u5efa\u6807\u7b7e/\u8fb9\u65f6\u4f7f\u7528 DEFAULT \u7ea6\u675f\u8bbe\u7f6e\u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u5176\u4ed6\u503c\uff0c\u90a3\u4e48\u4f1a\u5c06\u9ed8\u8ba4\u503c\u63d2\u5165\u65b0\u7684\u9876\u70b9\u3002\u9ed8\u8ba4\u503c\u53ef\u4ee5\u4e3a Nebula Graph \u652f\u6301\u7684\u4efb\u4e00\u6570\u636e\u7c7b\u578b\uff0c\u4e14\u652f\u6301\u8868\u8fbe\u5f0f\u3002\u5982\u679c\u60a8\u4e0d\u60f3\u4f7f\u7528\u9ed8\u8ba4\u503c\uff0c\u4e5f\u53ef\u4ee5\u5199\u4e00\u4e2a\u7528\u6237\u6307\u5b9a\u7684\u503c\u3002 \u6682\u65f6\u4e0d\u652f\u6301\u4f7f\u7528 Alter \u66f4\u6539\u9ed8\u8ba4\u503c\u3002 Time-to-Live (TTL) \u8bed\u6cd5 \u00b6 TTL_DURATION TTL_DURATION \u6307\u5b9a\u4e86 vertices \u548c edges \u7684\u6709\u6548\u671f\uff0c\u8d85\u8fc7\u6709\u6548\u671f\u7684\u6570\u636e\u4f1a\u5931\u6548\u3002\u5931\u6548\u65f6\u95f4\u4e3a TTL_COL \u8bbe\u7f6e\u7684\u5c5e\u6027\u503c\u52a0 TTL_DURATION \u8bbe\u7f6e\u7684\u79d2\u6570\u3002 \u5982\u679c TTL_DURATION \u7684\u503c\u4e3a\u8d1f\u6216 0\uff0c\u5219\u8be5 edge \u4e0d\u4f1a\u5931\u6548\u3002 TTL_COL \u6307\u5b9a\u7684\u5217\uff08\u6216\u8005\u5c5e\u6027\uff09\u5fc5\u987b\u662f int64 \u6216\u8005 timestamp\u3002 \u5355 TTL \u5b9a\u4e49 \u4ec5\u652f\u6301\u6307\u5b9a\u5355\u4e2a TTL_COL \u5b57\u6bb5\u3002 TTL \u8be6\u7ec6\u7528\u6cd5\u53c2\u89c1 TTL \u6587\u6863 \u3002 \u793a\u4f8b \u00b6 nebula> CREATE TAG course(name string, credits int); nebula> CREATE TAG notag(); -- \u5c5e\u6027\u4e3a\u7a7a nebula> CREATE TAG player_with_default(name string, age int DEFAULT 20); -- \u9ed8\u8ba4\u5e74\u9f84\u8bbe\u7f6e\u4e3a 20 \u5c81 nebula> CREATE TAG woman(name string, age int, married bool, salary double, create_time timestamp) TTL_DURATION = 100, TTL_COL = \"create_time\"; -- \u65f6\u95f4\u95f4\u9694\u662f 100s\uff0c\u4ece create_time \u5b57\u6bb5\u7684\u503c\u5f00\u59cb nebula> CREATE TAG icecream(made timestamp, temperature int) TTL_DURATION = 100, TTL_COL = \"made\"; -- \u8d85\u8fc7 TTL_DURATION \u6570\u636e\u5373\u5931\u6548","title":"CREATE TAG"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-tag-syntax/#create_tag","text":"CREATE TAG [IF NOT EXISTS] <tag_name> ([<create_definition>, ...]) [tag_options] <create_definition> ::= <prop_name> <data_type> <tag_options> ::= <option> [, <option> ...] <option> ::= TTL_DURATION [=] <ttl_duration> | TTL_COL [=] <prop_name> | DEFAULT <default_value> Nebula Graph \u7684\u56fe\u7ed3\u6784\u7531\u5e26\u6709\u5c5e\u6027\u7684 tags \u548c edges \u7ec4\u6210\u3002 CREATE TAG \u4f7f\u7528\u4e00\u4e2a\u7ed9\u5b9a\u7684\u540d\u79f0\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 tag\u3002 CREATE TAG \u8bed\u6cd5\u6709\u4e00\u4e9b\u7279\u70b9\uff0c\u5728\u5982\u4e0b\u5206\u5757\u4e2d\u5c06\u5bf9\u8fd9\u4e9b\u7279\u70b9\u8fdb\u884c\u8ba8\u8bba\uff1a","title":"CREATE TAG \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-tag-syntax/#if_not_exists","text":"\u521b\u5efa tag \u53ef\u4f7f\u7528 IF NOT EXISTS \u5173\u952e\u5b57\uff0c\u8fd9\u4e2a\u5173\u952e\u5b57\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5bf9\u5e94\u7684 tag \u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u65b0\u7684\uff0c\u5982\u679c\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\u3002 \u6ce8\u610f\uff1a \u8fd9\u91cc\u5224\u65ad tag \u662f\u5426\u5b58\u5728\u53ea\u662f\u6bd4\u8f83 tag \u7684\u540d\u5b57(\u4e0d\u5305\u62ec\u5c5e\u6027)\u3002","title":"IF NOT EXISTS"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-tag-syntax/#tag","text":"tag_name tags \u7684\u540d\u79f0\u5728\u56fe\u4e2d\u5fc5\u987b \u552f\u4e00 \uff0c\u4e14\u540d\u79f0\u88ab\u5b9a\u4e49\u540e\u65e0\u6cd5\u88ab\u4fee\u6539\u3002Tag \u7684\u547d\u540d\u89c4\u5219\u548c space \u7684\u547d\u540d\u89c4\u5219\u4e00\u81f4\u3002\u53c2\u89c1 Schema Object Name \u3002","title":"Tag \u540d\u79f0"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-tag-syntax/#_1","text":"prop_name prop_name \u8868\u793a\u6bcf\u4e2a\u5c5e\u6027\u7684\u540d\u79f0\u3002\u5728\u6bcf\u4e2a tag \u4e2d\u5fc5\u987b\u552f\u4e00\u3002 data_type data_type \u8868\u793a\u6bcf\u4e2a\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u3002\u66f4\u591a\u5173\u4e8e Nebula Graph \u652f\u6301\u7684\u6570\u636e\u7c7b\u578b\u4fe1\u606f\u8bf7\u53c2\u89c1 data-type \u3002 NULL \u548c NOT NULL \u5728\u521b\u5efa tag \u65f6\u4e0d\u53ef\u7528\u3002(\u76f8\u6bd4\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93)\u3002 \u9ed8\u8ba4\u503c\u7ea6\u675f \u60a8\u53ef\u4ee5\u5728\u521b\u5efa\u6807\u7b7e/\u8fb9\u65f6\u4f7f\u7528 DEFAULT \u7ea6\u675f\u8bbe\u7f6e\u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u5176\u4ed6\u503c\uff0c\u90a3\u4e48\u4f1a\u5c06\u9ed8\u8ba4\u503c\u63d2\u5165\u65b0\u7684\u9876\u70b9\u3002\u9ed8\u8ba4\u503c\u53ef\u4ee5\u4e3a Nebula Graph \u652f\u6301\u7684\u4efb\u4e00\u6570\u636e\u7c7b\u578b\uff0c\u4e14\u652f\u6301\u8868\u8fbe\u5f0f\u3002\u5982\u679c\u60a8\u4e0d\u60f3\u4f7f\u7528\u9ed8\u8ba4\u503c\uff0c\u4e5f\u53ef\u4ee5\u5199\u4e00\u4e2a\u7528\u6237\u6307\u5b9a\u7684\u503c\u3002 \u6682\u65f6\u4e0d\u652f\u6301\u4f7f\u7528 Alter \u66f4\u6539\u9ed8\u8ba4\u503c\u3002","title":"\u5c5e\u6027\u540d\u548c\u6570\u636e\u7c7b\u578b"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-tag-syntax/#time-to-live_ttl","text":"TTL_DURATION TTL_DURATION \u6307\u5b9a\u4e86 vertices \u548c edges \u7684\u6709\u6548\u671f\uff0c\u8d85\u8fc7\u6709\u6548\u671f\u7684\u6570\u636e\u4f1a\u5931\u6548\u3002\u5931\u6548\u65f6\u95f4\u4e3a TTL_COL \u8bbe\u7f6e\u7684\u5c5e\u6027\u503c\u52a0 TTL_DURATION \u8bbe\u7f6e\u7684\u79d2\u6570\u3002 \u5982\u679c TTL_DURATION \u7684\u503c\u4e3a\u8d1f\u6216 0\uff0c\u5219\u8be5 edge \u4e0d\u4f1a\u5931\u6548\u3002 TTL_COL \u6307\u5b9a\u7684\u5217\uff08\u6216\u8005\u5c5e\u6027\uff09\u5fc5\u987b\u662f int64 \u6216\u8005 timestamp\u3002 \u5355 TTL \u5b9a\u4e49 \u4ec5\u652f\u6301\u6307\u5b9a\u5355\u4e2a TTL_COL \u5b57\u6bb5\u3002 TTL \u8be6\u7ec6\u7528\u6cd5\u53c2\u89c1 TTL \u6587\u6863 \u3002","title":"Time-to-Live (TTL) \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/create-tag-syntax/#_2","text":"nebula> CREATE TAG course(name string, credits int); nebula> CREATE TAG notag(); -- \u5c5e\u6027\u4e3a\u7a7a nebula> CREATE TAG player_with_default(name string, age int DEFAULT 20); -- \u9ed8\u8ba4\u5e74\u9f84\u8bbe\u7f6e\u4e3a 20 \u5c81 nebula> CREATE TAG woman(name string, age int, married bool, salary double, create_time timestamp) TTL_DURATION = 100, TTL_COL = \"create_time\"; -- \u65f6\u95f4\u95f4\u9694\u662f 100s\uff0c\u4ece create_time \u5b57\u6bb5\u7684\u503c\u5f00\u59cb nebula> CREATE TAG icecream(made timestamp, temperature int) TTL_DURATION = 100, TTL_COL = \"made\"; -- \u8d85\u8fc7 TTL_DURATION \u6570\u636e\u5373\u5931\u6548","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/drop-edge-syntax/","text":"DROP EDGE \u8bed\u6cd5 \u00b6 DROP EDGE [IF EXISTS] <edge_type_name> \u4ec5\u652f\u6301\u6709 DROP \u6743\u9650\u7684\u7528\u6237\u8fdb\u884c\u6b64\u64cd\u4f5c\u3002 \u6ce8\u610f\uff1a \u5220\u9664\u8fb9\u65f6 Nebula Graph \u5c06\u5224\u65ad\u76f8\u5e94\u8fb9\u662f\u5426\u6709\u5173\u8054\u7684\u7d22\u5f15\uff0c\u5982\u679c\u6709\u5219\u62d2\u7edd\u5220\u9664\u3002 \u8bf7\u53c2\u8003 \u7d22\u5f15\u6587\u6863 \u4e86\u89e3\u7d22\u5f15\u8be6\u60c5\u3002 \u5220\u9664\u8fb9\u53ef\u4f7f\u7528 IF EXISTS \u5173\u952e\u8bcd\uff0c\u8fd9\u4e2a\u5173\u952e\u5b57\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5bf9\u5e94\u7684\u8fb9\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5219\u5220\u9664\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\u3002 \u6b64\u64cd\u4f5c\u5c06\u79fb\u9664\u6307\u5b9a\u7c7b\u578b\u7684\u6240\u6709\u8fb9\u3002 \u6b64\u64cd\u4f5c\u4ec5\u5220\u9664 Schema \u4fe1\u606f\uff0c\u786c\u76d8\u4e2d\u6240\u6709\u6587\u4ef6\u53ca\u76ee\u5f55\u5747 \u672a\u88ab\u76f4\u63a5\u5220\u9664 \uff0c\u6570\u636e\u4f1a\u5728\u4e0b\u6b21 compaction \u65f6\u5220\u9664\u3002","title":"DROP EDGE"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/drop-edge-syntax/#drop_edge","text":"DROP EDGE [IF EXISTS] <edge_type_name> \u4ec5\u652f\u6301\u6709 DROP \u6743\u9650\u7684\u7528\u6237\u8fdb\u884c\u6b64\u64cd\u4f5c\u3002 \u6ce8\u610f\uff1a \u5220\u9664\u8fb9\u65f6 Nebula Graph \u5c06\u5224\u65ad\u76f8\u5e94\u8fb9\u662f\u5426\u6709\u5173\u8054\u7684\u7d22\u5f15\uff0c\u5982\u679c\u6709\u5219\u62d2\u7edd\u5220\u9664\u3002 \u8bf7\u53c2\u8003 \u7d22\u5f15\u6587\u6863 \u4e86\u89e3\u7d22\u5f15\u8be6\u60c5\u3002 \u5220\u9664\u8fb9\u53ef\u4f7f\u7528 IF EXISTS \u5173\u952e\u8bcd\uff0c\u8fd9\u4e2a\u5173\u952e\u5b57\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5bf9\u5e94\u7684\u8fb9\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5219\u5220\u9664\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\u3002 \u6b64\u64cd\u4f5c\u5c06\u79fb\u9664\u6307\u5b9a\u7c7b\u578b\u7684\u6240\u6709\u8fb9\u3002 \u6b64\u64cd\u4f5c\u4ec5\u5220\u9664 Schema \u4fe1\u606f\uff0c\u786c\u76d8\u4e2d\u6240\u6709\u6587\u4ef6\u53ca\u76ee\u5f55\u5747 \u672a\u88ab\u76f4\u63a5\u5220\u9664 \uff0c\u6570\u636e\u4f1a\u5728\u4e0b\u6b21 compaction \u65f6\u5220\u9664\u3002","title":"DROP EDGE \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/drop-space-syntax/","text":"DROP SPACE \u8bed\u6cd5 \u00b6 DROP SPACE [IF EXISTS] <space_name> \u4ec5\u652f\u6301\u6709 DROP \u6743\u9650\u7684\u7528\u6237\u8fdb\u884c\u6b64\u64cd\u4f5c\u3002 DROP SPACE \u5c06\u5220\u9664\u6307\u5b9a space \u5185\u7684\u6240\u6709\u5185\u5bb9\u3002 \u5220\u9664\u56fe\u7a7a\u95f4\u53ef\u4f7f\u7528 IF EXISTS \u5173\u952e\u5b57\uff0c\u8fd9\u4e2a\u5173\u952e\u5b57\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5bf9\u5e94\u7684\u56fe\u7a7a\u95f4\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5219\u5220\u9664\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\u3002 \u5176\u4ed6 space \u4e0d\u53d7\u5f71\u54cd\u3002 \u8be5\u8bed\u53e5\u4e0d\u4f1a\u7acb\u5373\u5220\u9664\u5b58\u50a8\u5f15\u64ce\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\uff08\u5e76\u91ca\u653e\u78c1\u76d8\u7a7a\u95f4\uff09\u3002\u5220\u9664\u64cd\u4f5c\u53d6\u51b3\u4e8e\u4e0d\u540c\u5b58\u50a8\u5f15\u64ce\u7684\u5b9e\u73b0\u3002 \u8bf7 \u8c28\u614e \u8fdb\u884c\u6b64\u64cd\u4f5c\u3002","title":"DROP SPACE"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/drop-space-syntax/#drop_space","text":"DROP SPACE [IF EXISTS] <space_name> \u4ec5\u652f\u6301\u6709 DROP \u6743\u9650\u7684\u7528\u6237\u8fdb\u884c\u6b64\u64cd\u4f5c\u3002 DROP SPACE \u5c06\u5220\u9664\u6307\u5b9a space \u5185\u7684\u6240\u6709\u5185\u5bb9\u3002 \u5220\u9664\u56fe\u7a7a\u95f4\u53ef\u4f7f\u7528 IF EXISTS \u5173\u952e\u5b57\uff0c\u8fd9\u4e2a\u5173\u952e\u5b57\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5bf9\u5e94\u7684\u56fe\u7a7a\u95f4\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5219\u5220\u9664\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\u3002 \u5176\u4ed6 space \u4e0d\u53d7\u5f71\u54cd\u3002 \u8be5\u8bed\u53e5\u4e0d\u4f1a\u7acb\u5373\u5220\u9664\u5b58\u50a8\u5f15\u64ce\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\uff08\u5e76\u91ca\u653e\u78c1\u76d8\u7a7a\u95f4\uff09\u3002\u5220\u9664\u64cd\u4f5c\u53d6\u51b3\u4e8e\u4e0d\u540c\u5b58\u50a8\u5f15\u64ce\u7684\u5b9e\u73b0\u3002 \u8bf7 \u8c28\u614e \u8fdb\u884c\u6b64\u64cd\u4f5c\u3002","title":"DROP SPACE \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/drop-tag-syntax/","text":"DROP TAG \u8bed\u6cd5 \u00b6 DROP TAG [IF EXISTS] <tag_name> \u4ec5\u652f\u6301\u6709 DROP \u6743\u9650\u7684\u7528\u6237\u8fdb\u884c\u6b64\u64cd\u4f5c\u3002 \u8bf7\u8c28\u614e\u8fdb\u884c\u6b64\u64cd\u4f5c\u3002 \u6ce8\u610f\uff1a \u5220\u9664\u6807\u7b7e\u65f6 Nebula Graph \u5c06\u5224\u65ad\u76f8\u5e94\u6807\u7b7e\u662f\u5426\u6709\u5173\u8054\u7684\u7d22\u5f15\uff0c\u5982\u679c\u6709\u5219\u62d2\u7edd\u5220\u9664\u3002 \u8bf7\u53c2\u8003 \u7d22\u5f15\u6587\u6863 \u4e86\u89e3\u7d22\u5f15\u8be6\u60c5\u3002 \u5220\u9664\u6807\u7b7e\u53ef\u4f7f\u7528 IF EXISTS \u5173\u952e\u5b57\uff0c\u8fd9\u4e2a\u5173\u952e\u5b57\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5bf9\u5e94\u7684\u6807\u7b7e\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5219\u5220\u9664\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\u3002 \u4e00\u4e2a\u8282\u70b9\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u6807\u7b7e\uff08\u7c7b\u578b\uff09\u3002 \u5220\u9664\u6240\u6709\u6807\u7b7e\u540e\uff0c\u8282\u70b9\u5c06\u4e0d\u53ef\u8bbf\u95ee\uff0c\u540c\u65f6\u4e0e\u8282\u70b9\u8fde\u63a5\u7684\u8fb9\u4e5f\u4e0d\u53ef\u4f7f\u7528\u3002 \u5220\u9664\u5355\u4e2a\u6807\u7b7e\u540e\uff0c\u8282\u70b9\u4ecd\u53ef\u8bbf\u95ee\uff0c\u4f46\u662f\u5df2\u5220\u9664\u6807\u7b7e\u7684\u5c5e\u6027\u4e0d\u53ef\u8bbf\u95ee\u3002 \u6b64\u64cd\u4f5c\u4ec5\u5220\u9664 Schema \u4fe1\u606f\uff0c\u786c\u76d8\u4e2d\u6240\u6709\u6587\u4ef6\u53ca\u76ee\u5f55\u5747 \u672a\u88ab\u76f4\u63a5\u5220\u9664 \uff0c\u6570\u636e\u4f1a\u5728\u4e0b\u6b21 compaction \u65f6\u5220\u9664\u3002","title":"DROP TAG"},{"location":"manual-CN/2.query-language/4.statement-syntax/1.data-definition-statements/drop-tag-syntax/#drop_tag","text":"DROP TAG [IF EXISTS] <tag_name> \u4ec5\u652f\u6301\u6709 DROP \u6743\u9650\u7684\u7528\u6237\u8fdb\u884c\u6b64\u64cd\u4f5c\u3002 \u8bf7\u8c28\u614e\u8fdb\u884c\u6b64\u64cd\u4f5c\u3002 \u6ce8\u610f\uff1a \u5220\u9664\u6807\u7b7e\u65f6 Nebula Graph \u5c06\u5224\u65ad\u76f8\u5e94\u6807\u7b7e\u662f\u5426\u6709\u5173\u8054\u7684\u7d22\u5f15\uff0c\u5982\u679c\u6709\u5219\u62d2\u7edd\u5220\u9664\u3002 \u8bf7\u53c2\u8003 \u7d22\u5f15\u6587\u6863 \u4e86\u89e3\u7d22\u5f15\u8be6\u60c5\u3002 \u5220\u9664\u6807\u7b7e\u53ef\u4f7f\u7528 IF EXISTS \u5173\u952e\u5b57\uff0c\u8fd9\u4e2a\u5173\u952e\u5b57\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5bf9\u5e94\u7684\u6807\u7b7e\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5219\u5220\u9664\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\u3002 \u4e00\u4e2a\u8282\u70b9\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u6807\u7b7e\uff08\u7c7b\u578b\uff09\u3002 \u5220\u9664\u6240\u6709\u6807\u7b7e\u540e\uff0c\u8282\u70b9\u5c06\u4e0d\u53ef\u8bbf\u95ee\uff0c\u540c\u65f6\u4e0e\u8282\u70b9\u8fde\u63a5\u7684\u8fb9\u4e5f\u4e0d\u53ef\u4f7f\u7528\u3002 \u5220\u9664\u5355\u4e2a\u6807\u7b7e\u540e\uff0c\u8282\u70b9\u4ecd\u53ef\u8bbf\u95ee\uff0c\u4f46\u662f\u5df2\u5220\u9664\u6807\u7b7e\u7684\u5c5e\u6027\u4e0d\u53ef\u8bbf\u95ee\u3002 \u6b64\u64cd\u4f5c\u4ec5\u5220\u9664 Schema \u4fe1\u606f\uff0c\u786c\u76d8\u4e2d\u6240\u6709\u6587\u4ef6\u53ca\u76ee\u5f55\u5747 \u672a\u88ab\u76f4\u63a5\u5220\u9664 \uff0c\u6570\u636e\u4f1a\u5728\u4e0b\u6b21 compaction \u65f6\u5220\u9664\u3002","title":"DROP TAG \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/delete-edge-syntax/","text":"Delete Edge \u8bed\u6cd5 \u00b6 DELETE EDGE \u8bed\u53e5\u7528\u4e8e\u5220\u9664\u8fb9\u3002\u7ed9\u5b9a\u4e00\u4e2a edge \u7c7b\u578b\uff0c\u53ca\u5176\u8d77\u70b9\u4e0e\u7ec8\u70b9\uff0c Nebula Graph \u652f\u6301\u5220\u9664\u8fd9\u6761\u8fb9\u53ca\u5176\u76f8\u5173\u5c5e\u6027\u548c rank\uff0c\u4e5f\u652f\u6301\u6307\u5b9a rank \u5220\u9664\u8fb9\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a DELETE EDGE <edge_type> <vid> -> <vid>[@<rank>] [, <vid> -> <vid> ...] \u4f8b\u5982\uff0c nebula> DELETE EDGE follow 100 -> 200; \u4ee5\u4e0a\u793a\u4f8b\u5220\u9664\u4e00\u6761\u8d77\u70b9\u4e3a 100 \uff0c \u7ec8\u70b9\u4e3a 200 \uff0c \u8fb9\u7c7b\u578b\u4e3a follow \u7684\u8fb9\u3002 \u7cfb\u7edf\u5185\u90e8\u4f1a\u627e\u51fa\u4e0e\u8fd9\u6761\u8fb9\u76f8\u5173\u8054\u7684\u5c5e\u6027\uff0c\u5e76\u5c06\u5176\u5168\u90e8\u5220\u9664\u3002\u6574\u4e2a\u8fc7\u7a0b\u5f53\u524d\u8fd8\u65e0\u6cd5\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u56e0\u6b64\u5f53\u9047\u5230\u5931\u8d25\u65f6\u8bf7\u91cd\u8bd5\u3002","title":"DELETE EDGE"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/delete-edge-syntax/#delete_edge","text":"DELETE EDGE \u8bed\u53e5\u7528\u4e8e\u5220\u9664\u8fb9\u3002\u7ed9\u5b9a\u4e00\u4e2a edge \u7c7b\u578b\uff0c\u53ca\u5176\u8d77\u70b9\u4e0e\u7ec8\u70b9\uff0c Nebula Graph \u652f\u6301\u5220\u9664\u8fd9\u6761\u8fb9\u53ca\u5176\u76f8\u5173\u5c5e\u6027\u548c rank\uff0c\u4e5f\u652f\u6301\u6307\u5b9a rank \u5220\u9664\u8fb9\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a DELETE EDGE <edge_type> <vid> -> <vid>[@<rank>] [, <vid> -> <vid> ...] \u4f8b\u5982\uff0c nebula> DELETE EDGE follow 100 -> 200; \u4ee5\u4e0a\u793a\u4f8b\u5220\u9664\u4e00\u6761\u8d77\u70b9\u4e3a 100 \uff0c \u7ec8\u70b9\u4e3a 200 \uff0c \u8fb9\u7c7b\u578b\u4e3a follow \u7684\u8fb9\u3002 \u7cfb\u7edf\u5185\u90e8\u4f1a\u627e\u51fa\u4e0e\u8fd9\u6761\u8fb9\u76f8\u5173\u8054\u7684\u5c5e\u6027\uff0c\u5e76\u5c06\u5176\u5168\u90e8\u5220\u9664\u3002\u6574\u4e2a\u8fc7\u7a0b\u5f53\u524d\u8fd8\u65e0\u6cd5\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u56e0\u6b64\u5f53\u9047\u5230\u5931\u8d25\u65f6\u8bf7\u91cd\u8bd5\u3002","title":"Delete Edge \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/delete-vertex-syntax/","text":"Delete Vertex \u8bed\u6cd5 \u00b6 Nebula Graph \u652f\u6301\u7ed9\u5b9a\u70b9 ID\uff08\u6216 hash ID\u3001UUID\uff09\uff0c\u5220\u9664\u8fd9\u4e9b\u9876\u70b9\u548c\u4e0e\u5176\u76f8\u5173\u8054\u7684\u5165\u8fb9\u548c\u51fa\u8fb9\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a DELETE VERTEX <vid_list> \u4f8b\u5982\uff0c nebula> DELETE VERTEX 121; \u4ee5\u4e0a\u793a\u4f8b\u5220\u9664 ID \u4e3a 121 \u7684\u70b9\u3002 \u7cfb\u7edf\u5185\u90e8\u4f1a\u627e\u51fa\u4e0e\u8fd9\u4e9b\u9876\u70b9\u76f8\u5173\u8054\u7684\u51fa\u8fb9\u548c\u5165\u8fb9\uff0c\u5e76\u5c06\u5176\u5168\u90e8\u5220\u9664\uff0c\u7136\u540e\u518d\u5220\u9664\u70b9\u76f8\u5173\u7684\u4fe1\u606f\u3002\u6574\u4e2a\u8fc7\u7a0b\u5f53\u524d\u8fd8\u65e0\u6cd5\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u56e0\u6b64\u82e5\u64cd\u4f5c\u5931\u8d25\u8bf7\u91cd\u8bd5\u3002","title":"DELETE VERTEX"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/delete-vertex-syntax/#delete_vertex","text":"Nebula Graph \u652f\u6301\u7ed9\u5b9a\u70b9 ID\uff08\u6216 hash ID\u3001UUID\uff09\uff0c\u5220\u9664\u8fd9\u4e9b\u9876\u70b9\u548c\u4e0e\u5176\u76f8\u5173\u8054\u7684\u5165\u8fb9\u548c\u51fa\u8fb9\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a DELETE VERTEX <vid_list> \u4f8b\u5982\uff0c nebula> DELETE VERTEX 121; \u4ee5\u4e0a\u793a\u4f8b\u5220\u9664 ID \u4e3a 121 \u7684\u70b9\u3002 \u7cfb\u7edf\u5185\u90e8\u4f1a\u627e\u51fa\u4e0e\u8fd9\u4e9b\u9876\u70b9\u76f8\u5173\u8054\u7684\u51fa\u8fb9\u548c\u5165\u8fb9\uff0c\u5e76\u5c06\u5176\u5168\u90e8\u5220\u9664\uff0c\u7136\u540e\u518d\u5220\u9664\u70b9\u76f8\u5173\u7684\u4fe1\u606f\u3002\u6574\u4e2a\u8fc7\u7a0b\u5f53\u524d\u8fd8\u65e0\u6cd5\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u56e0\u6b64\u82e5\u64cd\u4f5c\u5931\u8d25\u8bf7\u91cd\u8bd5\u3002","title":"Delete Vertex \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/fetch-syntax/","text":"Fetch \u8bed\u6cd5 \u00b6 FETCH \u8bed\u53e5\u7528\u4e8e\u83b7\u53d6\u70b9\u548c\u8fb9\u7684\u5c5e\u6027\u3002 \u83b7\u53d6\u70b9\u5c5e\u6027 \u00b6 FETCH PROP ON \u53ef\u8fd4\u56de\u8282\u70b9\u7684\u4e00\u7cfb\u5217\u5c5e\u6027\uff0c\u76ee\u524d\u5df2\u652f\u6301\u4e00\u6761\u8bed\u53e5\u8fd4\u56de\u591a\u4e2a\u8282\u70b9\u5c5e\u6027\u3002 FETCH \u83b7\u53d6\u70b9\u5c5e\u6027\u652f\u6301\u4e0e \u7ba1\u9053 \u53ca \u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf \u4e00\u8d77\u4f7f\u7528\u3002 FETCH PROP ON {<tag_name_list> | *} <vertex_id_list> [YIELD [DISTINCT] <return_list>] * \u8fd4\u56de\u6307\u5b9a VID \u70b9\u7684\u6240\u6709\u5c5e\u6027\u3002 <tag_name_list>::=[tag_name [, tag_name]] \u4e3a\u6807\u7b7e\u540d\u79f0\uff0c\u4e0e return_list \u4e2d\u7684\u6807\u7b7e\u76f8\u540c\u3002 <vertex_id_list>::=[vertex_id [, vertex_id]] \u662f\u4e00\u7ec4\u7528 \",\" \u5206\u9694\u5f00\u7684\u9876\u70b9 VID \u5217\u8868\u3002 [YIELD [DISTINCT] <return_list>] \u4e3a\u8fd4\u56de\u7684\u5c5e\u6027\u5217\u8868\uff0c YIELD \u8bed\u6cd5\u53c2\u770b YIELD Syntax \u3002 \u793a\u4f8b \u00b6 -- \u8fd4\u56de\u8282\u70b9 100 \u7684\u6240\u6709\u5c5e\u6027\u3002 nebula> FETCH PROP ON * 100; -- \u8fd4\u56de\u70b9100\uff0c201 \u7684 player\u3001team tag \u4e0a\u7684\u6240\u6709\u5c5e\u6027\u3002 nebula> FETCH PROP ON * 100, 102; -- \u8fd4\u56de\u8282\u70b9 100\u3001201 \u7684\u6240\u6709\u5c5e\u6027\u3002 nebula> FETCH PROP ON player, team 100, 201; -- \u5982\u672a\u6307\u5b9a YIELD \u5b57\u6bb5\uff0c\u5219\u8fd4\u56de\u8282\u70b9 100, tag \u4e3a player \u7684\u6240\u6709\u5c5e\u6027\u3002 nebula> FETCH PROP ON player 100; -- \u8fd4\u56de\u8282\u70b9 100 \u7684\u59d3\u540d\u4e0e\u5e74\u9f84\u5c5e\u6027\u3002 nebula> FETCH PROP ON player 100 YIELD player.name, player.age; -- \u901a\u8fc7 hash \u751f\u6210 int64 \u8282\u70b9 ID\uff0c\u8fd4\u56de\u5176\u59d3\u540d\u548c\u5e74\u9f84\u5c5e\u6027\u3002 nebula> FETCH PROP ON player hash(\"nebula\") YIELD player.name, player.age; -- \u652f\u6301\u4e0e\u7ba1\u9053\u4e00\u8d77\u4f7f\u7528 nebula> YIELD 100 AS id | FETCH PROP ON player $-.id; -- \u6cbf\u8fb9 follow \u5bfb\u627e\u8282\u70b9 100 \u7684\u6240\u6709\u8fd1\u90bb\uff0c\u8fd4\u56de\u5176\u59d3\u540d\u548c\u5e74\u9f84\u5c5e\u6027\u3002 nebula> GO FROM 100 OVER follow YIELD follow._dst AS id | FETCH PROP ON player $-.id YIELD player.name, player.age; -- \u4e0e\u4e0a\u8ff0\u8bed\u6cd5\u76f8\u540c\u3002 nebula> $var = GO FROM 100 OVER follow YIELD follow._dst AS id; FETCH PROP ON player $var.id YIELD player.name, player.age; -- \u83b7\u53d6 100\u3001101\u3001102 \u4e09\u4e2a\u8282\u70b9\uff0c\u8fd4\u56de\u59d3\u540d\u548c\u5e74\u9f84\u90fd\u4e0d\u76f8\u540c\u7684\u8bb0\u5f55\u3002 nebula> FETCH PROP ON player 100,101,102 YIELD DISTINCT player.name, player.age; \u83b7\u53d6\u8fb9\u5c5e\u6027 \u00b6 \u4f7f\u7528 FETCH \u83b7\u53d6\u8fb9\u5c5e\u6027\u7684\u7528\u6cd5\u4e0e\u70b9\u5c5e\u6027\u5927\u81f4\u76f8\u540c\uff0c\u4e14\u53ef\u540c\u65f6\u83b7\u53d6\u76f8\u540c\u7c7b\u578b\u591a\u6761\u8fb9\u7684\u5c5e\u6027\u3002 FETCH PROP ON <edge_type> <vid> -> <vid>[@<rank>] [, <vid> -> <vid> ...] [YIELD [DISTINCT] <return_list>] <edge_type> \u6307\u5b9a\u8fb9\u7684\u7c7b\u578b\uff0c\u9700\u4e0e <return_list> \u76f8\u540c\u3002 <vid> -> <vid> \u4ece\u8d77\u59cb\u8282\u70b9\u5230\u7ec8\u6b62\u8282\u70b9\uff0c\u591a\u6761\u8fb9\u9700\u4f7f\u7528\u9017\u53f7\u9694\u5f00\u3002 <rank> \u6307\u5b9a\u76f8\u540c\u7c7b\u578b\u8fb9 rank\uff0c\u53ef\u9009\u3002\u5982\u672a\u6307\u5b9a\uff0c\u5219\u9ed8\u8ba4\u8fd4\u56de rank \u4e3a 0 \u7684\u8fb9\u3002 [YIELD [DISTINCT] <return_list>] \u4e3a\u8fd4\u56de\u7684\u5c5e\u6027\u5217\u8868\u3002 \u83b7\u53d6\u8fb9\u5c5e\u6027\u793a\u4f8b \u00b6 -- \u672c\u8bed\u53e5\u672a\u6307\u5b9a YIELD\uff0c\u56e0\u6b64\u83b7\u53d6\u4ece\u8282\u70b9 100 \u5230\u8282\u70b9 200 \u8fb9 serve \u7684\u6240\u6709\u5c5e\u6027\u3002 nebula> FETCH PROP ON serve 100 -> 200; -- \u4ec5\u8fd4\u56de\u5c5e\u6027 start_year\u3002 nebula> FETCH PROP ON serve 100 -> 200 YIELD serve.start_year; -- \u83b7\u53d6\u8282\u70b9 100 \u51fa\u8fb9 follow \u7684 degree \u5c5e\u6027\u3002 nebula> GO FROM 100 OVER follow YIELD follow.degree; -- \u540c\u4e0a\u8ff0\u8bed\u53e5\u3002 nebula> GO FROM 100 OVER follow YIELD follow._src AS s, serve._dst AS d \\ | FETCH PROP ON follow $-.s -> $-.d YIELD follow.degree; -- \u540c\u4e0a\u8ff0\u8bed\u53e5\u3002 nebula> $var = GO FROM 100 OVER follow YIELD follow._src AS s, follow._dst AS d;\\ FETCH PROP ON follow $var.s -> $var.d YIELD follow.degree;","title":"FETCH"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/fetch-syntax/#fetch","text":"FETCH \u8bed\u53e5\u7528\u4e8e\u83b7\u53d6\u70b9\u548c\u8fb9\u7684\u5c5e\u6027\u3002","title":"Fetch \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/fetch-syntax/#_1","text":"FETCH PROP ON \u53ef\u8fd4\u56de\u8282\u70b9\u7684\u4e00\u7cfb\u5217\u5c5e\u6027\uff0c\u76ee\u524d\u5df2\u652f\u6301\u4e00\u6761\u8bed\u53e5\u8fd4\u56de\u591a\u4e2a\u8282\u70b9\u5c5e\u6027\u3002 FETCH \u83b7\u53d6\u70b9\u5c5e\u6027\u652f\u6301\u4e0e \u7ba1\u9053 \u53ca \u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf \u4e00\u8d77\u4f7f\u7528\u3002 FETCH PROP ON {<tag_name_list> | *} <vertex_id_list> [YIELD [DISTINCT] <return_list>] * \u8fd4\u56de\u6307\u5b9a VID \u70b9\u7684\u6240\u6709\u5c5e\u6027\u3002 <tag_name_list>::=[tag_name [, tag_name]] \u4e3a\u6807\u7b7e\u540d\u79f0\uff0c\u4e0e return_list \u4e2d\u7684\u6807\u7b7e\u76f8\u540c\u3002 <vertex_id_list>::=[vertex_id [, vertex_id]] \u662f\u4e00\u7ec4\u7528 \",\" \u5206\u9694\u5f00\u7684\u9876\u70b9 VID \u5217\u8868\u3002 [YIELD [DISTINCT] <return_list>] \u4e3a\u8fd4\u56de\u7684\u5c5e\u6027\u5217\u8868\uff0c YIELD \u8bed\u6cd5\u53c2\u770b YIELD Syntax \u3002","title":"\u83b7\u53d6\u70b9\u5c5e\u6027"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/fetch-syntax/#_2","text":"-- \u8fd4\u56de\u8282\u70b9 100 \u7684\u6240\u6709\u5c5e\u6027\u3002 nebula> FETCH PROP ON * 100; -- \u8fd4\u56de\u70b9100\uff0c201 \u7684 player\u3001team tag \u4e0a\u7684\u6240\u6709\u5c5e\u6027\u3002 nebula> FETCH PROP ON * 100, 102; -- \u8fd4\u56de\u8282\u70b9 100\u3001201 \u7684\u6240\u6709\u5c5e\u6027\u3002 nebula> FETCH PROP ON player, team 100, 201; -- \u5982\u672a\u6307\u5b9a YIELD \u5b57\u6bb5\uff0c\u5219\u8fd4\u56de\u8282\u70b9 100, tag \u4e3a player \u7684\u6240\u6709\u5c5e\u6027\u3002 nebula> FETCH PROP ON player 100; -- \u8fd4\u56de\u8282\u70b9 100 \u7684\u59d3\u540d\u4e0e\u5e74\u9f84\u5c5e\u6027\u3002 nebula> FETCH PROP ON player 100 YIELD player.name, player.age; -- \u901a\u8fc7 hash \u751f\u6210 int64 \u8282\u70b9 ID\uff0c\u8fd4\u56de\u5176\u59d3\u540d\u548c\u5e74\u9f84\u5c5e\u6027\u3002 nebula> FETCH PROP ON player hash(\"nebula\") YIELD player.name, player.age; -- \u652f\u6301\u4e0e\u7ba1\u9053\u4e00\u8d77\u4f7f\u7528 nebula> YIELD 100 AS id | FETCH PROP ON player $-.id; -- \u6cbf\u8fb9 follow \u5bfb\u627e\u8282\u70b9 100 \u7684\u6240\u6709\u8fd1\u90bb\uff0c\u8fd4\u56de\u5176\u59d3\u540d\u548c\u5e74\u9f84\u5c5e\u6027\u3002 nebula> GO FROM 100 OVER follow YIELD follow._dst AS id | FETCH PROP ON player $-.id YIELD player.name, player.age; -- \u4e0e\u4e0a\u8ff0\u8bed\u6cd5\u76f8\u540c\u3002 nebula> $var = GO FROM 100 OVER follow YIELD follow._dst AS id; FETCH PROP ON player $var.id YIELD player.name, player.age; -- \u83b7\u53d6 100\u3001101\u3001102 \u4e09\u4e2a\u8282\u70b9\uff0c\u8fd4\u56de\u59d3\u540d\u548c\u5e74\u9f84\u90fd\u4e0d\u76f8\u540c\u7684\u8bb0\u5f55\u3002 nebula> FETCH PROP ON player 100,101,102 YIELD DISTINCT player.name, player.age;","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/fetch-syntax/#_3","text":"\u4f7f\u7528 FETCH \u83b7\u53d6\u8fb9\u5c5e\u6027\u7684\u7528\u6cd5\u4e0e\u70b9\u5c5e\u6027\u5927\u81f4\u76f8\u540c\uff0c\u4e14\u53ef\u540c\u65f6\u83b7\u53d6\u76f8\u540c\u7c7b\u578b\u591a\u6761\u8fb9\u7684\u5c5e\u6027\u3002 FETCH PROP ON <edge_type> <vid> -> <vid>[@<rank>] [, <vid> -> <vid> ...] [YIELD [DISTINCT] <return_list>] <edge_type> \u6307\u5b9a\u8fb9\u7684\u7c7b\u578b\uff0c\u9700\u4e0e <return_list> \u76f8\u540c\u3002 <vid> -> <vid> \u4ece\u8d77\u59cb\u8282\u70b9\u5230\u7ec8\u6b62\u8282\u70b9\uff0c\u591a\u6761\u8fb9\u9700\u4f7f\u7528\u9017\u53f7\u9694\u5f00\u3002 <rank> \u6307\u5b9a\u76f8\u540c\u7c7b\u578b\u8fb9 rank\uff0c\u53ef\u9009\u3002\u5982\u672a\u6307\u5b9a\uff0c\u5219\u9ed8\u8ba4\u8fd4\u56de rank \u4e3a 0 \u7684\u8fb9\u3002 [YIELD [DISTINCT] <return_list>] \u4e3a\u8fd4\u56de\u7684\u5c5e\u6027\u5217\u8868\u3002","title":"\u83b7\u53d6\u8fb9\u5c5e\u6027"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/fetch-syntax/#_4","text":"-- \u672c\u8bed\u53e5\u672a\u6307\u5b9a YIELD\uff0c\u56e0\u6b64\u83b7\u53d6\u4ece\u8282\u70b9 100 \u5230\u8282\u70b9 200 \u8fb9 serve \u7684\u6240\u6709\u5c5e\u6027\u3002 nebula> FETCH PROP ON serve 100 -> 200; -- \u4ec5\u8fd4\u56de\u5c5e\u6027 start_year\u3002 nebula> FETCH PROP ON serve 100 -> 200 YIELD serve.start_year; -- \u83b7\u53d6\u8282\u70b9 100 \u51fa\u8fb9 follow \u7684 degree \u5c5e\u6027\u3002 nebula> GO FROM 100 OVER follow YIELD follow.degree; -- \u540c\u4e0a\u8ff0\u8bed\u53e5\u3002 nebula> GO FROM 100 OVER follow YIELD follow._src AS s, serve._dst AS d \\ | FETCH PROP ON follow $-.s -> $-.d YIELD follow.degree; -- \u540c\u4e0a\u8ff0\u8bed\u53e5\u3002 nebula> $var = GO FROM 100 OVER follow YIELD follow._src AS s, follow._dst AS d;\\ FETCH PROP ON follow $var.s -> $var.d YIELD follow.degree;","title":"\u83b7\u53d6\u8fb9\u5c5e\u6027\u793a\u4f8b"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/go-syntax/","text":"GO \u8bed\u6cd5 \u00b6 GO \u662f Nebula Graph \u4e2d\u6700\u5e38\u7528\u7684\u5173\u952e\u5b57\uff0c\u53ef\u4ee5\u6307\u5b9a\u8fc7\u6ee4\u6761\u4ef6\uff08\u5982 WHERE \uff09\u904d\u5386\u56fe\u6570\u636e\u5e76\u83b7\u53d6\u70b9\u548c\u8fb9\u7684\u5c5e\u6027\uff0c\u8fd8\u80fd\u4ee5\u6307\u5b9a\u987a\u5e8f\uff08 ORDER BY ASC | DESC \uff09\u8fd4\u56de\u6307\u5b9a\u6570\u76ee\uff08 LIMIT \uff09\u7684\u7ed3\u679c\u3002 GO \u7684\u7528\u6cd5\u4e0e SQL \u4e2d\u7684 SELECT \u7c7b\u4f3c\uff0c\u91cd\u8981\u533a\u522b\u662f GO \u5fc5\u987b\u4ece\u904d\u5386\u4e00\u7cfb\u5217\u7684\u8282\u70b9\u5f00\u59cb\u3002 GO [[<M> TO] <N> STEPS ] FROM <node_list> OVER <edge_type_list> [REVERSELY] [BIDIRECT] [ WHERE <expression> [ AND | OR expression ...]) ] YIELD [DISTINCT] <return_list> <node_list> | <vid> [, <vid> ...] | $-.id <edge_type_list> edge_type [, edge_type ...] <return_list> <col_name> [AS <col_alias>] [, <col_name> [AS <col_alias>] ...] <N> STEPS \u6307\u5b9a\u67e5\u8be2 N \u8df3\u3002\u5f53 N \u4e3a\u96f6\u65f6\uff0c Nebula Graph \u4e0d\u4f1a\u83b7\u53d6\u4efb\u4f55\u8fb9\uff0c\u56e0\u6b64\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a\u3002 M TO N STEPS \u6307\u5b9a\u67e5\u8be2 M \u5230 N \u8df3\u3002\u5f53 M \u4e3a\u96f6\u65f6\uff0c\u8fd4\u56de\u7ed3\u679c\u4e0e M \u4e3a 1 \u65f6\u4e00\u6837\uff0c\u5373 GO 0 TO 2 \u4e0e GO 1 TO 2 \u8fd4\u56de\u76f8\u540c\u7ed3\u679c\u3002 <node_list> \u4e3a\u9017\u53f7\u9694\u5f00\u7684\u8282\u70b9 ID\uff0c\u6216\u7279\u6b8a\u5360\u4f4d\u7b26 $-.id (\u53c2\u770b PIPE \u7528\u6cd5)\u3002 <edge_type_list> \u4e3a\u56fe\u904d\u5386\u8fd4\u56de\u7684\u8fb9\u7c7b\u578b\u5217\u8868\u3002 WHERE <expression> \u6307\u5b9a\u88ab\u7b5b\u9009\u7684\u903b\u8f91\u6761\u4ef6\uff0cWHERE \u53ef\u7528\u4e8e\u8d77\u70b9\uff0c\u8fb9\u53ca\u7ec8\u70b9\uff0c\u540c\u6837\u652f\u6301\u903b\u8f91\u5173\u952e\u8bcd AND\u3001OR\u3001NOT\uff0c\u8be6\u60c5\u53c2\u89c1 WHERE \u7684\u7528\u6cd5\u3002 YIELD [DISTINCT] <return_list> \u4ee5\u5217\u7684\u5f62\u5f0f\u8fd4\u56de\u7ed3\u679c\uff0c\u5e76\u53ef\u5bf9\u5217\u8fdb\u884c\u91cd\u547d\u540d\u3002\u8be6\u60c5\u53c2\u770b YIELD \u7528\u6cd5\u3002 DISTINCT \u7684\u7528\u6cd5\u4e0e SQL \u76f8\u540c\u3002 \u793a\u4f8b \u00b6 nebula> GO FROM 107 OVER serve; \\ /* \u4ece\u70b9 107 \u51fa\u53d1\uff0c\u6cbf\u8fb9 serve\uff0c\u627e\u5230\u70b9 200\uff0c201 */ ============== | serve._dst | ============== | 200 | -------------- | 201 | -------------- nebula> GO 2 STEPS FROM 103 OVER follow; \\ /* \u8fd4\u56de\u70b9 103 \u7684 2 \u5ea6\u7684\u597d\u53cb */ =============== | follow._dst | =============== | 101 | --------------- nebula> GO FROM 109 OVER serve \\ WHERE serve.start_year > 1990 /* \u7b5b\u9009\u8fb9 serve \u7684 start_year \u5c5e\u6027 */ \\ YIELD $$.team.name AS team_name, serve.start_year as start_year; /* \u76ee\u6807\u70b9 team \u7684 serve.start_year \u5c5e\u6027 serve.start_year */ ========================== | team_name | start_year | ========================== | Nuggets | 2011 | -------------------------- | Rockets | 2017 | -------------------------- nebula> GO FROM 100,102 OVER serve \\ WHERE serve.start_year > 1995 /* \u7b5b\u9009\u8fb9\u5c5e\u6027*/ \\ YIELD DISTINCT $$.team.name AS team_name, /* DISTINCT \u4e0e SQL \u7528\u6cd5\u76f8\u540c */ \\ serve.start_year as start_year, /* \u8fb9\u5c5e\u6027 */ \\ $^.player.name AS player_name; /* \u8d77\u70b9 (player) \u5c5e\u6027 */ ============================================== | team_name | start_year | player_name | ============================================== | Warriors | 2001 | LaMarcus Aldridge | ---------------------------------------------- | Warriors | 1997 | Tim Duncan | ---------------------------------------------- \u6cbf\u7740\u591a\u79cd\u7c7b\u578b\u7684\u8fb9\u8fdb\u884c\u904d\u5386 \u00b6 \u76ee\u524d Nebula Graph \u8fd8\u652f\u6301 GO \u6cbf\u7740\u591a\u6761\u8fb9\u904d\u5386\uff0c\u8bed\u6cd5\u4e3a\uff1a GO FROM <node_list> OVER <edge_type_list> YIELD [DISTINCT] <return_list> \u4f8b\u5982\uff1a nebula> GO FROM <node_list> OVER edge1, edge2.... //\u6cbf\u7740 edge1 \u548c edge2 \u904d\u5386\uff0c\u6216\u8005 nebula> GO FROM <node_list> OVER * //\u8fd9\u91cc * \u610f\u5473\u7740\u6cbf\u7740\u4efb\u610f\u7c7b\u578b\u7684\u8fb9\u904d\u5386 \u8bf7\u6ce8\u610f\uff0c\u5f53\u6cbf\u7740\u591a\u79cd\u7c7b\u578b\u8fb9\u904d\u5386\u65f6\uff0c\u5bf9\u4e8e\u4f7f\u7528\u8fc7\u6ee4\u6761\u4ef6\u6709\u7279\u522b\u9650\u5236(\u4e5f\u5373 WHERE \u8bed\u53e5\uff09\uff0c\u6bd4\u5982 WHERE edge1.prop1 > edge2.prop2 \u8fd9\u79cd\u8fc7\u6ee4\u6761\u4ef6\u662f\u4e0d\u652f\u6301\u7684\u3002 \u5bf9\u4e8e\u8fd4\u56de\u7684\u7ed3\u679c\uff0c\u5982\u679c\u5b58\u5728\u591a\u6761\u8fb9\u7684\u5c5e\u6027\u9700\u8981\u8fd4\u56de\uff0c\u4f1a\u628a\u4ed6\u4eec\u653e\u5728\u4e0d\u540c\u7684\u884c\u3002\u6bd4\u5982\uff1a nebula> GO FROM 100 OVER follow, serve YIELD follow.degree, serve.start_year; \u8fd4\u56de\u5982\u4e0b\u7ed3\u679c\uff1a ==================================== | follow.degree | serve.start_year | ==================================== | 0 | 1997 | ------------------------------------ | 95 | 0 | ------------------------------------ | 89 | 0 | ------------------------------------ | 90 | 0 | ------------------------------------ \u6ca1\u6709\u7684\u5c5e\u6027\u5f53\u524d\u4f1a\u586b\u5145\u9ed8\u8ba4\u503c\uff0c \u6570\u503c\u578b\u7684\u9ed8\u8ba4\u503c\u4e3a 0\uff0c \u5b57\u7b26\u578b\u7684\u9ed8\u8ba4\u503c\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002bool \u7c7b\u578b\u9ed8\u8ba4\u503c\u4e3a false\uff0ctimestamp \u7c7b\u578b\u9ed8\u8ba4\u503c\u4e3a 0 (\u5373 \"1970-01-01 00:00:00\")\uff0cdouble \u7c7b\u578b\u9ed8\u8ba4\u503c\u4e3a 0.0\u3002 \u5f53\u7136\u4e5f\u53ef\u4ee5\u4e0d\u6307\u5b9a YIELD \uff0c \u8fd9\u65f6\u4f1a\u8fd4\u56de\u6bcf\u6761\u8fb9\u76ee\u6807\u70b9\u7684 vid\u3002\u5982\u679c\u76ee\u6807\u70b9\u4e0d\u5b58\u5728\uff0c\u540c\u6837\u7528\u9ed8\u8ba4\u503c(\u6b64\u5904\u4e3a 0)\u586b\u5145\u3002\u6bd4\u5982 GO FROM 100 OVER follow, serve; \uff0c\u8fd4\u56de\u7ed3\u679c\u5982\u4e0b\uff1a ============================ | follow._dst | serve._dst | ============================ | 0 | 200 | ---------------------------- | 101 | 0 | ---------------------------- | 102 | 0 | ---------------------------- | 106 | 0 | ---------------------------- \u5bf9\u4e8e GO FROM 100 OVER * \u8fd9\u6837\u7684\u4f8b\u5b50\u6765\u8bf4\uff0c\u8fd4\u56de\u7ed3\u679c\u4e5f\u548c\u4e0a\u9762\u4f8b\u5b50\u7c7b\u4f3c\uff1a\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\u6216\u8005 vid \u4f7f\u7528\u9ed8\u8ba4\u503c\u6765\u586b\u5145\u3002 \u8bf7\u6ce8\u610f\u4ece\u7ed3\u679c\u4e2d\u65e0\u6cd5\u5206\u8fa8\u6bcf\u4e00\u884c\u5c5e\u4e8e\u54ea\u6761\u8fb9\uff0c\u672a\u6765\u7248\u672c\u4f1a\u5728\u7ed3\u679c\u4e2d\u628a edge type \u8868\u793a\u51fa\u6765\u3002 \u53cd\u5411\u904d\u5386 \u00b6 \u76ee\u524d Nebula Graph \u652f\u6301\u4f7f\u7528\u5173\u952e\u8bcd REVERSELY \u8fdb\u884c\u53cd\u5411\u904d\u5386\uff0c\u8bed\u6cd5\u4e3a\uff1a GO FROM <node_list> OVER <edge_type_list> REVERSELY WHERE (expression [ AND | OR expression ...]) YIELD [DISTINCT] <return_list> \u4f8b\u5982\uff1a nebula> GO FROM 100 OVER follow REVERSELY YIELD follow._src; -- \u8fd4\u56de 100 nebula> GO FROM 100 OVER follow REVERSELY YIELD follow._dst AS id | \\ GO FROM $-.id OVER serve WHERE $^.player.age > 20 YIELD $^.player.name AS FriendOf, $$.team.name AS Team; ============================ | FriendOf | Team | ============================ | Tony Parker | Warriors | ---------------------------- | Kyle Anderson | Warriors | ---------------------------- \u904d\u5386\u6240\u6709\u5173\u6ce8 100 \u53f7\u7403\u5458\u7684\u7403\u5458\uff0c\u627e\u51fa\u8fd9\u4e9b\u7403\u5458\u670d\u5f79\u7684\u7403\u961f\uff0c\u7b5b\u9009\u5e74\u9f84\u5927\u4e8e 20 \u5c81\u7684\u7403\u5458\u5e76\u8fd4\u56de\u8fd9\u4e9b\u7403\u5458\u59d3\u540d\u548c\u5176\u670d\u5f79\u7684\u7403\u961f\u540d\u79f0\u3002\u5982\u679c\u6b64\u5904\u4e0d\u6307\u5b9a YIELD \uff0c\u5219\u9ed8\u8ba4\u8fd4\u56de\u6bcf\u6761\u8fb9\u76ee\u6807\u70b9\u7684 vid \u3002 \u53cc\u5411\u904d\u5386 \u00b6 \u76ee\u524d Nebula Graph \u652f\u6301\u4f7f\u7528\u5173\u952e\u8bcd BIDIRECT \u8fdb\u884c\u53cc\u5411\u904d\u5386\uff0c\u8bed\u6cd5\u4e3a\uff1a GO FROM <node_list> OVER <edge_type_list> BIDIRECT WHERE (expression [ AND | OR expression ...]) YIELD [DISTINCT] <return_list> \u4f8b\u5982\uff1a nebula> GO FROM 102 OVER follow BIDIRECT; =============== | follow._dst | =============== | 101 | --------------- | 103 | --------------- | 135 | --------------- \u4e0a\u8ff0\u8bed\u53e5\u540c\u65f6\u8fd4\u56de 102 \u5173\u6ce8\u7684\u7403\u5458\u53ca\u5173\u6ce8 102 \u7684\u7403\u5458\u3002 \u904d\u5386 M \u5230 N \u8df3 \u00b6 Nebula Graph \u652f\u6301\u904d\u5386 M \u5230 N \u8df3\u3002\u5f53 M \u7b49\u4e8e N \u65f6\uff0c GO M TO N STEPS \u7b49\u540c GO N STEPS \u3002\u8bed\u6cd5\u4e3a\uff1a GO <M> TO <N> STEPS FROM <node_list> OVER <edge_type_list> [REVERSELY] [BIDIRECT] [YIELD [DISTINCT] <return_list>] \u4f8b\u5982\uff1a nebula> GO 1 TO 2 STEPS FROM 100 OVER serve; ============== | serve._dst | ============== | 200 | -------------- \u904d\u5386\u4ece\u70b9 100 \u51fa\u53d1\u6cbf serve \u8fb9 1 \u81f3 2 \u8df3\u7684\u70b9\u3002 nebula> GO 2 TO 4 STEPS FROM 100 OVER follow REVERSELY YIELD DISTINCT follow._dst; =============== | follow._dst | =============== | 133 | --------------- | 105 | --------------- | 140 | --------------- \u53cd\u5411\u904d\u5386\u4ece\u70b9 100 \u51fa\u53d1\u6cbf follow \u8fb9 2 \u81f3 4 \u8df3\u7684\u70b9\u3002 nebula> GO 4 TO 5 STEPS FROM 101 OVER follow BIDIRECT YIELD DISTINCT follow._dst; =============== | follow._dst | =============== | 100 | --------------- | 102 | --------------- | 104 | --------------- | 105 | --------------- | 107 | --------------- | 113 | --------------- | 121 | --------------- \u53cc\u5411\u904d\u5386\u4ece\u70b9 101 \u51fa\u53d1\u6cbf follow \u8fb9 4 \u81f3 5 \u8df3\u7684\u70b9\u3002 \u652f\u6301 INT \u7c7b\u578b\u4f20\u5165\u67e5\u8be2 \u00b6 ... | GO FROM $-.id OVER <edge_type_list> \u4f8b\u5982\uff1a nebula> YIELD 100 AS id | GO FROM $-.id OVER serve; ============== | serve._dst | ============== | 200 | --------------","title":"GO"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/go-syntax/#go","text":"GO \u662f Nebula Graph \u4e2d\u6700\u5e38\u7528\u7684\u5173\u952e\u5b57\uff0c\u53ef\u4ee5\u6307\u5b9a\u8fc7\u6ee4\u6761\u4ef6\uff08\u5982 WHERE \uff09\u904d\u5386\u56fe\u6570\u636e\u5e76\u83b7\u53d6\u70b9\u548c\u8fb9\u7684\u5c5e\u6027\uff0c\u8fd8\u80fd\u4ee5\u6307\u5b9a\u987a\u5e8f\uff08 ORDER BY ASC | DESC \uff09\u8fd4\u56de\u6307\u5b9a\u6570\u76ee\uff08 LIMIT \uff09\u7684\u7ed3\u679c\u3002 GO \u7684\u7528\u6cd5\u4e0e SQL \u4e2d\u7684 SELECT \u7c7b\u4f3c\uff0c\u91cd\u8981\u533a\u522b\u662f GO \u5fc5\u987b\u4ece\u904d\u5386\u4e00\u7cfb\u5217\u7684\u8282\u70b9\u5f00\u59cb\u3002 GO [[<M> TO] <N> STEPS ] FROM <node_list> OVER <edge_type_list> [REVERSELY] [BIDIRECT] [ WHERE <expression> [ AND | OR expression ...]) ] YIELD [DISTINCT] <return_list> <node_list> | <vid> [, <vid> ...] | $-.id <edge_type_list> edge_type [, edge_type ...] <return_list> <col_name> [AS <col_alias>] [, <col_name> [AS <col_alias>] ...] <N> STEPS \u6307\u5b9a\u67e5\u8be2 N \u8df3\u3002\u5f53 N \u4e3a\u96f6\u65f6\uff0c Nebula Graph \u4e0d\u4f1a\u83b7\u53d6\u4efb\u4f55\u8fb9\uff0c\u56e0\u6b64\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a\u3002 M TO N STEPS \u6307\u5b9a\u67e5\u8be2 M \u5230 N \u8df3\u3002\u5f53 M \u4e3a\u96f6\u65f6\uff0c\u8fd4\u56de\u7ed3\u679c\u4e0e M \u4e3a 1 \u65f6\u4e00\u6837\uff0c\u5373 GO 0 TO 2 \u4e0e GO 1 TO 2 \u8fd4\u56de\u76f8\u540c\u7ed3\u679c\u3002 <node_list> \u4e3a\u9017\u53f7\u9694\u5f00\u7684\u8282\u70b9 ID\uff0c\u6216\u7279\u6b8a\u5360\u4f4d\u7b26 $-.id (\u53c2\u770b PIPE \u7528\u6cd5)\u3002 <edge_type_list> \u4e3a\u56fe\u904d\u5386\u8fd4\u56de\u7684\u8fb9\u7c7b\u578b\u5217\u8868\u3002 WHERE <expression> \u6307\u5b9a\u88ab\u7b5b\u9009\u7684\u903b\u8f91\u6761\u4ef6\uff0cWHERE \u53ef\u7528\u4e8e\u8d77\u70b9\uff0c\u8fb9\u53ca\u7ec8\u70b9\uff0c\u540c\u6837\u652f\u6301\u903b\u8f91\u5173\u952e\u8bcd AND\u3001OR\u3001NOT\uff0c\u8be6\u60c5\u53c2\u89c1 WHERE \u7684\u7528\u6cd5\u3002 YIELD [DISTINCT] <return_list> \u4ee5\u5217\u7684\u5f62\u5f0f\u8fd4\u56de\u7ed3\u679c\uff0c\u5e76\u53ef\u5bf9\u5217\u8fdb\u884c\u91cd\u547d\u540d\u3002\u8be6\u60c5\u53c2\u770b YIELD \u7528\u6cd5\u3002 DISTINCT \u7684\u7528\u6cd5\u4e0e SQL \u76f8\u540c\u3002","title":"GO \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/go-syntax/#_1","text":"nebula> GO FROM 107 OVER serve; \\ /* \u4ece\u70b9 107 \u51fa\u53d1\uff0c\u6cbf\u8fb9 serve\uff0c\u627e\u5230\u70b9 200\uff0c201 */ ============== | serve._dst | ============== | 200 | -------------- | 201 | -------------- nebula> GO 2 STEPS FROM 103 OVER follow; \\ /* \u8fd4\u56de\u70b9 103 \u7684 2 \u5ea6\u7684\u597d\u53cb */ =============== | follow._dst | =============== | 101 | --------------- nebula> GO FROM 109 OVER serve \\ WHERE serve.start_year > 1990 /* \u7b5b\u9009\u8fb9 serve \u7684 start_year \u5c5e\u6027 */ \\ YIELD $$.team.name AS team_name, serve.start_year as start_year; /* \u76ee\u6807\u70b9 team \u7684 serve.start_year \u5c5e\u6027 serve.start_year */ ========================== | team_name | start_year | ========================== | Nuggets | 2011 | -------------------------- | Rockets | 2017 | -------------------------- nebula> GO FROM 100,102 OVER serve \\ WHERE serve.start_year > 1995 /* \u7b5b\u9009\u8fb9\u5c5e\u6027*/ \\ YIELD DISTINCT $$.team.name AS team_name, /* DISTINCT \u4e0e SQL \u7528\u6cd5\u76f8\u540c */ \\ serve.start_year as start_year, /* \u8fb9\u5c5e\u6027 */ \\ $^.player.name AS player_name; /* \u8d77\u70b9 (player) \u5c5e\u6027 */ ============================================== | team_name | start_year | player_name | ============================================== | Warriors | 2001 | LaMarcus Aldridge | ---------------------------------------------- | Warriors | 1997 | Tim Duncan | ----------------------------------------------","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/go-syntax/#_2","text":"\u76ee\u524d Nebula Graph \u8fd8\u652f\u6301 GO \u6cbf\u7740\u591a\u6761\u8fb9\u904d\u5386\uff0c\u8bed\u6cd5\u4e3a\uff1a GO FROM <node_list> OVER <edge_type_list> YIELD [DISTINCT] <return_list> \u4f8b\u5982\uff1a nebula> GO FROM <node_list> OVER edge1, edge2.... //\u6cbf\u7740 edge1 \u548c edge2 \u904d\u5386\uff0c\u6216\u8005 nebula> GO FROM <node_list> OVER * //\u8fd9\u91cc * \u610f\u5473\u7740\u6cbf\u7740\u4efb\u610f\u7c7b\u578b\u7684\u8fb9\u904d\u5386 \u8bf7\u6ce8\u610f\uff0c\u5f53\u6cbf\u7740\u591a\u79cd\u7c7b\u578b\u8fb9\u904d\u5386\u65f6\uff0c\u5bf9\u4e8e\u4f7f\u7528\u8fc7\u6ee4\u6761\u4ef6\u6709\u7279\u522b\u9650\u5236(\u4e5f\u5373 WHERE \u8bed\u53e5\uff09\uff0c\u6bd4\u5982 WHERE edge1.prop1 > edge2.prop2 \u8fd9\u79cd\u8fc7\u6ee4\u6761\u4ef6\u662f\u4e0d\u652f\u6301\u7684\u3002 \u5bf9\u4e8e\u8fd4\u56de\u7684\u7ed3\u679c\uff0c\u5982\u679c\u5b58\u5728\u591a\u6761\u8fb9\u7684\u5c5e\u6027\u9700\u8981\u8fd4\u56de\uff0c\u4f1a\u628a\u4ed6\u4eec\u653e\u5728\u4e0d\u540c\u7684\u884c\u3002\u6bd4\u5982\uff1a nebula> GO FROM 100 OVER follow, serve YIELD follow.degree, serve.start_year; \u8fd4\u56de\u5982\u4e0b\u7ed3\u679c\uff1a ==================================== | follow.degree | serve.start_year | ==================================== | 0 | 1997 | ------------------------------------ | 95 | 0 | ------------------------------------ | 89 | 0 | ------------------------------------ | 90 | 0 | ------------------------------------ \u6ca1\u6709\u7684\u5c5e\u6027\u5f53\u524d\u4f1a\u586b\u5145\u9ed8\u8ba4\u503c\uff0c \u6570\u503c\u578b\u7684\u9ed8\u8ba4\u503c\u4e3a 0\uff0c \u5b57\u7b26\u578b\u7684\u9ed8\u8ba4\u503c\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002bool \u7c7b\u578b\u9ed8\u8ba4\u503c\u4e3a false\uff0ctimestamp \u7c7b\u578b\u9ed8\u8ba4\u503c\u4e3a 0 (\u5373 \"1970-01-01 00:00:00\")\uff0cdouble \u7c7b\u578b\u9ed8\u8ba4\u503c\u4e3a 0.0\u3002 \u5f53\u7136\u4e5f\u53ef\u4ee5\u4e0d\u6307\u5b9a YIELD \uff0c \u8fd9\u65f6\u4f1a\u8fd4\u56de\u6bcf\u6761\u8fb9\u76ee\u6807\u70b9\u7684 vid\u3002\u5982\u679c\u76ee\u6807\u70b9\u4e0d\u5b58\u5728\uff0c\u540c\u6837\u7528\u9ed8\u8ba4\u503c(\u6b64\u5904\u4e3a 0)\u586b\u5145\u3002\u6bd4\u5982 GO FROM 100 OVER follow, serve; \uff0c\u8fd4\u56de\u7ed3\u679c\u5982\u4e0b\uff1a ============================ | follow._dst | serve._dst | ============================ | 0 | 200 | ---------------------------- | 101 | 0 | ---------------------------- | 102 | 0 | ---------------------------- | 106 | 0 | ---------------------------- \u5bf9\u4e8e GO FROM 100 OVER * \u8fd9\u6837\u7684\u4f8b\u5b50\u6765\u8bf4\uff0c\u8fd4\u56de\u7ed3\u679c\u4e5f\u548c\u4e0a\u9762\u4f8b\u5b50\u7c7b\u4f3c\uff1a\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\u6216\u8005 vid \u4f7f\u7528\u9ed8\u8ba4\u503c\u6765\u586b\u5145\u3002 \u8bf7\u6ce8\u610f\u4ece\u7ed3\u679c\u4e2d\u65e0\u6cd5\u5206\u8fa8\u6bcf\u4e00\u884c\u5c5e\u4e8e\u54ea\u6761\u8fb9\uff0c\u672a\u6765\u7248\u672c\u4f1a\u5728\u7ed3\u679c\u4e2d\u628a edge type \u8868\u793a\u51fa\u6765\u3002","title":"\u6cbf\u7740\u591a\u79cd\u7c7b\u578b\u7684\u8fb9\u8fdb\u884c\u904d\u5386"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/go-syntax/#_3","text":"\u76ee\u524d Nebula Graph \u652f\u6301\u4f7f\u7528\u5173\u952e\u8bcd REVERSELY \u8fdb\u884c\u53cd\u5411\u904d\u5386\uff0c\u8bed\u6cd5\u4e3a\uff1a GO FROM <node_list> OVER <edge_type_list> REVERSELY WHERE (expression [ AND | OR expression ...]) YIELD [DISTINCT] <return_list> \u4f8b\u5982\uff1a nebula> GO FROM 100 OVER follow REVERSELY YIELD follow._src; -- \u8fd4\u56de 100 nebula> GO FROM 100 OVER follow REVERSELY YIELD follow._dst AS id | \\ GO FROM $-.id OVER serve WHERE $^.player.age > 20 YIELD $^.player.name AS FriendOf, $$.team.name AS Team; ============================ | FriendOf | Team | ============================ | Tony Parker | Warriors | ---------------------------- | Kyle Anderson | Warriors | ---------------------------- \u904d\u5386\u6240\u6709\u5173\u6ce8 100 \u53f7\u7403\u5458\u7684\u7403\u5458\uff0c\u627e\u51fa\u8fd9\u4e9b\u7403\u5458\u670d\u5f79\u7684\u7403\u961f\uff0c\u7b5b\u9009\u5e74\u9f84\u5927\u4e8e 20 \u5c81\u7684\u7403\u5458\u5e76\u8fd4\u56de\u8fd9\u4e9b\u7403\u5458\u59d3\u540d\u548c\u5176\u670d\u5f79\u7684\u7403\u961f\u540d\u79f0\u3002\u5982\u679c\u6b64\u5904\u4e0d\u6307\u5b9a YIELD \uff0c\u5219\u9ed8\u8ba4\u8fd4\u56de\u6bcf\u6761\u8fb9\u76ee\u6807\u70b9\u7684 vid \u3002","title":"\u53cd\u5411\u904d\u5386"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/go-syntax/#_4","text":"\u76ee\u524d Nebula Graph \u652f\u6301\u4f7f\u7528\u5173\u952e\u8bcd BIDIRECT \u8fdb\u884c\u53cc\u5411\u904d\u5386\uff0c\u8bed\u6cd5\u4e3a\uff1a GO FROM <node_list> OVER <edge_type_list> BIDIRECT WHERE (expression [ AND | OR expression ...]) YIELD [DISTINCT] <return_list> \u4f8b\u5982\uff1a nebula> GO FROM 102 OVER follow BIDIRECT; =============== | follow._dst | =============== | 101 | --------------- | 103 | --------------- | 135 | --------------- \u4e0a\u8ff0\u8bed\u53e5\u540c\u65f6\u8fd4\u56de 102 \u5173\u6ce8\u7684\u7403\u5458\u53ca\u5173\u6ce8 102 \u7684\u7403\u5458\u3002","title":"\u53cc\u5411\u904d\u5386"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/go-syntax/#m_n","text":"Nebula Graph \u652f\u6301\u904d\u5386 M \u5230 N \u8df3\u3002\u5f53 M \u7b49\u4e8e N \u65f6\uff0c GO M TO N STEPS \u7b49\u540c GO N STEPS \u3002\u8bed\u6cd5\u4e3a\uff1a GO <M> TO <N> STEPS FROM <node_list> OVER <edge_type_list> [REVERSELY] [BIDIRECT] [YIELD [DISTINCT] <return_list>] \u4f8b\u5982\uff1a nebula> GO 1 TO 2 STEPS FROM 100 OVER serve; ============== | serve._dst | ============== | 200 | -------------- \u904d\u5386\u4ece\u70b9 100 \u51fa\u53d1\u6cbf serve \u8fb9 1 \u81f3 2 \u8df3\u7684\u70b9\u3002 nebula> GO 2 TO 4 STEPS FROM 100 OVER follow REVERSELY YIELD DISTINCT follow._dst; =============== | follow._dst | =============== | 133 | --------------- | 105 | --------------- | 140 | --------------- \u53cd\u5411\u904d\u5386\u4ece\u70b9 100 \u51fa\u53d1\u6cbf follow \u8fb9 2 \u81f3 4 \u8df3\u7684\u70b9\u3002 nebula> GO 4 TO 5 STEPS FROM 101 OVER follow BIDIRECT YIELD DISTINCT follow._dst; =============== | follow._dst | =============== | 100 | --------------- | 102 | --------------- | 104 | --------------- | 105 | --------------- | 107 | --------------- | 113 | --------------- | 121 | --------------- \u53cc\u5411\u904d\u5386\u4ece\u70b9 101 \u51fa\u53d1\u6cbf follow \u8fb9 4 \u81f3 5 \u8df3\u7684\u70b9\u3002","title":"\u904d\u5386 M \u5230 N \u8df3"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/go-syntax/#int","text":"... | GO FROM $-.id OVER <edge_type_list> \u4f8b\u5982\uff1a nebula> YIELD 100 AS id | GO FROM $-.id OVER serve; ============== | serve._dst | ============== | 200 | --------------","title":"\u652f\u6301 INT \u7c7b\u578b\u4f20\u5165\u67e5\u8be2"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/insert-edge-syntax/","text":"INSERT EDGE \u8bed\u6cd5 \u00b6 INSERT EDGE <edge_name> ( <prop_name_list> ) VALUES | VALUE <src_vid> -> <dst_vid>[@<rank>] : ( <prop_value_list> ) [, <src_vid> -> <dst_vid> : ( <prop_value_list> ), ...] <prop_name_list>: [ <prop_name> [, <prop_name> ] ...] <prop_value_list>: [ <prop_value> [, <prop_value> ] ...] INSERT EDGE \u7528\u4e8e\u63d2\u5165\u4ece\u8d77\u70b9\uff08 src_vid \uff09\u5230\u7ec8\u70b9\uff08 dst_vid \uff09\u7684\u4e00\u6761\u8fb9\u3002 <edge_name> \u8868\u793a\u8fb9\u7c7b\u578b\uff0c\u5728\u8fdb\u884c INSERT EDGE \u64cd\u4f5c\u524d\u9700\u521b\u5efa\u597d\u3002 <prop_name_list> \u4e3a\u6307\u5b9a\u8fb9\u7684\u5c5e\u6027\u5217\u8868\u3002 <prop_value_list> \u987b\u6839\u636e \u5217\u51fa\u5c5e\u6027\uff0c\u5982\u65e0\u5339\u914d\u7c7b\u578b\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u3002 rank \u6307\u5b9a\u8fb9 rank\uff0c\u53ef\u5728\u63d2\u5165\u540c\u4e00\u7c7b\u578b\u7684\u591a\u6761\u8fb9\u65f6\u4f7f\u7528\uff0c\u53ef\u9009\uff0c\u4e0d\u6307\u5b9a\u65f6\u9ed8\u8ba4\u4e3a 0\u3002 \u793a\u4f8b \u00b6 nebula> CREATE EDGE e1(); -- \u521b\u5efa\u7a7a\u5c5e\u6027\u8fb9 t1 nebula> INSERT EDGE e1 () VALUES 10->11:(); -- \u63d2\u5165\u4e00\u6761\u4ece\u70b9 10 \u5230\u70b9 11 \u7684\u7a7a\u5c5e\u6027\u8fb9 nebula> INSERT EDGE e1 () VALUES 10->11@1:(); -- \u63d2\u5165\u4e00\u6761\u4ece\u70b9 10 \u5230\u70b9 11 \u7684\u7a7a\u5c5e\u6027\u8fb9\uff0crank \u503c\u4e3a 1 nebula> CREATE EDGE e2 (name string, age int); -- \u521b\u5efa\u6709\u4e24\u79cd\u5c5e\u6027\u7684\u8fb9 e2 nebula> INSERT EDGE e2 (name, age) VALUES 11->13:(\"n1\", 1); -- \u63d2\u5165\u4e00\u6761\u4ece\u70b9 11 \u5230\u70b9 13 \u7684\u6709\u4e24\u6761\u5c5e\u6027\u7684\u8fb9 nebula> INSERT EDGE e2 (name, age) VALUES \\ 12->13:(\"n1\", 1), 13->14:(\"n2\", 2); -- \u63d2\u5165\u4e24\u6761\u8fb9 nebula> INSERT EDGE e2 (name, age) VALUES 11->13:(\"n1\", \"a13\"); -- \u9519\u8bef\u64cd\u4f5c\uff0c\"a13\" \u4e0d\u662f int \u7c7b\u578b \u540c\u4e00\u6761\u8fb9\u53ef\u88ab\u591a\u6b21\u63d2\u5165\u6216\u5199\u5165\uff0c\u8bfb\u53d6\u65f6\u4ee5\u6700\u540e\u4e00\u6b21\u63d2\u5165\u4e3a\u51c6\u3002 -- \u4e3a\u63d2\u5165\u8fb9\u8d4b\u65b0\u503c insert edge with new version of values. nebula> INSERT EDGE e2 (name, age) VALUES 11->13:(\"n1\", 12); nebula> INSERT EDGE e2 (name, age) VALUES 11->13:(\"n1\", 13); nebula> INSERT EDGE e2 (name, age) VALUES 11->13:(\"n1\", 14); -- \u8bfb\u53d6\u6700\u540e\u63d2\u5165\u7684\u503c","title":"INSERT EDGE"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/insert-edge-syntax/#insert_edge","text":"INSERT EDGE <edge_name> ( <prop_name_list> ) VALUES | VALUE <src_vid> -> <dst_vid>[@<rank>] : ( <prop_value_list> ) [, <src_vid> -> <dst_vid> : ( <prop_value_list> ), ...] <prop_name_list>: [ <prop_name> [, <prop_name> ] ...] <prop_value_list>: [ <prop_value> [, <prop_value> ] ...] INSERT EDGE \u7528\u4e8e\u63d2\u5165\u4ece\u8d77\u70b9\uff08 src_vid \uff09\u5230\u7ec8\u70b9\uff08 dst_vid \uff09\u7684\u4e00\u6761\u8fb9\u3002 <edge_name> \u8868\u793a\u8fb9\u7c7b\u578b\uff0c\u5728\u8fdb\u884c INSERT EDGE \u64cd\u4f5c\u524d\u9700\u521b\u5efa\u597d\u3002 <prop_name_list> \u4e3a\u6307\u5b9a\u8fb9\u7684\u5c5e\u6027\u5217\u8868\u3002 <prop_value_list> \u987b\u6839\u636e \u5217\u51fa\u5c5e\u6027\uff0c\u5982\u65e0\u5339\u914d\u7c7b\u578b\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u3002 rank \u6307\u5b9a\u8fb9 rank\uff0c\u53ef\u5728\u63d2\u5165\u540c\u4e00\u7c7b\u578b\u7684\u591a\u6761\u8fb9\u65f6\u4f7f\u7528\uff0c\u53ef\u9009\uff0c\u4e0d\u6307\u5b9a\u65f6\u9ed8\u8ba4\u4e3a 0\u3002","title":"INSERT EDGE \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/insert-edge-syntax/#_1","text":"nebula> CREATE EDGE e1(); -- \u521b\u5efa\u7a7a\u5c5e\u6027\u8fb9 t1 nebula> INSERT EDGE e1 () VALUES 10->11:(); -- \u63d2\u5165\u4e00\u6761\u4ece\u70b9 10 \u5230\u70b9 11 \u7684\u7a7a\u5c5e\u6027\u8fb9 nebula> INSERT EDGE e1 () VALUES 10->11@1:(); -- \u63d2\u5165\u4e00\u6761\u4ece\u70b9 10 \u5230\u70b9 11 \u7684\u7a7a\u5c5e\u6027\u8fb9\uff0crank \u503c\u4e3a 1 nebula> CREATE EDGE e2 (name string, age int); -- \u521b\u5efa\u6709\u4e24\u79cd\u5c5e\u6027\u7684\u8fb9 e2 nebula> INSERT EDGE e2 (name, age) VALUES 11->13:(\"n1\", 1); -- \u63d2\u5165\u4e00\u6761\u4ece\u70b9 11 \u5230\u70b9 13 \u7684\u6709\u4e24\u6761\u5c5e\u6027\u7684\u8fb9 nebula> INSERT EDGE e2 (name, age) VALUES \\ 12->13:(\"n1\", 1), 13->14:(\"n2\", 2); -- \u63d2\u5165\u4e24\u6761\u8fb9 nebula> INSERT EDGE e2 (name, age) VALUES 11->13:(\"n1\", \"a13\"); -- \u9519\u8bef\u64cd\u4f5c\uff0c\"a13\" \u4e0d\u662f int \u7c7b\u578b \u540c\u4e00\u6761\u8fb9\u53ef\u88ab\u591a\u6b21\u63d2\u5165\u6216\u5199\u5165\uff0c\u8bfb\u53d6\u65f6\u4ee5\u6700\u540e\u4e00\u6b21\u63d2\u5165\u4e3a\u51c6\u3002 -- \u4e3a\u63d2\u5165\u8fb9\u8d4b\u65b0\u503c insert edge with new version of values. nebula> INSERT EDGE e2 (name, age) VALUES 11->13:(\"n1\", 12); nebula> INSERT EDGE e2 (name, age) VALUES 11->13:(\"n1\", 13); nebula> INSERT EDGE e2 (name, age) VALUES 11->13:(\"n1\", 14); -- \u8bfb\u53d6\u6700\u540e\u63d2\u5165\u7684\u503c","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/insert-vertex-syntax/","text":"INSERT VERTEX \u8bed\u6cd5 \u00b6 INSERT VERTEX <tag_name> [, <tag_name>, ...] (prop_name_list[, prop_name_list]) {VALUES | VALUE} VID: (prop_value_list[, prop_value_list]) prop_name_list: [prop_name [, prop_name] ...] prop_value_list: [prop_value [, prop_value] ...] INSERT VERTEX \u53ef\u5411 Nebula Graph \u63d2\u5165\u8282\u70b9\u3002 tag_name \u8868\u793a\u6807\u7b7e\uff08\u8282\u70b9\u7c7b\u578b\uff09\uff0c\u5728\u8fdb\u884c INSERT VERTEX \u64cd\u4f5c\u524d\u9700\u521b\u5efa\u597d\u3002 prop_name_list \u6307\u5b9a\u6807\u7b7e\u7684\u5c5e\u6027\u5217\u8868\u3002 VID \u8868\u793a\u70b9 ID\u3002\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u7684 VID \u5fc5\u987b\u552f\u4e00\u3002\u76ee\u524d\u7684\u6392\u5e8f\u4f9d\u636e\u4e3a\u201c\u4e8c\u8fdb\u5236\u7f16\u7801\u987a\u5e8f\u201c\uff1a\u5373 0, 1, 2, ... 9223372036854775807, -9223372036854775808, -9223372036854775807, ..., -1\u3002 VID \u652f\u6301\u624b\u52a8\u6307\u5b9a ID \u6216\u4f7f\u7528 hash() \u51fd\u6570\u751f\u6210\u3002 prop_value_list \u987b\u6839\u636e prop_name_list \u5217\u51fa\u5c5e\u6027\u503c\uff0c\u5982\u65e0\u5339\u914d\u7c7b\u578b\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u3002 \u793a\u4f8b \u00b6 nebula> CREATE TAG t1(); -- \u521b\u5efa\u7a7a\u5c5e\u6027\u6807\u7b7e t1 nebula> INSERT VERTEX t1 () VALUES 10:(); -- \u63d2\u5165\u7a7a\u5c5e\u6027\u70b9 10 nebula> CREATE TAG t2 (name string, age int); -- \u521b\u5efa\u6709\u4e24\u79cd\u5c5e\u6027\u7684\u6807\u7b7e t2 nebula> INSERT VERTEX t2 (name, age) VALUES 11:(\"n1\", 12); -- \u63d2\u5165\u6709\u4e24\u79cd\u5c5e\u6027\u7684\u70b9 11 nebula> INSERT VERTEX t2 (name, age) VALUES 12:(\"n1\", \"a13\"); -- \u9519\u8bef\u64cd\u4f5c\uff0c\"a13\" \u4e0d\u662f int \u7c7b\u578b nebula> INSERT VERTEX t2 (name, age) VALUES 13:(\"n3\", 12), 14:(\"n4\", 8); -- \u63d2\u5165\u4e24\u4e2a\u70b9 nebula> CREATE TAG t1(i1 int); nebula> CREATE TAG t2(s2 string); nebula> INSERT VERTEX t1 (i1), t2(s2) VALUES 21: (321, \"hello\"); -- \u63d2\u5165\u6709\u4e24\u4e2a\u6807\u7b7e\u7684\u70b9 21 \u540c\u4e00\u8282\u70b9\u53ef\u88ab\u591a\u6b21\u63d2\u5165\u6216\u5199\u5165\uff0c\u8bfb\u53d6\u65f6\u4ee5\u6700\u540e\u4e00\u6b21\u63d2\u5165\u4e3a\u51c6\u3002 -- \u4e3a\u70b9 11 \u591a\u6b21\u63d2\u5165\u65b0\u503c nebula> INSERT VERTEX t2 (name, age) VALUES 11:(\"n2\", 13); nebula> INSERT VERTEX t2 (name, age) VALUES 11:(\"n3\", 14); nebula> INSERT VERTEX t2 (name, age) VALUES 11:(\"n4\", 15); -- \u8bfb\u53d6\u6700\u540e\u63d2\u5165\u7684\u503c","title":"INSERT VERTEX"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/insert-vertex-syntax/#insert_vertex","text":"INSERT VERTEX <tag_name> [, <tag_name>, ...] (prop_name_list[, prop_name_list]) {VALUES | VALUE} VID: (prop_value_list[, prop_value_list]) prop_name_list: [prop_name [, prop_name] ...] prop_value_list: [prop_value [, prop_value] ...] INSERT VERTEX \u53ef\u5411 Nebula Graph \u63d2\u5165\u8282\u70b9\u3002 tag_name \u8868\u793a\u6807\u7b7e\uff08\u8282\u70b9\u7c7b\u578b\uff09\uff0c\u5728\u8fdb\u884c INSERT VERTEX \u64cd\u4f5c\u524d\u9700\u521b\u5efa\u597d\u3002 prop_name_list \u6307\u5b9a\u6807\u7b7e\u7684\u5c5e\u6027\u5217\u8868\u3002 VID \u8868\u793a\u70b9 ID\u3002\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u7684 VID \u5fc5\u987b\u552f\u4e00\u3002\u76ee\u524d\u7684\u6392\u5e8f\u4f9d\u636e\u4e3a\u201c\u4e8c\u8fdb\u5236\u7f16\u7801\u987a\u5e8f\u201c\uff1a\u5373 0, 1, 2, ... 9223372036854775807, -9223372036854775808, -9223372036854775807, ..., -1\u3002 VID \u652f\u6301\u624b\u52a8\u6307\u5b9a ID \u6216\u4f7f\u7528 hash() \u51fd\u6570\u751f\u6210\u3002 prop_value_list \u987b\u6839\u636e prop_name_list \u5217\u51fa\u5c5e\u6027\u503c\uff0c\u5982\u65e0\u5339\u914d\u7c7b\u578b\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u3002","title":"INSERT VERTEX \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/insert-vertex-syntax/#_1","text":"nebula> CREATE TAG t1(); -- \u521b\u5efa\u7a7a\u5c5e\u6027\u6807\u7b7e t1 nebula> INSERT VERTEX t1 () VALUES 10:(); -- \u63d2\u5165\u7a7a\u5c5e\u6027\u70b9 10 nebula> CREATE TAG t2 (name string, age int); -- \u521b\u5efa\u6709\u4e24\u79cd\u5c5e\u6027\u7684\u6807\u7b7e t2 nebula> INSERT VERTEX t2 (name, age) VALUES 11:(\"n1\", 12); -- \u63d2\u5165\u6709\u4e24\u79cd\u5c5e\u6027\u7684\u70b9 11 nebula> INSERT VERTEX t2 (name, age) VALUES 12:(\"n1\", \"a13\"); -- \u9519\u8bef\u64cd\u4f5c\uff0c\"a13\" \u4e0d\u662f int \u7c7b\u578b nebula> INSERT VERTEX t2 (name, age) VALUES 13:(\"n3\", 12), 14:(\"n4\", 8); -- \u63d2\u5165\u4e24\u4e2a\u70b9 nebula> CREATE TAG t1(i1 int); nebula> CREATE TAG t2(s2 string); nebula> INSERT VERTEX t1 (i1), t2(s2) VALUES 21: (321, \"hello\"); -- \u63d2\u5165\u6709\u4e24\u4e2a\u6807\u7b7e\u7684\u70b9 21 \u540c\u4e00\u8282\u70b9\u53ef\u88ab\u591a\u6b21\u63d2\u5165\u6216\u5199\u5165\uff0c\u8bfb\u53d6\u65f6\u4ee5\u6700\u540e\u4e00\u6b21\u63d2\u5165\u4e3a\u51c6\u3002 -- \u4e3a\u70b9 11 \u591a\u6b21\u63d2\u5165\u65b0\u503c nebula> INSERT VERTEX t2 (name, age) VALUES 11:(\"n2\", 13); nebula> INSERT VERTEX t2 (name, age) VALUES 11:(\"n3\", 14); nebula> INSERT VERTEX t2 (name, age) VALUES 11:(\"n4\", 15); -- \u8bfb\u53d6\u6700\u540e\u63d2\u5165\u7684\u503c","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/lookup-syntax/","text":"LOOKUP \u8bed\u6cd5 \u00b6 LOOKUP \u8bed\u53e5\u6307\u5b9a\u8fc7\u6ee4\u6761\u4ef6\u5bf9\u6570\u636e\u8fdb\u884c\u67e5\u8be2\u3002 LOOKUP \u8bed\u53e5\u4e4b\u540e\u901a\u5e38\u8ddf\u7740 WHERE \u5b50\u53e5\u3002 WHERE \u5b50\u53e5\u7528\u4e8e\u5411\u6761\u4ef6\u4e2d\u6dfb\u52a0\u8fc7\u6ee4\u6027\u7684\u8c13\u8bcd\uff0c\u4ece\u800c\u5bf9\u6570\u636e\u8fdb\u884c\u8fc7\u6ee4\u3002 \u6ce8\u610f\uff1a \u5728\u4f7f\u7528 LOOKUP \u8bed\u53e5\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u5df2\u521b\u5efa\u7d22\u5f15\u3002\u67e5\u770b \u7d22\u5f15\u6587\u6863 \u4e86\u89e3\u6709\u5173\u7d22\u5f15\u7684\u66f4\u591a\u4fe1\u606f\u3002 LOOKUP ON {<vertex_tag> | <edge_type>} WHERE <expression> [ AND | OR expression ...]) ] [YIELD <return_list>] <return_list> <col_name> [AS <col_alias>] [, <col_name> [AS <col_alias>] ...] LOOKUP \u8bed\u53e5\u7528\u4e8e\u5bfb\u627e\u70b9\u6216\u8fb9\u7684\u96c6\u5408\u3002 WHERE \u6307\u5b9a\u88ab\u7b5b\u9009\u7684\u903b\u8f91\u6761\u4ef6\u3002\u540c\u6837\u652f\u6301\u903b\u8f91\u5173\u952e\u8bcd AND\u3001OR\u3001NOT\uff0c\u8be6\u60c5\u53c2\u89c1 WHERE \u7684\u7528\u6cd5\u3002 \u6ce8\u610f\uff1a WHERE \u5b50\u53e5\u5728 LOOKUP \u4e2d\u6682\u4e0d\u652f\u6301\u5982\u4e0b\u64cd\u4f5c\uff1a $- \u548c $^ \u5728\u5173\u7cfb\u8868\u8fbe\u5f0f\u4e2d\uff0c\u6682\u4e0d\u652f\u6301\u64cd\u4f5c\u7b26\u4e24\u8fb9\u90fd\u662ffield-name \u7684\u8868\u8fbe\u5f0f\uff0c\u5982 (tagName.column1 > tagName.column2) \u6682\u4e0d\u652f\u6301\u8fd0\u7b97\u8868\u8fbe\u5f0f\u548c function \u8868\u8fbe\u5f0f\u4e2d\u5d4c\u5957 AliasProp \u8868\u8fbe\u5f0f\u3002 YIELD \u6307\u5b9a\u8fd4\u56de\u7ed3\u679c\u3002\u5982\u672a\u6307\u5b9a\uff0c\u5219\u5728 LOOKUP \u6807\u7b7e\u65f6\u8fd4\u56de\u70b9 ID\uff0c\u5728 LOOKUP \u8fb9\u7c7b\u578b\u65f6\u8fd4\u56de\u8fb9\u7684\u8d77\u70b9 ID\u3001\u7ec8\u70b9 ID \u548c ranking \u503c\u3002 \u70b9\u67e5\u8be2 \u00b6 \u5982\u4e0b\u793a\u4f8b\u8fd4\u56de\u540d\u79f0\u4e3a Tony Parker \uff0c\u6807\u7b7e\u4e3a player \u7684\u9876\u70b9\u3002 nebula> CREATE TAG INDEX index_player ON player(name, age); nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\"; ============ | VertexID | ============ | 101 | ------------ nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\" \\ YIELD player.name, player.age; ======================================= | VertexID | player.name | player.age | ======================================= | 101 | Tony Parker | 36 | --------------------------------------- nebula> LOOKUP ON player WHERE player.name== \"Kobe Bryant\" YIELD player.name AS name | \\ GO FROM $-.VertexID OVER serve YIELD $-.name, serve.start_year, serve.end_year, $$.team.name; ================================================================== | $-.name | serve.start_year | serve.end_year | $$.team.name | ================================================================== | Kobe Bryant | 1996 | 2016 | Lakers | ------------------------------------------------------------------ \u8fb9\u67e5\u8be2 \u00b6 \u5982\u4e0b\u793a\u4f8b\u8fd4\u56de degree \u4e3a 90\uff0c\u8fb9\u7c7b\u578b\u4e3a follow \u7684\u8fb9\u3002 nebula> CREATE EDGE INDEX index_follow ON follow(degree); nebula> LOOKUP ON follow WHERE follow.degree == 90; ============================= | SrcVID | DstVID | Ranking | ============================= | 100 | 106 | 0 | ----------------------------- nebula> LOOKUP ON follow WHERE follow.degree == 90 YIELD follow.degree; ============================================= | SrcVID | DstVID | Ranking | follow.degree | ============================================= | 100 | 106 | 0 | 90 | --------------------------------------------- nebula> LOOKUP ON follow WHERE follow.degree == 90 YIELD DISTINCT follow._src; =========================================== | SrcVID | DstVID | Ranking | follow._src | =========================================== | 121 | 116 | 0 | 121 | ------------------------------------------- | 140 | 114 | 0 | 140 | ------------------------------------------- | 142 | 117 | 0 | 142 | ------------------------------------------- | 133 | 114 | 0 | 133 | ------------------------------------------- | 143 | 150 | 0 | 143 | ------------------------------------------- | 114 | 103 | 0 | 114 | ------------------------------------------- | 136 | 117 | 0 | 136 | ------------------------------------------- | 127 | 114 | 0 | 127 | ------------------------------------------- | 147 | 136 | 0 | 147 | ------------------------------------------- | 118 | 120 | 0 | 118 | ------------------------------------------- | 128 | 116 | 0 | 128 | ------------------------------------------- | 138 | 115 | 0 | 138 | ------------------------------------------- | 129 | 116 | 0 | 129 | ------------------------------------------- nebula> LOOKUP ON follow WHERE follow.degree == 90 YIELD DISTINCT follow._dst; =========================================== | SrcVID | DstVID | Ranking | follow._dst | =========================================== | 121 | 116 | 0 | 116 | ------------------------------------------- | 140 | 114 | 0 | 114 | ------------------------------------------- | 142 | 117 | 0 | 117 | ------------------------------------------- | 133 | 114 | 0 | 114 | ------------------------------------------- | 114 | 103 | 0 | 103 | ------------------------------------------- | 136 | 117 | 0 | 117 | ------------------------------------------- | 118 | 120 | 0 | 120 | ------------------------------------------- | 128 | 116 | 0 | 116 | ------------------------------------------- nebula> LOOKUP ON follow WHERE follow.degree == 60 YIELD follow.degree AS Degree | \\ GO FROM $-.DstVID OVER serve YIELD $-.DstVID, serve.start_year, serve.end_year, $$.team.name; ================================================================ | $-.DstVID | serve.start_year | serve.end_year | $$.team.name | ================================================================ | 105 | 2010 | 2018 | Spurs | ---------------------------------------------------------------- | 105 | 2009 | 2010 | Cavaliers | ---------------------------------------------------------------- | 105 | 2018 | 2019 | Raptors | ---------------------------------------------------------------- FAQ \u00b6 \u9519\u8bef\u7801 411 \u00b6 [ ERROR ( -8 )] : Unknown error ( 411 ) : \u9519\u8bef\u7801 411 \u8868\u793a WHERE \u8fc7\u6ee4\u65f6\u6ca1\u6709\u6709\u6548\u7684\u7d22\u5f15\u3002Nebula Graph\u7684\u7d22\u5f15\u4f7f\u7528\u7684\u662f\u6700\u5de6\u5339\u914d\u539f\u5219\uff0c\u5373\u4ece\u6700\u5de6\u8fb9\u7684\u4e3a\u8d77\u70b9\u4efb\u4f55\u8fde\u7eed\u7684\u7d22\u5f15\u90fd\u80fd\u5339\u914d\u4e0a\u3002\u4f8b\u5982\uff1a # \u4e3a\u6807\u7b7et\u7684\u524d\u4e09\u4e2a\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX example_index ON TAG t(p1, p2, p3); # \u65e0\u6cd5\u5339\u914d\u7d22\u5f15\uff0c\u56e0\u4e3a\u4e0d\u662f\u4ecep1\u5f00\u59cb\u3002 nebula> LOOKUP ON t WHERE p2 == 1 and p3 == 1; # \u53ef\u4ee5\u5339\u914d\u7d22\u5f15\u3002 nebula> LOOKUP ON t WHERE p1 == 1; # \u53ef\u4ee5\u5339\u914d\u7d22\u5f15\uff0c\u56e0\u4e3ap1\u548cp2\u662f\u8fde\u7eed\u7684\u3002 nebula> LOOKUP ON t WHERE p1 == 1 and p2 == 1; # \u53ef\u4ee5\u5339\u914d\u7d22\u5f15\uff0c\u56e0\u4e3ap1\u3001p2\u3001p3\u662f\u8fde\u7eed\u7684\u3002 nebula> LOOKUP ON t WHERE p1 == 1 and p2 == 1 and p3 == 1;","title":"LOOKUP"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/lookup-syntax/#lookup","text":"LOOKUP \u8bed\u53e5\u6307\u5b9a\u8fc7\u6ee4\u6761\u4ef6\u5bf9\u6570\u636e\u8fdb\u884c\u67e5\u8be2\u3002 LOOKUP \u8bed\u53e5\u4e4b\u540e\u901a\u5e38\u8ddf\u7740 WHERE \u5b50\u53e5\u3002 WHERE \u5b50\u53e5\u7528\u4e8e\u5411\u6761\u4ef6\u4e2d\u6dfb\u52a0\u8fc7\u6ee4\u6027\u7684\u8c13\u8bcd\uff0c\u4ece\u800c\u5bf9\u6570\u636e\u8fdb\u884c\u8fc7\u6ee4\u3002 \u6ce8\u610f\uff1a \u5728\u4f7f\u7528 LOOKUP \u8bed\u53e5\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u5df2\u521b\u5efa\u7d22\u5f15\u3002\u67e5\u770b \u7d22\u5f15\u6587\u6863 \u4e86\u89e3\u6709\u5173\u7d22\u5f15\u7684\u66f4\u591a\u4fe1\u606f\u3002 LOOKUP ON {<vertex_tag> | <edge_type>} WHERE <expression> [ AND | OR expression ...]) ] [YIELD <return_list>] <return_list> <col_name> [AS <col_alias>] [, <col_name> [AS <col_alias>] ...] LOOKUP \u8bed\u53e5\u7528\u4e8e\u5bfb\u627e\u70b9\u6216\u8fb9\u7684\u96c6\u5408\u3002 WHERE \u6307\u5b9a\u88ab\u7b5b\u9009\u7684\u903b\u8f91\u6761\u4ef6\u3002\u540c\u6837\u652f\u6301\u903b\u8f91\u5173\u952e\u8bcd AND\u3001OR\u3001NOT\uff0c\u8be6\u60c5\u53c2\u89c1 WHERE \u7684\u7528\u6cd5\u3002 \u6ce8\u610f\uff1a WHERE \u5b50\u53e5\u5728 LOOKUP \u4e2d\u6682\u4e0d\u652f\u6301\u5982\u4e0b\u64cd\u4f5c\uff1a $- \u548c $^ \u5728\u5173\u7cfb\u8868\u8fbe\u5f0f\u4e2d\uff0c\u6682\u4e0d\u652f\u6301\u64cd\u4f5c\u7b26\u4e24\u8fb9\u90fd\u662ffield-name \u7684\u8868\u8fbe\u5f0f\uff0c\u5982 (tagName.column1 > tagName.column2) \u6682\u4e0d\u652f\u6301\u8fd0\u7b97\u8868\u8fbe\u5f0f\u548c function \u8868\u8fbe\u5f0f\u4e2d\u5d4c\u5957 AliasProp \u8868\u8fbe\u5f0f\u3002 YIELD \u6307\u5b9a\u8fd4\u56de\u7ed3\u679c\u3002\u5982\u672a\u6307\u5b9a\uff0c\u5219\u5728 LOOKUP \u6807\u7b7e\u65f6\u8fd4\u56de\u70b9 ID\uff0c\u5728 LOOKUP \u8fb9\u7c7b\u578b\u65f6\u8fd4\u56de\u8fb9\u7684\u8d77\u70b9 ID\u3001\u7ec8\u70b9 ID \u548c ranking \u503c\u3002","title":"LOOKUP \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/lookup-syntax/#_1","text":"\u5982\u4e0b\u793a\u4f8b\u8fd4\u56de\u540d\u79f0\u4e3a Tony Parker \uff0c\u6807\u7b7e\u4e3a player \u7684\u9876\u70b9\u3002 nebula> CREATE TAG INDEX index_player ON player(name, age); nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\"; ============ | VertexID | ============ | 101 | ------------ nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\" \\ YIELD player.name, player.age; ======================================= | VertexID | player.name | player.age | ======================================= | 101 | Tony Parker | 36 | --------------------------------------- nebula> LOOKUP ON player WHERE player.name== \"Kobe Bryant\" YIELD player.name AS name | \\ GO FROM $-.VertexID OVER serve YIELD $-.name, serve.start_year, serve.end_year, $$.team.name; ================================================================== | $-.name | serve.start_year | serve.end_year | $$.team.name | ================================================================== | Kobe Bryant | 1996 | 2016 | Lakers | ------------------------------------------------------------------","title":"\u70b9\u67e5\u8be2"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/lookup-syntax/#_2","text":"\u5982\u4e0b\u793a\u4f8b\u8fd4\u56de degree \u4e3a 90\uff0c\u8fb9\u7c7b\u578b\u4e3a follow \u7684\u8fb9\u3002 nebula> CREATE EDGE INDEX index_follow ON follow(degree); nebula> LOOKUP ON follow WHERE follow.degree == 90; ============================= | SrcVID | DstVID | Ranking | ============================= | 100 | 106 | 0 | ----------------------------- nebula> LOOKUP ON follow WHERE follow.degree == 90 YIELD follow.degree; ============================================= | SrcVID | DstVID | Ranking | follow.degree | ============================================= | 100 | 106 | 0 | 90 | --------------------------------------------- nebula> LOOKUP ON follow WHERE follow.degree == 90 YIELD DISTINCT follow._src; =========================================== | SrcVID | DstVID | Ranking | follow._src | =========================================== | 121 | 116 | 0 | 121 | ------------------------------------------- | 140 | 114 | 0 | 140 | ------------------------------------------- | 142 | 117 | 0 | 142 | ------------------------------------------- | 133 | 114 | 0 | 133 | ------------------------------------------- | 143 | 150 | 0 | 143 | ------------------------------------------- | 114 | 103 | 0 | 114 | ------------------------------------------- | 136 | 117 | 0 | 136 | ------------------------------------------- | 127 | 114 | 0 | 127 | ------------------------------------------- | 147 | 136 | 0 | 147 | ------------------------------------------- | 118 | 120 | 0 | 118 | ------------------------------------------- | 128 | 116 | 0 | 128 | ------------------------------------------- | 138 | 115 | 0 | 138 | ------------------------------------------- | 129 | 116 | 0 | 129 | ------------------------------------------- nebula> LOOKUP ON follow WHERE follow.degree == 90 YIELD DISTINCT follow._dst; =========================================== | SrcVID | DstVID | Ranking | follow._dst | =========================================== | 121 | 116 | 0 | 116 | ------------------------------------------- | 140 | 114 | 0 | 114 | ------------------------------------------- | 142 | 117 | 0 | 117 | ------------------------------------------- | 133 | 114 | 0 | 114 | ------------------------------------------- | 114 | 103 | 0 | 103 | ------------------------------------------- | 136 | 117 | 0 | 117 | ------------------------------------------- | 118 | 120 | 0 | 120 | ------------------------------------------- | 128 | 116 | 0 | 116 | ------------------------------------------- nebula> LOOKUP ON follow WHERE follow.degree == 60 YIELD follow.degree AS Degree | \\ GO FROM $-.DstVID OVER serve YIELD $-.DstVID, serve.start_year, serve.end_year, $$.team.name; ================================================================ | $-.DstVID | serve.start_year | serve.end_year | $$.team.name | ================================================================ | 105 | 2010 | 2018 | Spurs | ---------------------------------------------------------------- | 105 | 2009 | 2010 | Cavaliers | ---------------------------------------------------------------- | 105 | 2018 | 2019 | Raptors | ----------------------------------------------------------------","title":"\u8fb9\u67e5\u8be2"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/lookup-syntax/#faq","text":"","title":"FAQ"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/lookup-syntax/#411","text":"[ ERROR ( -8 )] : Unknown error ( 411 ) : \u9519\u8bef\u7801 411 \u8868\u793a WHERE \u8fc7\u6ee4\u65f6\u6ca1\u6709\u6709\u6548\u7684\u7d22\u5f15\u3002Nebula Graph\u7684\u7d22\u5f15\u4f7f\u7528\u7684\u662f\u6700\u5de6\u5339\u914d\u539f\u5219\uff0c\u5373\u4ece\u6700\u5de6\u8fb9\u7684\u4e3a\u8d77\u70b9\u4efb\u4f55\u8fde\u7eed\u7684\u7d22\u5f15\u90fd\u80fd\u5339\u914d\u4e0a\u3002\u4f8b\u5982\uff1a # \u4e3a\u6807\u7b7et\u7684\u524d\u4e09\u4e2a\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX example_index ON TAG t(p1, p2, p3); # \u65e0\u6cd5\u5339\u914d\u7d22\u5f15\uff0c\u56e0\u4e3a\u4e0d\u662f\u4ecep1\u5f00\u59cb\u3002 nebula> LOOKUP ON t WHERE p2 == 1 and p3 == 1; # \u53ef\u4ee5\u5339\u914d\u7d22\u5f15\u3002 nebula> LOOKUP ON t WHERE p1 == 1; # \u53ef\u4ee5\u5339\u914d\u7d22\u5f15\uff0c\u56e0\u4e3ap1\u548cp2\u662f\u8fde\u7eed\u7684\u3002 nebula> LOOKUP ON t WHERE p1 == 1 and p2 == 1; # \u53ef\u4ee5\u5339\u914d\u7d22\u5f15\uff0c\u56e0\u4e3ap1\u3001p2\u3001p3\u662f\u8fde\u7eed\u7684\u3002 nebula> LOOKUP ON t WHERE p1 == 1 and p2 == 1 and p3 == 1;","title":"\u9519\u8bef\u7801411"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/return-syntax/","text":"Return \u8bed\u6cd5 \u00b6 Return \u8bed\u53e5\u7528\u4e8e\u8fd4\u56de\u6761\u4ef6\u6210\u7acb\u65f6\u7684\u7ed3\u679c\u3002\u5982\u679c\u6761\u4ef6\u4e0d\u6210\u7acb\uff0c\u5219\u65e0\u8fd4\u56de\u7ed3\u679c\u3002 RETURN <var_ref> IF <var_ref> IS NOT NULL \u4e3a\u53d8\u91cf\u540d\u79f0\uff0c\u793a\u4f8b\uff1a$var \u793a\u4f8b \u00b6 nebula> $A = GO FROM 100 OVER follow YIELD follow._dst AS dst; \\ $rA = YIELD $A.* WHERE $A.dst == 101; \\ RETURN $rA IF $rA is NOT NULL; \\ /* $rA \u4e3a\u975e\u7a7a\uff0c\u8fd4\u56de $rA */ GO FROM $A.dst OVER follow; /* \u56e0\u4e3a RETURN \u8bed\u53e5\u8fd4\u56de\u4e86\u7ed3\u679c\uff0c\u6240\u4ee5GO FROM \u8bed\u53e5\u4e0d\u6267\u884c */ ========== | $A.dst | ========== | 101 | ---------- nebula> $A = GO FROM 100 OVER follow YIELD follow._dst AS dst; \\ $rA = YIELD $A.* WHERE $A.dst == 300; \\ RETURN $rA IF $rA is NOT NULL; \\ /* $rA \u4e3a\u7a7a\uff0c\u4e0d\u8fd4\u56de\u4efb\u4f55\u503c */ GO FROM $A.dst OVER follow; /* \u56e0\u4e3a RETURN \u8bed\u53e5\u65e0\u8fd4\u56de\u7ed3\u679c\uff0c\u6240\u4ee5 GO FROM \u8bed\u53e5\u5c06\u6267\u884c */ =============== | follow._dst | =============== | 100 | --------------- | 101 | --------------- | 100 | --------------- | 102 | --------------- | 100 | --------------- | 107 | ---------------","title":"RETURN"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/return-syntax/#return","text":"Return \u8bed\u53e5\u7528\u4e8e\u8fd4\u56de\u6761\u4ef6\u6210\u7acb\u65f6\u7684\u7ed3\u679c\u3002\u5982\u679c\u6761\u4ef6\u4e0d\u6210\u7acb\uff0c\u5219\u65e0\u8fd4\u56de\u7ed3\u679c\u3002 RETURN <var_ref> IF <var_ref> IS NOT NULL \u4e3a\u53d8\u91cf\u540d\u79f0\uff0c\u793a\u4f8b\uff1a$var","title":"Return \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/return-syntax/#_1","text":"nebula> $A = GO FROM 100 OVER follow YIELD follow._dst AS dst; \\ $rA = YIELD $A.* WHERE $A.dst == 101; \\ RETURN $rA IF $rA is NOT NULL; \\ /* $rA \u4e3a\u975e\u7a7a\uff0c\u8fd4\u56de $rA */ GO FROM $A.dst OVER follow; /* \u56e0\u4e3a RETURN \u8bed\u53e5\u8fd4\u56de\u4e86\u7ed3\u679c\uff0c\u6240\u4ee5GO FROM \u8bed\u53e5\u4e0d\u6267\u884c */ ========== | $A.dst | ========== | 101 | ---------- nebula> $A = GO FROM 100 OVER follow YIELD follow._dst AS dst; \\ $rA = YIELD $A.* WHERE $A.dst == 300; \\ RETURN $rA IF $rA is NOT NULL; \\ /* $rA \u4e3a\u7a7a\uff0c\u4e0d\u8fd4\u56de\u4efb\u4f55\u503c */ GO FROM $A.dst OVER follow; /* \u56e0\u4e3a RETURN \u8bed\u53e5\u65e0\u8fd4\u56de\u7ed3\u679c\uff0c\u6240\u4ee5 GO FROM \u8bed\u53e5\u5c06\u6267\u884c */ =============== | follow._dst | =============== | 100 | --------------- | 101 | --------------- | 100 | --------------- | 102 | --------------- | 100 | --------------- | 107 | ---------------","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/update-edge-syntax/","text":"UPDATE EDGE \u8bed\u6cd5 \u00b6 Nebula Graph \u652f\u6301 UPDATE EDGE \u4e00\u6761\u8fb9\u7684\u5c5e\u6027\uff0c\u652f\u6301 CAS \u64cd\u4f5c\uff0c\u652f\u6301\u8fd4\u56de\u76f8\u5173\u7684\u5c5e\u6027\u3002 UPDATE EDGE \u4e00\u6b21\u53ea\u80fd\u66f4\u65b0\u4e00\u6761\u8fb9\u7684\u4e00\u4e2a edge type \u4e0a\u7684\u5c5e\u6027\u3002 UPDATE EDGE <edge> SET <update_columns> [WHEN <condition>] [YIELD <columns>] \u6ce8\u610f\uff1a WHEN \u548c YIELD \u662f\u53ef\u9009\u7684\u3002 edge \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 edge\uff0cedge \u7684\u683c\u5f0f\u4e3a <src> -> <dst> [@rank] OF <edge_type> \u3002 update_columns \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 edge \u4e0a\u7684\u5c5e\u6027\u3002 condition \u662f\u4e00\u4e9b\u7ea6\u675f\u6761\u4ef6\uff0c\u53ea\u6709\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\uff0cupdate \u624d\u4f1a\u771f\u6b63\u6267\u884c\uff0c\u652f\u6301\u8868\u8fbe\u5f0f\u64cd\u4f5c\u3002 columns \u8868\u793a\u9700\u8981\u8fd4\u56de\u7684 columns\uff0c\u6b64\u5904 YIELD \u53ef\u8fd4\u56de update \u4ee5\u540e\u6700\u65b0\u7684 columns \u503c\u3002 \u4e3e\u4f8b\u5982\u4e0b\uff1a nebula> UPDATE EDGE 100 -> 200@0 OF serve SET start_year = serve.start_year + 1 \\ YIELD $^.player.name AS name, serve.start_year AS start;","title":"UPDATE EDGE"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/update-edge-syntax/#update_edge","text":"Nebula Graph \u652f\u6301 UPDATE EDGE \u4e00\u6761\u8fb9\u7684\u5c5e\u6027\uff0c\u652f\u6301 CAS \u64cd\u4f5c\uff0c\u652f\u6301\u8fd4\u56de\u76f8\u5173\u7684\u5c5e\u6027\u3002 UPDATE EDGE \u4e00\u6b21\u53ea\u80fd\u66f4\u65b0\u4e00\u6761\u8fb9\u7684\u4e00\u4e2a edge type \u4e0a\u7684\u5c5e\u6027\u3002 UPDATE EDGE <edge> SET <update_columns> [WHEN <condition>] [YIELD <columns>] \u6ce8\u610f\uff1a WHEN \u548c YIELD \u662f\u53ef\u9009\u7684\u3002 edge \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 edge\uff0cedge \u7684\u683c\u5f0f\u4e3a <src> -> <dst> [@rank] OF <edge_type> \u3002 update_columns \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 edge \u4e0a\u7684\u5c5e\u6027\u3002 condition \u662f\u4e00\u4e9b\u7ea6\u675f\u6761\u4ef6\uff0c\u53ea\u6709\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\uff0cupdate \u624d\u4f1a\u771f\u6b63\u6267\u884c\uff0c\u652f\u6301\u8868\u8fbe\u5f0f\u64cd\u4f5c\u3002 columns \u8868\u793a\u9700\u8981\u8fd4\u56de\u7684 columns\uff0c\u6b64\u5904 YIELD \u53ef\u8fd4\u56de update \u4ee5\u540e\u6700\u65b0\u7684 columns \u503c\u3002 \u4e3e\u4f8b\u5982\u4e0b\uff1a nebula> UPDATE EDGE 100 -> 200@0 OF serve SET start_year = serve.start_year + 1 \\ YIELD $^.player.name AS name, serve.start_year AS start;","title":"UPDATE EDGE \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/update-vertex-syntax/","text":"UPDATE VERTEX \u8bed\u6cd5 \u00b6 Nebula Graph \u652f\u6301 UPDATE VERTEX \u4e00\u4e2a\u70b9\u7684\u5c5e\u6027\uff0c\u652f\u6301 CAS \u64cd\u4f5c\uff0c\u652f\u6301\u8fd4\u56de\u76f8\u5173\u7684\u5c5e\u6027\u3002 UPDATE VERTEX \u4e00\u6b21\u53ea\u80fd\u66f4\u65b0\u4e00\u4e2a\u70b9\u7684\u4e00\u4e2a tag \u4e0a\u7684\u5c5e\u6027\u3002 UPDATE VERTEX <vid> SET <update_columns> [WHEN <condition>] [YIELD <columns>] \u6ce8\u610f\uff1a WHEN \u548c YIELD \u662f\u53ef\u9009\u7684\u3002 vid \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 vertex ID\u3002 update_columns \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 tag \u4e0a\u7684 columns\uff0c\u6bd4\u5982 tag1.col1 = $^.tag2.col2 + 1 \u8868\u793a\u628a\u8fd9\u4e2a\u70b9\u7684 tag1.col1 \u66f4\u65b0\u6210 tag2.col2 + 1 \u3002 \u6ce8\u610f\uff1a $^ \u8868\u793a UPDATE \u4e2d\u9700\u8981\u66f4\u65b0\u7684\u70b9\u3002 condition \u662f\u4e00\u4e9b\u7ea6\u675f\u6761\u4ef6\uff0c\u53ea\u6709\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\uff0c UPDATE \u624d\u4f1a\u771f\u6b63\u6267\u884c\uff0c\u652f\u6301\u8868\u8fbe\u5f0f\u64cd\u4f5c\u3002 columns \u8868\u793a\u9700\u8981\u8fd4\u56de\u7684 columns\uff0c\u6b64\u5904 YIELD \u53ef\u8fd4\u56de update \u4ee5\u540e\u6700\u65b0\u7684 columns \u503c\u3002 \u4e3e\u4f8b\u5982\u4e0b\uff1a nebula> UPDATE VERTEX 101 SET player.age = $^.player.age + 1 \\ WHEN $^.player.name == \"Tony Parker\" \\ YIELD $^.player.name AS name, $^.player.age AS age; \u8fd9\u4e2a\u4f8b\u5b50\u91cc\u9762\uff0c101 \u6709\u4e00\u4e2a tag\uff0c\u5373 player\u3002 nebula> UPDATE VERTEX 200 SET player.name = 'Cory Joseph' WHEN $^.team.name == 'Rocket'; [ERROR (-8)]: Maybe invalid tag or property in SET/YIELD clause! UPDATE VERTEX \u4e0d\u652f\u6301\u591a\u4e2a tag\uff0c\u6545\u6b64\u5904\u62a5\u9519\u3002","title":"UPDATE VERTEX"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/update-vertex-syntax/#update_vertex","text":"Nebula Graph \u652f\u6301 UPDATE VERTEX \u4e00\u4e2a\u70b9\u7684\u5c5e\u6027\uff0c\u652f\u6301 CAS \u64cd\u4f5c\uff0c\u652f\u6301\u8fd4\u56de\u76f8\u5173\u7684\u5c5e\u6027\u3002 UPDATE VERTEX \u4e00\u6b21\u53ea\u80fd\u66f4\u65b0\u4e00\u4e2a\u70b9\u7684\u4e00\u4e2a tag \u4e0a\u7684\u5c5e\u6027\u3002 UPDATE VERTEX <vid> SET <update_columns> [WHEN <condition>] [YIELD <columns>] \u6ce8\u610f\uff1a WHEN \u548c YIELD \u662f\u53ef\u9009\u7684\u3002 vid \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 vertex ID\u3002 update_columns \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 tag \u4e0a\u7684 columns\uff0c\u6bd4\u5982 tag1.col1 = $^.tag2.col2 + 1 \u8868\u793a\u628a\u8fd9\u4e2a\u70b9\u7684 tag1.col1 \u66f4\u65b0\u6210 tag2.col2 + 1 \u3002 \u6ce8\u610f\uff1a $^ \u8868\u793a UPDATE \u4e2d\u9700\u8981\u66f4\u65b0\u7684\u70b9\u3002 condition \u662f\u4e00\u4e9b\u7ea6\u675f\u6761\u4ef6\uff0c\u53ea\u6709\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\uff0c UPDATE \u624d\u4f1a\u771f\u6b63\u6267\u884c\uff0c\u652f\u6301\u8868\u8fbe\u5f0f\u64cd\u4f5c\u3002 columns \u8868\u793a\u9700\u8981\u8fd4\u56de\u7684 columns\uff0c\u6b64\u5904 YIELD \u53ef\u8fd4\u56de update \u4ee5\u540e\u6700\u65b0\u7684 columns \u503c\u3002 \u4e3e\u4f8b\u5982\u4e0b\uff1a nebula> UPDATE VERTEX 101 SET player.age = $^.player.age + 1 \\ WHEN $^.player.name == \"Tony Parker\" \\ YIELD $^.player.name AS name, $^.player.age AS age; \u8fd9\u4e2a\u4f8b\u5b50\u91cc\u9762\uff0c101 \u6709\u4e00\u4e2a tag\uff0c\u5373 player\u3002 nebula> UPDATE VERTEX 200 SET player.name = 'Cory Joseph' WHEN $^.team.name == 'Rocket'; [ERROR (-8)]: Maybe invalid tag or property in SET/YIELD clause! UPDATE VERTEX \u4e0d\u652f\u6301\u591a\u4e2a tag\uff0c\u6545\u6b64\u5904\u62a5\u9519\u3002","title":"UPDATE VERTEX \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/upsert-syntax/","text":"UPSERT \u8bed\u6cd5 \u00b6 UPSERT \u7528\u4e8e\u63d2\u5165\u65b0\u7684\u9876\u70b9\u6216\u8fb9\u6216\u66f4\u65b0\u73b0\u6709\u7684\u9876\u70b9\u6216\u8fb9\u3002\u5982\u679c\u9876\u70b9\u6216\u8fb9\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u65b0\u5efa\u8be5\u9876\u70b9\u6216\u8fb9\u3002 UPSERT \u662f INSERT \u548c UPDATE \u7684\u7ec4\u5408\u3002 UPSERT \u64cd\u4f5c\u76f8\u6bd4\u4e8e INSERT \u64cd\u4f5c\u6027\u80fd\u4f1a\u4f4e\u5f88\u591a\uff0c\u56e0\u4e3a UPSERT \u662f\u5728 partition \u7ea7\u522b\u7684 read-modify-write \u4e32\u884c\u5316\u64cd\u4f5c\uff0c\u56e0\u6b64\u4e0d\u9002\u7528\u4e8e\u5927\u5e76\u53d1\u66f4\u6539\u5199\u5165\u7684\u573a\u666f\u3002 \u5982\u679c\u9876\u70b9\u6216\u8fb9\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u65b0\u5efa\u8be5\u9876\u70b9\u6216\u8fb9\uff0c\u65e0\u8bba WHEN \u6761\u4ef6\u662f\u5426\u6ee1\u8db3\uff0c\u4e14\u672a\u7ecf SET \u6307\u5b9a\u7684\u5c5e\u6027\u5b57\u6bb5\u4f7f\u7528\u8be5\u5b57\u6bb5\u7684\u9ed8\u8ba4\u503c\uff0c\u5982\u679c\u9ed8\u8ba4\u503c\u4e0d\u5b58\u5728\u5219\u62a5\u9519\uff1b \u5982\u679c\u8be5\u9876\u70b9\u6216\u8005\u8fb9\u5b58\u5728\uff0c\u5e76\u4e14 WHEN \u6761\u4ef6\u6ee1\u8db3\uff0c\u5219\u4f1a\u66f4\u65b0\uff1b \u5982\u679c\u8be5\u9876\u70b9\u6216\u8005\u8fb9\u5b58\u5728, \u5e76\u4e14 WHEN \u6761\u4ef6\u4e0d\u6ee1\u8db3\uff0c\u5219\u4e0d\u4f1a\u6709\u4efb\u4f55\u64cd\u4f5c\u3002 UPSERT {VERTEX <vid> | EDGE <edge>} SET <update_columns> [WHEN <condition>] [YIELD <columns>] vid \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 vertex ID\u3002 edge \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 edge\uff0cedge \u7684\u683c\u5f0f\u4e3a <src> -> <dst> [@rank] OF <edge_type> \u3002 update_columns \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 tag \u6216 edge \u4e0a\u7684 columns\uff0c\u6bd4\u5982 tag1.col1 = $^.tag2.col2 + 1 \u8868\u793a\u628a\u8fd9\u4e2a\u70b9\u7684 tag1.col1 \u66f4\u65b0\u6210 tag2.col2 + 1 \u3002 \u6ce8\u610f\uff1a $^ \u8868\u793a UPDATE \u4e2d\u9700\u8981\u66f4\u65b0\u7684\u70b9\u3002 condition \u662f\u4e00\u4e9b\u7ea6\u675f\u6761\u4ef6\uff0c\u53ea\u6709\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\uff0c UPDATE \u624d\u4f1a\u771f\u6b63\u6267\u884c\uff0c\u652f\u6301\u8868\u8fbe\u5f0f\u64cd\u4f5c\u3002 columns \u8868\u793a\u9700\u8981\u8fd4\u56de\u7684 columns\uff0c\u6b64\u5904 YIELD \u53ef\u8fd4\u56de update \u4ee5\u540e\u6700\u65b0\u7684 columns \u503c\u3002 \u4f8b\u5982\uff1a nebula> INSERT VERTEX player(name, age) VALUES 111:(\"Ben Simmons\", 22); -- \u63d2\u5165\u4e00\u4e2a\u65b0\u70b9\u3002 nebula> UPSERT VERTEX 111 SET player.name = \"Dwight Howard\", player.age = $^.player.age + 11 WHEN $^.player.name == \"Ben Simmons\" && $^.player.age > 20 YIELD $^.player.name AS Name, $^.player.age AS Age; -- \u5bf9\u8be5\u70b9\u8fdb\u884c UPSERT \u64cd\u4f5c\u3002 ======================= | Name | Age | ======================= | Dwight Howard | 33 | ----------------------- nebula> FETCH PROP ON * 111; -- \u8fd4\u56de\u4e3a\u7a7a\uff0c\u70b9 111 \u4e0d\u5b58\u5728 Empty set (Time spent: 3.069/4.382 ms) nebula> UPSERT VERTEX 111 SET player.age = $^.player.age + 1; \u5f53\u70b9 111 \u4e0d\u5b58\u5728\uff0cplayer \u7684 age \u6709\u9ed8\u8ba4\u503c\u65f6\uff0c\u70b9 111 \u7684 player.age \u4e3a\u9ed8\u8ba4\u503c + 1\uff1b\u6b64\u5904 player.age \u672a\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff0c\u56e0\u6b64\u62a5\u9519\u3002 nebula> CREATE TAG person(followers int, age int DEFAULT 0); -- \u521b\u5efa\u793a\u4f8b tag person nebula> UPSERT VERTEX 300 SET person.followers = $^.person.age + 1, person.age = 8; -- followers \u4e3a 1\uff0cage \u4e3a 8 nebula> UPSERT VERTEX 300 SET person.age = 8, person.followers = $^.person.age + 1; -- followers \u4e3a 9\uff0cage \u4e3a 8","title":"UPSERT"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/upsert-syntax/#upsert","text":"UPSERT \u7528\u4e8e\u63d2\u5165\u65b0\u7684\u9876\u70b9\u6216\u8fb9\u6216\u66f4\u65b0\u73b0\u6709\u7684\u9876\u70b9\u6216\u8fb9\u3002\u5982\u679c\u9876\u70b9\u6216\u8fb9\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u65b0\u5efa\u8be5\u9876\u70b9\u6216\u8fb9\u3002 UPSERT \u662f INSERT \u548c UPDATE \u7684\u7ec4\u5408\u3002 UPSERT \u64cd\u4f5c\u76f8\u6bd4\u4e8e INSERT \u64cd\u4f5c\u6027\u80fd\u4f1a\u4f4e\u5f88\u591a\uff0c\u56e0\u4e3a UPSERT \u662f\u5728 partition \u7ea7\u522b\u7684 read-modify-write \u4e32\u884c\u5316\u64cd\u4f5c\uff0c\u56e0\u6b64\u4e0d\u9002\u7528\u4e8e\u5927\u5e76\u53d1\u66f4\u6539\u5199\u5165\u7684\u573a\u666f\u3002 \u5982\u679c\u9876\u70b9\u6216\u8fb9\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u65b0\u5efa\u8be5\u9876\u70b9\u6216\u8fb9\uff0c\u65e0\u8bba WHEN \u6761\u4ef6\u662f\u5426\u6ee1\u8db3\uff0c\u4e14\u672a\u7ecf SET \u6307\u5b9a\u7684\u5c5e\u6027\u5b57\u6bb5\u4f7f\u7528\u8be5\u5b57\u6bb5\u7684\u9ed8\u8ba4\u503c\uff0c\u5982\u679c\u9ed8\u8ba4\u503c\u4e0d\u5b58\u5728\u5219\u62a5\u9519\uff1b \u5982\u679c\u8be5\u9876\u70b9\u6216\u8005\u8fb9\u5b58\u5728\uff0c\u5e76\u4e14 WHEN \u6761\u4ef6\u6ee1\u8db3\uff0c\u5219\u4f1a\u66f4\u65b0\uff1b \u5982\u679c\u8be5\u9876\u70b9\u6216\u8005\u8fb9\u5b58\u5728, \u5e76\u4e14 WHEN \u6761\u4ef6\u4e0d\u6ee1\u8db3\uff0c\u5219\u4e0d\u4f1a\u6709\u4efb\u4f55\u64cd\u4f5c\u3002 UPSERT {VERTEX <vid> | EDGE <edge>} SET <update_columns> [WHEN <condition>] [YIELD <columns>] vid \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 vertex ID\u3002 edge \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 edge\uff0cedge \u7684\u683c\u5f0f\u4e3a <src> -> <dst> [@rank] OF <edge_type> \u3002 update_columns \u8868\u793a\u9700\u8981\u66f4\u65b0\u7684 tag \u6216 edge \u4e0a\u7684 columns\uff0c\u6bd4\u5982 tag1.col1 = $^.tag2.col2 + 1 \u8868\u793a\u628a\u8fd9\u4e2a\u70b9\u7684 tag1.col1 \u66f4\u65b0\u6210 tag2.col2 + 1 \u3002 \u6ce8\u610f\uff1a $^ \u8868\u793a UPDATE \u4e2d\u9700\u8981\u66f4\u65b0\u7684\u70b9\u3002 condition \u662f\u4e00\u4e9b\u7ea6\u675f\u6761\u4ef6\uff0c\u53ea\u6709\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\uff0c UPDATE \u624d\u4f1a\u771f\u6b63\u6267\u884c\uff0c\u652f\u6301\u8868\u8fbe\u5f0f\u64cd\u4f5c\u3002 columns \u8868\u793a\u9700\u8981\u8fd4\u56de\u7684 columns\uff0c\u6b64\u5904 YIELD \u53ef\u8fd4\u56de update \u4ee5\u540e\u6700\u65b0\u7684 columns \u503c\u3002 \u4f8b\u5982\uff1a nebula> INSERT VERTEX player(name, age) VALUES 111:(\"Ben Simmons\", 22); -- \u63d2\u5165\u4e00\u4e2a\u65b0\u70b9\u3002 nebula> UPSERT VERTEX 111 SET player.name = \"Dwight Howard\", player.age = $^.player.age + 11 WHEN $^.player.name == \"Ben Simmons\" && $^.player.age > 20 YIELD $^.player.name AS Name, $^.player.age AS Age; -- \u5bf9\u8be5\u70b9\u8fdb\u884c UPSERT \u64cd\u4f5c\u3002 ======================= | Name | Age | ======================= | Dwight Howard | 33 | ----------------------- nebula> FETCH PROP ON * 111; -- \u8fd4\u56de\u4e3a\u7a7a\uff0c\u70b9 111 \u4e0d\u5b58\u5728 Empty set (Time spent: 3.069/4.382 ms) nebula> UPSERT VERTEX 111 SET player.age = $^.player.age + 1; \u5f53\u70b9 111 \u4e0d\u5b58\u5728\uff0cplayer \u7684 age \u6709\u9ed8\u8ba4\u503c\u65f6\uff0c\u70b9 111 \u7684 player.age \u4e3a\u9ed8\u8ba4\u503c + 1\uff1b\u6b64\u5904 player.age \u672a\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff0c\u56e0\u6b64\u62a5\u9519\u3002 nebula> CREATE TAG person(followers int, age int DEFAULT 0); -- \u521b\u5efa\u793a\u4f8b tag person nebula> UPSERT VERTEX 300 SET person.followers = $^.person.age + 1, person.age = 8; -- followers \u4e3a 1\uff0cage \u4e3a 8 nebula> UPSERT VERTEX 300 SET person.age = 8, person.followers = $^.person.age + 1; -- followers \u4e3a 9\uff0cage \u4e3a 8","title":"UPSERT \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/where-syntax/","text":"WHERE \u8bed\u6cd5 \u00b6 WHERE \u5b50\u53e5\u53ef\u4ee5\u4e3a\u67e5\u8be2\u8fd4\u56de\u7684\u6570\u636e\u6307\u5b9a\u641c\u7d22\u6761\u4ef6\u3002 WHERE \u5b50\u53e5\u8bed\u6cd5\u5982\u4e0b\uff1a WHERE <expression> [ AND | OR <expression> ...]) \u76ee\u524d\uff0c WHERE \u8bed\u53e5\u9002\u7528\u4e8e GO \u548c LOOKUP \u8bed\u53e5\u3002\u6ce8\u610f\u90e8\u5206 WHERE \u8fc7\u6ee4\u6761\u4ef6\u5c1a\u672a\u5728 LOOKUP \u8bed\u53e5\u4e2d\u652f\u6301\u3002\u8be6\u60c5\u53c2\u8003 LOOKUP \u6587\u6863 \u3002 \u901a\u5e38\uff0c\u7b5b\u9009\u6761\u4ef6\u662f\u5173\u4e8e\u8282\u70b9\u3001\u8fb9\u7684\u8868\u8fbe\u5f0f\u7684\u903b\u8f91\u7ec4\u5408\u3002 \u4f5c\u4e3a\u8bed\u6cd5\u7cd6\uff0c\u903b\u8f91\u4e0e\u53ef\u7528 AND \u6216 && \uff0c\u540c\u7406\uff0c\u903b\u8f91\u6216\u53ef\u7528 OR \u6216 || \u8868\u793a\u3002 \u793a\u4f8b \u00b6 -- \u8fb9 follow \u7684 degree \u5c5e\u6027\u5927\u4e8e 90\u3002 nebula> GO FROM 100 OVER follow WHERE follow.degree > 90; -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a =============== | follow._dst | =============== | 101 | --------------- -- \u627e\u5230\u4e0e\u8d77\u70b9 player 104 \u7684 age \u503c\u76f8\u7b49\u7684\u70b9\u3002 nebula> GO FROM 104 OVER follow WHERE $^.player.age == $$.player.age; -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a =============== | follow._dst | =============== | 103 | --------------- -- \u591a\u79cd\u903b\u8f91\u7ec4\u5408\u3002 nebula> GO FROM 100 OVER follow WHERE follow.degree > 90 OR $$.player.age != 33 AND $$.player.name != \"Tony Parker\"; -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a =============== | follow._dst | =============== | 101 | --------------- | 106 | --------------- --\u4e0b\u9762 WHERE \u8bed\u53e5\u4e2d\u7684\u6761\u4ef6\u603b\u662f\u4e3a TRUE\u3002 nebula> GO FROM 101 OVER follow WHERE 1 == 1 OR TRUE; -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a =============== | follow._dst | =============== | 100 | --------------- | 102 | --------------- \u4f7f\u7528 WHERE \u5bf9\u8fb9 rank \u7b5b\u9009 \u00b6 WHERE \u5b50\u53e5\u652f\u6301\u5bf9\u8fb9 rank \u8fdb\u884c\u7b5b\u9009\u3002\u4f8b\u5982\uff1a nebula> CREATE SPACE test; nebula> USE test; nebula> CREATE EDGE e1(p1 int); nebula> CREATE TAG person(p1 int); nebula> INSERT VERTEX person(p1) VALUES 1:(1); nebula> INSERT VERTEX person(p1) VALUES 2:(2); nebula> INSERT EDGE e1(p1) VALUES 1->2@0:(10); nebula> INSERT EDGE e1(p1) VALUES 1->2@1:(11); nebula> INSERT EDGE e1(p1) VALUES 1->2@2:(12); nebula> INSERT EDGE e1(p1) VALUES 1->2@3:(13); nebula> INSERT EDGE e1(p1) VALUES 1->2@4:(14); nebula> INSERT EDGE e1(p1) VALUES 1->2@5:(15); nebula> INSERT EDGE e1(p1) VALUES 1->2@6:(16); nebula> GO FROM 1 OVER e1 WHERE e1._rank>2 YIELD e1._src, e1._dst, e1._rank AS Rank, e1.p1 | ORDER BY Rank DESC; ==================================== | e1._src | e1._dst | Rank | e1.p1 | ==================================== | 1 | 2 | 6 | 16 | ------------------------------------ | 1 | 2 | 5 | 15 | ------------------------------------ | 1 | 2 | 4 | 14 | ------------------------------------ | 1 | 2 | 3 | 13 | ------------------------------------","title":"WHERE"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/where-syntax/#where","text":"WHERE \u5b50\u53e5\u53ef\u4ee5\u4e3a\u67e5\u8be2\u8fd4\u56de\u7684\u6570\u636e\u6307\u5b9a\u641c\u7d22\u6761\u4ef6\u3002 WHERE \u5b50\u53e5\u8bed\u6cd5\u5982\u4e0b\uff1a WHERE <expression> [ AND | OR <expression> ...]) \u76ee\u524d\uff0c WHERE \u8bed\u53e5\u9002\u7528\u4e8e GO \u548c LOOKUP \u8bed\u53e5\u3002\u6ce8\u610f\u90e8\u5206 WHERE \u8fc7\u6ee4\u6761\u4ef6\u5c1a\u672a\u5728 LOOKUP \u8bed\u53e5\u4e2d\u652f\u6301\u3002\u8be6\u60c5\u53c2\u8003 LOOKUP \u6587\u6863 \u3002 \u901a\u5e38\uff0c\u7b5b\u9009\u6761\u4ef6\u662f\u5173\u4e8e\u8282\u70b9\u3001\u8fb9\u7684\u8868\u8fbe\u5f0f\u7684\u903b\u8f91\u7ec4\u5408\u3002 \u4f5c\u4e3a\u8bed\u6cd5\u7cd6\uff0c\u903b\u8f91\u4e0e\u53ef\u7528 AND \u6216 && \uff0c\u540c\u7406\uff0c\u903b\u8f91\u6216\u53ef\u7528 OR \u6216 || \u8868\u793a\u3002","title":"WHERE \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/where-syntax/#_1","text":"-- \u8fb9 follow \u7684 degree \u5c5e\u6027\u5927\u4e8e 90\u3002 nebula> GO FROM 100 OVER follow WHERE follow.degree > 90; -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a =============== | follow._dst | =============== | 101 | --------------- -- \u627e\u5230\u4e0e\u8d77\u70b9 player 104 \u7684 age \u503c\u76f8\u7b49\u7684\u70b9\u3002 nebula> GO FROM 104 OVER follow WHERE $^.player.age == $$.player.age; -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a =============== | follow._dst | =============== | 103 | --------------- -- \u591a\u79cd\u903b\u8f91\u7ec4\u5408\u3002 nebula> GO FROM 100 OVER follow WHERE follow.degree > 90 OR $$.player.age != 33 AND $$.player.name != \"Tony Parker\"; -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a =============== | follow._dst | =============== | 101 | --------------- | 106 | --------------- --\u4e0b\u9762 WHERE \u8bed\u53e5\u4e2d\u7684\u6761\u4ef6\u603b\u662f\u4e3a TRUE\u3002 nebula> GO FROM 101 OVER follow WHERE 1 == 1 OR TRUE; -- \u8fd4\u56de\u4ee5\u4e0b\u503c\uff1a =============== | follow._dst | =============== | 100 | --------------- | 102 | ---------------","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/where-syntax/#where_rank","text":"WHERE \u5b50\u53e5\u652f\u6301\u5bf9\u8fb9 rank \u8fdb\u884c\u7b5b\u9009\u3002\u4f8b\u5982\uff1a nebula> CREATE SPACE test; nebula> USE test; nebula> CREATE EDGE e1(p1 int); nebula> CREATE TAG person(p1 int); nebula> INSERT VERTEX person(p1) VALUES 1:(1); nebula> INSERT VERTEX person(p1) VALUES 2:(2); nebula> INSERT EDGE e1(p1) VALUES 1->2@0:(10); nebula> INSERT EDGE e1(p1) VALUES 1->2@1:(11); nebula> INSERT EDGE e1(p1) VALUES 1->2@2:(12); nebula> INSERT EDGE e1(p1) VALUES 1->2@3:(13); nebula> INSERT EDGE e1(p1) VALUES 1->2@4:(14); nebula> INSERT EDGE e1(p1) VALUES 1->2@5:(15); nebula> INSERT EDGE e1(p1) VALUES 1->2@6:(16); nebula> GO FROM 1 OVER e1 WHERE e1._rank>2 YIELD e1._src, e1._dst, e1._rank AS Rank, e1.p1 | ORDER BY Rank DESC; ==================================== | e1._src | e1._dst | Rank | e1.p1 | ==================================== | 1 | 2 | 6 | 16 | ------------------------------------ | 1 | 2 | 5 | 15 | ------------------------------------ | 1 | 2 | 4 | 14 | ------------------------------------ | 1 | 2 | 3 | 13 | ------------------------------------","title":"\u4f7f\u7528 WHERE \u5bf9\u8fb9 rank \u7b5b\u9009"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/yield-syntax/","text":"YIELD \u5b50\u53e5\u3001\u8bed\u53e5 \u00b6 YIELD \u5173\u952e\u8bcd\u53ef\u4ee5\u5728 FETCH \u3001 GO \u8bed\u53e5\u4e2d\u4f5c\u4e3a\u5b50\u53e5\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728 PIPE ( | ) \u4e2d\u4f5c\u4e3a\u72ec\u7acb\u7684\u8bed\u53e5\u4f7f\u7528\uff0c\u540c\u65f6\u53ef\u4ee5\u4f5c\u4e3a\u7528\u4e8e\u8ba1\u7b97\u7684\u5355\u53e5\u4f7f\u7528\u3002 \u4f5c\u4e3a\u5b50\u53e5 \u00b6 YIELD [DISTINCT] <col_name> [AS <col_alias>] [, <col_name> [AS <col_alias>] ...] \u5e38\u7528\u4e8e\u8fd4\u56de\u7531 GO \uff08\u8be6\u60c5\u8bf7\u53c2\u9605 GO \u7528\u6cd5\uff09\u8bed\u53e5\u751f\u6210\u7684\u7ed3\u679c\u3002 nebula> GO FROM 100 OVER follow YIELD $$.player.name AS Friend, $$.player.age AS Age; =========================== | Friend | Age | =========================== | Tony Parker | 36 | --------------------------- | LaMarcus Aldridge | 33 | --------------------------- | Kyle Anderson | 25 | --------------------------- \u4f8b\u5982\uff0c $$.player.name \u7528\u6765\u83b7\u53d6\u76ee\u6807\u70b9\uff08$$\uff09\u7684\u5c5e\u6027\u3002 \u4f5c\u4e3a\u8bed\u53e5 \u00b6 \u5f15\u7528\u8f93\u5165\u6216\u8005\u53d8\u91cf \u00b6 \u53ef\u4ee5\u5728 PIPE \u4e2d\u4f7f\u7528 YIELD \u8bed\u53e5\u3002 \u53ef\u4ee5\u7528\u4e8e\u5f15\u7528\u53d8\u91cf\u3002 \u5bf9\u4e8e\u90a3\u4e9b\u4e0d\u652f\u6301 YIELD \u5b50\u53e5\u7684\u8bed\u53e5\uff0c\u53ef\u4ee5\u4f7f\u7528 YIELD \u8bed\u53e5\u4f5c\u4e3a\u4e00\u4e2a\u5de5\u5177\uff0c\u63a7\u5236\u8f93\u51fa\u3002 YIELD [DISTINCT] <col_name> [AS <col_alias>] [, <col_name> [AS <col_alias>] ...] [WHERE <conditions>] nebula> GO FROM 100 OVER follow YIELD follow._dst AS id | YIELD $-.* WHERE $-.id == 106; ========= | $-.id | ========= | 106 | --------- nebula> $var1 = GO FROM 101 OVER follow; $var2 = GO FROM 105 OVER follow; YIELD DISTINCT $var1.* UNION YIELD $var2.*; ===================== | $var1.follow._dst | ===================== | 100 | --------------------- | 102 | --------------------- | 104 | --------------------- | 116 | --------------------- | 125 | --------------------- nebula> GO 2 STEPS FROM 100 OVER follow YIELD follow._dst AS dst | YIELD DISTINCT $-.dst AS dst ======= | dst | ======= | 100 | ------- | 102 | ------- | 125 | ------- \u4f5c\u4e3a\u72ec\u7acb\u7684\u8bed\u53e5 \u00b6 YIELD \u8bed\u53e5\u53ef\u4ee5\u72ec\u7acb\u4f7f\u7528\uff0c\u7528\u4e8e\u4e00\u4e9b\u7b80\u5355\u7684\u8ba1\u7b97\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 AS \u91cd\u547d\u540d\u8fd4\u56de\u7684\u5217\u3002 nebula> YIELD 1 + 1; ========= | (1+1) | ========= | 2 | --------- nebula> YIELD \"Hel\" + \"\\tlo\" AS HELLO_1, \", World!\" AS WORLD_2; ====================== | HELLO_1 | WORLD_2 | ====================== | Hel lo | , World! | ---------------------- nebula> YIELD hash(\"Tim\") % 100; ===================== | (hash(\"Tim\")%100) | ===================== | 42 | ---------------------","title":"YIELD"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/yield-syntax/#yield","text":"YIELD \u5173\u952e\u8bcd\u53ef\u4ee5\u5728 FETCH \u3001 GO \u8bed\u53e5\u4e2d\u4f5c\u4e3a\u5b50\u53e5\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728 PIPE ( | ) \u4e2d\u4f5c\u4e3a\u72ec\u7acb\u7684\u8bed\u53e5\u4f7f\u7528\uff0c\u540c\u65f6\u53ef\u4ee5\u4f5c\u4e3a\u7528\u4e8e\u8ba1\u7b97\u7684\u5355\u53e5\u4f7f\u7528\u3002","title":"YIELD \u5b50\u53e5\u3001\u8bed\u53e5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/yield-syntax/#_1","text":"YIELD [DISTINCT] <col_name> [AS <col_alias>] [, <col_name> [AS <col_alias>] ...] \u5e38\u7528\u4e8e\u8fd4\u56de\u7531 GO \uff08\u8be6\u60c5\u8bf7\u53c2\u9605 GO \u7528\u6cd5\uff09\u8bed\u53e5\u751f\u6210\u7684\u7ed3\u679c\u3002 nebula> GO FROM 100 OVER follow YIELD $$.player.name AS Friend, $$.player.age AS Age; =========================== | Friend | Age | =========================== | Tony Parker | 36 | --------------------------- | LaMarcus Aldridge | 33 | --------------------------- | Kyle Anderson | 25 | --------------------------- \u4f8b\u5982\uff0c $$.player.name \u7528\u6765\u83b7\u53d6\u76ee\u6807\u70b9\uff08$$\uff09\u7684\u5c5e\u6027\u3002","title":"\u4f5c\u4e3a\u5b50\u53e5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/yield-syntax/#_2","text":"","title":"\u4f5c\u4e3a\u8bed\u53e5"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/yield-syntax/#_3","text":"\u53ef\u4ee5\u5728 PIPE \u4e2d\u4f7f\u7528 YIELD \u8bed\u53e5\u3002 \u53ef\u4ee5\u7528\u4e8e\u5f15\u7528\u53d8\u91cf\u3002 \u5bf9\u4e8e\u90a3\u4e9b\u4e0d\u652f\u6301 YIELD \u5b50\u53e5\u7684\u8bed\u53e5\uff0c\u53ef\u4ee5\u4f7f\u7528 YIELD \u8bed\u53e5\u4f5c\u4e3a\u4e00\u4e2a\u5de5\u5177\uff0c\u63a7\u5236\u8f93\u51fa\u3002 YIELD [DISTINCT] <col_name> [AS <col_alias>] [, <col_name> [AS <col_alias>] ...] [WHERE <conditions>] nebula> GO FROM 100 OVER follow YIELD follow._dst AS id | YIELD $-.* WHERE $-.id == 106; ========= | $-.id | ========= | 106 | --------- nebula> $var1 = GO FROM 101 OVER follow; $var2 = GO FROM 105 OVER follow; YIELD DISTINCT $var1.* UNION YIELD $var2.*; ===================== | $var1.follow._dst | ===================== | 100 | --------------------- | 102 | --------------------- | 104 | --------------------- | 116 | --------------------- | 125 | --------------------- nebula> GO 2 STEPS FROM 100 OVER follow YIELD follow._dst AS dst | YIELD DISTINCT $-.dst AS dst ======= | dst | ======= | 100 | ------- | 102 | ------- | 125 | -------","title":"\u5f15\u7528\u8f93\u5165\u6216\u8005\u53d8\u91cf"},{"location":"manual-CN/2.query-language/4.statement-syntax/2.data-query-and-manipulation-statements/yield-syntax/#_4","text":"YIELD \u8bed\u53e5\u53ef\u4ee5\u72ec\u7acb\u4f7f\u7528\uff0c\u7528\u4e8e\u4e00\u4e9b\u7b80\u5355\u7684\u8ba1\u7b97\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 AS \u91cd\u547d\u540d\u8fd4\u56de\u7684\u5217\u3002 nebula> YIELD 1 + 1; ========= | (1+1) | ========= | 2 | --------- nebula> YIELD \"Hel\" + \"\\tlo\" AS HELLO_1, \", World!\" AS WORLD_2; ====================== | HELLO_1 | WORLD_2 | ====================== | Hel lo | , World! | ---------------------- nebula> YIELD hash(\"Tim\") % 100; ===================== | (hash(\"Tim\")%100) | ===================== | 42 | ---------------------","title":"\u4f5c\u4e3a\u72ec\u7acb\u7684\u8bed\u53e5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/describe-syntax/","text":"DESCRIBE \u8bed\u6cd5 \u00b6 DESCRIBE SPACE <space_name> DESCRIBE TAG <tag_name> DESCRIBE EDGE <edge_name> DESCRIBE {TAG | EDGE} INDEX <index_name> DESCRIBE \u5173\u952e\u8bcd\u7684\u4f5c\u7528\u662f\u83b7\u53d6\u5173\u4e8e space, tag, edge \u7ed3\u6784\u7684\u4fe1\u606f\u3002 \u540c\u65f6\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cDESCRIBE \u548c SHOW \u4e5f\u662f\u4e0d\u540c\u7684\u3002 \u8be6\u7ec6\u53c2\u89c1 SHOW \u6587\u6863\u3002 \u793a\u4f8b \u00b6 \u83b7\u53d6\u6307\u5b9a space \u7684\u4fe1\u606f\uff0c\u5bf9\u5e94 DESCRIBE SPACE \u3002 nebula> DESCRIBE SPACE basketballplayer; ===================================================================== | ID | Name | Partition number | Replica Factor | ===================================================================== | 1 | basketballplayer | 100 | 1 | --------------------------------------------------------------------- \u83b7\u53d6\u6307\u5b9a tag \u7684\u4fe1\u606f\uff0c\u5bf9\u5e94 DESCRIBE TAG \u3002 nebula> DESCRIBE TAG player; ================== | Field | Type | ================== | name | string | ------------------ | age | int | ------------------ \u83b7\u53d6\u6307\u5b9a EDGE \u7684\u4fe1\u606f\uff0c\u5bf9\u5e94 DESCRIBE EDGE \u3002 nebula> DESCRIBE EDGE serve; ===================== | Field | Type | ===================== | start_year | int | --------------------- | end_year | int | --------------------- \u8fd4\u56de\u6307\u5b9a\u7d22\u5f15\u4fe1\u606f\uff0c\u5bf9\u5e94 DESCRIBE INDEX \u3002 nebula> DESCRIBE TAG INDEX player_index_0; ================== | Field | Type | ================== | name | string | ------------------","title":"DESCRIBE"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/describe-syntax/#describe","text":"DESCRIBE SPACE <space_name> DESCRIBE TAG <tag_name> DESCRIBE EDGE <edge_name> DESCRIBE {TAG | EDGE} INDEX <index_name> DESCRIBE \u5173\u952e\u8bcd\u7684\u4f5c\u7528\u662f\u83b7\u53d6\u5173\u4e8e space, tag, edge \u7ed3\u6784\u7684\u4fe1\u606f\u3002 \u540c\u65f6\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cDESCRIBE \u548c SHOW \u4e5f\u662f\u4e0d\u540c\u7684\u3002 \u8be6\u7ec6\u53c2\u89c1 SHOW \u6587\u6863\u3002","title":"DESCRIBE \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/describe-syntax/#_1","text":"\u83b7\u53d6\u6307\u5b9a space \u7684\u4fe1\u606f\uff0c\u5bf9\u5e94 DESCRIBE SPACE \u3002 nebula> DESCRIBE SPACE basketballplayer; ===================================================================== | ID | Name | Partition number | Replica Factor | ===================================================================== | 1 | basketballplayer | 100 | 1 | --------------------------------------------------------------------- \u83b7\u53d6\u6307\u5b9a tag \u7684\u4fe1\u606f\uff0c\u5bf9\u5e94 DESCRIBE TAG \u3002 nebula> DESCRIBE TAG player; ================== | Field | Type | ================== | name | string | ------------------ | age | int | ------------------ \u83b7\u53d6\u6307\u5b9a EDGE \u7684\u4fe1\u606f\uff0c\u5bf9\u5e94 DESCRIBE EDGE \u3002 nebula> DESCRIBE EDGE serve; ===================== | Field | Type | ===================== | start_year | int | --------------------- | end_year | int | --------------------- \u8fd4\u56de\u6307\u5b9a\u7d22\u5f15\u4fe1\u606f\uff0c\u5bf9\u5e94 DESCRIBE INDEX \u3002 nebula> DESCRIBE TAG INDEX player_index_0; ================== | Field | Type | ================== | name | string | ------------------","title":"\u793a\u4f8b"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/use-syntax/","text":"USE \u8bed\u6cd5 \u00b6 USE <graph_space_name> \u5728 Nebula Graph \u4e2d USE \u8bed\u53e5\u7684\u4f5c\u7528\u662f\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u6765\u4f5c\u4e3a\u5f53\u524d\u7684\u5de5\u4f5c\u56fe\u7a7a\u95f4\u3002 USE \u9700\u8981\u4e00\u4e9b\u7279\u5b9a\u7684\u6743\u9650\u6765\u6267\u884c\u3002 \u5f53\u524d\u7684\u56fe\u7a7a\u95f4\u4f1a\u4fdd\u6301\u9ed8\u8ba4\u76f4\u81f3\u5f53\u524d\u4f1a\u8bdd\u7ed3\u675f\u6216\u53e6\u4e00\u4e2a USE \u8bed\u53e5\u88ab\u6267\u884c\u3002 nebula> USE space1; -- \u904d\u5386 space1\u3002 nebula> GO FROM 1 OVER edge1; -- \u4f7f\u7528 space2\u3002space2 \u4e2d\u7684\u6570\u636e\u4e0e space1 \u7269\u7406\u9694\u79bb\u3002 nebula> USE space2; nebula> GO FROM 2 OVER edge2; -- \u56de\u5230 space1\u3002\u81f3\u6b64\u4f60\u4e0d\u80fd\u4ece space2 \u4e2d\u8bfb\u53d6\u6570\u636e\u3002 nebula> USE space1; \u548c SQL \u4e0d\u540c\u7684\u662f\uff0c\u9009\u53d6\u4e00\u4e2a\u5f53\u524d\u7684\u5de5\u4f5c\u56fe\u7a7a\u95f4\u4f1a\u963b\u6b62\u4f60\u8bbf\u95ee\u5176\u4ed6\u56fe\u7a7a\u95f4\u3002\u904d\u5386\u4e00\u4e2a\u65b0\u7684\u56fe\u7a7a\u95f4\u7684\u552f\u4e00\u65b9\u6848\u662f\u901a\u8fc7 USE \u8bed\u53e5\u6765\u5207\u6362\u5de5\u4f5c\u56fe\u7a7a\u95f4\u3002 SPACES \u4e4b\u95f4\u662f \u5b8c\u5168\u9694\u79bb\u7684 \u3002\u4e0d\u50cf SQL \u5141\u8bb8\u5728\u4e00\u4e2a\u8bed\u53e5\u4e2d\u9009\u62e9\u4e24\u4e2a\u6765\u81ea\u4e0d\u540c\u6570\u636e\u5e93\u7684\u8868\u5355\uff0c\u5728 Nebula Graph \u4e2d\u4e00\u6b21\u53ea\u80fd\u5bf9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u8fdb\u884c\u64cd\u4f5c\u3002","title":"USE"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/use-syntax/#use","text":"USE <graph_space_name> \u5728 Nebula Graph \u4e2d USE \u8bed\u53e5\u7684\u4f5c\u7528\u662f\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u6765\u4f5c\u4e3a\u5f53\u524d\u7684\u5de5\u4f5c\u56fe\u7a7a\u95f4\u3002 USE \u9700\u8981\u4e00\u4e9b\u7279\u5b9a\u7684\u6743\u9650\u6765\u6267\u884c\u3002 \u5f53\u524d\u7684\u56fe\u7a7a\u95f4\u4f1a\u4fdd\u6301\u9ed8\u8ba4\u76f4\u81f3\u5f53\u524d\u4f1a\u8bdd\u7ed3\u675f\u6216\u53e6\u4e00\u4e2a USE \u8bed\u53e5\u88ab\u6267\u884c\u3002 nebula> USE space1; -- \u904d\u5386 space1\u3002 nebula> GO FROM 1 OVER edge1; -- \u4f7f\u7528 space2\u3002space2 \u4e2d\u7684\u6570\u636e\u4e0e space1 \u7269\u7406\u9694\u79bb\u3002 nebula> USE space2; nebula> GO FROM 2 OVER edge2; -- \u56de\u5230 space1\u3002\u81f3\u6b64\u4f60\u4e0d\u80fd\u4ece space2 \u4e2d\u8bfb\u53d6\u6570\u636e\u3002 nebula> USE space1; \u548c SQL \u4e0d\u540c\u7684\u662f\uff0c\u9009\u53d6\u4e00\u4e2a\u5f53\u524d\u7684\u5de5\u4f5c\u56fe\u7a7a\u95f4\u4f1a\u963b\u6b62\u4f60\u8bbf\u95ee\u5176\u4ed6\u56fe\u7a7a\u95f4\u3002\u904d\u5386\u4e00\u4e2a\u65b0\u7684\u56fe\u7a7a\u95f4\u7684\u552f\u4e00\u65b9\u6848\u662f\u901a\u8fc7 USE \u8bed\u53e5\u6765\u5207\u6362\u5de5\u4f5c\u56fe\u7a7a\u95f4\u3002 SPACES \u4e4b\u95f4\u662f \u5b8c\u5168\u9694\u79bb\u7684 \u3002\u4e0d\u50cf SQL \u5141\u8bb8\u5728\u4e00\u4e2a\u8bed\u53e5\u4e2d\u9009\u62e9\u4e24\u4e2a\u6765\u81ea\u4e0d\u540c\u6570\u636e\u5e93\u7684\u8868\u5355\uff0c\u5728 Nebula Graph \u4e2d\u4e00\u6b21\u53ea\u80fd\u5bf9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u8fdb\u884c\u64cd\u4f5c\u3002","title":"USE \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-charset-syntax/","text":"SHOW CHARSET \u8bed\u6cd5 \u00b6 SHOW CHARSET SHOW CHARSET \u8fd4\u56de\u6240\u6709\u53ef\u7528\u7684\u5b57\u7b26\u96c6\u3002\u76ee\u524d\u652f\u6301\u4e24\u79cd\u7c7b\u578b\uff1autf8\u3001utf8mb4\u3002\u5176\u4e2d\u9ed8\u8ba4\u5b57\u7b26\u96c6\u4e3a utf8\u3002 Nebula Graph \u5c06 utf8 \u8fdb\u884c\u4e86\u6269\u5c55\uff0cutf8 \u540c\u65f6\u652f\u6301 4 \u4e2a\u5b57\u8282\u7684\u5b57\u7b26\uff0c\u56e0\u6b64\uff0cutf8 \u548c utf8mb4 \u662f\u7b49\u4ef7\u7684\u3002 nebula> SHOW CHARSET; ======================================================== | Charset | Description | Default collation | Maxlen | ======================================================== | utf8 | UTF-8 Unicode | utf8_bin | 4 | -------------------------------------------------------- SHOW CHARSET \u8f93\u51fa\u4ee5\u4e0b\u5217\uff1a Charset \u5b57\u7b26\u96c6\u540d\u79f0\u3002 Description \u5b57\u7b26\u96c6\u7684\u63cf\u8ff0\u3002 Default collation \u5b57\u7b26\u96c6\u7684\u9ed8\u8ba4\u6392\u5e8f\u89c4\u5219\u3002 Maxlen \u5b58\u50a8\u4e00\u4e2a\u5b57\u7b26\u6240\u9700\u7684\u6700\u5927\u5b57\u8282\u6570\u3002","title":"SHOW CHARSET"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-charset-syntax/#show_charset","text":"SHOW CHARSET SHOW CHARSET \u8fd4\u56de\u6240\u6709\u53ef\u7528\u7684\u5b57\u7b26\u96c6\u3002\u76ee\u524d\u652f\u6301\u4e24\u79cd\u7c7b\u578b\uff1autf8\u3001utf8mb4\u3002\u5176\u4e2d\u9ed8\u8ba4\u5b57\u7b26\u96c6\u4e3a utf8\u3002 Nebula Graph \u5c06 utf8 \u8fdb\u884c\u4e86\u6269\u5c55\uff0cutf8 \u540c\u65f6\u652f\u6301 4 \u4e2a\u5b57\u8282\u7684\u5b57\u7b26\uff0c\u56e0\u6b64\uff0cutf8 \u548c utf8mb4 \u662f\u7b49\u4ef7\u7684\u3002 nebula> SHOW CHARSET; ======================================================== | Charset | Description | Default collation | Maxlen | ======================================================== | utf8 | UTF-8 Unicode | utf8_bin | 4 | -------------------------------------------------------- SHOW CHARSET \u8f93\u51fa\u4ee5\u4e0b\u5217\uff1a Charset \u5b57\u7b26\u96c6\u540d\u79f0\u3002 Description \u5b57\u7b26\u96c6\u7684\u63cf\u8ff0\u3002 Default collation \u5b57\u7b26\u96c6\u7684\u9ed8\u8ba4\u6392\u5e8f\u89c4\u5219\u3002 Maxlen \u5b58\u50a8\u4e00\u4e2a\u5b57\u7b26\u6240\u9700\u7684\u6700\u5927\u5b57\u8282\u6570\u3002","title":"SHOW CHARSET \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-collation-syntax/","text":"SHOW COLLATION \u8bed\u6cd5 \u00b6 SHOW COLLATION SHOW COLLATION \u8bed\u53e5\u5217\u51fa Nebula Graph \u76ee\u524d\u652f\u6301\u7684\u6240\u6709\u6392\u5e8f\u89c4\u5219\u3002\u76ee\u524d\u652f\u6301\u56db\u79cd\u6392\u5e8f\u89c4\u5219\uff1autf8_bin\u3001utf8_general_ci\u3001utf8mb4_bin\u3001utf8mb4_general_ci\u3002\u5b57\u7b26\u96c6\u4e3a utf8 \u65f6\uff0c\u9ed8\u8ba4 collate \u4e3a utf8_bin\uff1b\u5b57\u7b26\u96c6\u4e3a utf8mb4 \u65f6\uff0c\u9ed8\u8ba4 collate \u4e3a utf8mb4_bin\u3002utf8_general_ci \u548c utf8mb4_general_ci \u90fd\u662f\u5ffd\u7565\u5927\u5c0f\u5199\u7684\u6bd4\u8f83\uff0c\u884c\u4e3a\u540c MySQL \u4e00\u81f4\u3002 nebula> SHOW COLLATION; ======================= | Collation | Charset | ======================= | utf8_bin | utf8 | ----------------------- SHOW COLLATION \u8f93\u51fa\u6709\u4ee5\u4e0b\u5217\uff1a Collation \u6392\u5e8f\u89c4\u5219\u540d\u79f0\u3002 Charset \u4e0e\u6392\u5e8f\u89c4\u5219\u5173\u8054\u7684\u5b57\u7b26\u96c6\u7684\u540d\u79f0\u3002","title":"SHOW COLLATION"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-collation-syntax/#show_collation","text":"SHOW COLLATION SHOW COLLATION \u8bed\u53e5\u5217\u51fa Nebula Graph \u76ee\u524d\u652f\u6301\u7684\u6240\u6709\u6392\u5e8f\u89c4\u5219\u3002\u76ee\u524d\u652f\u6301\u56db\u79cd\u6392\u5e8f\u89c4\u5219\uff1autf8_bin\u3001utf8_general_ci\u3001utf8mb4_bin\u3001utf8mb4_general_ci\u3002\u5b57\u7b26\u96c6\u4e3a utf8 \u65f6\uff0c\u9ed8\u8ba4 collate \u4e3a utf8_bin\uff1b\u5b57\u7b26\u96c6\u4e3a utf8mb4 \u65f6\uff0c\u9ed8\u8ba4 collate \u4e3a utf8mb4_bin\u3002utf8_general_ci \u548c utf8mb4_general_ci \u90fd\u662f\u5ffd\u7565\u5927\u5c0f\u5199\u7684\u6bd4\u8f83\uff0c\u884c\u4e3a\u540c MySQL \u4e00\u81f4\u3002 nebula> SHOW COLLATION; ======================= | Collation | Charset | ======================= | utf8_bin | utf8 | ----------------------- SHOW COLLATION \u8f93\u51fa\u6709\u4ee5\u4e0b\u5217\uff1a Collation \u6392\u5e8f\u89c4\u5219\u540d\u79f0\u3002 Charset \u4e0e\u6392\u5e8f\u89c4\u5219\u5173\u8054\u7684\u5b57\u7b26\u96c6\u7684\u540d\u79f0\u3002","title":"SHOW COLLATION \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-configs-syntax/","text":"SHOW CONFIGS \u8bed\u6cd5 \u00b6 SHOW CONFIGS [graph|meta|storage] SHOW CONFIGS \u8bed\u53e5\u663e\u793a\u53c2\u6570\u4fe1\u606f\u3002 SHOW CONFIGS \u8f93\u51fa\u4ee5\u4e0b\u5217\uff1amodule\uff08\u6a21\u5757\u4fe1\u606f\uff09\u3001name\uff08\u53c2\u6570\u540d\u79f0\uff09\u3001type\uff08\u53c2\u6570\u7c7b\u578b\uff09\u3001mode\uff08\u53c2\u6570\u6a21\u5f0f\uff09\u548c value\uff08\u53c2\u6570\u503c\uff09\u3002 \u4f8b\u5982\uff1a nebula> SHOW CONFIGS graph; ============================================================== | module | name | type | mode | value | ============================================================== | GRAPH | v | INT64 | MUTABLE | 0 | -------------------------------------------------------------- | GRAPH | minloglevel | INT64 | MUTABLE | 2 | -------------------------------------------------------------- | GRAPH | slow_op_threshhold_ms | INT64 | MUTABLE | 50 | -------------------------------------------------------------- | GRAPH | heartbeat_interval_secs | INT64 | MUTABLE | 3 | -------------------------------------------------------------- | GRAPH | meta_client_retry_times | INT64 | MUTABLE | 3 | -------------------------------------------------------------- \u66f4\u591a\u5173\u4e8e SHOW CONFIGS [graph|meta|storage] \u7684\u4fe1\u606f\uff0c\u53c2\u89c1 configs syntax \u3002","title":"SHOW CONFIGS"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-configs-syntax/#show_configs","text":"SHOW CONFIGS [graph|meta|storage] SHOW CONFIGS \u8bed\u53e5\u663e\u793a\u53c2\u6570\u4fe1\u606f\u3002 SHOW CONFIGS \u8f93\u51fa\u4ee5\u4e0b\u5217\uff1amodule\uff08\u6a21\u5757\u4fe1\u606f\uff09\u3001name\uff08\u53c2\u6570\u540d\u79f0\uff09\u3001type\uff08\u53c2\u6570\u7c7b\u578b\uff09\u3001mode\uff08\u53c2\u6570\u6a21\u5f0f\uff09\u548c value\uff08\u53c2\u6570\u503c\uff09\u3002 \u4f8b\u5982\uff1a nebula> SHOW CONFIGS graph; ============================================================== | module | name | type | mode | value | ============================================================== | GRAPH | v | INT64 | MUTABLE | 0 | -------------------------------------------------------------- | GRAPH | minloglevel | INT64 | MUTABLE | 2 | -------------------------------------------------------------- | GRAPH | slow_op_threshhold_ms | INT64 | MUTABLE | 50 | -------------------------------------------------------------- | GRAPH | heartbeat_interval_secs | INT64 | MUTABLE | 3 | -------------------------------------------------------------- | GRAPH | meta_client_retry_times | INT64 | MUTABLE | 3 | -------------------------------------------------------------- \u66f4\u591a\u5173\u4e8e SHOW CONFIGS [graph|meta|storage] \u7684\u4fe1\u606f\uff0c\u53c2\u89c1 configs syntax \u3002","title":"SHOW CONFIGS \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-create-space-syntax/","text":"SHOW CREATE SPACE \u8bed\u6cd5 \u00b6 SHOW CREATE SPACE <space_name> SHOW CREATE SPACE \u8fd4\u56de\u6307\u5b9a space \u53ca\u5176\u521b\u5efa\u8bed\u6cd5\u3002\u5982\u679c space \u5305\u542b\u9ed8\u8ba4\u503c\uff0c\u5219\u540c\u65f6\u8fd4\u56de\u9ed8\u8ba4\u503c\u3002 nebula> SHOW CREATE SPACE basketballplayer; ===================================================================================================================== | Space | Create Space | ===================================================================================================================== | basketballplayer | CREATE SPACE gods (partition_num = 1, replica_factor = 1, charset = utf8, collate = utf8_bin) | ---------------------------------------------------------------------------------------------------------------------","title":"SHOW CREATE SPACE"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-create-space-syntax/#show_create_space","text":"SHOW CREATE SPACE <space_name> SHOW CREATE SPACE \u8fd4\u56de\u6307\u5b9a space \u53ca\u5176\u521b\u5efa\u8bed\u6cd5\u3002\u5982\u679c space \u5305\u542b\u9ed8\u8ba4\u503c\uff0c\u5219\u540c\u65f6\u8fd4\u56de\u9ed8\u8ba4\u503c\u3002 nebula> SHOW CREATE SPACE basketballplayer; ===================================================================================================================== | Space | Create Space | ===================================================================================================================== | basketballplayer | CREATE SPACE gods (partition_num = 1, replica_factor = 1, charset = utf8, collate = utf8_bin) | ---------------------------------------------------------------------------------------------------------------------","title":"SHOW CREATE SPACE \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-create-tag-edge-syntax/","text":"SHOW CREATE TAGS/EDGES \u8bed\u6cd5 \u00b6 SHOW CREATE {TAG <tag_name> | EDGE <edge_name>} SHOW CREATE TAG \u548c SHOW CREATE EDGE \u8fd4\u56de\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u6307\u5b9a\u7684 tag\u3001edge type \u53ca\u5176\u521b\u5efa\u8bed\u6cd5\u3002\u5982\u679c tag \u6216 edge type \u5305\u542b\u9ed8\u8ba4\u503c\uff0c\u5219\u540c\u65f6\u8fd4\u56de\u9ed8\u8ba4\u503c\u3002 nebula> SHOW CREATE TAG player; ========================================================================================== | Tag | Create Tag | ========================================================================================== | player | CREATE TAG player ( name string, age int ) ttl_duration = 0, ttl_col = \"\" | ------------------------------------------------------------------------------------------","title":"SHOW CREATE TAG EDGE"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-create-tag-edge-syntax/#show_create_tagsedges","text":"SHOW CREATE {TAG <tag_name> | EDGE <edge_name>} SHOW CREATE TAG \u548c SHOW CREATE EDGE \u8fd4\u56de\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u6307\u5b9a\u7684 tag\u3001edge type \u53ca\u5176\u521b\u5efa\u8bed\u6cd5\u3002\u5982\u679c tag \u6216 edge type \u5305\u542b\u9ed8\u8ba4\u503c\uff0c\u5219\u540c\u65f6\u8fd4\u56de\u9ed8\u8ba4\u503c\u3002 nebula> SHOW CREATE TAG player; ========================================================================================== | Tag | Create Tag | ========================================================================================== | player | CREATE TAG player ( name string, age int ) ttl_duration = 0, ttl_col = \"\" | ------------------------------------------------------------------------------------------","title":"SHOW CREATE TAGS/EDGES \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-hosts-syntax/","text":"SHOW HOSTS \u8bed\u6cd5 \u00b6 SHOW HOSTS SHOW HOSTS \u5217\u51fa\u5143\u670d\u52a1\u5668\u6ce8\u518c\u7684\u6240\u6709\u5b58\u50a8\u4e3b\u673a\u3002 SHOW HOSTS \u8f93\u51fa\u4ee5\u4e0b\u5217\uff1aIP \u5730\u5740\u3001\u7aef\u53e3\u53f7\u3001\u72b6\u6001\uff08online/offline\uff09\u3001leader \u6570\u91cf\u3001leader \u5206\u5e03\u3001partition \u5206\u5e03\u3002 nebula> SHOW HOSTS; ============================================================================================== | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ============================================================================================== | 172.28.2.1 | 44500 | online | 9 | basketballplayer: 9 | basketballplayer: 10 | ---------------------------------------------------------------------------------------------- | 172.28.2.2 | 44500 | online | 0 | | basketballplayer: 10 | ---------------------------------------------------------------------------------------------- | 172.28.2.3 | 44500 | online | 1 | basketballplayer: 1 | basketballplayer: 10 | ---------------------------------------------------------------------------------------------- | Total | | | 10 | basketballplayer: 10 | basketballplayer: 30 | ----------------------------------------------------------------------------------------------","title":"SHOW HOSTS"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-hosts-syntax/#show_hosts","text":"SHOW HOSTS SHOW HOSTS \u5217\u51fa\u5143\u670d\u52a1\u5668\u6ce8\u518c\u7684\u6240\u6709\u5b58\u50a8\u4e3b\u673a\u3002 SHOW HOSTS \u8f93\u51fa\u4ee5\u4e0b\u5217\uff1aIP \u5730\u5740\u3001\u7aef\u53e3\u53f7\u3001\u72b6\u6001\uff08online/offline\uff09\u3001leader \u6570\u91cf\u3001leader \u5206\u5e03\u3001partition \u5206\u5e03\u3002 nebula> SHOW HOSTS; ============================================================================================== | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ============================================================================================== | 172.28.2.1 | 44500 | online | 9 | basketballplayer: 9 | basketballplayer: 10 | ---------------------------------------------------------------------------------------------- | 172.28.2.2 | 44500 | online | 0 | | basketballplayer: 10 | ---------------------------------------------------------------------------------------------- | 172.28.2.3 | 44500 | online | 1 | basketballplayer: 1 | basketballplayer: 10 | ---------------------------------------------------------------------------------------------- | Total | | | 10 | basketballplayer: 10 | basketballplayer: 30 | ----------------------------------------------------------------------------------------------","title":"SHOW HOSTS \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-index-status/","text":"SHOW INDEX STATUS \u8bed\u6cd5 \u00b6 SHOW {TAG | EDGE} INDEX STATUS SHOW INDEX STATUS \u7528\u4e8e\u5217\u51fa\u5df2\u521b\u5efa\u5b8c\u6210\u7684 Tag/Edge-type \u7684\u7d22\u5f15\u72b6\u6001\u4fe1\u606f\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5217\u51fa tag \u7d22\u5f15\u7684\u72b6\u6001\u4fe1\u606f\uff1a nebula> SHOW TAG INDEX STATUS; ========================================== | Name | Tag Index Status | ========================================== | single_person_index | SUCCEEDED | ------------------------------------------ \u5982\u4f55\u521b\u5efa\u7d22\u5f15\u8bf7\u53c2\u8003 \u7d22\u5f15 \u6587\u6863\u3002","title":"SHOW INDEX STATUS \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-index-status/#show_index_status","text":"SHOW {TAG | EDGE} INDEX STATUS SHOW INDEX STATUS \u7528\u4e8e\u5217\u51fa\u5df2\u521b\u5efa\u5b8c\u6210\u7684 Tag/Edge-type \u7684\u7d22\u5f15\u72b6\u6001\u4fe1\u606f\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5217\u51fa tag \u7d22\u5f15\u7684\u72b6\u6001\u4fe1\u606f\uff1a nebula> SHOW TAG INDEX STATUS; ========================================== | Name | Tag Index Status | ========================================== | single_person_index | SUCCEEDED | ------------------------------------------ \u5982\u4f55\u521b\u5efa\u7d22\u5f15\u8bf7\u53c2\u8003 \u7d22\u5f15 \u6587\u6863\u3002","title":"SHOW INDEX STATUS \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-indexes-syntax/","text":"SHOW INDEXES \u8bed\u6cd5 \u00b6 SHOW {TAG | EDGE} INDEXES SHOW INDEXES \u7528\u4e8e\u5217\u51fa\u5df2\u521b\u5efa\u5b8c\u6210\u7684\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u7684\u7d22\u5f15\u4fe1\u606f\u3002 SHOW INDEXES \u8fd4\u56de\u4ee5\u4e0b\u5b57\u6bb5\uff1a\u7d22\u5f15 ID \u548c \u7d22\u5f15\u540d\u79f0\u3002 \u4f8b\u5982\uff1a nebula> SHOW TAG INDEXES; ============================= | Index ID | Index Name | ============================= | 6 | player_index_1 | ----------------------------- | 7 | player_index_0 | ----------------------------- \u5982\u4f55\u521b\u5efa\u7d22\u5f15\u8bf7\u53c2\u8003 \u7d22\u5f15 \u6587\u6863\u3002","title":"SHOW INDEXES"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-indexes-syntax/#show_indexes","text":"SHOW {TAG | EDGE} INDEXES SHOW INDEXES \u7528\u4e8e\u5217\u51fa\u5df2\u521b\u5efa\u5b8c\u6210\u7684\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u7684\u7d22\u5f15\u4fe1\u606f\u3002 SHOW INDEXES \u8fd4\u56de\u4ee5\u4e0b\u5b57\u6bb5\uff1a\u7d22\u5f15 ID \u548c \u7d22\u5f15\u540d\u79f0\u3002 \u4f8b\u5982\uff1a nebula> SHOW TAG INDEXES; ============================= | Index ID | Index Name | ============================= | 6 | player_index_1 | ----------------------------- | 7 | player_index_0 | ----------------------------- \u5982\u4f55\u521b\u5efa\u7d22\u5f15\u8bf7\u53c2\u8003 \u7d22\u5f15 \u6587\u6863\u3002","title":"SHOW INDEXES \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-parts-syntax/","text":"SHOW PARTS \u8bed\u6cd5 \u00b6 SHOW PARTS <part_id> SHOW PARTS \u5217\u51fa\u6307\u5b9a partition \u7684\u4fe1\u606f\u3002 <part_id> \u4e3a\u53ef\u9009\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u5219\u8fd4\u56de\u6240\u6709 part \u4fe1\u606f\u3002 nebula> SHOW PARTS 1; ============================================================== | Partition ID | Leader | Peers | Losts | ============================================================== | 1 | 172.28.2.2:44500 | 172.28.2.2:44500 | | -------------------------------------------------------------- SHOW PARTS \u8f93\u51fa\u4ee5\u4e0b\u5217\uff1a Partition ID Leader Peers Losts","title":"SHOW PARTS"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-parts-syntax/#show_parts","text":"SHOW PARTS <part_id> SHOW PARTS \u5217\u51fa\u6307\u5b9a partition \u7684\u4fe1\u606f\u3002 <part_id> \u4e3a\u53ef\u9009\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u5219\u8fd4\u56de\u6240\u6709 part \u4fe1\u606f\u3002 nebula> SHOW PARTS 1; ============================================================== | Partition ID | Leader | Peers | Losts | ============================================================== | 1 | 172.28.2.2:44500 | 172.28.2.2:44500 | | -------------------------------------------------------------- SHOW PARTS \u8f93\u51fa\u4ee5\u4e0b\u5217\uff1a Partition ID Leader Peers Losts","title":"SHOW PARTS \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-roles-syntax/","text":"SHOW ROLES \u8bed\u6cd5 \u00b6 SHOW ROLES IN <space_name> SHOW ROLES \u8bed\u53e5\u663e\u793a\u5206\u914d\u7ed9\u7528\u6237\u8d26\u6237\u7684\u89d2\u8272\u3002 SHOW ROLES \u8f93\u51fa\u4ee5\u4e0b\u5217\uff1a\u7528\u6237\u8d26\u6237\u548c\u89d2\u8272\u7c7b\u578b\u3002 \u5982\u679c\u662f GOD \u6216 ADMIN \u7c7b\u578b\u7684\u7528\u6237, Nebula Graph \u8fd4\u56de\u5176\u6743\u9650\u5185\u7684\u6240\u6709\u7528\u6237\u89d2\u8272\u3002 \u5982\u679c\u662f DBA \u3001 USER \u6216 GUEST \u7c7b\u578b\u7684\u7528\u6237, Nebula Graph \u4ec5\u8fd4\u56de\u5176\u81ea\u8eab\u89d2\u8272\u3002 \u4f8b\u5982\uff1a nebula> SHOW ROLES in NBA; ======================= | Account | Role Type | ======================= | userA | ADMIN | ----------------------- \u53c2\u8003 Create User \u521b\u5efa\u7528\u6237\uff0c\u53c2\u8003 Grant Role \u4e3a\u7528\u6237\u6388\u4e88\u89d2\u8272\u3002","title":"SHOW ROLES"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-roles-syntax/#show_roles","text":"SHOW ROLES IN <space_name> SHOW ROLES \u8bed\u53e5\u663e\u793a\u5206\u914d\u7ed9\u7528\u6237\u8d26\u6237\u7684\u89d2\u8272\u3002 SHOW ROLES \u8f93\u51fa\u4ee5\u4e0b\u5217\uff1a\u7528\u6237\u8d26\u6237\u548c\u89d2\u8272\u7c7b\u578b\u3002 \u5982\u679c\u662f GOD \u6216 ADMIN \u7c7b\u578b\u7684\u7528\u6237, Nebula Graph \u8fd4\u56de\u5176\u6743\u9650\u5185\u7684\u6240\u6709\u7528\u6237\u89d2\u8272\u3002 \u5982\u679c\u662f DBA \u3001 USER \u6216 GUEST \u7c7b\u578b\u7684\u7528\u6237, Nebula Graph \u4ec5\u8fd4\u56de\u5176\u81ea\u8eab\u89d2\u8272\u3002 \u4f8b\u5982\uff1a nebula> SHOW ROLES in NBA; ======================= | Account | Role Type | ======================= | userA | ADMIN | ----------------------- \u53c2\u8003 Create User \u521b\u5efa\u7528\u6237\uff0c\u53c2\u8003 Grant Role \u4e3a\u7528\u6237\u6388\u4e88\u89d2\u8272\u3002","title":"SHOW ROLES \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-snapshots-syntax/","text":"SHOW SNAPSHOTS \u8bed\u6cd5 \u00b6 SHOW SNAPSHOTS SHOW SNAPSHOTS \u8bed\u53e5\u8fd4\u56de\u6240\u6709\u5feb\u7167\u3002 \u4f8b\u5982\uff1a nebula> SHOW SNAPSHOTS; =========================================================== | Name | Status | Hosts | =========================================================== | SNAPSHOT_2019_12_04_10_54_36 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- | SNAPSHOT_2019_12_04_10_54_42 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- | SNAPSHOT_2019_12_04_10_54_44 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- \u53c2\u8003 \u8fd9\u91cc \u521b\u5efa\u96c6\u7fa4\u5feb\u7167\u3002","title":"SHOW SNAPSHOTS"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-snapshots-syntax/#show_snapshots","text":"SHOW SNAPSHOTS SHOW SNAPSHOTS \u8bed\u53e5\u8fd4\u56de\u6240\u6709\u5feb\u7167\u3002 \u4f8b\u5982\uff1a nebula> SHOW SNAPSHOTS; =========================================================== | Name | Status | Hosts | =========================================================== | SNAPSHOT_2019_12_04_10_54_36 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- | SNAPSHOT_2019_12_04_10_54_42 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- | SNAPSHOT_2019_12_04_10_54_44 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- \u53c2\u8003 \u8fd9\u91cc \u521b\u5efa\u96c6\u7fa4\u5feb\u7167\u3002","title":"SHOW SNAPSHOTS \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-spaces-syntax/","text":"SHOW SPACES \u8bed\u6cd5 \u00b6 SHOW SPACES SHOW SPACES \u5217\u51fa Nebula Graph \u96c6\u7fa4\u4e2d\u7684\u6240\u6709\u56fe\u7a7a\u95f4\u3002 \u4f8b\u5982\uff1a nebula> SHOW SPACES; ==================== | Name | ==================== | basketballplayer | -------------------- \u53c2\u8003 \u8fd9\u91cc \u521b\u5efa\u56fe\u7a7a\u95f4\u3002","title":"SHOW SPACES"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-spaces-syntax/#show_spaces","text":"SHOW SPACES SHOW SPACES \u5217\u51fa Nebula Graph \u96c6\u7fa4\u4e2d\u7684\u6240\u6709\u56fe\u7a7a\u95f4\u3002 \u4f8b\u5982\uff1a nebula> SHOW SPACES; ==================== | Name | ==================== | basketballplayer | -------------------- \u53c2\u8003 \u8fd9\u91cc \u521b\u5efa\u56fe\u7a7a\u95f4\u3002","title":"SHOW SPACES \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-tags-edges-syntax/","text":"SHOW TAGS/EDGES \u8bed\u6cd5 \u00b6 SHOW {TAGS | EDGES} SHOW TAGS \u548c SHOW EDGES \u5219\u8fd4\u56de\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u88ab\u5b9a\u4e49\u7684 tag \u548c edge type\u3002","title":"SHOW TAGS EDGES"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-tags-edges-syntax/#show_tagsedges","text":"SHOW {TAGS | EDGES} SHOW TAGS \u548c SHOW EDGES \u5219\u8fd4\u56de\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u88ab\u5b9a\u4e49\u7684 tag \u548c edge type\u3002","title":"SHOW TAGS/EDGES \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-users-syntax/","text":"SHOW USERS \u8bed\u6cd5 \u00b6 SHOW USERS SHOW USERS \u8bed\u53e5\u663e\u793a\u7528\u6237\u4fe1\u606f\u3002 SHOW USERS \u8f93\u51fa\u4ee5\u4e0b\u5217\uff1a\u8d26\u6237\u540d\u3002","title":"SHOW USERS"},{"location":"manual-CN/2.query-language/4.statement-syntax/3.utility-statements/show-statements/show-users-syntax/#show_users","text":"SHOW USERS SHOW USERS \u8bed\u53e5\u663e\u793a\u7528\u6237\u4fe1\u606f\u3002 SHOW USERS \u8f93\u51fa\u4ee5\u4e0b\u5217\uff1a\u8d26\u6237\u540d\u3002","title":"SHOW USERS \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/4.graph-algorithms/find-path-syntax/","text":"FIND PATH \u8bed\u6cd5 \u00b6 FIND PATH \u8bed\u6cd5\u7528\u4e8e\u83b7\u53d6\u6700\u77ed\u8def\u5f84\u53ca\u5168\u8def\u5f84\u3002 FIND SHORTEST | ALL PATH FROM <vertex_id_list> TO <vertex_id_list> OVER <edge_type_list> [UPTO <N> STEPS] SHORTEST \u5bfb\u627e\u6700\u77ed\u8def\u5f84\u5173\u952e\u8bcd\u3002 ALL \u5bfb\u627e\u5168\u8def\u5f84\u5173\u952e\u8bcd\u3002 <vertex_id_list>::=[vertex_id [, vertex_id]] \u4e3a\u8282\u70b9\u5217\u8868\uff0c\u7528\u9017\u53f7\u9694\u5f00\u3002\u652f\u6301\u8f93\u5165 $- \u53ca\u53d8\u91cf $var \u3002 <edge_type_list> \u6307\u5b9a\u8fb9\u7684\u7c7b\u578b\uff0c\u591a\u79cd\u8fb9\u7c7b\u578b\u7528 , \u9694\u5f00\uff0c\u7528 * \u8868\u793a\u6240\u6709\u8fb9\u7c7b\u578b\u3002 <N> \u4e3a\u8df3\u6570\uff0c\u9ed8\u8ba4\u503c 5\u3002 \u6ce8\u610f\u4e8b\u9879 \u00b6 \u5f53\u8d77\u70b9\u53ca\u7ec8\u70b9\u662f ID \u5217\u8868\u65f6\uff0c\u8868\u793a\u5bfb\u627e\u4ece\u4efb\u610f\u8d77\u70b9\u5f00\u59cb\u5230\u7ec8\u70b9\u7684\u6700\u77ed\u8def\u5f84\u3002 \u5168\u8def\u5f84\u4f1a\u6709\u73af\u3002 \u793a\u4f8b \u00b6 \u5728 console \u4e2d\uff0c\u8def\u5f84\u663e\u793a\u65b9\u5f0f\u4e3a id <edge_name, rank> id \u3002 nebula> FIND SHORTEST PATH FROM 100 to 200 OVER *; ============================= | _path_ | ============================= | 100 <serve,0> 200 ----------------------------- nebula> FIND ALL PATH FROM 100 to 200 OVER *; ============================================================================================================= | _path_ | ============================================================================================================= | 100 < serve,0> 200 ------------------------------------------------------------------------------------------------------------- | 100 <follow,0> 101 < serve,0> 200 ------------------------------------------------------------------------------------------------------------- | 100 <follow,0> 102 < serve,0> 200 ------------------------------------------------------------------------------------------------------------- | 100 <follow,0> 106 < serve,0> 200 -------------------------------------------------------------------------------------------------------------","title":"FIND PATH"},{"location":"manual-CN/2.query-language/4.statement-syntax/4.graph-algorithms/find-path-syntax/#find_path","text":"FIND PATH \u8bed\u6cd5\u7528\u4e8e\u83b7\u53d6\u6700\u77ed\u8def\u5f84\u53ca\u5168\u8def\u5f84\u3002 FIND SHORTEST | ALL PATH FROM <vertex_id_list> TO <vertex_id_list> OVER <edge_type_list> [UPTO <N> STEPS] SHORTEST \u5bfb\u627e\u6700\u77ed\u8def\u5f84\u5173\u952e\u8bcd\u3002 ALL \u5bfb\u627e\u5168\u8def\u5f84\u5173\u952e\u8bcd\u3002 <vertex_id_list>::=[vertex_id [, vertex_id]] \u4e3a\u8282\u70b9\u5217\u8868\uff0c\u7528\u9017\u53f7\u9694\u5f00\u3002\u652f\u6301\u8f93\u5165 $- \u53ca\u53d8\u91cf $var \u3002 <edge_type_list> \u6307\u5b9a\u8fb9\u7684\u7c7b\u578b\uff0c\u591a\u79cd\u8fb9\u7c7b\u578b\u7528 , \u9694\u5f00\uff0c\u7528 * \u8868\u793a\u6240\u6709\u8fb9\u7c7b\u578b\u3002 <N> \u4e3a\u8df3\u6570\uff0c\u9ed8\u8ba4\u503c 5\u3002","title":"FIND PATH \u8bed\u6cd5"},{"location":"manual-CN/2.query-language/4.statement-syntax/4.graph-algorithms/find-path-syntax/#_1","text":"\u5f53\u8d77\u70b9\u53ca\u7ec8\u70b9\u662f ID \u5217\u8868\u65f6\uff0c\u8868\u793a\u5bfb\u627e\u4ece\u4efb\u610f\u8d77\u70b9\u5f00\u59cb\u5230\u7ec8\u70b9\u7684\u6700\u77ed\u8def\u5f84\u3002 \u5168\u8def\u5f84\u4f1a\u6709\u73af\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"manual-CN/2.query-language/4.statement-syntax/4.graph-algorithms/find-path-syntax/#_2","text":"\u5728 console \u4e2d\uff0c\u8def\u5f84\u663e\u793a\u65b9\u5f0f\u4e3a id <edge_name, rank> id \u3002 nebula> FIND SHORTEST PATH FROM 100 to 200 OVER *; ============================= | _path_ | ============================= | 100 <serve,0> 200 ----------------------------- nebula> FIND ALL PATH FROM 100 to 200 OVER *; ============================================================================================================= | _path_ | ============================================================================================================= | 100 < serve,0> 200 ------------------------------------------------------------------------------------------------------------- | 100 <follow,0> 101 < serve,0> 200 ------------------------------------------------------------------------------------------------------------- | 100 <follow,0> 102 < serve,0> 200 ------------------------------------------------------------------------------------------------------------- | 100 <follow,0> 106 < serve,0> 200 -------------------------------------------------------------------------------------------------------------","title":"\u793a\u4f8b"},{"location":"manual-CN/3.build-develop-and-administration/0.README/","text":"\u9762\u5411\u7684\u8bfb\u8005 \u00b6 \u672c\u7ae0\u4ecb\u7ecd\u5982\u4f55\u7f16\u8bd1\u3001\u90e8\u7f72\u548c\u8fd0\u7ef4\uff0c\u9762\u5411\u7a0b\u5e8f\u5458\u548c DBA\u3002","title":"\u9762\u5411\u7684\u8bfb\u8005"},{"location":"manual-CN/3.build-develop-and-administration/0.README/#_1","text":"\u672c\u7ae0\u4ecb\u7ecd\u5982\u4f55\u7f16\u8bd1\u3001\u90e8\u7f72\u548c\u8fd0\u7ef4\uff0c\u9762\u5411\u7a0b\u5e8f\u5458\u548c DBA\u3002","title":"\u9762\u5411\u7684\u8bfb\u8005"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/","text":"\u4f7f\u7528\u6e90\u7801\u7f16\u8bd1 \u00b6 \u524d\u8a00 \u00b6 \u6211\u4eec\u5df2\u7ecf\u9488\u5bf9\u591a\u79cd\u4e0d\u540c\u7684\u73af\u5883\u505a\u8fc7\u7f16\u8bd1\u6d4b\u8bd5\uff0c\u5305\u62ec CentOS 6/7/8\u3001Ubuntu 16.04/18.04/19.04\u3001Fedora 28/29/30\u3001GCC 7/8/9 \u4ee5\u53ca\u8f83\u65b0\u7248\u672c\u7684 LLVM/Clang\u3002\u7136\u800c\uff0c\u7531\u4e8e\u7f16\u8bd1\u73af\u5883\u53ca\u4f9d\u8d56\u7684\u590d\u6742\u6027\uff0c\u5f88\u96be\u4fdd\u8bc1\u8986\u76d6\u5230\u6240\u6709\u573a\u666f\u3002\u5982\u679c\u5728\u7f16\u8bd1\u8fc7\u7a0b\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u6b22\u8fce\u901a\u8fc7 Issue \u6216\u8005 Pull Request \u8054\u7cfb\u6211\u4eec\u3002 \u7cfb\u7edf\u8981\u6c42 \u00b6 \u4ee5\u4e0b\u4e3a\u7f16\u8bd1 Nebula Graph \u673a\u5668\u6240\u9700\u914d\u7f6e\u8981\u6c42\uff0c\u8fd0\u884c\u73af\u5883\u6240\u9700\u914d\u7f6e\u8981\u6c42\u89c1 \u8fd9\u91cc \u3002 \u5904\u7406\u5668: x86_64 \u5185\u5b58: \u81f3\u5c11 4GB \u5b58\u50a8\u7a7a\u95f4: \u81f3\u5c11 10GB Linux \u5185\u6838: 2.6.32 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u901a\u8fc7\u547d\u4ee4 uname -r \u67e5\u770b glibc: 2.12 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u901a\u8fc7\u547d\u4ee4 ldd --version \u67e5\u770b GCC: 7.1.0 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u901a\u8fc7\u547d\u4ee4 g++ --version \u67e5\u770b CMake: 3.5.0 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u901a\u8fc7\u547d\u4ee4 cmake --version \u67e5\u770b \u80fd\u591f\u8bbf\u95ee\u4e92\u8054\u7f51 \u6ce8\u610f : Nebula Graph \u76ee\u524d\u4ec5\u652f\u6301 x86_64 \u67b6\u6784\u3002 \u5feb\u901f\u7f16\u8bd1\u6b65\u9aa4 \u00b6 \u5b89\u88c5\u7cfb\u7edf\u4f9d\u8d56 \u00b6 \u8bf7\u6ce8\u610f\uff0c\u5b89\u88c5\u7cfb\u7edf\u4f9d\u8d56\u9700\u8981 root \u6743\u9650\u3002 CentOS\uff0cRedHat \u548c Fedora \u7528\u6237\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a $ yum update $ yum install -y make \\ m4 \\ git \\ wget \\ unzip \\ xz \\ readline-devel \\ ncurses-devel \\ zlib-devel \\ gcc \\ gcc-c++ \\ cmake \\ gettext \\ curl \\ redhat-lsb-core # CentOS 8+\uff0cRedHat 8+ \u4ee5\u53ca Fedora \u7528\u6237\uff0c\u9700\u8981\u989d\u5916\u5b89\u88c5 libstdc++-static \u548c libasan $ yum install -y libstdc++-static libasan Debian \u53ca Ubuntu \u7528\u6237\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a $ apt-get update $ apt-get install -y make \\ m4 \\ git \\ wget \\ unzip \\ xz-utils \\ curl \\ lsb-core \\ build-essential \\ libreadline-dev \\ ncurses-dev \\ cmake \\ gettext ArchLinux\u3001Gentoo \u6216\u8005 LFS \u7528\u6237\u8bf7\u81ea\u884c\u5b89\u88c5\u3002 \u5728\u5f00\u59cb\u7f16\u8bd1\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u7f16\u8bd1\u5668\u548c CMake \u7248\u672c\u6ee1\u8db3\u8981\u6c42\uff1a $ g++ --version $ cmake --version \u5426\u5219\uff0c\u8bf7\u5206\u522b\u53c2\u8003 \u5b89\u88c5 GCC \u6216 \u5b89\u88c5 CMake \u8fdb\u884c\u64cd\u4f5c\u3002 \u514b\u9686\u6e90\u7801 \u00b6 $ git clone https://github.com/vesoft-inc/nebula.git \u5982\u679c\u4e0d\u5173\u5fc3\u4ee3\u7801\u4ed3\u5e93\u7684\u5386\u53f2\u63d0\u4ea4\u4fe1\u606f\uff0c\u60a8\u53ef\u8fdb\u884c_\u6d45\u514b\u9686_\uff08Shallow clone\uff09\u4ee5\u52a0\u5feb\u4e0b\u8f7d\u901f\u5ea6\uff1a $ git clone --depth = 1 https://github.com/vesoft-inc/nebula.git \u6267\u884c\u7f16\u8bd1 \u00b6 $ cd nebula $ mkdir build $ cd build $ cmake -DENABLE_TESTING = OFF -DCMAKE_BUILD_TYPE = Release .. # \u5047\u8bbe cores \u4e3a\u6838\u6570\uff0cmem_gb \u4e3a\u5185\u5b58\u5927\u5c0f\uff08\u5355\u4f4d\u4e3a GB\uff09\uff0cN \u53d6\u503c\u5efa\u8bae\u4e3a cores \u548c mem_gb/2 \u4e2d\u7684\u8f83\u5c0f\u503c # Build type \u5efa\u8bae\u9009\u62e9 release \u4ee5\u52a0\u5feb\u7f16\u8bd1\u901f\u5ea6 $ make -jN # \u9ed8\u8ba4\u5b89\u88c5\u76ee\u5f55\u4e3a /usr/local/nebula $ sudo make install # \u5982\u9700\u542f\u52a8\u670d\u52a1\uff0c\u8bf7\u590d\u5236 etc/ \u76ee\u5f55\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6 # \u7528\u4e8e\u751f\u4ea7\u73af\u5883 $ cd /usr/local/nebula $ cp etc/nebula-storaged.conf.production etc/nebula-storaged.conf $ cp etc/nebula-metad.conf.production etc/nebula-metad.conf $ sudo cp etc/nebula-graphd.conf.production etc/nebula-graphd.conf # \u7528\u4e8e\u8bd5\u7528 $ cd /usr/local/nebula $ sudo cp etc/nebula-storaged.conf.default etc/nebula-storaged.conf $ sudo cp etc/nebula-metad.conf.default etc/nebula-metad.conf $ sudo cp etc/nebula-graphd.conf.default etc/nebula-graphd.conf \u8be6\u60c5\u53c2\u8003 \u542f\u52a8\u548c\u505c\u6b62 Nebula Graph \u670d\u52a1\u6587\u6863 \u3002 \u7531\u4e8e Nebula Graph \u4f7f\u7528\u4e86\u5927\u91cf\u7684 C++ \u6a21\u677f\uff0c\u5c24\u5176\u662f Folly\uff0cfbthrift \u548c boost\uff0c\u56e0\u6b64\u7f16\u8bd1\u4f1a\u975e\u5e38\u8017\u65f6\u3002\u6bd4\u5982\uff0c\u5982\u679c\u4f7f\u7528 Intel E5-2697 v3 \u5904\u7406\u5668\uff0c\u5728 16 \u4e2a\u4efb\u52a1\u5e76\u53d1\u8fd0\u884c\u7684\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u82b1\u8d39\u5927\u7ea6 4 \u5206\u949f\u5b8c\u6210\u7f16\u8bd1\uff0c\u603b\u7684 CPU \u65f6\u95f4\u5927\u7ea6 35 \u5206\u949f\u3002 \u6e90\u7801\u6253\u5305\uff08\u53ef\u9009\uff09 \u00b6 \u5982\u9700\u5c06 Nebula Graph \u6253\u5305\u81f3\u4e00\u4e2a\u5305\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a cd nebula/package ./package.sh -v <version> \u5982\u9700\u5c06 Nebula Graph \u6253\u5305\u81f3\u591a\u4e2a\u5305\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a cd nebula/package ./package.sh -v <version> -n OFF \u7f16\u8bd1\u9009\u9879 \u00b6 \u9664\u9ed8\u8ba4\u9009\u9879\u5916\uff0c Nebula Graph \u7684\u7f16\u8bd1\u7cfb\u7edf\u8fd8\u63d0\u4f9b\u8bf8\u591a\u9009\u9879\u6765\u8c03\u6574\u7f16\u8bd1\u884c\u4e3a\u3002 CMake \u53c2\u6570 \u00b6 \u53ef\u901a\u8fc7 cmake -DArgument=Value .. \u8c03\u6574 CMake \u53c2\u6570\u3002 ENABLE_WERROR \u00b6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c Nebula Graph \u4f7f\u7528 -Werror \u9009\u9879\u5c06\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u7684\u544a\u8b66\u5f53\u6210\u9519\u8bef\u3002\u5982\u679c\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u9047\u5230\u4e86\u7c7b\u4f3c\u60c5\u51b5\uff0c\u53ef\u4ee5\u901a\u8fc7\u5c06 ENABLE_WERROR \u8bbe\u7f6e\u4e3a OFF \u6765\u6682\u65f6\u5ffd\u7565\u6b64\u7c7b\u9519\u8bef\u3002 ENABLE_TESTING \u00b6 \u8be5\u9009\u9879\u5141\u8bb8\u7528\u6237\u5f00\u542f\u6216\u5173\u95ed\u5355\u5143\u6d4b\u8bd5\u7684\u7f16\u8bd1\uff0c\u9ed8\u8ba4\u5f00\u542f\u3002\u5982\u679c\u60a8\u53ea\u9700\u8981\u7f16\u8bd1 Nebula Graph \u670d\u52a1\u6a21\u5757\uff0c\u53ef\u4ee5\u5c06\u8be5\u9009\u9879\u8bbe\u7f6e\u4e3a OFF \u3002 ENABLE_ASAN \u00b6 \u8be5\u9009\u9879\u5141\u8bb8\u7528\u6237\u5f00\u542f\u6216\u5173\u95ed AddressSanitizer\uff08\u5185\u5b58\u76f8\u5173\u9519\u8bef\u68c0\u6d4b\u5668\uff09\uff0c\u9ed8\u8ba4\u5173\u95ed\u3002 CMAKE_BUILD_TYPE \u00b6 Nebula Graph \u652f\u6301\u4ee5\u4e0b\u51e0\u79cd\u7f16\u8bd1\u7c7b\u578b\uff1a Debug \uff0c\u542f\u7528\u8c03\u8bd5\u4fe1\u606f\uff0c\u4e0d\u542f\u7528\u4f18\u5316\u9009\u9879\uff0c\u4e3a\u9ed8\u8ba4\u7f16\u8bd1\u7c7b\u578b Release \uff0c\u542f\u7528\u4f18\u5316\u9009\u9879\uff0c\u4e0d\u542f\u7528\u8c03\u8bd5\u4fe1\u606f RelWithDebInfo \uff0c\u542f\u7528\u4f18\u5316\u9009\u9879\uff0c\u4e14\u542f\u7528\u8c03\u8bd5\u4fe1\u606f MinSizeRel \uff0c\u542f\u7528\u5229\u4e8e\u51cf\u5c0f\u4ee3\u7801\u4f53\u79ef\u7684\u4f18\u5316\u9009\u9879\uff0c\u4e0d\u542f\u7528\u8c03\u8bd5\u4fe1\u606f CMAKE_INSTALL_PREFIX \u00b6 \u8be5\u9009\u9879\u7528\u4e8e\u6307\u5b9a\u6267\u884c make install \u547d\u4ee4\u65f6\uff0c Nebula Graph \u7684\u670d\u52a1\u6a21\u5757\u3001\u914d\u7f6e\u6587\u4ef6\u4ee5\u53ca\u5de5\u5177\u96c6\u7684\u5b89\u88c5\u8def\u5f84\uff0c\u9ed8\u8ba4\u4e3a /usr/local/nebula \u3002 CMAKE_CXX_COMPILER \u00b6 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0cCMake \u4f1a\u81ea\u52a8\u9009\u62e9\u5408\u9002\u7684\u7f16\u8bd1\u5668\u3002\u4f46\u662f\uff0c\u5982\u679c\u76ee\u6807\u7f16\u8bd1\u5668\u4e0d\u5728\u9ed8\u8ba4\u7684\u6807\u51c6\u8def\u5f84\u4e0b\uff0c\u6216\u8005\u4f60\u60f3\u4f7f\u7528\u5176\u4ed6\u79cd\u7c7b\u6216\u8def\u5f84\u4e0b\u7684\u7f16\u8bd1\u5668\uff0c\u8bf7\u4f7f\u7528\u5982\u4e0b\u65b9\u5f0f\u6307\u5b9a\uff1a $ cmake -DCMAKE_C_COMPILER = /path/to/gcc/bin/gcc -DCMAKE_CXX_COMPILER = /path/to/gcc/bin/g++ .. $ cmake -DCMAKE_C_COMPILER = /path/to/clang/bin/clang -DCMAKE_CXX_COMPILER = /path/to/clang/bin/clang++ .. ENABLE_CCACHE \u00b6 ccache \u53ef\u4ee5\u52a0\u5feb\u7f16\u8bd1\u8fc7\u7a0b\uff0c\u4e3b\u8981\u7528\u4e8e\u5f00\u53d1\u8fc7\u7a0b\u3002\u5982\u679c\u7cfb\u7edf\u4e2d\u5b89\u88c5\u4e86 ccache \uff0c Nebula Graph \u9ed8\u8ba4\u4f1a\u81ea\u52a8\u542f\u7528\u8be5\u9009\u9879\u3002 \u4f46\u662f\uff0c\u5982\u679c\u4f60\u60f3\u7981\u7528 ccache \uff0c\u5c06\u8be5\u9009\u9879\u8bbe\u7f6e\u6210 OFF \u53ef\u80fd \u662f\u4e0d\u591f\u7684\u3002\u56e0\u4e3a\uff0c\u5728\u67d0\u4e9b\u7cfb\u7edf\u4e2d\uff0c ccache \u4f1a_\u4ee3\u7406_ \u5f53\u524d\u7f16\u8bd1\u5668\u3002\u6b64\u65f6\uff0c\u9700\u8981\u901a\u8fc7\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf export CCACHE_DISABLE=true \uff0c\u6216\u8005\u5728 ~/.ccache/ccache.conf \u6587\u4ef6\u4e2d\u6dfb\u52a0 disable=true \u3002\u540e\u7eed Nebula Graph \u5c06\u9690\u85cf\u8fd9\u4e9b\u7ec6\u8282\u3002 \u53e6\u5916\uff0c\u5173\u4e8e ccache \u7684\u66f4\u591a\u7ec6\u8282\uff0c\u8bf7\u53c2\u8003 \u5b98\u65b9\u6587\u6863 \u3002 NEBULA_USE_LINKER \u00b6 \u8be5\u9009\u9879\u5141\u8bb8\u6211\u4eec\u4f7f\u7528\u4e0d\u540c\u7684\u94fe\u63a5\u5668\u3002\u76ee\u524d\u53ef\u7528\u7684\u9009\u9879\u662f\uff1a bfd \uff0c gold \uff0c lld \u3002\u5176\u4e2d\uff0c bfd \u548c gold \u96b6\u5c5e\u4e8e GNU binutils\uff0c lld \u5219\u9700\u8981\u5b89\u88c5 LLVM/Clang\u3002\u6b64\u5916\uff0c\u5982\u679c\u9700\u8981\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u8be5\u53c2\u6570\u6307\u5b9a\u94fe\u63a5\u5668\u7684\u7edd\u5bf9\u8def\u5f84\u3002 NEBULA_THIRDPARTY_ROOT \u00b6 \u8be5\u9009\u9879\u7528\u4e8e\u663e\u5f0f\u6307\u5b9a third party \u6240\u5728\u8def\u5f84\u3002 \u624b\u52a8\u5b89\u88c5 Third Party \u00b6 \u5728 configure/cmake \u9636\u6bb5\uff0c Nebula Graph \u9ed8\u8ba4\u5c06\u9884\u5148\u7f16\u8bd1\u597d\u7684 third party \u4e0b\u8f7d\u5230\u5f53\u524d build \u76ee\u5f55\u3002\u4f46\u662f\u5982\u679c\u4f60\u60f3\u5c06\u5176\u5b89\u88c5\u5230\u5176\u4ed6\u8def\u5f84\uff08\u6bd4\u5982\uff0c\u5b89\u88c5\u5230\u67d0\u4e2a\u516c\u5171\u76ee\u5f55\uff09\uff0c\u4f60\u53ef\u4ee5\uff1a # \u5b89\u88c5 third party \u81f3 /opt \u9700\u8981 root \u6743\u9650\uff0c\u53ef\u4f7f\u7528 --prefix \u6539\u53d8\u5b89\u88c5\u8def\u5f84 $ ../third-party/install-third-party.sh --prefix = /opt/vesoft/third-party \u5982\u679c\u4e0d\u6307\u5b9a --prefix \uff0cthird party \u7684\u9ed8\u8ba4\u5b89\u88c5\u8def\u5f84\u4e3a /opt/vesoft/third-party \uff0c\u4e14\u53ef\u4e3a Nebula Graph \u7684\u7f16\u8bd1\u7cfb\u7edf\u81ea\u52a8\u627e\u5230\u3002\u5426\u5219\uff0c\u9700\u4f7f\u7528\u4e0a\u6587\u6240\u8ff0\u7684 NEBULA_THIRDPARTY_ROOT CMake \u53c2\u6570\u6307\u5b9a\u8def\u5f84\uff0c\u6216\u4e3a\u8be5\u8def\u5f84\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u5e76\u5bfc\u51fa\u3002 Nebula Graph \u67e5\u627e\u5e76\u9009\u62e9 third party \u7684\u4f18\u5148\u7ea7\u5982\u4e0b\uff1a CMake \u53d8\u91cf NEBULA_THIRDPARTY_ROOT build \u8def\u5f84\u4e0b\u7684 third-party/install NEBULA_THIRDPARTY_ROOT \u73af\u5883\u53d8\u91cf /opt/vesoft/third-party \u5b89\u88c5\u53ef\u7528\u7684 CMake \u00b6 \u5bf9\u4e8e\u6ca1\u6709\u53ef\u7528 CMake \u5b89\u88c5\u7684\u7528\u6237\uff0c \u6211\u4eec\u63d0\u4f9b\u4e86\u53ef\u81ea\u52a8\u4e0b\u8f7d\u5b89\u88c5\u7684\u811a\u672c\u3002\u5728 build \u76ee\u5f55\u4e0b\uff0c\u8fd0\u884c\uff1a $ ../third-party/install-cmake.sh cmake-install CMake has been installed to prefix = cmake-install Run 'source cmake-install/bin/enable-cmake.sh' to make it ready to use. Run 'source cmake-install/bin/disable-cmake.sh' to disable it. $ source cmake-install/bin/enable-cmake.sh $ cmake --version cmake version 3 .15.5 \u6b64\u65f6\u53ef\u7528\u7684 CMake \u5df2\u5b89\u88c5\u5b8c\u6210\u3002\u4f60\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u4f7f\u7528 source cmake-install/bin/disable-cmake.sh \u547d\u4ee4\u5c06\u5176\u7981\u7528\u3002 \u5b89\u88c5\u53ef\u7528\u7684 GCC \u00b6 \u5bf9\u4e8e\u6ca1\u6709\u53ef\u7528 GCC \u5b89\u88c5\u7684\u7528\u6237\uff0c \u6211\u4eec\u63d0\u4f9b\u4e86 GCC \u548c\u53ef\u81ea\u52a8\u4e0b\u8f7d\u5b89\u88c5\u7684\u811a\u672c\u3002\u5728 build \u76ee\u5f55\u4e0b\uff0c\u8fd0\u884c\uff1a # \u5c06 GCC \u5b89\u88c5\u81f3 /opt \u9700\u8981 root \u6743\u9650\uff0c\u652f\u6301\u66f4\u6539\u5b89\u88c5\u8def\u5f84 $ ../third-party/install-gcc.sh --prefix = /opt GCC-7.5.0 has been installed to /opt/vesoft/toolset/gcc/7.5.0 Performing usability tests Performing regular C++14 tests...OK Performing LeakSanitizer tests...OK Run 'source /opt/vesoft/toolset/gcc/7.5.0/enable' to start using. Run 'source /opt/vesoft/toolset/gcc/7.5.0/disable' to stop using. # \u6ce8\u610f\u8def\u5f84\u548c\u6307\u5b9a\u7248\u672c\u53ef\u80fd\u4e0e\u4f60\u7684\u73af\u5883\u4e0d\u540c $ source /opt/vesoft/toolset/gcc/7.5.0/enable # \u6b64\u5904\u4ec5\u8bbe\u7f6e\u4e86 PATH\uff0c\u4ee5\u514d\u6c61\u67d3\u5e93\u8def\u5f84 # \u5982\u679c\u9700\u8981\u53ef\u8fd0\u884c 'export LD_LIBRARY_PATH=/opt/vesoft/toolset/gcc/7.5.0/lib64:$LD_LIBRARY_PATH' $ g++ --version g++ ( Nebula Graph Build ) 7 .5.0 Copyright ( C ) 2017 Free Software Foundation, Inc. \u6b64\u65f6\u53ef\u7528\u7684 GCC \u7f16\u8bd1\u5668\u5df2\u5b89\u88c5\u5b8c\u6210\u3002\u4f60\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u4f7f\u7528 source /opt/vesoft/toolset/gcc/7.5.0/disable \u547d\u4ee4\u5c06\u5176\u7981\u7528\u3002 \u65e0\u7f51\u7edc\u7f16\u8bd1 \u00b6 \u5982\u679c\u5728\u7f16\u8bd1\u6e90\u7801\u65f6\u65e0\u6cd5\u8fde\u63a5\u7f51\u7edc\uff0c\u5219\u5fc5\u987b\u624b\u52a8\u4e0b\u8f7d\u4ee5\u4e0a\u5de5\u5177\u548c\u4f9d\u8d56\uff0c\u5305\u62ec Nebula Graph \u4ed3\u5e93\u4e2d\u7684 GCC \u7f16\u8bd1\u5668\uff0c\u7b2c\u4e09\u65b9\u5e93\u548c CMake\u3002\u7136\u540e\uff0c\u5c06\u6240\u6709\u5185\u5bb9\u590d\u5236\u5230\u4f60\u7684\u673a\u5668\u4e0a\u3002\u4ee5\u4e0b\u662f\u5feb\u901f\u6307\u5357\u3002\u8be6\u7ec6\u4fe1\u606f\u8bf7\u53c2\u8003\u4e0a\u8ff0\u6b65\u9aa4\u3002 \u9996\u5148\uff0c\u9700\u8981\u6709\u4e00\u53f0\u53ef\u4ee5\u8fde\u63a5\u5916\u7f51\u7684\u4e3b\u673a\uff0c\u5e76\u4e0b\u8f7d\u4ee5\u4e0b\u6587\u4ef6\uff1a # \u4e0b\u8f7d GCC # RedHat \u6216 CentOS \u7528\u6237 $ wget https://oss-cdn.nebula-graph.com.cn/toolset/vesoft-gcc-7.5.0-CentOS-x86_64-glibc-2.12.sh # Debian \u6216 Ubuntu \u7528\u6237 $ wget https://oss-cdn.nebula-graph.com.cn/toolset/vesoft-gcc-7.5.0-Debian-x86_64-glibc-2.13.sh # \u4e0b\u8f7d CMake $ wget https://cmake.org/files/v3.15/cmake-3.15.5-Linux-x86_64.sh # \u4e0b\u8f7d\u7b2c\u4e09\u65b9\u5e93 $ wget https://oss-cdn.nebula-graph.com.cn/third-party/vesoft-third-party-x86_64-libc-2.12-gcc-7.5.0-abi-11.sh \u7136\u540e\uff0c\u5c06\u8fd9\u4e9b\u8f6f\u4ef6\u5305\u590d\u5236\u5230\u7f16\u8bd1\u7684\u673a\u5668\u5e76\u8fd0\u884c\u3002 # \u5b89\u88c5 GCC # RedHat \u6216 CentOS \u7528\u6237 $ sudo bash vesoft-gcc-7.5.0-CentOS-x86_64-glibc-2.12.sh # Debian \u6216 Ubuntu \u7528\u6237 $ sudo bash vesoft-gcc-7.5.0-Debian-x86_64-glibc-2.13.sh # \u542f\u7528 GCC \u5b89\u88c5 $ source /opt/vesoft/toolset/gcc/7.5.0/enable # \u5b89\u88c5 CMake $ sudo bash cmake-3.15.5-Linux-x86_64.sh --skip-license --prefix = /opt/vesoft/toolset/cmake # \u5c06\u5b89\u88c5\u597d\u7684cmake\u7684bin\u76ee\u5f55\u52a0\u5230PATH\u91cc\u9762 $ export PATH = /opt/vesoft/toolset/cmake: $PATH # \u5b89\u88c5\u7b2c\u4e09\u65b9\u5e93 $ sudo bash vesoft-third-party-x86_64-libc-2.12-gcc-7.5.0-abi-11.sh \u73b0\u5728\u60a8\u5c31\u53ef\u4ee5\u4e0b\u8f7d\u5e76\u7f16\u8bd1 Nebula Graph \u9879\u76ee\u4e86\u3002 \u5378\u8f7d \u00b6 \u5378\u8f7d\u524d\uff0c\u8bf7\u5148\u505c\u6b62\u670d\u52a1\u3002\u5728 make \u76ee\u5f55\u4e0b\u4f7f\u7528 make uninstall \u547d\u4ee4\u5373\u53ef\u5378\u8f7d Nebula Graph \u3002\u8bf7\u6ce8\u610f\u5378\u8f7d\u4e4b\u540e\u914d\u7f6e\u6587\u4ef6\u4e0d\u4f1a\u5220\u9664\u3002 FAQ \u00b6 error: invalid argument type 'auto' to unary expression \u00b6 \u5f53\u4f7f\u7528 Clang 9.0 \u7f16\u8bd1 Nebula Graph \u65f6\uff0c\u4f1a\u53d1\u751f\u8be5\u9519\u8bef\uff1a [ 5 % ] Building CXX object src/common/fs/CMakeFiles/fs_obj.dir/FileUtils.cpp.o In file included from src/common/fs/FileUtils.cpp:8: In file included from src/common/fs/FileUtils.h:12: src/common/base/StatusOr.h:57:19: error: invalid argument type 'auto' to unary expression static_assert ( !is_status_v<T>, \"`T' must not be of type `Status'\" ) ; ^~~~~~~~~~~~~~~ src/common/fs/FileUtils.cpp:90:34: note: in instantiation of template class 'nebula::StatusOr<std::__cxx11::basic_string<char> >' requested here StatusOr<std::string> FileUtils::readLink ( const char *path ) { ... \u8fd9\u662f Clang 9.0 \u5f15\u5165\u7684\u4e00\u4e2a\u5df2\u77e5\u7684 Bug\uff0cClang 10.0\uff082020-05-25\uff09\u5c1a\u672a\u4fee\u590d\u3002","title":"\u7f16\u8bd1\u6e90\u4ee3\u7801"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#_1","text":"","title":"\u4f7f\u7528\u6e90\u7801\u7f16\u8bd1"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#_2","text":"\u6211\u4eec\u5df2\u7ecf\u9488\u5bf9\u591a\u79cd\u4e0d\u540c\u7684\u73af\u5883\u505a\u8fc7\u7f16\u8bd1\u6d4b\u8bd5\uff0c\u5305\u62ec CentOS 6/7/8\u3001Ubuntu 16.04/18.04/19.04\u3001Fedora 28/29/30\u3001GCC 7/8/9 \u4ee5\u53ca\u8f83\u65b0\u7248\u672c\u7684 LLVM/Clang\u3002\u7136\u800c\uff0c\u7531\u4e8e\u7f16\u8bd1\u73af\u5883\u53ca\u4f9d\u8d56\u7684\u590d\u6742\u6027\uff0c\u5f88\u96be\u4fdd\u8bc1\u8986\u76d6\u5230\u6240\u6709\u573a\u666f\u3002\u5982\u679c\u5728\u7f16\u8bd1\u8fc7\u7a0b\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u6b22\u8fce\u901a\u8fc7 Issue \u6216\u8005 Pull Request \u8054\u7cfb\u6211\u4eec\u3002","title":"\u524d\u8a00"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#_3","text":"\u4ee5\u4e0b\u4e3a\u7f16\u8bd1 Nebula Graph \u673a\u5668\u6240\u9700\u914d\u7f6e\u8981\u6c42\uff0c\u8fd0\u884c\u73af\u5883\u6240\u9700\u914d\u7f6e\u8981\u6c42\u89c1 \u8fd9\u91cc \u3002 \u5904\u7406\u5668: x86_64 \u5185\u5b58: \u81f3\u5c11 4GB \u5b58\u50a8\u7a7a\u95f4: \u81f3\u5c11 10GB Linux \u5185\u6838: 2.6.32 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u901a\u8fc7\u547d\u4ee4 uname -r \u67e5\u770b glibc: 2.12 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u901a\u8fc7\u547d\u4ee4 ldd --version \u67e5\u770b GCC: 7.1.0 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u901a\u8fc7\u547d\u4ee4 g++ --version \u67e5\u770b CMake: 3.5.0 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u901a\u8fc7\u547d\u4ee4 cmake --version \u67e5\u770b \u80fd\u591f\u8bbf\u95ee\u4e92\u8054\u7f51 \u6ce8\u610f : Nebula Graph \u76ee\u524d\u4ec5\u652f\u6301 x86_64 \u67b6\u6784\u3002","title":"\u7cfb\u7edf\u8981\u6c42"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#_4","text":"","title":"\u5feb\u901f\u7f16\u8bd1\u6b65\u9aa4"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#_5","text":"\u8bf7\u6ce8\u610f\uff0c\u5b89\u88c5\u7cfb\u7edf\u4f9d\u8d56\u9700\u8981 root \u6743\u9650\u3002 CentOS\uff0cRedHat \u548c Fedora \u7528\u6237\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a $ yum update $ yum install -y make \\ m4 \\ git \\ wget \\ unzip \\ xz \\ readline-devel \\ ncurses-devel \\ zlib-devel \\ gcc \\ gcc-c++ \\ cmake \\ gettext \\ curl \\ redhat-lsb-core # CentOS 8+\uff0cRedHat 8+ \u4ee5\u53ca Fedora \u7528\u6237\uff0c\u9700\u8981\u989d\u5916\u5b89\u88c5 libstdc++-static \u548c libasan $ yum install -y libstdc++-static libasan Debian \u53ca Ubuntu \u7528\u6237\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a $ apt-get update $ apt-get install -y make \\ m4 \\ git \\ wget \\ unzip \\ xz-utils \\ curl \\ lsb-core \\ build-essential \\ libreadline-dev \\ ncurses-dev \\ cmake \\ gettext ArchLinux\u3001Gentoo \u6216\u8005 LFS \u7528\u6237\u8bf7\u81ea\u884c\u5b89\u88c5\u3002 \u5728\u5f00\u59cb\u7f16\u8bd1\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u7f16\u8bd1\u5668\u548c CMake \u7248\u672c\u6ee1\u8db3\u8981\u6c42\uff1a $ g++ --version $ cmake --version \u5426\u5219\uff0c\u8bf7\u5206\u522b\u53c2\u8003 \u5b89\u88c5 GCC \u6216 \u5b89\u88c5 CMake \u8fdb\u884c\u64cd\u4f5c\u3002","title":"\u5b89\u88c5\u7cfb\u7edf\u4f9d\u8d56"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#_6","text":"$ git clone https://github.com/vesoft-inc/nebula.git \u5982\u679c\u4e0d\u5173\u5fc3\u4ee3\u7801\u4ed3\u5e93\u7684\u5386\u53f2\u63d0\u4ea4\u4fe1\u606f\uff0c\u60a8\u53ef\u8fdb\u884c_\u6d45\u514b\u9686_\uff08Shallow clone\uff09\u4ee5\u52a0\u5feb\u4e0b\u8f7d\u901f\u5ea6\uff1a $ git clone --depth = 1 https://github.com/vesoft-inc/nebula.git","title":"\u514b\u9686\u6e90\u7801"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#_7","text":"$ cd nebula $ mkdir build $ cd build $ cmake -DENABLE_TESTING = OFF -DCMAKE_BUILD_TYPE = Release .. # \u5047\u8bbe cores \u4e3a\u6838\u6570\uff0cmem_gb \u4e3a\u5185\u5b58\u5927\u5c0f\uff08\u5355\u4f4d\u4e3a GB\uff09\uff0cN \u53d6\u503c\u5efa\u8bae\u4e3a cores \u548c mem_gb/2 \u4e2d\u7684\u8f83\u5c0f\u503c # Build type \u5efa\u8bae\u9009\u62e9 release \u4ee5\u52a0\u5feb\u7f16\u8bd1\u901f\u5ea6 $ make -jN # \u9ed8\u8ba4\u5b89\u88c5\u76ee\u5f55\u4e3a /usr/local/nebula $ sudo make install # \u5982\u9700\u542f\u52a8\u670d\u52a1\uff0c\u8bf7\u590d\u5236 etc/ \u76ee\u5f55\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6 # \u7528\u4e8e\u751f\u4ea7\u73af\u5883 $ cd /usr/local/nebula $ cp etc/nebula-storaged.conf.production etc/nebula-storaged.conf $ cp etc/nebula-metad.conf.production etc/nebula-metad.conf $ sudo cp etc/nebula-graphd.conf.production etc/nebula-graphd.conf # \u7528\u4e8e\u8bd5\u7528 $ cd /usr/local/nebula $ sudo cp etc/nebula-storaged.conf.default etc/nebula-storaged.conf $ sudo cp etc/nebula-metad.conf.default etc/nebula-metad.conf $ sudo cp etc/nebula-graphd.conf.default etc/nebula-graphd.conf \u8be6\u60c5\u53c2\u8003 \u542f\u52a8\u548c\u505c\u6b62 Nebula Graph \u670d\u52a1\u6587\u6863 \u3002 \u7531\u4e8e Nebula Graph \u4f7f\u7528\u4e86\u5927\u91cf\u7684 C++ \u6a21\u677f\uff0c\u5c24\u5176\u662f Folly\uff0cfbthrift \u548c boost\uff0c\u56e0\u6b64\u7f16\u8bd1\u4f1a\u975e\u5e38\u8017\u65f6\u3002\u6bd4\u5982\uff0c\u5982\u679c\u4f7f\u7528 Intel E5-2697 v3 \u5904\u7406\u5668\uff0c\u5728 16 \u4e2a\u4efb\u52a1\u5e76\u53d1\u8fd0\u884c\u7684\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u82b1\u8d39\u5927\u7ea6 4 \u5206\u949f\u5b8c\u6210\u7f16\u8bd1\uff0c\u603b\u7684 CPU \u65f6\u95f4\u5927\u7ea6 35 \u5206\u949f\u3002","title":"\u6267\u884c\u7f16\u8bd1"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#_8","text":"\u5982\u9700\u5c06 Nebula Graph \u6253\u5305\u81f3\u4e00\u4e2a\u5305\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a cd nebula/package ./package.sh -v <version> \u5982\u9700\u5c06 Nebula Graph \u6253\u5305\u81f3\u591a\u4e2a\u5305\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a cd nebula/package ./package.sh -v <version> -n OFF","title":"\u6e90\u7801\u6253\u5305\uff08\u53ef\u9009\uff09"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#_9","text":"\u9664\u9ed8\u8ba4\u9009\u9879\u5916\uff0c Nebula Graph \u7684\u7f16\u8bd1\u7cfb\u7edf\u8fd8\u63d0\u4f9b\u8bf8\u591a\u9009\u9879\u6765\u8c03\u6574\u7f16\u8bd1\u884c\u4e3a\u3002","title":"\u7f16\u8bd1\u9009\u9879"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#cmake","text":"\u53ef\u901a\u8fc7 cmake -DArgument=Value .. \u8c03\u6574 CMake \u53c2\u6570\u3002","title":"CMake \u53c2\u6570"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#enable_werror","text":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c Nebula Graph \u4f7f\u7528 -Werror \u9009\u9879\u5c06\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u7684\u544a\u8b66\u5f53\u6210\u9519\u8bef\u3002\u5982\u679c\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u9047\u5230\u4e86\u7c7b\u4f3c\u60c5\u51b5\uff0c\u53ef\u4ee5\u901a\u8fc7\u5c06 ENABLE_WERROR \u8bbe\u7f6e\u4e3a OFF \u6765\u6682\u65f6\u5ffd\u7565\u6b64\u7c7b\u9519\u8bef\u3002","title":"ENABLE_WERROR"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#enable_testing","text":"\u8be5\u9009\u9879\u5141\u8bb8\u7528\u6237\u5f00\u542f\u6216\u5173\u95ed\u5355\u5143\u6d4b\u8bd5\u7684\u7f16\u8bd1\uff0c\u9ed8\u8ba4\u5f00\u542f\u3002\u5982\u679c\u60a8\u53ea\u9700\u8981\u7f16\u8bd1 Nebula Graph \u670d\u52a1\u6a21\u5757\uff0c\u53ef\u4ee5\u5c06\u8be5\u9009\u9879\u8bbe\u7f6e\u4e3a OFF \u3002","title":"ENABLE_TESTING"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#enable_asan","text":"\u8be5\u9009\u9879\u5141\u8bb8\u7528\u6237\u5f00\u542f\u6216\u5173\u95ed AddressSanitizer\uff08\u5185\u5b58\u76f8\u5173\u9519\u8bef\u68c0\u6d4b\u5668\uff09\uff0c\u9ed8\u8ba4\u5173\u95ed\u3002","title":"ENABLE_ASAN"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#cmake_build_type","text":"Nebula Graph \u652f\u6301\u4ee5\u4e0b\u51e0\u79cd\u7f16\u8bd1\u7c7b\u578b\uff1a Debug \uff0c\u542f\u7528\u8c03\u8bd5\u4fe1\u606f\uff0c\u4e0d\u542f\u7528\u4f18\u5316\u9009\u9879\uff0c\u4e3a\u9ed8\u8ba4\u7f16\u8bd1\u7c7b\u578b Release \uff0c\u542f\u7528\u4f18\u5316\u9009\u9879\uff0c\u4e0d\u542f\u7528\u8c03\u8bd5\u4fe1\u606f RelWithDebInfo \uff0c\u542f\u7528\u4f18\u5316\u9009\u9879\uff0c\u4e14\u542f\u7528\u8c03\u8bd5\u4fe1\u606f MinSizeRel \uff0c\u542f\u7528\u5229\u4e8e\u51cf\u5c0f\u4ee3\u7801\u4f53\u79ef\u7684\u4f18\u5316\u9009\u9879\uff0c\u4e0d\u542f\u7528\u8c03\u8bd5\u4fe1\u606f","title":"CMAKE_BUILD_TYPE"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#cmake_install_prefix","text":"\u8be5\u9009\u9879\u7528\u4e8e\u6307\u5b9a\u6267\u884c make install \u547d\u4ee4\u65f6\uff0c Nebula Graph \u7684\u670d\u52a1\u6a21\u5757\u3001\u914d\u7f6e\u6587\u4ef6\u4ee5\u53ca\u5de5\u5177\u96c6\u7684\u5b89\u88c5\u8def\u5f84\uff0c\u9ed8\u8ba4\u4e3a /usr/local/nebula \u3002","title":"CMAKE_INSTALL_PREFIX"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#cmake_cxx_compiler","text":"\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cCMake \u4f1a\u81ea\u52a8\u9009\u62e9\u5408\u9002\u7684\u7f16\u8bd1\u5668\u3002\u4f46\u662f\uff0c\u5982\u679c\u76ee\u6807\u7f16\u8bd1\u5668\u4e0d\u5728\u9ed8\u8ba4\u7684\u6807\u51c6\u8def\u5f84\u4e0b\uff0c\u6216\u8005\u4f60\u60f3\u4f7f\u7528\u5176\u4ed6\u79cd\u7c7b\u6216\u8def\u5f84\u4e0b\u7684\u7f16\u8bd1\u5668\uff0c\u8bf7\u4f7f\u7528\u5982\u4e0b\u65b9\u5f0f\u6307\u5b9a\uff1a $ cmake -DCMAKE_C_COMPILER = /path/to/gcc/bin/gcc -DCMAKE_CXX_COMPILER = /path/to/gcc/bin/g++ .. $ cmake -DCMAKE_C_COMPILER = /path/to/clang/bin/clang -DCMAKE_CXX_COMPILER = /path/to/clang/bin/clang++ ..","title":"CMAKE_CXX_COMPILER"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#enable_ccache","text":"ccache \u53ef\u4ee5\u52a0\u5feb\u7f16\u8bd1\u8fc7\u7a0b\uff0c\u4e3b\u8981\u7528\u4e8e\u5f00\u53d1\u8fc7\u7a0b\u3002\u5982\u679c\u7cfb\u7edf\u4e2d\u5b89\u88c5\u4e86 ccache \uff0c Nebula Graph \u9ed8\u8ba4\u4f1a\u81ea\u52a8\u542f\u7528\u8be5\u9009\u9879\u3002 \u4f46\u662f\uff0c\u5982\u679c\u4f60\u60f3\u7981\u7528 ccache \uff0c\u5c06\u8be5\u9009\u9879\u8bbe\u7f6e\u6210 OFF \u53ef\u80fd \u662f\u4e0d\u591f\u7684\u3002\u56e0\u4e3a\uff0c\u5728\u67d0\u4e9b\u7cfb\u7edf\u4e2d\uff0c ccache \u4f1a_\u4ee3\u7406_ \u5f53\u524d\u7f16\u8bd1\u5668\u3002\u6b64\u65f6\uff0c\u9700\u8981\u901a\u8fc7\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf export CCACHE_DISABLE=true \uff0c\u6216\u8005\u5728 ~/.ccache/ccache.conf \u6587\u4ef6\u4e2d\u6dfb\u52a0 disable=true \u3002\u540e\u7eed Nebula Graph \u5c06\u9690\u85cf\u8fd9\u4e9b\u7ec6\u8282\u3002 \u53e6\u5916\uff0c\u5173\u4e8e ccache \u7684\u66f4\u591a\u7ec6\u8282\uff0c\u8bf7\u53c2\u8003 \u5b98\u65b9\u6587\u6863 \u3002","title":"ENABLE_CCACHE"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#nebula_use_linker","text":"\u8be5\u9009\u9879\u5141\u8bb8\u6211\u4eec\u4f7f\u7528\u4e0d\u540c\u7684\u94fe\u63a5\u5668\u3002\u76ee\u524d\u53ef\u7528\u7684\u9009\u9879\u662f\uff1a bfd \uff0c gold \uff0c lld \u3002\u5176\u4e2d\uff0c bfd \u548c gold \u96b6\u5c5e\u4e8e GNU binutils\uff0c lld \u5219\u9700\u8981\u5b89\u88c5 LLVM/Clang\u3002\u6b64\u5916\uff0c\u5982\u679c\u9700\u8981\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u8be5\u53c2\u6570\u6307\u5b9a\u94fe\u63a5\u5668\u7684\u7edd\u5bf9\u8def\u5f84\u3002","title":"NEBULA_USE_LINKER"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#nebula_thirdparty_root","text":"\u8be5\u9009\u9879\u7528\u4e8e\u663e\u5f0f\u6307\u5b9a third party \u6240\u5728\u8def\u5f84\u3002","title":"NEBULA_THIRDPARTY_ROOT"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#third_party","text":"\u5728 configure/cmake \u9636\u6bb5\uff0c Nebula Graph \u9ed8\u8ba4\u5c06\u9884\u5148\u7f16\u8bd1\u597d\u7684 third party \u4e0b\u8f7d\u5230\u5f53\u524d build \u76ee\u5f55\u3002\u4f46\u662f\u5982\u679c\u4f60\u60f3\u5c06\u5176\u5b89\u88c5\u5230\u5176\u4ed6\u8def\u5f84\uff08\u6bd4\u5982\uff0c\u5b89\u88c5\u5230\u67d0\u4e2a\u516c\u5171\u76ee\u5f55\uff09\uff0c\u4f60\u53ef\u4ee5\uff1a # \u5b89\u88c5 third party \u81f3 /opt \u9700\u8981 root \u6743\u9650\uff0c\u53ef\u4f7f\u7528 --prefix \u6539\u53d8\u5b89\u88c5\u8def\u5f84 $ ../third-party/install-third-party.sh --prefix = /opt/vesoft/third-party \u5982\u679c\u4e0d\u6307\u5b9a --prefix \uff0cthird party \u7684\u9ed8\u8ba4\u5b89\u88c5\u8def\u5f84\u4e3a /opt/vesoft/third-party \uff0c\u4e14\u53ef\u4e3a Nebula Graph \u7684\u7f16\u8bd1\u7cfb\u7edf\u81ea\u52a8\u627e\u5230\u3002\u5426\u5219\uff0c\u9700\u4f7f\u7528\u4e0a\u6587\u6240\u8ff0\u7684 NEBULA_THIRDPARTY_ROOT CMake \u53c2\u6570\u6307\u5b9a\u8def\u5f84\uff0c\u6216\u4e3a\u8be5\u8def\u5f84\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u5e76\u5bfc\u51fa\u3002 Nebula Graph \u67e5\u627e\u5e76\u9009\u62e9 third party \u7684\u4f18\u5148\u7ea7\u5982\u4e0b\uff1a CMake \u53d8\u91cf NEBULA_THIRDPARTY_ROOT build \u8def\u5f84\u4e0b\u7684 third-party/install NEBULA_THIRDPARTY_ROOT \u73af\u5883\u53d8\u91cf /opt/vesoft/third-party","title":"\u624b\u52a8\u5b89\u88c5 Third Party"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#cmake_1","text":"\u5bf9\u4e8e\u6ca1\u6709\u53ef\u7528 CMake \u5b89\u88c5\u7684\u7528\u6237\uff0c \u6211\u4eec\u63d0\u4f9b\u4e86\u53ef\u81ea\u52a8\u4e0b\u8f7d\u5b89\u88c5\u7684\u811a\u672c\u3002\u5728 build \u76ee\u5f55\u4e0b\uff0c\u8fd0\u884c\uff1a $ ../third-party/install-cmake.sh cmake-install CMake has been installed to prefix = cmake-install Run 'source cmake-install/bin/enable-cmake.sh' to make it ready to use. Run 'source cmake-install/bin/disable-cmake.sh' to disable it. $ source cmake-install/bin/enable-cmake.sh $ cmake --version cmake version 3 .15.5 \u6b64\u65f6\u53ef\u7528\u7684 CMake \u5df2\u5b89\u88c5\u5b8c\u6210\u3002\u4f60\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u4f7f\u7528 source cmake-install/bin/disable-cmake.sh \u547d\u4ee4\u5c06\u5176\u7981\u7528\u3002","title":"\u5b89\u88c5\u53ef\u7528\u7684 CMake"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#gcc","text":"\u5bf9\u4e8e\u6ca1\u6709\u53ef\u7528 GCC \u5b89\u88c5\u7684\u7528\u6237\uff0c \u6211\u4eec\u63d0\u4f9b\u4e86 GCC \u548c\u53ef\u81ea\u52a8\u4e0b\u8f7d\u5b89\u88c5\u7684\u811a\u672c\u3002\u5728 build \u76ee\u5f55\u4e0b\uff0c\u8fd0\u884c\uff1a # \u5c06 GCC \u5b89\u88c5\u81f3 /opt \u9700\u8981 root \u6743\u9650\uff0c\u652f\u6301\u66f4\u6539\u5b89\u88c5\u8def\u5f84 $ ../third-party/install-gcc.sh --prefix = /opt GCC-7.5.0 has been installed to /opt/vesoft/toolset/gcc/7.5.0 Performing usability tests Performing regular C++14 tests...OK Performing LeakSanitizer tests...OK Run 'source /opt/vesoft/toolset/gcc/7.5.0/enable' to start using. Run 'source /opt/vesoft/toolset/gcc/7.5.0/disable' to stop using. # \u6ce8\u610f\u8def\u5f84\u548c\u6307\u5b9a\u7248\u672c\u53ef\u80fd\u4e0e\u4f60\u7684\u73af\u5883\u4e0d\u540c $ source /opt/vesoft/toolset/gcc/7.5.0/enable # \u6b64\u5904\u4ec5\u8bbe\u7f6e\u4e86 PATH\uff0c\u4ee5\u514d\u6c61\u67d3\u5e93\u8def\u5f84 # \u5982\u679c\u9700\u8981\u53ef\u8fd0\u884c 'export LD_LIBRARY_PATH=/opt/vesoft/toolset/gcc/7.5.0/lib64:$LD_LIBRARY_PATH' $ g++ --version g++ ( Nebula Graph Build ) 7 .5.0 Copyright ( C ) 2017 Free Software Foundation, Inc. \u6b64\u65f6\u53ef\u7528\u7684 GCC \u7f16\u8bd1\u5668\u5df2\u5b89\u88c5\u5b8c\u6210\u3002\u4f60\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u4f7f\u7528 source /opt/vesoft/toolset/gcc/7.5.0/disable \u547d\u4ee4\u5c06\u5176\u7981\u7528\u3002","title":"\u5b89\u88c5\u53ef\u7528\u7684 GCC"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#_10","text":"\u5982\u679c\u5728\u7f16\u8bd1\u6e90\u7801\u65f6\u65e0\u6cd5\u8fde\u63a5\u7f51\u7edc\uff0c\u5219\u5fc5\u987b\u624b\u52a8\u4e0b\u8f7d\u4ee5\u4e0a\u5de5\u5177\u548c\u4f9d\u8d56\uff0c\u5305\u62ec Nebula Graph \u4ed3\u5e93\u4e2d\u7684 GCC \u7f16\u8bd1\u5668\uff0c\u7b2c\u4e09\u65b9\u5e93\u548c CMake\u3002\u7136\u540e\uff0c\u5c06\u6240\u6709\u5185\u5bb9\u590d\u5236\u5230\u4f60\u7684\u673a\u5668\u4e0a\u3002\u4ee5\u4e0b\u662f\u5feb\u901f\u6307\u5357\u3002\u8be6\u7ec6\u4fe1\u606f\u8bf7\u53c2\u8003\u4e0a\u8ff0\u6b65\u9aa4\u3002 \u9996\u5148\uff0c\u9700\u8981\u6709\u4e00\u53f0\u53ef\u4ee5\u8fde\u63a5\u5916\u7f51\u7684\u4e3b\u673a\uff0c\u5e76\u4e0b\u8f7d\u4ee5\u4e0b\u6587\u4ef6\uff1a # \u4e0b\u8f7d GCC # RedHat \u6216 CentOS \u7528\u6237 $ wget https://oss-cdn.nebula-graph.com.cn/toolset/vesoft-gcc-7.5.0-CentOS-x86_64-glibc-2.12.sh # Debian \u6216 Ubuntu \u7528\u6237 $ wget https://oss-cdn.nebula-graph.com.cn/toolset/vesoft-gcc-7.5.0-Debian-x86_64-glibc-2.13.sh # \u4e0b\u8f7d CMake $ wget https://cmake.org/files/v3.15/cmake-3.15.5-Linux-x86_64.sh # \u4e0b\u8f7d\u7b2c\u4e09\u65b9\u5e93 $ wget https://oss-cdn.nebula-graph.com.cn/third-party/vesoft-third-party-x86_64-libc-2.12-gcc-7.5.0-abi-11.sh \u7136\u540e\uff0c\u5c06\u8fd9\u4e9b\u8f6f\u4ef6\u5305\u590d\u5236\u5230\u7f16\u8bd1\u7684\u673a\u5668\u5e76\u8fd0\u884c\u3002 # \u5b89\u88c5 GCC # RedHat \u6216 CentOS \u7528\u6237 $ sudo bash vesoft-gcc-7.5.0-CentOS-x86_64-glibc-2.12.sh # Debian \u6216 Ubuntu \u7528\u6237 $ sudo bash vesoft-gcc-7.5.0-Debian-x86_64-glibc-2.13.sh # \u542f\u7528 GCC \u5b89\u88c5 $ source /opt/vesoft/toolset/gcc/7.5.0/enable # \u5b89\u88c5 CMake $ sudo bash cmake-3.15.5-Linux-x86_64.sh --skip-license --prefix = /opt/vesoft/toolset/cmake # \u5c06\u5b89\u88c5\u597d\u7684cmake\u7684bin\u76ee\u5f55\u52a0\u5230PATH\u91cc\u9762 $ export PATH = /opt/vesoft/toolset/cmake: $PATH # \u5b89\u88c5\u7b2c\u4e09\u65b9\u5e93 $ sudo bash vesoft-third-party-x86_64-libc-2.12-gcc-7.5.0-abi-11.sh \u73b0\u5728\u60a8\u5c31\u53ef\u4ee5\u4e0b\u8f7d\u5e76\u7f16\u8bd1 Nebula Graph \u9879\u76ee\u4e86\u3002","title":"\u65e0\u7f51\u7edc\u7f16\u8bd1"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#_11","text":"\u5378\u8f7d\u524d\uff0c\u8bf7\u5148\u505c\u6b62\u670d\u52a1\u3002\u5728 make \u76ee\u5f55\u4e0b\u4f7f\u7528 make uninstall \u547d\u4ee4\u5373\u53ef\u5378\u8f7d Nebula Graph \u3002\u8bf7\u6ce8\u610f\u5378\u8f7d\u4e4b\u540e\u914d\u7f6e\u6587\u4ef6\u4e0d\u4f1a\u5220\u9664\u3002","title":"\u5378\u8f7d"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#faq","text":"","title":"FAQ"},{"location":"manual-CN/3.build-develop-and-administration/1.build/1.build-source-code/#error_invalid_argument_type_auto_to_unary_expression","text":"\u5f53\u4f7f\u7528 Clang 9.0 \u7f16\u8bd1 Nebula Graph \u65f6\uff0c\u4f1a\u53d1\u751f\u8be5\u9519\u8bef\uff1a [ 5 % ] Building CXX object src/common/fs/CMakeFiles/fs_obj.dir/FileUtils.cpp.o In file included from src/common/fs/FileUtils.cpp:8: In file included from src/common/fs/FileUtils.h:12: src/common/base/StatusOr.h:57:19: error: invalid argument type 'auto' to unary expression static_assert ( !is_status_v<T>, \"`T' must not be of type `Status'\" ) ; ^~~~~~~~~~~~~~~ src/common/fs/FileUtils.cpp:90:34: note: in instantiation of template class 'nebula::StatusOr<std::__cxx11::basic_string<char> >' requested here StatusOr<std::string> FileUtils::readLink ( const char *path ) { ... \u8fd9\u662f Clang 9.0 \u5f15\u5165\u7684\u4e00\u4e2a\u5df2\u77e5\u7684 Bug\uff0cClang 10.0\uff082020-05-25\uff09\u5c1a\u672a\u4fee\u590d\u3002","title":"error: invalid argument type 'auto' to unary expression"},{"location":"manual-CN/3.build-develop-and-administration/1.build/2.build-by-docker/","text":"\u901a\u8fc7 Docker \u6784\u5efa \u00b6 Nebula Graph \u63d0\u4f9b\u6574\u4e2a\u7f16\u8bd1\u73af\u5883\u7684 docker \u955c\u50cf vesoft/nebula-dev \uff0c\u652f\u6301\u5728\u672c\u5730\u66f4\u6539\u6e90\u4ee3\u7801\uff0c\u6784\u5efa\u5e76\u5728\u5bb9\u5668\u4e2d\u8c03\u8bd5\u3002\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\u4ee5\u5f00\u59cb\u5feb\u901f\u5f00\u53d1\uff1a \u4ece Docker Hub \u83b7\u53d6\u955c\u50cf \u00b6 bash> docker pull vesoft/nebula-dev \u8fd0\u884c docker \u5bb9\u5668\u5e76\u5c06\u672c\u5730\u6e90\u7801\u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u5de5\u4f5c\u76ee\u5f55 /home/nebula \u4e2d \u00b6 bash> docker run --rm -ti \\ --security-opt seccomp = unconfined \\ -v /path/to/nebula/directory:/home/nebula \\ -w /home/nebula \\ vesoft/nebula-dev \\ bash \u5c06 /path/to/nebula/directory \u66ff\u6362\u6210\u4f60\u4e2a\u4eba\u7684 \u6e90\u7801\u8def\u5f84 \u3002 \u5728\u5bb9\u5668\u5185\u7f16\u8bd1 \u00b6 docker> mkdir _build && cd _build docker> cmake .. docker> make docker> make install \u542f\u52a8 Nebula Graph \u670d\u52a1 \u00b6 \u4e0a\u8ff0\u6b65\u9aa4\u5b8c\u6210\u540e\u5373\u53ef\u5728\u5bb9\u5668\u5185\u542f\u52a8\u670d\u52a1\uff0c\u9ed8\u8ba4\u5b89\u88c5\u76ee\u5f55\u4e3a /usr/local/nebula/ \u3002 docker> cd /usr/local/nebula \u91cd\u547d\u540d Nebula Graph \u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6 docker> cp etc/nebula-graphd.conf.default etc/nebula-graphd.conf docker> cp etc/nebula-metad.conf.default etc/nebula-metad.conf docker> cp etc/nebula-storaged.conf.default etc/nebula-storaged.conf \u542f\u52a8\u670d\u52a1 docker> ./scripts/nebula.service start all docker> ./bin/nebula -u root -p nebula --port 3699 --addr = \"127.0.0.1\" nebula> SHOW HOSTS ;","title":"\u4f7f\u7528 Docker \u7f16\u8bd1"},{"location":"manual-CN/3.build-develop-and-administration/1.build/2.build-by-docker/#docker","text":"Nebula Graph \u63d0\u4f9b\u6574\u4e2a\u7f16\u8bd1\u73af\u5883\u7684 docker \u955c\u50cf vesoft/nebula-dev \uff0c\u652f\u6301\u5728\u672c\u5730\u66f4\u6539\u6e90\u4ee3\u7801\uff0c\u6784\u5efa\u5e76\u5728\u5bb9\u5668\u4e2d\u8c03\u8bd5\u3002\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\u4ee5\u5f00\u59cb\u5feb\u901f\u5f00\u53d1\uff1a","title":"\u901a\u8fc7 Docker \u6784\u5efa"},{"location":"manual-CN/3.build-develop-and-administration/1.build/2.build-by-docker/#docker_hub","text":"bash> docker pull vesoft/nebula-dev","title":"\u4ece Docker Hub \u83b7\u53d6\u955c\u50cf"},{"location":"manual-CN/3.build-develop-and-administration/1.build/2.build-by-docker/#docker_homenebula","text":"bash> docker run --rm -ti \\ --security-opt seccomp = unconfined \\ -v /path/to/nebula/directory:/home/nebula \\ -w /home/nebula \\ vesoft/nebula-dev \\ bash \u5c06 /path/to/nebula/directory \u66ff\u6362\u6210\u4f60\u4e2a\u4eba\u7684 \u6e90\u7801\u8def\u5f84 \u3002","title":"\u8fd0\u884c docker \u5bb9\u5668\u5e76\u5c06\u672c\u5730\u6e90\u7801\u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u5de5\u4f5c\u76ee\u5f55 /home/nebula \u4e2d"},{"location":"manual-CN/3.build-develop-and-administration/1.build/2.build-by-docker/#_1","text":"docker> mkdir _build && cd _build docker> cmake .. docker> make docker> make install","title":"\u5728\u5bb9\u5668\u5185\u7f16\u8bd1"},{"location":"manual-CN/3.build-develop-and-administration/1.build/2.build-by-docker/#nebula_graph","text":"\u4e0a\u8ff0\u6b65\u9aa4\u5b8c\u6210\u540e\u5373\u53ef\u5728\u5bb9\u5668\u5185\u542f\u52a8\u670d\u52a1\uff0c\u9ed8\u8ba4\u5b89\u88c5\u76ee\u5f55\u4e3a /usr/local/nebula/ \u3002 docker> cd /usr/local/nebula \u91cd\u547d\u540d Nebula Graph \u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6 docker> cp etc/nebula-graphd.conf.default etc/nebula-graphd.conf docker> cp etc/nebula-metad.conf.default etc/nebula-metad.conf docker> cp etc/nebula-storaged.conf.default etc/nebula-storaged.conf \u542f\u52a8\u670d\u52a1 docker> ./scripts/nebula.service start all docker> ./bin/nebula -u root -p nebula --port 3699 --addr = \"127.0.0.1\" nebula> SHOW HOSTS ;","title":"\u542f\u52a8 Nebula Graph \u670d\u52a1"},{"location":"manual-CN/3.build-develop-and-administration/2.install/1.install-with-rpm-deb/","text":"\u4f7f\u7528 rpm/deb \u5305\u5b89\u88c5 Nebula Graph \u00b6 \u6982\u89c8 \u00b6 \u672c\u6307\u5357\u5c06\u6307\u5bfc\u60a8\u4f7f\u7528 rpm/deb \u5305\u6765\u5b89\u88c5 Nebula Graph \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u8bf7\u53c2\u8003 \u8fd0\u884c\u914d\u7f6e\u8981\u6c42\u6587\u6863 \u3002 \u5b89\u88c5 Nebula Graph \u00b6 \u4f7f\u7528 rpm/deb \u5305\u6765\u5b89\u88c5 Nebula Graph \uff0c\u9700\u8981\u5b8c\u6210\u4ee5\u4e0b\u6b65\u9aa4\uff1a \u4e0b\u8f7d\u5b89\u88c5\u5305 \u65b9\u5f0f\u4e00\uff1a\u901a\u8fc7\u963f\u91cc\u4e91 OSS \u83b7\u53d6\u5b89\u88c5\u5305\u3002\uff08\u56fd\u5185\u7528\u6237\u53ef\u4f18\u5148\u8003\u8651\u4f7f\u7528 OSS \u4e0b\u8f7d\uff09 \u83b7\u53d6 release \u7248\u672c\uff0cURL \u683c\u5f0f\u5982\u4e0b\uff1a * Centos 6: https://oss-cdn.nebula-graph.com.cn/package/${release_version}/nebula-${release_version}.el6-5.x86_64.rpm * Centos 7: https://oss-cdn.nebula-graph.com.cn/package/${release_version}/nebula-${release_version}.el7-5.x86_64.rpm * Ubuntu 1604: https://oss-cdn.nebula-graph.com.cn/package/${release_version}/nebula-${release_version}.ubuntu1604.amd64.deb * Ubuntu 1804: https://oss-cdn.nebula-graph.com.cn/package/${release_version}/nebula-${release_version}.ubuntu1804.amd64.deb \u94fe\u63a5\u4e2d ${release_version} \u4e3a\u5177\u4f53\u7684\u53d1\u5e03\u7248\u672c\u53f7\uff0c\u4f8b\u5982\u8981\u4e0b\u8f7d 1.2.1 Centos 7.5 \u7684\u5b89\u88c5\u5305\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u547d\u4ee4\u4e0b\u8f7d\u3002 $ wget https://oss-cdn.nebula-graph.com.cn/package/1.2.1/nebula-1.2.1.el7-5.x86_64.rpm b. \u83b7\u53d6 nightly (\u6700\u65b0\u6d4b\u8bd5)\u7248\u672c\uff0cURL \u683c\u5f0f\u5982\u4e0b\uff1a * Centos 6: https://oss-cdn.nebula-graph.com.cn/package/nightly/${date}/nebula-${date}-nightly.el6-5.x86_64.rpm * Centos 7: https://oss-cdn.nebula-graph.com.cn/package/nightly/${date}/nebula-${date}-nightly.el7-5.x86_64.rpm * Ubuntu 1604: https://oss-cdn.nebula-graph.com.cn/package/nightly/${date}/nebula-${date}-nightly.ubuntu1604.amd64.deb * Ubuntu 1804: https://oss-cdn.nebula-graph.com.cn/package/nightly/${date}/nebula-${date}-nightly.ubuntu1804.amd64.deb \u94fe\u63a5\u4e2d ${date} \u4e3a\u5177\u4f53\u7684\u65e5\u671f\uff0c\u4f8b\u5982\u8981\u4e0b\u8f7d 2020\u5e744\u67081\u65e5 \u7684 Centos 7.5 \u7684\u5b89\u88c5\u5305\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u547d\u4ee4\u4e0b\u8f7d $ wget https://oss-cdn.nebula-graph.com.cn/package/nightly/2020.04.01/nebula-2020.04.01-nightly.el7-5.x86_64.rpm \u65b9\u5f0f\u4e8c\uff1a\u901a\u8fc7 GitHub \u83b7\u53d6\u5b89\u88c5\u5305 \u767b\u5f55\u5230 GitHub \u5e76\u5355\u51fb rpm/deb \u94fe\u63a5\u3002 \u5728 Actions \u9009\u9879\u5361\u4e0b\uff0c\u5355\u51fb\u5de6\u4fa7\u7684 package \uff0c\u663e\u793a\u6240\u6709\u53ef\u7528\u7684\u5305\u3002 \u5355\u51fb\u5217\u8868\u9876\u90e8\u6700\u65b0\u7684\u5305\u3002 \u5355\u51fb\u53f3\u4e0a\u89d2 Artifacts \uff0c \u9009\u62e9\u8981\u4e0b\u8f7d\u7684\u5b89\u88c5\u5305\u3002 \u5b89\u88c5 Nebula Graph \u5982\u679c\u662f rpm \u6587\u4ef6\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 Nebula Graph \uff1a sudo rpm -ivh nebula-2019.12.23-nightly.el6-5.x86_64.rpm \u5982\u679c\u662f deb \u6587\u4ef6\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 Nebula Graph \uff1a sudo dpkg -i nebula-2019.12.23-nightly.ubuntu1604.amd64.deb \u5982\u9700\u5b89\u88c5\u81f3\u81ea\u5b9a\u4e49\u76ee\u5f55\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a rpm -ivh --prefix = ${ your_dir } nebula-graph- ${ version } .rpm \u6ce8\u610f \uff1a \u4f7f\u7528\u60a8\u81ea\u5df1\u7684\u6587\u4ef6\u540d\u66ff\u6362\u4ee5\u4e0a\u547d\u4ee4\u4e2d\u7684\u6587\u4ef6\u540d\uff0c\u5426\u5219\u4ee5\u4e0a\u547d\u4ee4\u53ef\u80fd\u6267\u884c\u5931\u8d25\u3002 Nebula Graph \u9ed8\u8ba4\u4f1a\u5b89\u88c5\u5728 /usr/local/nebula \u76ee\u5f55\u4e0b\u3002 \u542f\u52a8 Nebula Graph \u670d\u52a1 \u00b6 \u8be6\u60c5\u53c2\u8003 \u542f\u52a8\u548c\u505c\u6b62 Nebula Graph \u670d\u52a1\u6587\u6863 \u3002 \u5378\u8f7d \u00b6 \u5378\u8f7d\u524d\uff0c\u8bf7\u5148\u505c\u6b62\u670d\u52a1\u3002\u5982\u679c\u4f7f\u7528 rpm \u5b89\u88c5\uff0c\u4f7f\u7528 rpm -qa | grep nebula \u547d\u4ee4\u641c\u7d22 nebula \uff0c\u7136\u540e\u628a\u7ed3\u679c\u4f20\u7ed9 rpm -e \u540c\u7406\u5373\u53ef\u5378\u8f7d\u3002\u4f7f\u7528 deb \u5b89\u88c5\u5219\u9700\u901a\u8fc7 dpkg \u5378\u8f7d\u3002\u8bf7\u6ce8\u610f\u5378\u8f7d\u4e4b\u540e\u914d\u7f6e\u6587\u4ef6\u4e0d\u4f1a\u5220\u9664\u3002 # rpm $ rpm -qa | grep nebula nebula-graph-1.2.1-1.x86_64 $ sudo rpm -e nebula-graph-1.2.1-1.x86_64 # deb $ dpkg -l | grep nebula nebule-graph $ dpkg -r nebule-graph","title":"rpm \u5b89\u88c5"},{"location":"manual-CN/3.build-develop-and-administration/2.install/1.install-with-rpm-deb/#rpmdeb_nebula_graph","text":"","title":"\u4f7f\u7528 rpm/deb \u5305\u5b89\u88c5 Nebula Graph"},{"location":"manual-CN/3.build-develop-and-administration/2.install/1.install-with-rpm-deb/#_1","text":"\u672c\u6307\u5357\u5c06\u6307\u5bfc\u60a8\u4f7f\u7528 rpm/deb \u5305\u6765\u5b89\u88c5 Nebula Graph \u3002","title":"\u6982\u89c8"},{"location":"manual-CN/3.build-develop-and-administration/2.install/1.install-with-rpm-deb/#_2","text":"\u8bf7\u53c2\u8003 \u8fd0\u884c\u914d\u7f6e\u8981\u6c42\u6587\u6863 \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"manual-CN/3.build-develop-and-administration/2.install/1.install-with-rpm-deb/#nebula_graph","text":"\u4f7f\u7528 rpm/deb \u5305\u6765\u5b89\u88c5 Nebula Graph \uff0c\u9700\u8981\u5b8c\u6210\u4ee5\u4e0b\u6b65\u9aa4\uff1a \u4e0b\u8f7d\u5b89\u88c5\u5305 \u65b9\u5f0f\u4e00\uff1a\u901a\u8fc7\u963f\u91cc\u4e91 OSS \u83b7\u53d6\u5b89\u88c5\u5305\u3002\uff08\u56fd\u5185\u7528\u6237\u53ef\u4f18\u5148\u8003\u8651\u4f7f\u7528 OSS \u4e0b\u8f7d\uff09 \u83b7\u53d6 release \u7248\u672c\uff0cURL \u683c\u5f0f\u5982\u4e0b\uff1a * Centos 6: https://oss-cdn.nebula-graph.com.cn/package/${release_version}/nebula-${release_version}.el6-5.x86_64.rpm * Centos 7: https://oss-cdn.nebula-graph.com.cn/package/${release_version}/nebula-${release_version}.el7-5.x86_64.rpm * Ubuntu 1604: https://oss-cdn.nebula-graph.com.cn/package/${release_version}/nebula-${release_version}.ubuntu1604.amd64.deb * Ubuntu 1804: https://oss-cdn.nebula-graph.com.cn/package/${release_version}/nebula-${release_version}.ubuntu1804.amd64.deb \u94fe\u63a5\u4e2d ${release_version} \u4e3a\u5177\u4f53\u7684\u53d1\u5e03\u7248\u672c\u53f7\uff0c\u4f8b\u5982\u8981\u4e0b\u8f7d 1.2.1 Centos 7.5 \u7684\u5b89\u88c5\u5305\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u547d\u4ee4\u4e0b\u8f7d\u3002 $ wget https://oss-cdn.nebula-graph.com.cn/package/1.2.1/nebula-1.2.1.el7-5.x86_64.rpm b. \u83b7\u53d6 nightly (\u6700\u65b0\u6d4b\u8bd5)\u7248\u672c\uff0cURL \u683c\u5f0f\u5982\u4e0b\uff1a * Centos 6: https://oss-cdn.nebula-graph.com.cn/package/nightly/${date}/nebula-${date}-nightly.el6-5.x86_64.rpm * Centos 7: https://oss-cdn.nebula-graph.com.cn/package/nightly/${date}/nebula-${date}-nightly.el7-5.x86_64.rpm * Ubuntu 1604: https://oss-cdn.nebula-graph.com.cn/package/nightly/${date}/nebula-${date}-nightly.ubuntu1604.amd64.deb * Ubuntu 1804: https://oss-cdn.nebula-graph.com.cn/package/nightly/${date}/nebula-${date}-nightly.ubuntu1804.amd64.deb \u94fe\u63a5\u4e2d ${date} \u4e3a\u5177\u4f53\u7684\u65e5\u671f\uff0c\u4f8b\u5982\u8981\u4e0b\u8f7d 2020\u5e744\u67081\u65e5 \u7684 Centos 7.5 \u7684\u5b89\u88c5\u5305\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u547d\u4ee4\u4e0b\u8f7d $ wget https://oss-cdn.nebula-graph.com.cn/package/nightly/2020.04.01/nebula-2020.04.01-nightly.el7-5.x86_64.rpm \u65b9\u5f0f\u4e8c\uff1a\u901a\u8fc7 GitHub \u83b7\u53d6\u5b89\u88c5\u5305 \u767b\u5f55\u5230 GitHub \u5e76\u5355\u51fb rpm/deb \u94fe\u63a5\u3002 \u5728 Actions \u9009\u9879\u5361\u4e0b\uff0c\u5355\u51fb\u5de6\u4fa7\u7684 package \uff0c\u663e\u793a\u6240\u6709\u53ef\u7528\u7684\u5305\u3002 \u5355\u51fb\u5217\u8868\u9876\u90e8\u6700\u65b0\u7684\u5305\u3002 \u5355\u51fb\u53f3\u4e0a\u89d2 Artifacts \uff0c \u9009\u62e9\u8981\u4e0b\u8f7d\u7684\u5b89\u88c5\u5305\u3002 \u5b89\u88c5 Nebula Graph \u5982\u679c\u662f rpm \u6587\u4ef6\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 Nebula Graph \uff1a sudo rpm -ivh nebula-2019.12.23-nightly.el6-5.x86_64.rpm \u5982\u679c\u662f deb \u6587\u4ef6\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 Nebula Graph \uff1a sudo dpkg -i nebula-2019.12.23-nightly.ubuntu1604.amd64.deb \u5982\u9700\u5b89\u88c5\u81f3\u81ea\u5b9a\u4e49\u76ee\u5f55\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a rpm -ivh --prefix = ${ your_dir } nebula-graph- ${ version } .rpm \u6ce8\u610f \uff1a \u4f7f\u7528\u60a8\u81ea\u5df1\u7684\u6587\u4ef6\u540d\u66ff\u6362\u4ee5\u4e0a\u547d\u4ee4\u4e2d\u7684\u6587\u4ef6\u540d\uff0c\u5426\u5219\u4ee5\u4e0a\u547d\u4ee4\u53ef\u80fd\u6267\u884c\u5931\u8d25\u3002 Nebula Graph \u9ed8\u8ba4\u4f1a\u5b89\u88c5\u5728 /usr/local/nebula \u76ee\u5f55\u4e0b\u3002","title":"\u5b89\u88c5 Nebula Graph"},{"location":"manual-CN/3.build-develop-and-administration/2.install/1.install-with-rpm-deb/#nebula_graph_1","text":"\u8be6\u60c5\u53c2\u8003 \u542f\u52a8\u548c\u505c\u6b62 Nebula Graph \u670d\u52a1\u6587\u6863 \u3002","title":"\u542f\u52a8 Nebula Graph \u670d\u52a1"},{"location":"manual-CN/3.build-develop-and-administration/2.install/1.install-with-rpm-deb/#_3","text":"\u5378\u8f7d\u524d\uff0c\u8bf7\u5148\u505c\u6b62\u670d\u52a1\u3002\u5982\u679c\u4f7f\u7528 rpm \u5b89\u88c5\uff0c\u4f7f\u7528 rpm -qa | grep nebula \u547d\u4ee4\u641c\u7d22 nebula \uff0c\u7136\u540e\u628a\u7ed3\u679c\u4f20\u7ed9 rpm -e \u540c\u7406\u5373\u53ef\u5378\u8f7d\u3002\u4f7f\u7528 deb \u5b89\u88c5\u5219\u9700\u901a\u8fc7 dpkg \u5378\u8f7d\u3002\u8bf7\u6ce8\u610f\u5378\u8f7d\u4e4b\u540e\u914d\u7f6e\u6587\u4ef6\u4e0d\u4f1a\u5220\u9664\u3002 # rpm $ rpm -qa | grep nebula nebula-graph-1.2.1-1.x86_64 $ sudo rpm -e nebula-graph-1.2.1-1.x86_64 # deb $ dpkg -l | grep nebula nebule-graph $ dpkg -r nebule-graph","title":"\u5378\u8f7d"},{"location":"manual-CN/3.build-develop-and-administration/2.install/2.start-stop-service/","text":"\u542f\u52a8\u548c\u505c\u6b62 Nebula Graph \u670d\u52a1 \u00b6 \u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8 Nebula Graph \u670d\u52a1 \u00b6 sudo /usr/local/nebula/scripts/nebula.service start all [ INFO ] Starting nebula-metad... [ INFO ] Done [ INFO ] Starting nebula-graphd... [ INFO ] Done [ INFO ] Starting nebula-storaged... [ INFO ] Done \u67e5\u770b Nebula Graph \u670d\u52a1 \u00b6 \u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b Nebula Graph \u670d\u52a1\uff1a sudo /usr/local/nebula/scripts/nebula.service status all [ INFO ] nebula-metad: Running as 9576 , Listening on 45500 [ INFO ] nebula-graphd: Running as 9679 , Listening on 3699 [ INFO ] nebula-storaged: Running as 9812 , Listening on 44500 \u8fde\u63a5 Nebula Graph \u670d\u52a1 \u00b6 \u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u8fde\u63a5 Nebula Graph \u670d\u52a1\uff1a sudo /usr/local/nebula/bin/nebula -u <user> -p <password> [ --addr = <graphd IP> --port = <graphd port> ] Welcome to Nebula Graph ( Version 1 .2.1 ) nebula> SHOW HOSTS ; -u \u7528\u6237\u540d\u79f0\uff0c\u9ed8\u8ba4\u503c\u4e3a root -p \u5bc6\u7801\uff0c\u7528\u6237 root \u7684\u9ed8\u8ba4\u5bc6\u7801\u4e3a nebula --addr \u4e3a graphd IP, \u9ed8\u8ba4\u4f7f\u7528 127.0.0.1 --port \u4e3a graphd port\uff0c\u9ed8\u8ba4\u503c\u4e3a 3699 SHOW HOSTS \u547d\u4ee4\u68c0\u67e5\u5df2\u6210\u529f\u8fde\u63a5\u7684 storaged \u670d\u52a1 \u6ce8\u610f\uff1a enable_authorize \u9ed8\u8ba4\u5173\u95ed\uff0c\u6b64\u65f6\u63a5\u53d7\u4efb\u610f\u8d26\u53f7\u5bc6\u7801\u548c\u65e0\u8d26\u53f7\u8fde\u63a5\u3002\u5982\u679c\u542f\u7528\uff0c\u5219\u9ed8\u8ba4\u7528\u6237\u540d\u548c\u5bc6\u7801\u5206\u522b\u4e3a root \u548c nebula\u3002 \u53c2\u89c1 Built-in Roles \u6587\u6863 \u3002 \u505c\u6b62 Nebula Graph \u670d\u52a1 \u00b6 \u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u505c\u6b62 Nebula Graph \u670d\u52a1\uff1a sudo /usr/local/nebula/scripts/nebula.service stop all [ INFO ] Stopping nebula-metad... [ INFO ] Done [ INFO ] Stopping nebula-graphd... [ INFO ] Done [ INFO ] Stopping nebula-storaged... [ INFO ] Done \u8bf7\u6ce8\u610f\u4e0d\u8981\u901a\u8fc7 kill -9 \u5173\u95ed\u670d\u52a1\uff0c\u5426\u5219\u53ef\u80fd\u8f83\u5c0f\u6982\u7387\u5bfc\u81f4\u6570\u636e\u4e22\u5931\uff0c\u5efa\u8bae\u4f7f\u7528\u4ee5\u4e0a\u65b9\u5f0f\u505c\u6b62\u670d\u52a1\u3002 \u542f\u505c\u5355\u4e2a Nebula Graph \u6a21\u5757 \u00b6 \u53ef\u4ee5\u4f7f\u7528\u811a\u672c nebula.service \u6765\u63a7\u5236\u5bf9\u5355\u4e2a\u6a21\u5757\u7684\u542f\u505c\u3002 sudo /usr/local/nebula/scripts/nebula.service Usage: ./nebula.service [ -v ] [ -c /path/to/config ] <start | stop | restart | status | kill> <metad | graphd | storaged | all> -v \u672c\u811a\u672c\u7684\u8be6\u7ec6\u8c03\u8bd5\u4fe1\u606f -c \u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff0c\u9ed8\u8ba4\u4e3a\u5b89\u88c5\u8def\u5f84(/usr/local/nebula/)\u4e0b\u7684 etc/ \u76ee\u5f55\u3002","title":"\u542f\u505c\u670d\u52a1"},{"location":"manual-CN/3.build-develop-and-administration/2.install/2.start-stop-service/#nebula_graph","text":"","title":"\u542f\u52a8\u548c\u505c\u6b62 Nebula Graph \u670d\u52a1"},{"location":"manual-CN/3.build-develop-and-administration/2.install/2.start-stop-service/#nebula_graph_1","text":"sudo /usr/local/nebula/scripts/nebula.service start all [ INFO ] Starting nebula-metad... [ INFO ] Done [ INFO ] Starting nebula-graphd... [ INFO ] Done [ INFO ] Starting nebula-storaged... [ INFO ] Done","title":"\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8 Nebula Graph \u670d\u52a1"},{"location":"manual-CN/3.build-develop-and-administration/2.install/2.start-stop-service/#nebula_graph_2","text":"\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b Nebula Graph \u670d\u52a1\uff1a sudo /usr/local/nebula/scripts/nebula.service status all [ INFO ] nebula-metad: Running as 9576 , Listening on 45500 [ INFO ] nebula-graphd: Running as 9679 , Listening on 3699 [ INFO ] nebula-storaged: Running as 9812 , Listening on 44500","title":"\u67e5\u770b Nebula Graph \u670d\u52a1"},{"location":"manual-CN/3.build-develop-and-administration/2.install/2.start-stop-service/#nebula_graph_3","text":"\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u8fde\u63a5 Nebula Graph \u670d\u52a1\uff1a sudo /usr/local/nebula/bin/nebula -u <user> -p <password> [ --addr = <graphd IP> --port = <graphd port> ] Welcome to Nebula Graph ( Version 1 .2.1 ) nebula> SHOW HOSTS ; -u \u7528\u6237\u540d\u79f0\uff0c\u9ed8\u8ba4\u503c\u4e3a root -p \u5bc6\u7801\uff0c\u7528\u6237 root \u7684\u9ed8\u8ba4\u5bc6\u7801\u4e3a nebula --addr \u4e3a graphd IP, \u9ed8\u8ba4\u4f7f\u7528 127.0.0.1 --port \u4e3a graphd port\uff0c\u9ed8\u8ba4\u503c\u4e3a 3699 SHOW HOSTS \u547d\u4ee4\u68c0\u67e5\u5df2\u6210\u529f\u8fde\u63a5\u7684 storaged \u670d\u52a1 \u6ce8\u610f\uff1a enable_authorize \u9ed8\u8ba4\u5173\u95ed\uff0c\u6b64\u65f6\u63a5\u53d7\u4efb\u610f\u8d26\u53f7\u5bc6\u7801\u548c\u65e0\u8d26\u53f7\u8fde\u63a5\u3002\u5982\u679c\u542f\u7528\uff0c\u5219\u9ed8\u8ba4\u7528\u6237\u540d\u548c\u5bc6\u7801\u5206\u522b\u4e3a root \u548c nebula\u3002 \u53c2\u89c1 Built-in Roles \u6587\u6863 \u3002","title":"\u8fde\u63a5 Nebula Graph \u670d\u52a1"},{"location":"manual-CN/3.build-develop-and-administration/2.install/2.start-stop-service/#nebula_graph_4","text":"\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u505c\u6b62 Nebula Graph \u670d\u52a1\uff1a sudo /usr/local/nebula/scripts/nebula.service stop all [ INFO ] Stopping nebula-metad... [ INFO ] Done [ INFO ] Stopping nebula-graphd... [ INFO ] Done [ INFO ] Stopping nebula-storaged... [ INFO ] Done \u8bf7\u6ce8\u610f\u4e0d\u8981\u901a\u8fc7 kill -9 \u5173\u95ed\u670d\u52a1\uff0c\u5426\u5219\u53ef\u80fd\u8f83\u5c0f\u6982\u7387\u5bfc\u81f4\u6570\u636e\u4e22\u5931\uff0c\u5efa\u8bae\u4f7f\u7528\u4ee5\u4e0a\u65b9\u5f0f\u505c\u6b62\u670d\u52a1\u3002","title":"\u505c\u6b62 Nebula Graph \u670d\u52a1"},{"location":"manual-CN/3.build-develop-and-administration/2.install/2.start-stop-service/#nebula_graph_5","text":"\u53ef\u4ee5\u4f7f\u7528\u811a\u672c nebula.service \u6765\u63a7\u5236\u5bf9\u5355\u4e2a\u6a21\u5757\u7684\u542f\u505c\u3002 sudo /usr/local/nebula/scripts/nebula.service Usage: ./nebula.service [ -v ] [ -c /path/to/config ] <start | stop | restart | status | kill> <metad | graphd | storaged | all> -v \u672c\u811a\u672c\u7684\u8be6\u7ec6\u8c03\u8bd5\u4fe1\u606f -c \u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff0c\u9ed8\u8ba4\u4e3a\u5b89\u88c5\u8def\u5f84(/usr/local/nebula/)\u4e0b\u7684 etc/ \u76ee\u5f55\u3002","title":"\u542f\u505c\u5355\u4e2a Nebula Graph \u6a21\u5757"},{"location":"manual-CN/3.build-develop-and-administration/2.install/3.install-with-docker/","text":"\u4f7f\u7528 Docker \u5b89\u88c5 \u00b6 \u8bbf\u95ee \u8fd9\u91cc \u3002","title":"Docker \u5b89\u88c5"},{"location":"manual-CN/3.build-develop-and-administration/2.install/3.install-with-docker/#docker","text":"\u8bbf\u95ee \u8fd9\u91cc \u3002","title":"\u4f7f\u7528 Docker \u5b89\u88c5"},{"location":"manual-CN/3.build-develop-and-administration/2.install/4.cluster-deploy/","text":"\u96c6\u7fa4\u90e8\u7f72 \u00b6 \u5728\u672c\u6587\u6863\u4e2d\uff0c\u6211\u4eec\u5c06\u6307\u5bfc\u60a8\u4f7f\u7528\u90e8\u7f72 Nebula Graph \u96c6\u7fa4\u3002\u540c\u65f6\u6211\u4eec\u4e5f\u4f7f\u7528 Docker \u90e8\u7f72\u597d\u4e86\u96c6\u7fa4\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u5728\u51e0\u5206\u949f\u4e4b\u5185\u8bd5\u7528\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728\u5f00\u59cb\u90e8\u7f72 Nebula Graph \u96c6\u7fa4\u524d\uff0c\u786e\u4fdd\u60a8\u5df2\u5728\u96c6\u7fa4\u7684\u6bcf\u4e00\u53f0\u673a\u5668\u4e0a\u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684 Nebula Graph \u3002\u5b89\u88c5\u65b9\u5f0f\u53c2\u8003\uff1a \u5305\u5b89\u88c5 \u6e90\u7801\u7f16\u8bd1\u5b89\u88c5 \u7531\u4e8e Nebula Graph \u4f9d\u8d56\u8f83\u591a\uff0c\u63a8\u8350\u4f7f\u7528\u5b89\u88c5\u5305\u5b89\u88c5\u3002 \u672c\u6587\u6863\u4e2d\uff0c\u6211\u4eec\u51c6\u5907\u4e86 3 \u53f0\u88c5\u6709 CentOS 7.5 \u7cfb\u7edf\u7684\u673a\u5668\uff0c IP \u5982\u4e0b\uff1a 192.168.8.14 # cluster-14 192.168.8.15 # cluster-15 192.168.8.16 # cluster-16 \u8981\u90e8\u7f72\u7684 Nebula Graph \u670d\u52a1 \u00b6 \u5728\u672c\u6587\u6863\u4e2d\u6211\u4eec\u5c06\u90e8\u7f72\u4ee5\u4e0b Nebula Graph \u670d\u52a1\uff1a 3 \u526f\u672c nebula-metad \u670d\u52a1 3 \u526f\u672c nebula-storaged \u670d\u52a1 3 \u526f\u672c nebula-graphd \u670d\u52a1 - cluster-14: metad/storaged/graphd - cluster-15: metad/storaged/graphd - cluster-16: metad/storaged/graphd \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 \u00b6 Nebula Graph \u7684\u6240\u6709\u914d\u7f6e\u6587\u4ef6\u5747\u4f4d\u4e8e /usr/local/nebula/etc \u76ee\u5f55\u4e0b\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u4e09\u4efd\u9ed8\u8ba4\u914d\u7f6e\u3002 nebula-metad.conf \u00b6 \u90e8\u7f72\u96c6\u7fa4\u65f6\uff0c\u9700\u8981\u6839\u636e\u6bcf\u4e2a\u8282\u70b9\u4e0a\u90e8\u7f72\u7684\u670d\u52a1\u4fee\u6539\u76f8\u5e94\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u4e24\u4e2a\u53c2\u6570\uff1a local_ip \u548c meta_server_addrs \u3002 local_ip \u8981\u4fee\u6539\u6210\u8282\u70b9\u7684 IP\uff0c meta_server_addrs \u9700\u8981\u4fee\u6539\u6210\u96c6\u7fa4\u4e0a meta \u670d\u52a1\u7684 ip:port \u5bf9\u3002\u591a\u4e2a ip:port \u5bf9\u4e4b\u95f4\u9700\u8981\u7528\u9017\u53f7\u9694\u5f00\u3002 cluster-14 \u4e0a\u7684\u4e24\u9879\u914d\u7f6e\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a # Peers --meta_server_addrs=192.168.8.14:45500,192.168.8.15:45500,192.168.8.16:45500 # Local ip --local_ip=192.168.8.14 # Meta daemon listening port --port=45500 nebula-graphd.conf \u00b6 \u90e8\u7f72\u96c6\u7fa4\u65f6\uff0c\u9700\u8981\u4e3a graphd \u670d\u52a1\u914d\u7f6e metad \u7684\u5730\u5740\u548c\u7aef\u53e3 meta_server_addrs \u3002 cluster-14 \u4e0a\u7684\u90e8\u5206\u914d\u7f6e\u5982\u4e0b\uff1a # Meta Server Address --meta_server_addrs=192.168.8.14:45500,192.168.8.15:45500,192.168.8.16:45500 nebula-storaged.conf \u00b6 \u90e8\u7f72\u96c6\u7fa4\u65f6\uff0c\u9700\u8981\u4e3a storaged \u670d\u52a1\u914d\u7f6e metad \u7684\u5730\u5740\u548c\u7aef\u53e3 meta_server_addrs \u4ee5\u53ca\u672c\u673a\u5730\u5740 local_ip \u3002 cluster-14 \u4e0a\u7684\u90e8\u5206\u914d\u7f6e\u5982\u4e0b\uff1a # Meta server address --meta_server_addrs=192.168.8.14:45500,192.168.8.15:45500,192.168.8.16:45500 # Local ip --local_ip=192.168.8.14 # Storage daemon listening port --port=44500 \u542f\u52a8\u96c6\u7fa4 \u00b6 \u96c6\u7fa4\u542f\u52a8\u8bf7\u53c2\u8003 \u542f\u505c Nebula Graph \u670d\u52a1\u6587\u6863 \u3002 \u6d4b\u8bd5\u96c6\u7fa4 \u00b6 \u767b\u5f55\u96c6\u7fa4\u4e2d\u7684\u4e00\u53f0\u673a\u5668\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a [(none)]> SHOW HOSTS; ============================================================================================================================================= | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ============================================================================================================================================= | 192.168.8.14 | 44500 | online | 0 | No valid partition | No valid partition | --------------------------------------------------------------------------------------------------------------------------------------------- | 192.168.8.15 | 44500 | online | 3 | toy: 1, test: 1, basketballplayer: 1 | basketballplayer: 1, toy: 1, test: 1 | --------------------------------------------------------------------------------------------------------------------------------------------- | 192.168.8.16 | 44500 | online | 0 | No valid partition | No valid partition | --------------------------------------------------------------------------------------------------------------------------------------------- | Total | | | 3 | basketballplayer: 1, toy: 1, test: 1 | basketballplayer: 1, test: 1, toy: 1 | ---------------------------------------------------------------------------------------------------------------------------------------------","title":"\u96c6\u7fa4\u90e8\u7f72"},{"location":"manual-CN/3.build-develop-and-administration/2.install/4.cluster-deploy/#_1","text":"\u5728\u672c\u6587\u6863\u4e2d\uff0c\u6211\u4eec\u5c06\u6307\u5bfc\u60a8\u4f7f\u7528\u90e8\u7f72 Nebula Graph \u96c6\u7fa4\u3002\u540c\u65f6\u6211\u4eec\u4e5f\u4f7f\u7528 Docker \u90e8\u7f72\u597d\u4e86\u96c6\u7fa4\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u5728\u51e0\u5206\u949f\u4e4b\u5185\u8bd5\u7528\u3002","title":"\u96c6\u7fa4\u90e8\u7f72"},{"location":"manual-CN/3.build-develop-and-administration/2.install/4.cluster-deploy/#_2","text":"\u5728\u5f00\u59cb\u90e8\u7f72 Nebula Graph \u96c6\u7fa4\u524d\uff0c\u786e\u4fdd\u60a8\u5df2\u5728\u96c6\u7fa4\u7684\u6bcf\u4e00\u53f0\u673a\u5668\u4e0a\u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684 Nebula Graph \u3002\u5b89\u88c5\u65b9\u5f0f\u53c2\u8003\uff1a \u5305\u5b89\u88c5 \u6e90\u7801\u7f16\u8bd1\u5b89\u88c5 \u7531\u4e8e Nebula Graph \u4f9d\u8d56\u8f83\u591a\uff0c\u63a8\u8350\u4f7f\u7528\u5b89\u88c5\u5305\u5b89\u88c5\u3002 \u672c\u6587\u6863\u4e2d\uff0c\u6211\u4eec\u51c6\u5907\u4e86 3 \u53f0\u88c5\u6709 CentOS 7.5 \u7cfb\u7edf\u7684\u673a\u5668\uff0c IP \u5982\u4e0b\uff1a 192.168.8.14 # cluster-14 192.168.8.15 # cluster-15 192.168.8.16 # cluster-16","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"manual-CN/3.build-develop-and-administration/2.install/4.cluster-deploy/#nebula_graph","text":"\u5728\u672c\u6587\u6863\u4e2d\u6211\u4eec\u5c06\u90e8\u7f72\u4ee5\u4e0b Nebula Graph \u670d\u52a1\uff1a 3 \u526f\u672c nebula-metad \u670d\u52a1 3 \u526f\u672c nebula-storaged \u670d\u52a1 3 \u526f\u672c nebula-graphd \u670d\u52a1 - cluster-14: metad/storaged/graphd - cluster-15: metad/storaged/graphd - cluster-16: metad/storaged/graphd","title":"\u8981\u90e8\u7f72\u7684 Nebula Graph \u670d\u52a1"},{"location":"manual-CN/3.build-develop-and-administration/2.install/4.cluster-deploy/#_3","text":"Nebula Graph \u7684\u6240\u6709\u914d\u7f6e\u6587\u4ef6\u5747\u4f4d\u4e8e /usr/local/nebula/etc \u76ee\u5f55\u4e0b\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u4e09\u4efd\u9ed8\u8ba4\u914d\u7f6e\u3002","title":"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"},{"location":"manual-CN/3.build-develop-and-administration/2.install/4.cluster-deploy/#nebula-metadconf","text":"\u90e8\u7f72\u96c6\u7fa4\u65f6\uff0c\u9700\u8981\u6839\u636e\u6bcf\u4e2a\u8282\u70b9\u4e0a\u90e8\u7f72\u7684\u670d\u52a1\u4fee\u6539\u76f8\u5e94\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u4e24\u4e2a\u53c2\u6570\uff1a local_ip \u548c meta_server_addrs \u3002 local_ip \u8981\u4fee\u6539\u6210\u8282\u70b9\u7684 IP\uff0c meta_server_addrs \u9700\u8981\u4fee\u6539\u6210\u96c6\u7fa4\u4e0a meta \u670d\u52a1\u7684 ip:port \u5bf9\u3002\u591a\u4e2a ip:port \u5bf9\u4e4b\u95f4\u9700\u8981\u7528\u9017\u53f7\u9694\u5f00\u3002 cluster-14 \u4e0a\u7684\u4e24\u9879\u914d\u7f6e\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a # Peers --meta_server_addrs=192.168.8.14:45500,192.168.8.15:45500,192.168.8.16:45500 # Local ip --local_ip=192.168.8.14 # Meta daemon listening port --port=45500","title":"nebula-metad.conf"},{"location":"manual-CN/3.build-develop-and-administration/2.install/4.cluster-deploy/#nebula-graphdconf","text":"\u90e8\u7f72\u96c6\u7fa4\u65f6\uff0c\u9700\u8981\u4e3a graphd \u670d\u52a1\u914d\u7f6e metad \u7684\u5730\u5740\u548c\u7aef\u53e3 meta_server_addrs \u3002 cluster-14 \u4e0a\u7684\u90e8\u5206\u914d\u7f6e\u5982\u4e0b\uff1a # Meta Server Address --meta_server_addrs=192.168.8.14:45500,192.168.8.15:45500,192.168.8.16:45500","title":"nebula-graphd.conf"},{"location":"manual-CN/3.build-develop-and-administration/2.install/4.cluster-deploy/#nebula-storagedconf","text":"\u90e8\u7f72\u96c6\u7fa4\u65f6\uff0c\u9700\u8981\u4e3a storaged \u670d\u52a1\u914d\u7f6e metad \u7684\u5730\u5740\u548c\u7aef\u53e3 meta_server_addrs \u4ee5\u53ca\u672c\u673a\u5730\u5740 local_ip \u3002 cluster-14 \u4e0a\u7684\u90e8\u5206\u914d\u7f6e\u5982\u4e0b\uff1a # Meta server address --meta_server_addrs=192.168.8.14:45500,192.168.8.15:45500,192.168.8.16:45500 # Local ip --local_ip=192.168.8.14 # Storage daemon listening port --port=44500","title":"nebula-storaged.conf"},{"location":"manual-CN/3.build-develop-and-administration/2.install/4.cluster-deploy/#_4","text":"\u96c6\u7fa4\u542f\u52a8\u8bf7\u53c2\u8003 \u542f\u505c Nebula Graph \u670d\u52a1\u6587\u6863 \u3002","title":"\u542f\u52a8\u96c6\u7fa4"},{"location":"manual-CN/3.build-develop-and-administration/2.install/4.cluster-deploy/#_5","text":"\u767b\u5f55\u96c6\u7fa4\u4e2d\u7684\u4e00\u53f0\u673a\u5668\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a [(none)]> SHOW HOSTS; ============================================================================================================================================= | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ============================================================================================================================================= | 192.168.8.14 | 44500 | online | 0 | No valid partition | No valid partition | --------------------------------------------------------------------------------------------------------------------------------------------- | 192.168.8.15 | 44500 | online | 3 | toy: 1, test: 1, basketballplayer: 1 | basketballplayer: 1, toy: 1, test: 1 | --------------------------------------------------------------------------------------------------------------------------------------------- | 192.168.8.16 | 44500 | online | 0 | No valid partition | No valid partition | --------------------------------------------------------------------------------------------------------------------------------------------- | Total | | | 3 | basketballplayer: 1, toy: 1, test: 1 | basketballplayer: 1, test: 1, toy: 1 | ---------------------------------------------------------------------------------------------------------------------------------------------","title":"\u6d4b\u8bd5\u96c6\u7fa4"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/0.system-requirement/","text":"\u8fd0\u884c\u914d\u7f6e\u8981\u6c42 \u00b6 \u751f\u4ea7\u73af\u5883 \u00b6 \u751f\u4ea7\u73af\u5883\u90e8\u7f72\u65b9\u5f0f \u00b6 3 \u4e2a\u5143\u6570\u636e\u670d\u52a1\u8fdb\u7a0b metad \u81f3\u5c11 3 \u4e2a\u5b58\u50a8\u670d\u52a1\u8fdb\u7a0b storaged \u81f3\u5c11 3 \u4e2a\u67e5\u8be2\u5f15\u64ce\u670d\u52a1\u8fdb\u7a0b graphd \u4ee5\u4e0a\u8fdb\u7a0b\u90fd\u65e0\u9700\u72ec\u5360\u673a\u5668\u3002\u4f8b\u5982\u4e00\u4e2a\u7531 5 \u53f0\u673a\u5668\u7ec4\u6210\u7684\u96c6\u7fa4\uff1aA\u3001B\u3001C\u3001D\u3001E\uff0c\u53ef\u4ee5\u5982\u4e0b\u90e8\u7f72\uff1a A\uff1ametad, storaged, graphd B\uff1ametad, storaged, graphd C\uff1ametad, storaged, graphd D\uff1astoraged, graphd E\uff1astoraged, graphd \u540c\u4e00\u4e2a\u96c6\u7fa4\u4e0d\u8981\u8de8\u673a\u623f\u90e8\u7f72\u3002 metad \u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u4f1a\u521b\u5efa\u4e00\u4efd\u5143\u6570\u636e\u7684\u5b58\u50a8\u526f\u672c\uff0c\u56e0\u6b64\u901a\u5e38\u53ea\u9700 3 \u4e2a\u8fdb\u7a0b\u3002storaged \u8fdb\u7a0b\u6570\u91cf\u4e0d\u5f71\u54cd\u56fe\u7a7a\u95f4\u6570\u636e\u7684\u526f\u672c\u6570\u91cf\u3002 \u670d\u52a1\u5668\u914d\u7f6e\u8981\u6c42(\u6807\u51c6\u914d\u7f6e) \u00b6 \u4ee5 AWS EC2 c5d.12xlarge \u4e3a\u4f8b\uff1a \u5904\u7406\u5668\uff1a48 core \u5185\u5b58\uff1a96 GB \u5b58\u50a8\uff1a2 * 900 GB, NVMe SSD Linux \u5185\u6838\uff1a3.9 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u901a\u8fc7\u547d\u4ee4 uname -r \u67e5\u770b glibc\uff1a2.12 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u901a\u8fc7\u547d\u4ee4 ldd --version \u67e5\u770b \u64cd\u4f5c\u7cfb\u7edf\u914d\u7f6e\u89c1 \u8fd9\u91cc \u3002 \u6d4b\u8bd5\u73af\u5883 \u00b6 1 \u4e2a\u5143\u6570\u636e\u670d\u52a1\u8fdb\u7a0b metad \u81f3\u5c11 1 \u4e2a\u5b58\u50a8\u670d\u52a1\u8fdb\u7a0b storaged \u81f3\u5c11 1 \u4e2a\u67e5\u8be2\u5f15\u64ce\u670d\u52a1\u8fdb\u7a0b graphd \u4f8b\u5982\u4e00\u4e2a\u6709 3 \u53f0\u673a\u5668\u7684\u96c6\u7fa4\uff1aA\u3001B\u3001C \u53ef\u4ee5\u5982\u4e0b\u90e8\u7f72\uff1a A\uff1ametad\u3001storaged\u3001graphd B\uff1astoraged\u3001graphd C\uff1astoraged\u3001graphd \u670d\u52a1\u5668\u914d\u7f6e\u8981\u6c42(\u6700\u4f4e\u914d\u7f6e) \u00b6 \u4ee5 AWS EC2 c5d.xlarge \u4e3a\u4f8b\uff1a \u5904\u7406\u5668\uff1a4 core \u5185\u5b58\uff1a8 GB \u5b58\u50a8\uff1a100 GB, SSD \u8d44\u6e90\u4f30\u7b97\uff083\u526f\u672c\u6807\u51c6\u914d\u7f6e\uff09 \u00b6 \u5b58\u50a8\u7a7a\u95f4\uff08\u5168\u96c6\u7fa4\uff09\uff1a\u70b9\u548c\u8fb9\u6570\u91cf * \u5e73\u5747\u5c5e\u6027\u7684\u5b57\u8282\u6570 * 6 \u5185\u5b58\uff08\u5168\u96c6\u7fa4\uff09\uff1a\u70b9\u8fb9\u6570\u91cf * 15 \u5b57\u8282 + RocksDB \u5b9e\u4f8b\u6570\u91cf * (write_buffer_size * max_write_buffer_number + rocksdb_block_cache), \u5176\u4e2d etc/nebula-storaged.conf \u6587\u4ef6\u4e2d --data_path \u9879\u4e2d\u7684\u6bcf\u4e2a\u76ee\u5f55\u5bf9\u5e94\u4e00\u4e2a RocksDB \u5b9e\u4f8b \u56fe\u7a7a\u95f4 partition \u6570\u91cf\uff1a\u5168\u96c6\u7fa4\u786c\u76d8\u6570\u91cf * \uff082 \u81f3 10 \u2014\u2014 \u786c\u76d8\u8d8a\u597d\u8be5\u503c\u8d8a\u5927\uff09 \u5185\u5b58\u548c\u786c\u76d8\u53e6\u9884\u7559 20% buffer\u3002 \u5173\u4e8e\u673a\u68b0\u786c\u76d8\u548c\u5343\u5146\u7f51\u7edc \u00b6 Nebula Graph \u8bbe\u8ba1\u65f6\u4e3b\u8981\u9488\u5bf9\u7684\u786c\u4ef6\u8bbe\u5907\u662f NVMe SSD \u548c\u4e07\u5146\u7f51\u3002\u6ca1\u6709\u5bf9\u4e8e\u673a\u68b0\u78c1\u76d8\u548c\u5343\u5146\u7f51\u7edc\u505a\u8fc7\u9002\u914d\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u9700\u8c03\u6574\u7684\u53c2\u6570\uff1a etc/nebula-storage.conf\uff1a --raft_rpc_timeout_ms= 5000 \u81f3 10000 --rocksdb_batch_size= 4096 \u81f3 16384 --heartbeat_interval_secs = 30 \u81f3 60 --raft_heartbeat_interval_secs = 30 \u81f3 60 etc/nebula-meta.conf\uff1a --heartbeat_interval_secs \u4e0e etc/nebula-storage.conf \u8be5\u9879\u76f8\u540c Spark Writer: rate: { timeout: 5000 \u81f3 10000 } go-importer: batchSize: 10 \u81f3 50 concurrency: 1 \u81f3 10 channelBufferSize\uff1a100 \u81f3 500 partition \u503c\u4e3a\u5168\u96c6\u7fa4\u786c\u76d8\u6570\u91cf 2 \u500d","title":"\u7cfb\u7edf\u8981\u6c42"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/0.system-requirement/#_1","text":"","title":"\u8fd0\u884c\u914d\u7f6e\u8981\u6c42"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/0.system-requirement/#_2","text":"","title":"\u751f\u4ea7\u73af\u5883"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/0.system-requirement/#_3","text":"3 \u4e2a\u5143\u6570\u636e\u670d\u52a1\u8fdb\u7a0b metad \u81f3\u5c11 3 \u4e2a\u5b58\u50a8\u670d\u52a1\u8fdb\u7a0b storaged \u81f3\u5c11 3 \u4e2a\u67e5\u8be2\u5f15\u64ce\u670d\u52a1\u8fdb\u7a0b graphd \u4ee5\u4e0a\u8fdb\u7a0b\u90fd\u65e0\u9700\u72ec\u5360\u673a\u5668\u3002\u4f8b\u5982\u4e00\u4e2a\u7531 5 \u53f0\u673a\u5668\u7ec4\u6210\u7684\u96c6\u7fa4\uff1aA\u3001B\u3001C\u3001D\u3001E\uff0c\u53ef\u4ee5\u5982\u4e0b\u90e8\u7f72\uff1a A\uff1ametad, storaged, graphd B\uff1ametad, storaged, graphd C\uff1ametad, storaged, graphd D\uff1astoraged, graphd E\uff1astoraged, graphd \u540c\u4e00\u4e2a\u96c6\u7fa4\u4e0d\u8981\u8de8\u673a\u623f\u90e8\u7f72\u3002 metad \u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u4f1a\u521b\u5efa\u4e00\u4efd\u5143\u6570\u636e\u7684\u5b58\u50a8\u526f\u672c\uff0c\u56e0\u6b64\u901a\u5e38\u53ea\u9700 3 \u4e2a\u8fdb\u7a0b\u3002storaged \u8fdb\u7a0b\u6570\u91cf\u4e0d\u5f71\u54cd\u56fe\u7a7a\u95f4\u6570\u636e\u7684\u526f\u672c\u6570\u91cf\u3002","title":"\u751f\u4ea7\u73af\u5883\u90e8\u7f72\u65b9\u5f0f"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/0.system-requirement/#_4","text":"\u4ee5 AWS EC2 c5d.12xlarge \u4e3a\u4f8b\uff1a \u5904\u7406\u5668\uff1a48 core \u5185\u5b58\uff1a96 GB \u5b58\u50a8\uff1a2 * 900 GB, NVMe SSD Linux \u5185\u6838\uff1a3.9 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u901a\u8fc7\u547d\u4ee4 uname -r \u67e5\u770b glibc\uff1a2.12 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u901a\u8fc7\u547d\u4ee4 ldd --version \u67e5\u770b \u64cd\u4f5c\u7cfb\u7edf\u914d\u7f6e\u89c1 \u8fd9\u91cc \u3002","title":"\u670d\u52a1\u5668\u914d\u7f6e\u8981\u6c42(\u6807\u51c6\u914d\u7f6e)"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/0.system-requirement/#_5","text":"1 \u4e2a\u5143\u6570\u636e\u670d\u52a1\u8fdb\u7a0b metad \u81f3\u5c11 1 \u4e2a\u5b58\u50a8\u670d\u52a1\u8fdb\u7a0b storaged \u81f3\u5c11 1 \u4e2a\u67e5\u8be2\u5f15\u64ce\u670d\u52a1\u8fdb\u7a0b graphd \u4f8b\u5982\u4e00\u4e2a\u6709 3 \u53f0\u673a\u5668\u7684\u96c6\u7fa4\uff1aA\u3001B\u3001C \u53ef\u4ee5\u5982\u4e0b\u90e8\u7f72\uff1a A\uff1ametad\u3001storaged\u3001graphd B\uff1astoraged\u3001graphd C\uff1astoraged\u3001graphd","title":"\u6d4b\u8bd5\u73af\u5883"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/0.system-requirement/#_6","text":"\u4ee5 AWS EC2 c5d.xlarge \u4e3a\u4f8b\uff1a \u5904\u7406\u5668\uff1a4 core \u5185\u5b58\uff1a8 GB \u5b58\u50a8\uff1a100 GB, SSD","title":"\u670d\u52a1\u5668\u914d\u7f6e\u8981\u6c42(\u6700\u4f4e\u914d\u7f6e)"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/0.system-requirement/#3","text":"\u5b58\u50a8\u7a7a\u95f4\uff08\u5168\u96c6\u7fa4\uff09\uff1a\u70b9\u548c\u8fb9\u6570\u91cf * \u5e73\u5747\u5c5e\u6027\u7684\u5b57\u8282\u6570 * 6 \u5185\u5b58\uff08\u5168\u96c6\u7fa4\uff09\uff1a\u70b9\u8fb9\u6570\u91cf * 15 \u5b57\u8282 + RocksDB \u5b9e\u4f8b\u6570\u91cf * (write_buffer_size * max_write_buffer_number + rocksdb_block_cache), \u5176\u4e2d etc/nebula-storaged.conf \u6587\u4ef6\u4e2d --data_path \u9879\u4e2d\u7684\u6bcf\u4e2a\u76ee\u5f55\u5bf9\u5e94\u4e00\u4e2a RocksDB \u5b9e\u4f8b \u56fe\u7a7a\u95f4 partition \u6570\u91cf\uff1a\u5168\u96c6\u7fa4\u786c\u76d8\u6570\u91cf * \uff082 \u81f3 10 \u2014\u2014 \u786c\u76d8\u8d8a\u597d\u8be5\u503c\u8d8a\u5927\uff09 \u5185\u5b58\u548c\u786c\u76d8\u53e6\u9884\u7559 20% buffer\u3002","title":"\u8d44\u6e90\u4f30\u7b97\uff083\u526f\u672c\u6807\u51c6\u914d\u7f6e\uff09"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/0.system-requirement/#_7","text":"Nebula Graph \u8bbe\u8ba1\u65f6\u4e3b\u8981\u9488\u5bf9\u7684\u786c\u4ef6\u8bbe\u5907\u662f NVMe SSD \u548c\u4e07\u5146\u7f51\u3002\u6ca1\u6709\u5bf9\u4e8e\u673a\u68b0\u78c1\u76d8\u548c\u5343\u5146\u7f51\u7edc\u505a\u8fc7\u9002\u914d\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u9700\u8c03\u6574\u7684\u53c2\u6570\uff1a etc/nebula-storage.conf\uff1a --raft_rpc_timeout_ms= 5000 \u81f3 10000 --rocksdb_batch_size= 4096 \u81f3 16384 --heartbeat_interval_secs = 30 \u81f3 60 --raft_heartbeat_interval_secs = 30 \u81f3 60 etc/nebula-meta.conf\uff1a --heartbeat_interval_secs \u4e0e etc/nebula-storage.conf \u8be5\u9879\u76f8\u540c Spark Writer: rate: { timeout: 5000 \u81f3 10000 } go-importer: batchSize: 10 \u81f3 50 concurrency: 1 \u81f3 10 channelBufferSize\uff1a100 \u81f3 500 partition \u503c\u4e3a\u5168\u96c6\u7fa4\u786c\u76d8\u6570\u91cf 2 \u500d","title":"\u5173\u4e8e\u673a\u68b0\u786c\u76d8\u548c\u5343\u5146\u7f51\u7edc"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/1.config-persistency-and-priority/","text":"\u914d\u7f6e\u9879\u6301\u4e45\u5316\u4e0e\u4f18\u5148\u7ea7 \u00b6 \u914d\u7f6e\u6301\u4e45\u5316\uff08\u751f\u4ea7\u7528\uff09 \u00b6 Nebula Graph \u670d\u52a1\u7b2c\u4e00\u6b21\u542f\u52a8\u7684\u65f6\u5019\uff0c\u4f1a\u4ece\u672c\u5730\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\uff08\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \uff09\uff0c\u7136\u540e\u6240\u6709\u914d\u7f6e\u9879\uff08\u5305\u62ec\u52a8\u6001\u66f4\u6539\u7684\u914d\u7f6e\u9879\uff09\u90fd\u4f1a\u88ab \u6301\u4e45\u5316 \u5728 Meta Service \u4e2d\u3002\u4e4b\u540e\u5373\u4f7f\u53d1\u751f Nebula Graph \u91cd\u542f\uff0c\u4e5f\u90fd\u53ea\u4f1a\u4ece Meta Service \u8bfb\u53d6\u914d\u7f6e\u3002 \u53ea\u4ece\u672c\u5730\u83b7\u53d6\u914d\u7f6e\uff08\u8c03\u8bd5\u7528\uff09 \u00b6 \u5728\u90e8\u5206\u8c03\u8bd5\u573a\u666f\u4e2d\uff0c\u9700\u8981\u4ece \u672c\u5730 \u800c\u4e0d\u662f Meta Service \u4e2d\u83b7\u53d6\u914d\u7f6e\uff0c\u6b64\u65f6\u8bf7\u5728\u914d\u7f6e\u6587\u4ef6\u9876\u90e8\u6dfb\u52a0 --local_config=true \u3002\u66f4\u6539\u540e\u9700\u91cd\u542f\u670d\u52a1\u65b9\u53ef\u751f\u6548\u3002 \u66f4\u6539\u65b9\u5f0f\u548c\u8bfb\u53d6\u4f18\u5148\u7ea7 \u00b6 Nebula Graph \u7684\u53c2\u6570\u9879\u4e5f\u652f\u6301\u901a\u8fc7\u547d\u4ee4\u884c\u7ec8\u7aef\u547d\u4ee4( UPDATE CONFIG \u8bed\u6cd5)\u6216\u8005\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u7684\u65b9\u5f0f\u6765\u66f4\u6539\uff0c\u8bfb\u53d6\u4f18\u5148\u7ea7\u89c4\u5219\u5982\u4e0b\uff1a \u5bf9\u4e8e\u4e00\u4e2a\u53c2\u6570\u9879\uff1a \u9ed8\u8ba4\u7684\u914d\u7f6e\u5bfb\u627e\u4f18\u5148\u7ea7\uff1a meta service > \u547d\u4ee4\u884c UPDATE CONFIG \u8bed\u6cd5 > \u672c\u5730\u73af\u5883\u53d8\u91cf > \u672c\u5730\u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c --local_config=true \uff1a\u672c\u5730\u914d\u7f6e\u6587\u4ef6 > meta service > \u672c\u5730\u73af\u5883\u53d8\u91cf\u3002\u6b64\u65f6\u4e0d\u63a8\u8350\u4f7f\u7528 UPDATE CONFIG \u3002","title":"\u914d\u7f6e\u6301\u4e45\u5316\u4e0e\u4f18\u5148\u7ea7"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/1.config-persistency-and-priority/#_1","text":"","title":"\u914d\u7f6e\u9879\u6301\u4e45\u5316\u4e0e\u4f18\u5148\u7ea7"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/1.config-persistency-and-priority/#_2","text":"Nebula Graph \u670d\u52a1\u7b2c\u4e00\u6b21\u542f\u52a8\u7684\u65f6\u5019\uff0c\u4f1a\u4ece\u672c\u5730\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\uff08\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \uff09\uff0c\u7136\u540e\u6240\u6709\u914d\u7f6e\u9879\uff08\u5305\u62ec\u52a8\u6001\u66f4\u6539\u7684\u914d\u7f6e\u9879\uff09\u90fd\u4f1a\u88ab \u6301\u4e45\u5316 \u5728 Meta Service \u4e2d\u3002\u4e4b\u540e\u5373\u4f7f\u53d1\u751f Nebula Graph \u91cd\u542f\uff0c\u4e5f\u90fd\u53ea\u4f1a\u4ece Meta Service \u8bfb\u53d6\u914d\u7f6e\u3002","title":"\u914d\u7f6e\u6301\u4e45\u5316\uff08\u751f\u4ea7\u7528\uff09"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/1.config-persistency-and-priority/#_3","text":"\u5728\u90e8\u5206\u8c03\u8bd5\u573a\u666f\u4e2d\uff0c\u9700\u8981\u4ece \u672c\u5730 \u800c\u4e0d\u662f Meta Service \u4e2d\u83b7\u53d6\u914d\u7f6e\uff0c\u6b64\u65f6\u8bf7\u5728\u914d\u7f6e\u6587\u4ef6\u9876\u90e8\u6dfb\u52a0 --local_config=true \u3002\u66f4\u6539\u540e\u9700\u91cd\u542f\u670d\u52a1\u65b9\u53ef\u751f\u6548\u3002","title":"\u53ea\u4ece\u672c\u5730\u83b7\u53d6\u914d\u7f6e\uff08\u8c03\u8bd5\u7528\uff09"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/1.config-persistency-and-priority/#_4","text":"Nebula Graph \u7684\u53c2\u6570\u9879\u4e5f\u652f\u6301\u901a\u8fc7\u547d\u4ee4\u884c\u7ec8\u7aef\u547d\u4ee4( UPDATE CONFIG \u8bed\u6cd5)\u6216\u8005\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u7684\u65b9\u5f0f\u6765\u66f4\u6539\uff0c\u8bfb\u53d6\u4f18\u5148\u7ea7\u89c4\u5219\u5982\u4e0b\uff1a \u5bf9\u4e8e\u4e00\u4e2a\u53c2\u6570\u9879\uff1a \u9ed8\u8ba4\u7684\u914d\u7f6e\u5bfb\u627e\u4f18\u5148\u7ea7\uff1a meta service > \u547d\u4ee4\u884c UPDATE CONFIG \u8bed\u6cd5 > \u672c\u5730\u73af\u5883\u53d8\u91cf > \u672c\u5730\u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c --local_config=true \uff1a\u672c\u5730\u914d\u7f6e\u6587\u4ef6 > meta service > \u672c\u5730\u73af\u5883\u53d8\u91cf\u3002\u6b64\u65f6\u4e0d\u63a8\u8350\u4f7f\u7528 UPDATE CONFIG \u3002","title":"\u66f4\u6539\u65b9\u5f0f\u548c\u8bfb\u53d6\u4f18\u5148\u7ea7"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/2.configs-syntax/","text":"CONFIGS \u8bed\u6cd5 \u00b6 \u663e\u793a\u914d\u7f6e \u00b6 SHOW CONFIGS [graph|storage] \u4f8b\u5982 nebula> SHOW CONFIGS; ========================================================================= | module | name | type | mode | value ========================================================================= | GRAPH | v | INT64 | MUTABLE | 0 ------------------------------------------------------------------------- | GRAPH | minloglevel | INT64 | MUTABLE | 0 ------------------------------------------------------------------------- ... \u83b7\u53d6\u53d8\u91cf \u00b6 GET CONFIGS [graph|storage :] <var> \u4f8b\u5982 nebula> GET CONFIGS storage:v; ============================================ | module | name | type | mode | value | ============================================ | STORAGE | v | INT64 | MUTABLE | 0 | -------------------------------------------- \u66f4\u65b0\u53d8\u91cf \u00b6 UPDATE CONFIGS [graph|storage :] <var> = <value> \u66f4\u65b0\u7684\u53d8\u91cf\u5c06\u6301\u4e45\u5316\u5728 meta service \u4e2d\u3002 \u5982\u679c\u914d\u7f6e\u6a21\u5f0f\u4e3a MUTABLE \uff0c\u5219\u66f4\u6539\u5c06\u7acb\u5373\u751f\u6548\u3002 \u90e8\u5206 RocksDB \u53c2\u6570\u9700\u91cd\u542f\u624d\u4f1a\u751f\u6548\u3002 \u652f\u6301\u5728 UPDATE CONFIGS \u4e2d\u4f7f\u7528\u7b97\u672f\u8ba1\u7b97\u3002 \u4f8b\u5982\uff1a nebula> UPDATE CONFIGS storage:heartbeat_interval_secs=1; nebula> GET CONFIGS storage:heartbeat_interval_secs; =============================================================== | module | name | type | mode | value | =============================================================== | STORAGE | heartbeat_interval_secs | INT64 | MUTABLE | 1 | ---------------------------------------------------------------","title":"CONFIG \u8bed\u6cd5"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/2.configs-syntax/#configs","text":"","title":"CONFIGS \u8bed\u6cd5"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/2.configs-syntax/#_1","text":"SHOW CONFIGS [graph|storage] \u4f8b\u5982 nebula> SHOW CONFIGS; ========================================================================= | module | name | type | mode | value ========================================================================= | GRAPH | v | INT64 | MUTABLE | 0 ------------------------------------------------------------------------- | GRAPH | minloglevel | INT64 | MUTABLE | 0 ------------------------------------------------------------------------- ...","title":"\u663e\u793a\u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/2.configs-syntax/#_2","text":"GET CONFIGS [graph|storage :] <var> \u4f8b\u5982 nebula> GET CONFIGS storage:v; ============================================ | module | name | type | mode | value | ============================================ | STORAGE | v | INT64 | MUTABLE | 0 | --------------------------------------------","title":"\u83b7\u53d6\u53d8\u91cf"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/2.configs-syntax/#_3","text":"UPDATE CONFIGS [graph|storage :] <var> = <value> \u66f4\u65b0\u7684\u53d8\u91cf\u5c06\u6301\u4e45\u5316\u5728 meta service \u4e2d\u3002 \u5982\u679c\u914d\u7f6e\u6a21\u5f0f\u4e3a MUTABLE \uff0c\u5219\u66f4\u6539\u5c06\u7acb\u5373\u751f\u6548\u3002 \u90e8\u5206 RocksDB \u53c2\u6570\u9700\u91cd\u542f\u624d\u4f1a\u751f\u6548\u3002 \u652f\u6301\u5728 UPDATE CONFIGS \u4e2d\u4f7f\u7528\u7b97\u672f\u8ba1\u7b97\u3002 \u4f8b\u5982\uff1a nebula> UPDATE CONFIGS storage:heartbeat_interval_secs=1; nebula> GET CONFIGS storage:heartbeat_interval_secs; =============================================================== | module | name | type | mode | value | =============================================================== | STORAGE | heartbeat_interval_secs | INT64 | MUTABLE | 1 | ---------------------------------------------------------------","title":"\u66f4\u65b0\u53d8\u91cf"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/3.meta-config/","text":"Meta Service \u914d\u7f6e \u00b6 \u672c\u6587\u4ecb\u7ecd metad \u914d\u7f6e\u6587\u4ef6\u3002\u914d\u7f6e\u6587\u4ef6\u9ed8\u8ba4\u5728 /usr/local/nebula/etc/ \u76ee\u5f55\u4e0b\u3002\u5982\u679c\u60a8\u5df2\u6307\u5b9a Nebula Graph \u5b89\u88c5\u8def\u5f84\uff0c\u5219\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u4e3a $pwd/nebula/etc/ \u3002 *.default \u6587\u4ef6\u4e3a \u65e5\u5e38\u8c03\u8bd5 \u4f7f\u7528\uff0c\u4e5f\u662f\u670d\u52a1 \u542f\u52a8\u65f6\u9ed8\u8ba4\u4f7f\u7528 \u7684\u914d\u7f6e\u6587\u4ef6 *.production \u6587\u4ef6\u4e3a \u63a8\u8350\u751f\u4ea7\u65f6 \u4f7f\u7528\u7684\u7684\u6587\u4ef6\uff0c\u751f\u4ea7\u65f6\u8bf7\u53bb\u6389 .production \u540e\u7f00 Basics \u57fa\u7840\u914d\u7f6e \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e daemonize true \u4f5c\u4e3a daemon \u8fdb\u7a0b\u8fd0\u884c pid_file \"pids/nebula-metad.pid\" \u8fdb\u7a0b PID \u6587\u4ef6 logging \u65e5\u5fd7\u76f8\u5173 \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 log_dir logs (\u4e5f\u5373 /usr/local/nebula/logs ) metad \u65e5\u5fd7\u6587\u4ef6\u5b58\u653e\u8def\u5f84\uff0c\u5efa\u8bae\u4e0e data_path \u653e\u4e0d\u540c\u786c\u76d8 minloglevel 0 \u5bf9\u5e94\u7684\u65e5\u5fd7\u7ea7\u522b\u5206\u522b\u4e3a INFO(DEBUG)\uff0cWARNING\uff0cERROR\uff0cFATAL\u3002\u901a\u5e38\u5728\u8c03\u8bd5\u73af\u5883\u8bbe\u7f6e\u4e3a 0\uff0c\u751f\u4ea7\u73af\u5883\u8bbe\u7f6e\u4e3a 1\uff0c\u8bbe\u7f6e\u4e3a 4 \u4e0d\u6253\u5370\u4efb\u4f55\u65e5\u5fd7\u3002 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 v 0 0-4: \u5f53 minloglevel \u8bbe\u7f6e\u4e3a 0 \u65f6\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8bbe\u7f6e\u8c03\u8bd5\u65e5\u5fd7\u7684\u8be6\u7ec6\u7a0b\u5ea6\uff0c\u503c\u8d8a\u5927\u8d8a\u8be6\u7ec6 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 logbufsecs 0 \uff08\u79d2\uff09 \u65e5\u5fd7\u7f13\u5b58\u65f6\u95f4 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 networking \u7f51\u7edc\u901a\u4fe1\u76f8\u5173 \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e meta_server_addrs \"127.0.0.1:45500\" meta server \u5730\u5740\u5217\u8868\uff0c\u683c\u5f0f\u4e3a ip1:port1, ip2:port2, ip3:port3. \u751f\u4ea7\u914d\u7f6e\u8981\u6c42\u914d\u7f6e3\u4e2a\u673a\u5668\u5730\u5740\u4ee5\u7ec4\u6210\u4e00\u7ec4 RAFT \u96c6\u7fa4\u3002 port 45500 RPC \u76d1\u542c\u7aef\u53e3 reuse_port true \u5f00\u542f\u5185\u6838\uff08>3.9) SO_REUSEPORT \u9009\u9879 ws_http_port 11000 HTTP \u534f\u8bae\u76d1\u542c\u7aef\u53e3 \uff08\u5185\u90e8\u4f7f\u7528\uff09 ws_h2_port 11002 HTTP/2 \u534f\u8bae\u76d1\u542c\u7aef\u53e3 \uff08\u5185\u90e8\u4f7f\u7528\uff09 ws_ip \"127.0.0.1\" web service \u7ed1\u5b9a\u5730\u5740 heartbeat_interval_secs 10 (\u79d2) \u4e0e nebula-storage.conf \u6587\u4ef6\u4e2d\u7684\u8be5\u9879\u9700\u4e00\u81f4 \u6ce8\u610f\uff1a meta_server_addrs \u53c2\u6570\u4e2d\u63a8\u8350\u4f7f\u7528\u5b9e\u9645 IP\uff0c 127.0.0.1 \u6709\u65f6\u4e0d\u4f1a\u88ab\u6b63\u786e\u89e3\u6790\u3002 storage \u5143\u4fe1\u606f\u6301\u4e45\u5316\u76f8\u5173 \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e data_path data/meta (\u4e5f\u5373 /usr/local/nebula/data/meta/) \u96c6\u7fa4\u5143\u4fe1\u606f\u6301\u4e45\u5316\u7684\u76ee\u5f55","title":"Meta Service \u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/3.meta-config/#meta_service","text":"\u672c\u6587\u4ecb\u7ecd metad \u914d\u7f6e\u6587\u4ef6\u3002\u914d\u7f6e\u6587\u4ef6\u9ed8\u8ba4\u5728 /usr/local/nebula/etc/ \u76ee\u5f55\u4e0b\u3002\u5982\u679c\u60a8\u5df2\u6307\u5b9a Nebula Graph \u5b89\u88c5\u8def\u5f84\uff0c\u5219\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u4e3a $pwd/nebula/etc/ \u3002 *.default \u6587\u4ef6\u4e3a \u65e5\u5e38\u8c03\u8bd5 \u4f7f\u7528\uff0c\u4e5f\u662f\u670d\u52a1 \u542f\u52a8\u65f6\u9ed8\u8ba4\u4f7f\u7528 \u7684\u914d\u7f6e\u6587\u4ef6 *.production \u6587\u4ef6\u4e3a \u63a8\u8350\u751f\u4ea7\u65f6 \u4f7f\u7528\u7684\u7684\u6587\u4ef6\uff0c\u751f\u4ea7\u65f6\u8bf7\u53bb\u6389 .production \u540e\u7f00","title":"Meta Service \u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/3.meta-config/#basics","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e daemonize true \u4f5c\u4e3a daemon \u8fdb\u7a0b\u8fd0\u884c pid_file \"pids/nebula-metad.pid\" \u8fdb\u7a0b PID \u6587\u4ef6","title":"Basics \u57fa\u7840\u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/3.meta-config/#logging","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 log_dir logs (\u4e5f\u5373 /usr/local/nebula/logs ) metad \u65e5\u5fd7\u6587\u4ef6\u5b58\u653e\u8def\u5f84\uff0c\u5efa\u8bae\u4e0e data_path \u653e\u4e0d\u540c\u786c\u76d8 minloglevel 0 \u5bf9\u5e94\u7684\u65e5\u5fd7\u7ea7\u522b\u5206\u522b\u4e3a INFO(DEBUG)\uff0cWARNING\uff0cERROR\uff0cFATAL\u3002\u901a\u5e38\u5728\u8c03\u8bd5\u73af\u5883\u8bbe\u7f6e\u4e3a 0\uff0c\u751f\u4ea7\u73af\u5883\u8bbe\u7f6e\u4e3a 1\uff0c\u8bbe\u7f6e\u4e3a 4 \u4e0d\u6253\u5370\u4efb\u4f55\u65e5\u5fd7\u3002 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 v 0 0-4: \u5f53 minloglevel \u8bbe\u7f6e\u4e3a 0 \u65f6\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8bbe\u7f6e\u8c03\u8bd5\u65e5\u5fd7\u7684\u8be6\u7ec6\u7a0b\u5ea6\uff0c\u503c\u8d8a\u5927\u8d8a\u8be6\u7ec6 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 logbufsecs 0 \uff08\u79d2\uff09 \u65e5\u5fd7\u7f13\u5b58\u65f6\u95f4 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548","title":"logging \u65e5\u5fd7\u76f8\u5173"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/3.meta-config/#networking","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e meta_server_addrs \"127.0.0.1:45500\" meta server \u5730\u5740\u5217\u8868\uff0c\u683c\u5f0f\u4e3a ip1:port1, ip2:port2, ip3:port3. \u751f\u4ea7\u914d\u7f6e\u8981\u6c42\u914d\u7f6e3\u4e2a\u673a\u5668\u5730\u5740\u4ee5\u7ec4\u6210\u4e00\u7ec4 RAFT \u96c6\u7fa4\u3002 port 45500 RPC \u76d1\u542c\u7aef\u53e3 reuse_port true \u5f00\u542f\u5185\u6838\uff08>3.9) SO_REUSEPORT \u9009\u9879 ws_http_port 11000 HTTP \u534f\u8bae\u76d1\u542c\u7aef\u53e3 \uff08\u5185\u90e8\u4f7f\u7528\uff09 ws_h2_port 11002 HTTP/2 \u534f\u8bae\u76d1\u542c\u7aef\u53e3 \uff08\u5185\u90e8\u4f7f\u7528\uff09 ws_ip \"127.0.0.1\" web service \u7ed1\u5b9a\u5730\u5740 heartbeat_interval_secs 10 (\u79d2) \u4e0e nebula-storage.conf \u6587\u4ef6\u4e2d\u7684\u8be5\u9879\u9700\u4e00\u81f4 \u6ce8\u610f\uff1a meta_server_addrs \u53c2\u6570\u4e2d\u63a8\u8350\u4f7f\u7528\u5b9e\u9645 IP\uff0c 127.0.0.1 \u6709\u65f6\u4e0d\u4f1a\u88ab\u6b63\u786e\u89e3\u6790\u3002","title":"networking \u7f51\u7edc\u901a\u4fe1\u76f8\u5173"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/3.meta-config/#storage","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e data_path data/meta (\u4e5f\u5373 /usr/local/nebula/data/meta/) \u96c6\u7fa4\u5143\u4fe1\u606f\u6301\u4e45\u5316\u7684\u76ee\u5f55","title":"storage \u5143\u4fe1\u606f\u6301\u4e45\u5316\u76f8\u5173"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/4.graph-config/","text":"Graph \u914d\u7f6e \u00b6 \u672c\u6587\u4ecb\u7ecd graphd \u914d\u7f6e\u6587\u4ef6\u3002\u914d\u7f6e\u6587\u4ef6\u9ed8\u8ba4\u5728 /usr/local/nebula/etc/ \u76ee\u5f55\u4e0b\u3002\u5982\u679c\u60a8\u5df2\u6307\u5b9a Nebula Graph \u5b89\u88c5\u8def\u5f84\uff0c\u5219\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u4e3a $pwd/nebula/etc/ \u3002 *.default \u6587\u4ef6\u4e3a \u65e5\u5e38\u8c03\u8bd5 \u4f7f\u7528\uff0c\u4e5f\u662f\u670d\u52a1 \u542f\u52a8\u65f6\u9ed8\u8ba4\u4f7f\u7528 \u7684\u914d\u7f6e\u6587\u4ef6 *.production \u6587\u4ef6\u4e3a \u63a8\u8350\u751f\u4ea7\u65f6 \u4f7f\u7528\u7684\u7684\u6587\u4ef6\uff0c\u751f\u4ea7\u65f6\u8bf7\u53bb\u6389 .production \u540e\u7f00 Basics \u57fa\u7840\u914d\u7f6e \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e daemonize true \u4f5c\u4e3a daemon \u8fdb\u7a0b\u8fd0\u884c pid_file \"pids/nebula-graphd.pid\" \u8fdb\u7a0b PID \u6587\u4ef6 logging \u65e5\u5fd7\u76f8\u5173 \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 log_dir logs (\u4e5f\u5373 /usr/local/nebula/logs ) graphd \u65e5\u5fd7\u6587\u4ef6\u5b58\u653e\u8def\u5f84\uff0c\u5efa\u8bae\u4e0e storaged \u7684\u6570\u636e\u76ee\u5f55\u653e\u4e0d\u540c\u786c\u76d8 minloglevel 0 \u5bf9\u5e94\u7684\u65e5\u5fd7\u7ea7\u522b\u5206\u522b\u4e3a INFO(DEBUG)\uff0cWARNING\uff0cERROR\uff0cFATAL\u3002\u901a\u5e38\u5728\u8c03\u8bd5\u73af\u5883\u8bbe\u7f6e\u4e3a 0\uff0c\u751f\u4ea7\u73af\u5883\u8bbe\u7f6e\u4e3a 1\uff0c\u8bbe\u7f6e\u4e3a 4 \u4e0d\u6253\u5370\u4efb\u4f55\u65e5\u5fd7\u3002 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 v 0 0-4: \u5f53 minloglevel \u8bbe\u7f6e\u4e3a 0 \u65f6\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8bbe\u7f6e\u8c03\u8bd5\u65e5\u5fd7\u7684\u8be6\u7ec6\u7a0b\u5ea6\uff0c\u503c\u8d8a\u5927\u8d8a\u8be6\u7ec6 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 logbufsecs 0 \uff08\u79d2\uff09 \u65e5\u5fd7\u7f13\u5b58\u65f6\u95f4 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 redirect_stdout true \u5c06 stdout \u548c stderr \u91cd\u5b9a\u5411\u5230\u5355\u72ec\u7684\u6587\u4ef6 stdout_log_file \"stdout.log\" stdout \u76ee\u6807\u6587\u4ef6\u540d stderr_log_file \"stderr.log\" stderr \u76ee\u6807\u6587\u4ef6\u540d slow_op_threshhold_ms 50 (\u6beb\u79d2) \u6162\u64cd\u4f5c\u548c\u6162\u67e5\u8be2\u9700\u8981\u6253\u5370\u65e5\u5fd7\u7684\u9608\u503c UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 \u4f8b\u5982\uff0c\u4e0b\u9762\u547d\u4ee4\u53ef\u4ee5\u589e\u52a0 graphd \u7684\u65e5\u5fd7\u8be6\u7ec6\u7a0b\u5ea6 v=1\u3002 nebula> UPDATE CONFIGS graph:v=1; networking \u7f51\u7edc\u901a\u4fe1\u76f8\u5173 \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 meta_server_addrs \"127.0.0.1:45500\" meta server \u5730\u5740\u5217\u8868\uff0c\u683c\u5f0f\u4e3a ip1:port1, ip2:port2, ip3:port3 port 3699 RPC \u76d1\u542c\u7aef\u53e3 meta_client_retry_times 3 \u4e0e meta service \u91cd\u8bd5\u6b21\u6570 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 heartbeat_interval_secs 3 (\u79d2) \u4e0e meta service \u5fc3\u8df3\u65f6\u957f UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u4e0b\u4e2a\u5fc3\u8df3\u5468\u671f\u751f\u6548 client_idle_timeout_secs 0 \u5173\u95ed idle \u8fde\u63a5\u524d\u7684\u65f6\u957f\uff08\u5355\u4f4d\u79d2\uff09\uff0c 0 \u4e3a\u65e0\u7a77\u5927 session_idle_timeout_secs 0 idle sessions \u8fc7\u671f\u65f6\u957f\uff08\u5355\u4f4d\u79d2\uff09\uff0c0 \u4e3a\u65e0\u7a77\u5927 num_netio_threads 0 networking \u7ebf\u7a0b\u6570\uff0c0\u4e3a\u7269\u7406 CPU \u6838\u6570 num_accept_threads 1 \u63a5\u53d7\u8fdb\u5165\u8fde\u63a5\u7684\u7ebf\u7a0b\u6570 num_worker_threads 0 \u6267\u884c\u7528\u6237\u8bf7\u6c42\u7684\u7ebf\u7a0b\u6570\uff0c\u7ebf\u7a0b\u6570\u4e3a\u7cfb\u7edf CPU \u6838\u6570 reuse_port true \u5f00\u542f\u5185\u6838\uff08>3.9) SO_REUSEPORT \u9009\u9879 listen_backlog 1024 listen socket \u7684 backlog listen_netdev \"any\" \u76d1\u542c\u7684\u7f51\u7edc\u670d\u52a1 ws_http_port 13000 HTTP \u534f\u8bae\u76d1\u542c\u7aef\u53e3 \uff08\u5185\u90e8\u4f7f\u7528\uff09 ws_h2_port 13002 HTTP/2 \u534f\u8bae\u76d1\u542c\u7aef\u53e3\uff08\u5185\u90e8\u4f7f\u7528\uff09 ws_ip \"127.0.0.1\" web service \u7ed1\u5b9a\u5730\u5740 \u6ce8\u610f\uff1a meta_server_addrs \u53c2\u6570\u4e2d\u63a8\u8350\u4f7f\u7528\u5b9e\u9645 IP\uff0c 127.0.0.1 \u6709\u65f6\u4e0d\u4f1a\u88ab\u6b63\u786e\u89e3\u6790\u3002 authorization \uff08\u5b89\u5168\u76f8\u5173\uff09 \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e enable_authorize false \u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1 auth_type password password\uff1a\u5e10\u5bc6\u65b9\u5f0f\uff1bldap\uff1aLDAP \u65b9\u5f0f\uff1bcloud\u4e91\uff1a\u7aef\u65b9\u5f0f \u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\uff0c\u4ec5\u80fd\u4f7f\u7528 root \u8d26\u53f7\u767b\u9646\uff0c\u4f8b\u5982\uff1a /usr/local/nebula/bin/nebula -u root -p nebula --addr = 127 .0.0.1 --port = 3699 \u672a\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\uff0c\u53ef\u4e0d\u586b\u8d26\u53f7\u4fe1\u606f\u6216\u4f7f\u7528\u4efb\u610f\u8d26\u53f7\u8fdb\u884c\u767b\u9646\uff0c\u4f8b\u5982\uff1a /usr/local/nebula/bin/nebula --addr = 127 .0.0.1 --port = 3699","title":"Graphd \u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/4.graph-config/#graph","text":"\u672c\u6587\u4ecb\u7ecd graphd \u914d\u7f6e\u6587\u4ef6\u3002\u914d\u7f6e\u6587\u4ef6\u9ed8\u8ba4\u5728 /usr/local/nebula/etc/ \u76ee\u5f55\u4e0b\u3002\u5982\u679c\u60a8\u5df2\u6307\u5b9a Nebula Graph \u5b89\u88c5\u8def\u5f84\uff0c\u5219\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u4e3a $pwd/nebula/etc/ \u3002 *.default \u6587\u4ef6\u4e3a \u65e5\u5e38\u8c03\u8bd5 \u4f7f\u7528\uff0c\u4e5f\u662f\u670d\u52a1 \u542f\u52a8\u65f6\u9ed8\u8ba4\u4f7f\u7528 \u7684\u914d\u7f6e\u6587\u4ef6 *.production \u6587\u4ef6\u4e3a \u63a8\u8350\u751f\u4ea7\u65f6 \u4f7f\u7528\u7684\u7684\u6587\u4ef6\uff0c\u751f\u4ea7\u65f6\u8bf7\u53bb\u6389 .production \u540e\u7f00","title":"Graph \u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/4.graph-config/#basics","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e daemonize true \u4f5c\u4e3a daemon \u8fdb\u7a0b\u8fd0\u884c pid_file \"pids/nebula-graphd.pid\" \u8fdb\u7a0b PID \u6587\u4ef6","title":"Basics \u57fa\u7840\u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/4.graph-config/#logging","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 log_dir logs (\u4e5f\u5373 /usr/local/nebula/logs ) graphd \u65e5\u5fd7\u6587\u4ef6\u5b58\u653e\u8def\u5f84\uff0c\u5efa\u8bae\u4e0e storaged \u7684\u6570\u636e\u76ee\u5f55\u653e\u4e0d\u540c\u786c\u76d8 minloglevel 0 \u5bf9\u5e94\u7684\u65e5\u5fd7\u7ea7\u522b\u5206\u522b\u4e3a INFO(DEBUG)\uff0cWARNING\uff0cERROR\uff0cFATAL\u3002\u901a\u5e38\u5728\u8c03\u8bd5\u73af\u5883\u8bbe\u7f6e\u4e3a 0\uff0c\u751f\u4ea7\u73af\u5883\u8bbe\u7f6e\u4e3a 1\uff0c\u8bbe\u7f6e\u4e3a 4 \u4e0d\u6253\u5370\u4efb\u4f55\u65e5\u5fd7\u3002 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 v 0 0-4: \u5f53 minloglevel \u8bbe\u7f6e\u4e3a 0 \u65f6\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8bbe\u7f6e\u8c03\u8bd5\u65e5\u5fd7\u7684\u8be6\u7ec6\u7a0b\u5ea6\uff0c\u503c\u8d8a\u5927\u8d8a\u8be6\u7ec6 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 logbufsecs 0 \uff08\u79d2\uff09 \u65e5\u5fd7\u7f13\u5b58\u65f6\u95f4 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 redirect_stdout true \u5c06 stdout \u548c stderr \u91cd\u5b9a\u5411\u5230\u5355\u72ec\u7684\u6587\u4ef6 stdout_log_file \"stdout.log\" stdout \u76ee\u6807\u6587\u4ef6\u540d stderr_log_file \"stderr.log\" stderr \u76ee\u6807\u6587\u4ef6\u540d slow_op_threshhold_ms 50 (\u6beb\u79d2) \u6162\u64cd\u4f5c\u548c\u6162\u67e5\u8be2\u9700\u8981\u6253\u5370\u65e5\u5fd7\u7684\u9608\u503c UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 \u4f8b\u5982\uff0c\u4e0b\u9762\u547d\u4ee4\u53ef\u4ee5\u589e\u52a0 graphd \u7684\u65e5\u5fd7\u8be6\u7ec6\u7a0b\u5ea6 v=1\u3002 nebula> UPDATE CONFIGS graph:v=1;","title":"logging \u65e5\u5fd7\u76f8\u5173"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/4.graph-config/#networking","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 meta_server_addrs \"127.0.0.1:45500\" meta server \u5730\u5740\u5217\u8868\uff0c\u683c\u5f0f\u4e3a ip1:port1, ip2:port2, ip3:port3 port 3699 RPC \u76d1\u542c\u7aef\u53e3 meta_client_retry_times 3 \u4e0e meta service \u91cd\u8bd5\u6b21\u6570 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 heartbeat_interval_secs 3 (\u79d2) \u4e0e meta service \u5fc3\u8df3\u65f6\u957f UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u4e0b\u4e2a\u5fc3\u8df3\u5468\u671f\u751f\u6548 client_idle_timeout_secs 0 \u5173\u95ed idle \u8fde\u63a5\u524d\u7684\u65f6\u957f\uff08\u5355\u4f4d\u79d2\uff09\uff0c 0 \u4e3a\u65e0\u7a77\u5927 session_idle_timeout_secs 0 idle sessions \u8fc7\u671f\u65f6\u957f\uff08\u5355\u4f4d\u79d2\uff09\uff0c0 \u4e3a\u65e0\u7a77\u5927 num_netio_threads 0 networking \u7ebf\u7a0b\u6570\uff0c0\u4e3a\u7269\u7406 CPU \u6838\u6570 num_accept_threads 1 \u63a5\u53d7\u8fdb\u5165\u8fde\u63a5\u7684\u7ebf\u7a0b\u6570 num_worker_threads 0 \u6267\u884c\u7528\u6237\u8bf7\u6c42\u7684\u7ebf\u7a0b\u6570\uff0c\u7ebf\u7a0b\u6570\u4e3a\u7cfb\u7edf CPU \u6838\u6570 reuse_port true \u5f00\u542f\u5185\u6838\uff08>3.9) SO_REUSEPORT \u9009\u9879 listen_backlog 1024 listen socket \u7684 backlog listen_netdev \"any\" \u76d1\u542c\u7684\u7f51\u7edc\u670d\u52a1 ws_http_port 13000 HTTP \u534f\u8bae\u76d1\u542c\u7aef\u53e3 \uff08\u5185\u90e8\u4f7f\u7528\uff09 ws_h2_port 13002 HTTP/2 \u534f\u8bae\u76d1\u542c\u7aef\u53e3\uff08\u5185\u90e8\u4f7f\u7528\uff09 ws_ip \"127.0.0.1\" web service \u7ed1\u5b9a\u5730\u5740 \u6ce8\u610f\uff1a meta_server_addrs \u53c2\u6570\u4e2d\u63a8\u8350\u4f7f\u7528\u5b9e\u9645 IP\uff0c 127.0.0.1 \u6709\u65f6\u4e0d\u4f1a\u88ab\u6b63\u786e\u89e3\u6790\u3002","title":"networking \u7f51\u7edc\u901a\u4fe1\u76f8\u5173"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/4.graph-config/#authorization","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e enable_authorize false \u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1 auth_type password password\uff1a\u5e10\u5bc6\u65b9\u5f0f\uff1bldap\uff1aLDAP \u65b9\u5f0f\uff1bcloud\u4e91\uff1a\u7aef\u65b9\u5f0f \u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\uff0c\u4ec5\u80fd\u4f7f\u7528 root \u8d26\u53f7\u767b\u9646\uff0c\u4f8b\u5982\uff1a /usr/local/nebula/bin/nebula -u root -p nebula --addr = 127 .0.0.1 --port = 3699 \u672a\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\uff0c\u53ef\u4e0d\u586b\u8d26\u53f7\u4fe1\u606f\u6216\u4f7f\u7528\u4efb\u610f\u8d26\u53f7\u8fdb\u884c\u767b\u9646\uff0c\u4f8b\u5982\uff1a /usr/local/nebula/bin/nebula --addr = 127 .0.0.1 --port = 3699","title":"authorization \uff08\u5b89\u5168\u76f8\u5173\uff09"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/","text":"Storage \u914d\u7f6e \u00b6 \u672c\u6587\u4ecb\u7ecd storaged \u914d\u7f6e\u6587\u4ef6\u3002\u914d\u7f6e\u6587\u4ef6\u9ed8\u8ba4\u5728 /usr/local/nebula/etc/ \u76ee\u5f55\u4e0b\u3002\u5982\u679c\u60a8\u5df2\u6307\u5b9a Nebula Graph \u5b89\u88c5\u8def\u5f84\uff0c\u5219\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u4e3a $pwd/nebula/etc/ \u3002 *.default \u6587\u4ef6\u4e3a \u65e5\u5e38\u8c03\u8bd5 \u4f7f\u7528\uff0c\u4e5f\u662f\u670d\u52a1 \u542f\u52a8\u65f6\u9ed8\u8ba4\u4f7f\u7528 \u7684\u914d\u7f6e\u6587\u4ef6 *.production \u6587\u4ef6\u4e3a \u63a8\u8350\u751f\u4ea7\u65f6 \u4f7f\u7528\u7684\u7684\u6587\u4ef6\uff0c\u751f\u4ea7\u65f6\u8bf7\u53bb\u6389 .production \u540e\u7f00 Basics \u57fa\u7840\u914d\u7f6e \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e daemonize true \u4f5c\u4e3a daemon \u8fdb\u7a0b\u8fd0\u884c pid_file \"pids/nebula-storaged.pid\" \u8fdb\u7a0b PID \u6587\u4ef6 logging \u65e5\u5fd7\u76f8\u5173 \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 log_dir logs (\u4e5f\u5373 /usr/local/nebula/logs ) storaged \u65e5\u5fd7\u6587\u4ef6\u5b58\u653e\u8def\u5f84\uff0c\u5efa\u8bae\u4e0e data_path \u653e\u4e0d\u540c\u786c\u76d8 minloglevel 0 \u5bf9\u5e94\u7684\u65e5\u5fd7\u7ea7\u522b\u5206\u522b\u4e3a INFO(DEBUG)\uff0cWARNING\uff0cERROR\uff0cFATAL\u3002\u901a\u5e38\u5728\u8c03\u8bd5\u73af\u5883\u8bbe\u7f6e\u4e3a 0\uff0c\u751f\u4ea7\u73af\u5883\u8bbe\u7f6e\u4e3a 1\uff0c\u8bbe\u7f6e\u4e3a 4 \u4e0d\u6253\u5370\u4efb\u4f55\u65e5\u5fd7\u3002 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 v 0 0-4: \u5f53 minloglevel \u8bbe\u7f6e\u4e3a 0 \u65f6\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8bbe\u7f6e\u8c03\u8bd5\u65e5\u5fd7\u7684\u8be6\u7ec6\u7a0b\u5ea6\uff0c\u503c\u8d8a\u5927\u8d8a\u8be6\u7ec6 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 logbufsecs 0 \uff08\u79d2\uff09 \u65e5\u5fd7\u7f13\u5b58\u65f6\u95f4 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 slow_op_threshhold_ms 50 (\u6beb\u79d2) \u6162\u64cd\u4f5c\u548c\u6162\u67e5\u8be2\u9700\u8981\u6253\u5370\u65e5\u5fd7\u7684\u9608\u503c UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 \u4f8b\u5982\uff0c\u4e0b\u9762\u547d\u4ee4\u53ef\u4ee5\u589e\u52a0 storage \u7684\u65e5\u5fd7\u8be6\u7ec6\u7a0b\u5ea6 v=1. nebula> UPDATE CONFIGS storage:v=1; networking \u7f51\u7edc\u901a\u4fe1\u76f8\u5173 \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 meta_server_addrs \"127.0.0.1:45500\" meta server \u5730\u5740\u5217\u8868\uff0c\u683c\u5f0f\u4e3a ip1:port1, ip2:port2, ip3:port3 port 44500 RPC \u76d1\u542c\u7aef\u53e3 reuse_port true \u5f00\u542f\u5185\u6838\uff08>3.9) SO_REUSEPORT \u9009\u9879 ws_http_port 12000 HTTP \u534f\u8bae\u76d1\u542c\u7aef\u53e3 \uff08\u5185\u90e8\u4f7f\u7528\uff09 ws_h2_port 12002 HTTP/2 \u534f\u8bae\u76d1\u542c\u7aef\u53e3 \uff08\u5185\u90e8\u4f7f\u7528\uff09 ws_ip \"127.0.0.1\" web service \u7ed1\u5b9a\u5730\u5740 heartbeat_interval_secs 10 (\u79d2) \u4e0e meta service \u7684\u5fc3\u8df3\uff0c\u9700\u548c nebula-meta.conf \u6587\u4ef6\u4e2d\u7684\u8be5\u9879 \u4e00\u81f4 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u4e0b\u4e2a\u5fc3\u8df3\u5468\u671f\u751f\u6548 raft_heartbeat_interval_secs 5 (\u79d2) RAFT \u9009\u4e3e\u901a\u4fe1\u8d85\u65f6\u65f6\u95f4 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u91cd\u542f raft_rpc_timeout_ms 500 (ms) RAFT RPC \u901a\u4fe1\u8d85\u65f6 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u91cd\u542f \u6ce8\u610f\uff1a meta_server_addrs \u53c2\u6570\u4e2d\u63a8\u8350\u4f7f\u7528\u5b9e\u9645 IP\uff0c 127.0.0.1 \u6709\u65f6\u4e0d\u4f1a\u88ab\u6b63\u786e\u89e3\u6790\u3002 storage \u6570\u636e\u6301\u4e45\u5316\u8bbe\u7f6e \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e data_path data/storage (\u4e5f\u5373 /usr/local/nebula/data/storage/ ) \u672c\u673a\u6570\u636e\u6301\u4e45\u5316\u7684\u6839\u76ee\u5f55\u3002 \u6bcf\u4e2a partition \u5bf9\u5e94\u4e00\u4e2a\u5b50\u76ee\u5f55\u3002 \u591a\u5757\u786c\u76d8\u65f6\u53ef\u4ee5\u9017\u53f7\u5206\u9694\u591a\u4e2a\u76ee\u5f55\uff0c\u6bcf\u4e2a\u76ee\u5f55\u5bf9\u5e94\u4e00\u4e2a Rocksdb \u5b9e\u4f8b\uff0c\u4ee5\u6709\u66f4\u597d\u7684\u5e76\u53d1\u80fd\u529b\u3002\u4f8b\u5982 --data_path=/disk1/storage/,/disk2/storage/,/disk3/storage/ RocksDB Options \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 rocksdb_batch_size 4096 (B) Batch \u5199 rocksdb_block_cache 1024 (MB) block cache \u5927\u5c0f\u3002 \u5efa\u8bae\u4e3a\u672c\u673a\u5185\u5b58\u76841/3 rocksdb_disable_wal true \u4f7f\u7528 Rocksdb \u7684wal\u3002\u9ed8\u8ba4\u4f7f\u7528 raft wal wal_ttl 14400 (\u79d2) RAFT wal \u4fdd\u7559\u65f6\u95f4 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 rocksdb_db_options {} json \u7c7b\u578b\uff0c\u5176\u4e2d\u6bcf\u4e2a\u53c2\u6570 key \u548c value \u5747\u4e3a string \u683c\u5f0f\u3002\u89e3\u91ca\u89c1\u4e0b UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c \u6574\u4e2ajson\u8986\u76d6 \uff0c\u7acb\u523b\u751f\u6548 rocksdb_column_family_options {} json \u7c7b\u578b\uff0c\u5176\u4e2d\u6bcf\u4e2a\u53c2\u6570 key \u548c value \u5747\u4e3a string \u683c\u5f0f\u3002\u89e3\u91ca\u89c1\u4e0b UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c \u6574\u4e2ajson\u8986\u76d6 \uff0c\u7acb\u523b\u751f\u6548 rocksdb_block_based_table_options {} json \u7c7b\u578b\uff0c\u5176\u4e2d\u6bcf\u4e2a\u53c2\u6570 key \u548c value \u5747\u4e3a string \u683c\u5f0f\u3002\u89e3\u91ca\u89c1\u4e0b UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c \u6574\u4e2ajson\u8986\u76d6 \uff0c\u7acb\u523b\u751f\u6548 rocksdb_db_options \u00b6 max_total_wal_size delete_obsolete_files_period_micros max_background_jobs stats_dump_period_sec compaction_readahead_size writable_file_max_buffer_size bytes_per_sync wal_bytes_per_sync delayed_write_rate avoid_flush_during_shutdown max_open_files enable_write_thread_adaptive_yield max_subcompactions -- level0 \u5230 level1 \u7684 compact \u542f\u7528\u591a\u7ebf\u7a0b\u3002\u9ed8\u8ba4\u4e3a 1\uff0c\u52a8\u6001\u4fee\u6539\u91cd\u542f\u540e\u751f\u6548 max_background_jobs -- \u4f7f\u7528\u591a\u7ebf\u7a0b\u8fdb\u884c compact\u3002\u9ed8\u8ba4\u4e3a 1\uff0c\u52a8\u6001\u4fee\u6539\u91cd\u542f\u540e\u751f\u6548 \u4ee5\u4e0a\u53c2\u6570\u90fd\u53ef\u901a\u8fc7 UPDATE CONFIGS \u8bed\u6cd5\u8fdb\u884c\u52a8\u6001\u4fee\u6539\uff0c\u4e5f\u53ef\u4ee5\u5199\u5728\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u5177\u4f53\u4f5c\u7528\u548c\u4fee\u6539\u662f\u5426\u9700\u8981\u91cd\u542f\u8bf7\u53c2\u8003 RocksDB \u624b\u518c\u3002 rocksdb_column_family_options \u00b6 write_buffer_size max_write_buffer_number level0_file_num_compaction_trigger level0_slowdown_writes_trigger level0_stop_writes_trigger target_file_size_base target_file_size_multiplier max_bytes_for_level_base max_bytes_for_level_multiplier disable_auto_compactions -- \u505c\u6b62\u5199\u5165\u6570\u636e\u65f6\u5019\u7684\u81ea\u52a8 compact\uff0c\u9ed8\u8ba4 false\u3002\u52a8\u6001\u4fee\u6539\u7acb\u523b\u751f\u6548\u3002 \u4ee5\u4e0a\u53c2\u6570\u90fd\u53ef\u901a\u8fc7 UPDATE CONFIGS \u8bed\u6cd5\u8fdb\u884c\u52a8\u6001\u4fee\u6539\uff0c\u4e5f\u53ef\u4ee5\u5199\u5728\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u5177\u4f53\u4f5c\u7528\u548c\u4fee\u6539\u662f\u5426\u9700\u8981\u91cd\u542f\u8bf7\u53c2\u8003RocksDB\u624b\u518c\u3002 \u4ee5\u4e0a\u53c2\u6570\u53ef\u901a\u8fc7\u547d\u4ee4\u884c\u5982\u4e0b\u8bbe\u7f6e: nebula> UPDATE CONFIGS storage:rocksdb_column_family_options = \\ { disable_auto_compactions = false, level0_file_num_compaction_trigger = 10 }; -- \u8be5\u547d\u4ee4\u4f1a\u6574\u4e2a\u8986\u76d6 rocksdb_column_family_options\uff0c\u8bf7\u6ce8\u610f\u662f\u5426\u4f1a\u8986\u76d6\u5176\u4ed6\u5b50\u9879 nebula> UPDATE CONFIGS storage:rocksdb_db_options = \\ { max_subcompactions = 10, max_background_jobs = 10}; nebula> UPDATE CONFIGS storage:max_edge_returned_per_vertex = 10; -- \u8be5\u53c2\u6570\u89e3\u91ca\u89c1\u4e0b\u6587 \u53ef\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u4e0b\u8bbe\u7f6e: rocksdb_db_options = {\"stats_dump_period_sec\":\"200\", \"write_thread_max_yield_usec\":\"600\"} rocksdb_column_family_options = {\"max_write_buffer_number\":\"4\", \"min_write_buffer_number_to_merge\":\"2\", \"max_write_buffer_number_to_maintain\":\"1\"} rocksdb_block_based_table_options = {\"block_restart_interval\":\"2\"} \u8bf4\u660e\uff1a\u7a20\u5bc6\u70b9\u5904\u7406\uff08\u51fa\u5165\u8fb9\u6570\u91cf\u6781\u591a\u7684\u70b9\uff09 \u00b6 \u9488\u5bf9\u56fe\u904d\u5386\u8fc7\u7a0b\u4e2d\uff0c\u9047\u5230\u7a20\u5bc6\u70b9\u7684\u60c5\u51b5\uff0c\u76ee\u524d\u6709\u4e24\u79cd\u622a\u65ad\u7b56\u7565\uff1a \u76f4\u63a5\u622a\u65ad\u3002\u8bbe\u7f6e enable_reservoir_sampling = false \uff0c\u622a\u53d6\u524d max_edge_returned_per_vertex \u4e2a\u8fb9\uff0c\u591a\u4f59\u7684\u8fb9\u4e0d\u8fd4\u56de\u3002 \u84c4\u6c34\u6c60\u91c7\u6837\u3002\u5bf9\u51fa\u8fb9\u8fdb\u884c\u7b49\u6982\u7387\u91c7\u6837\uff0c\u4ece\u672a\u77e5\u6570\u91cf\u7684\u6240\u6709\u51fa\u8fb9\u4e2d\uff0c\u7b49\u6982\u7387\u91c7\u6837 max_edge_returned_per_vertex \u4e2a\u8fb9\u3002\u5bf9\u4e8e\u51fa\u8fb9\u6570\u91cf\u8d85\u8fc7 max_edge_returned_per_vertex \u7684\u7a20\u5bc6\u70b9\uff0c\u84c4\u6c34\u6c60\u91c7\u6837\u65b9\u6cd5\u7684\u6027\u80fd\u76f8\u5bf9\u76f4\u63a5\u622a\u53d6\u65b9\u6cd5\u8981\u5dee\uff0c\u4f46\u5bf9\u67d0\u4e9b\u4e1a\u52a1\u573a\u666f\u66f4\u6709\u5e94\u7528\u4ef7\u503c\u3002 \u4f8b\u5982\uff1a nebula> UPDATE CONFIGS storage:enable_reservoir_sampling = false; \u76f4\u63a5\u622a\u65ad\u65b9\u6cd5 \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 max_edge_returned_per_vertex 2147483647 \u6bcf\u4e2a\u7a20\u5bc6\u70b9\uff0c\u6700\u591a\u8fd4\u56de\u591a\u5c11\u6761\u8fb9\uff0c\u591a\u4f59\u7684\u8fb9\u622a\u65ad\u4e0d\u8fd4\u56de UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 Reservoir Sampling \u84c4\u6c34\u6c60\u91c7\u6837\u7b97\u6cd5\u65b9\u5f0f \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 enable_reservoir_sampling false \u5bf9\u4e8e\u8fb9\u91c7\u7528\u84c4\u6c34\u6c60\u6982\u7387\u91c7\u6837\u65b9\u5f0f\u51b3\u5b9a\u662f\u5426\u8fd4\u56de UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 \u6570\u636e\u91cf\u5927\u65f6\u7684 storage \u914d\u7f6e \u00b6 \u5982\u679c\u6570\u636e\u91cf\u5f88\u5927\u4f46\u5185\u5b58\u4e0d\u591f\uff0c\u5219\u63a8\u8350\u628a storage \u914d\u7f6e\u4e2d\u7684 enable_partitioned_index_filter \u8bbe\u7f6e\u4e3a true \uff1b\u4f46\u7531\u4e8e\u7f13\u5b58\u4e86\u8f83\u5c11\u7684 RocksDB \u7d22\u5f15\uff0c\u6027\u80fd\u4f1a\u53d7\u5f71\u54cd\u3002","title":"Storaged \u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/#storage","text":"\u672c\u6587\u4ecb\u7ecd storaged \u914d\u7f6e\u6587\u4ef6\u3002\u914d\u7f6e\u6587\u4ef6\u9ed8\u8ba4\u5728 /usr/local/nebula/etc/ \u76ee\u5f55\u4e0b\u3002\u5982\u679c\u60a8\u5df2\u6307\u5b9a Nebula Graph \u5b89\u88c5\u8def\u5f84\uff0c\u5219\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u4e3a $pwd/nebula/etc/ \u3002 *.default \u6587\u4ef6\u4e3a \u65e5\u5e38\u8c03\u8bd5 \u4f7f\u7528\uff0c\u4e5f\u662f\u670d\u52a1 \u542f\u52a8\u65f6\u9ed8\u8ba4\u4f7f\u7528 \u7684\u914d\u7f6e\u6587\u4ef6 *.production \u6587\u4ef6\u4e3a \u63a8\u8350\u751f\u4ea7\u65f6 \u4f7f\u7528\u7684\u7684\u6587\u4ef6\uff0c\u751f\u4ea7\u65f6\u8bf7\u53bb\u6389 .production \u540e\u7f00","title":"Storage \u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/#basics","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e daemonize true \u4f5c\u4e3a daemon \u8fdb\u7a0b\u8fd0\u884c pid_file \"pids/nebula-storaged.pid\" \u8fdb\u7a0b PID \u6587\u4ef6","title":"Basics \u57fa\u7840\u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/#logging","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 log_dir logs (\u4e5f\u5373 /usr/local/nebula/logs ) storaged \u65e5\u5fd7\u6587\u4ef6\u5b58\u653e\u8def\u5f84\uff0c\u5efa\u8bae\u4e0e data_path \u653e\u4e0d\u540c\u786c\u76d8 minloglevel 0 \u5bf9\u5e94\u7684\u65e5\u5fd7\u7ea7\u522b\u5206\u522b\u4e3a INFO(DEBUG)\uff0cWARNING\uff0cERROR\uff0cFATAL\u3002\u901a\u5e38\u5728\u8c03\u8bd5\u73af\u5883\u8bbe\u7f6e\u4e3a 0\uff0c\u751f\u4ea7\u73af\u5883\u8bbe\u7f6e\u4e3a 1\uff0c\u8bbe\u7f6e\u4e3a 4 \u4e0d\u6253\u5370\u4efb\u4f55\u65e5\u5fd7\u3002 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 v 0 0-4: \u5f53 minloglevel \u8bbe\u7f6e\u4e3a 0 \u65f6\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8bbe\u7f6e\u8c03\u8bd5\u65e5\u5fd7\u7684\u8be6\u7ec6\u7a0b\u5ea6\uff0c\u503c\u8d8a\u5927\u8d8a\u8be6\u7ec6 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 logbufsecs 0 \uff08\u79d2\uff09 \u65e5\u5fd7\u7f13\u5b58\u65f6\u95f4 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 slow_op_threshhold_ms 50 (\u6beb\u79d2) \u6162\u64cd\u4f5c\u548c\u6162\u67e5\u8be2\u9700\u8981\u6253\u5370\u65e5\u5fd7\u7684\u9608\u503c UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 \u4f8b\u5982\uff0c\u4e0b\u9762\u547d\u4ee4\u53ef\u4ee5\u589e\u52a0 storage \u7684\u65e5\u5fd7\u8be6\u7ec6\u7a0b\u5ea6 v=1. nebula> UPDATE CONFIGS storage:v=1;","title":"logging \u65e5\u5fd7\u76f8\u5173"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/#networking","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 meta_server_addrs \"127.0.0.1:45500\" meta server \u5730\u5740\u5217\u8868\uff0c\u683c\u5f0f\u4e3a ip1:port1, ip2:port2, ip3:port3 port 44500 RPC \u76d1\u542c\u7aef\u53e3 reuse_port true \u5f00\u542f\u5185\u6838\uff08>3.9) SO_REUSEPORT \u9009\u9879 ws_http_port 12000 HTTP \u534f\u8bae\u76d1\u542c\u7aef\u53e3 \uff08\u5185\u90e8\u4f7f\u7528\uff09 ws_h2_port 12002 HTTP/2 \u534f\u8bae\u76d1\u542c\u7aef\u53e3 \uff08\u5185\u90e8\u4f7f\u7528\uff09 ws_ip \"127.0.0.1\" web service \u7ed1\u5b9a\u5730\u5740 heartbeat_interval_secs 10 (\u79d2) \u4e0e meta service \u7684\u5fc3\u8df3\uff0c\u9700\u548c nebula-meta.conf \u6587\u4ef6\u4e2d\u7684\u8be5\u9879 \u4e00\u81f4 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u4e0b\u4e2a\u5fc3\u8df3\u5468\u671f\u751f\u6548 raft_heartbeat_interval_secs 5 (\u79d2) RAFT \u9009\u4e3e\u901a\u4fe1\u8d85\u65f6\u65f6\u95f4 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u91cd\u542f raft_rpc_timeout_ms 500 (ms) RAFT RPC \u901a\u4fe1\u8d85\u65f6 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u91cd\u542f \u6ce8\u610f\uff1a meta_server_addrs \u53c2\u6570\u4e2d\u63a8\u8350\u4f7f\u7528\u5b9e\u9645 IP\uff0c 127.0.0.1 \u6709\u65f6\u4e0d\u4f1a\u88ab\u6b63\u786e\u89e3\u6790\u3002","title":"networking \u7f51\u7edc\u901a\u4fe1\u76f8\u5173"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/#storage_1","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e data_path data/storage (\u4e5f\u5373 /usr/local/nebula/data/storage/ ) \u672c\u673a\u6570\u636e\u6301\u4e45\u5316\u7684\u6839\u76ee\u5f55\u3002 \u6bcf\u4e2a partition \u5bf9\u5e94\u4e00\u4e2a\u5b50\u76ee\u5f55\u3002 \u591a\u5757\u786c\u76d8\u65f6\u53ef\u4ee5\u9017\u53f7\u5206\u9694\u591a\u4e2a\u76ee\u5f55\uff0c\u6bcf\u4e2a\u76ee\u5f55\u5bf9\u5e94\u4e00\u4e2a Rocksdb \u5b9e\u4f8b\uff0c\u4ee5\u6709\u66f4\u597d\u7684\u5e76\u53d1\u80fd\u529b\u3002\u4f8b\u5982 --data_path=/disk1/storage/,/disk2/storage/,/disk3/storage/","title":"storage \u6570\u636e\u6301\u4e45\u5316\u8bbe\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/#rocksdb_options","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 rocksdb_batch_size 4096 (B) Batch \u5199 rocksdb_block_cache 1024 (MB) block cache \u5927\u5c0f\u3002 \u5efa\u8bae\u4e3a\u672c\u673a\u5185\u5b58\u76841/3 rocksdb_disable_wal true \u4f7f\u7528 Rocksdb \u7684wal\u3002\u9ed8\u8ba4\u4f7f\u7528 raft wal wal_ttl 14400 (\u79d2) RAFT wal \u4fdd\u7559\u65f6\u95f4 UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548 rocksdb_db_options {} json \u7c7b\u578b\uff0c\u5176\u4e2d\u6bcf\u4e2a\u53c2\u6570 key \u548c value \u5747\u4e3a string \u683c\u5f0f\u3002\u89e3\u91ca\u89c1\u4e0b UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c \u6574\u4e2ajson\u8986\u76d6 \uff0c\u7acb\u523b\u751f\u6548 rocksdb_column_family_options {} json \u7c7b\u578b\uff0c\u5176\u4e2d\u6bcf\u4e2a\u53c2\u6570 key \u548c value \u5747\u4e3a string \u683c\u5f0f\u3002\u89e3\u91ca\u89c1\u4e0b UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c \u6574\u4e2ajson\u8986\u76d6 \uff0c\u7acb\u523b\u751f\u6548 rocksdb_block_based_table_options {} json \u7c7b\u578b\uff0c\u5176\u4e2d\u6bcf\u4e2a\u53c2\u6570 key \u548c value \u5747\u4e3a string \u683c\u5f0f\u3002\u89e3\u91ca\u89c1\u4e0b UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c \u6574\u4e2ajson\u8986\u76d6 \uff0c\u7acb\u523b\u751f\u6548","title":"RocksDB Options"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/#rocksdb_db_options","text":"max_total_wal_size delete_obsolete_files_period_micros max_background_jobs stats_dump_period_sec compaction_readahead_size writable_file_max_buffer_size bytes_per_sync wal_bytes_per_sync delayed_write_rate avoid_flush_during_shutdown max_open_files enable_write_thread_adaptive_yield max_subcompactions -- level0 \u5230 level1 \u7684 compact \u542f\u7528\u591a\u7ebf\u7a0b\u3002\u9ed8\u8ba4\u4e3a 1\uff0c\u52a8\u6001\u4fee\u6539\u91cd\u542f\u540e\u751f\u6548 max_background_jobs -- \u4f7f\u7528\u591a\u7ebf\u7a0b\u8fdb\u884c compact\u3002\u9ed8\u8ba4\u4e3a 1\uff0c\u52a8\u6001\u4fee\u6539\u91cd\u542f\u540e\u751f\u6548 \u4ee5\u4e0a\u53c2\u6570\u90fd\u53ef\u901a\u8fc7 UPDATE CONFIGS \u8bed\u6cd5\u8fdb\u884c\u52a8\u6001\u4fee\u6539\uff0c\u4e5f\u53ef\u4ee5\u5199\u5728\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u5177\u4f53\u4f5c\u7528\u548c\u4fee\u6539\u662f\u5426\u9700\u8981\u91cd\u542f\u8bf7\u53c2\u8003 RocksDB \u624b\u518c\u3002","title":"rocksdb_db_options"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/#rocksdb_column_family_options","text":"write_buffer_size max_write_buffer_number level0_file_num_compaction_trigger level0_slowdown_writes_trigger level0_stop_writes_trigger target_file_size_base target_file_size_multiplier max_bytes_for_level_base max_bytes_for_level_multiplier disable_auto_compactions -- \u505c\u6b62\u5199\u5165\u6570\u636e\u65f6\u5019\u7684\u81ea\u52a8 compact\uff0c\u9ed8\u8ba4 false\u3002\u52a8\u6001\u4fee\u6539\u7acb\u523b\u751f\u6548\u3002 \u4ee5\u4e0a\u53c2\u6570\u90fd\u53ef\u901a\u8fc7 UPDATE CONFIGS \u8bed\u6cd5\u8fdb\u884c\u52a8\u6001\u4fee\u6539\uff0c\u4e5f\u53ef\u4ee5\u5199\u5728\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u5177\u4f53\u4f5c\u7528\u548c\u4fee\u6539\u662f\u5426\u9700\u8981\u91cd\u542f\u8bf7\u53c2\u8003RocksDB\u624b\u518c\u3002 \u4ee5\u4e0a\u53c2\u6570\u53ef\u901a\u8fc7\u547d\u4ee4\u884c\u5982\u4e0b\u8bbe\u7f6e: nebula> UPDATE CONFIGS storage:rocksdb_column_family_options = \\ { disable_auto_compactions = false, level0_file_num_compaction_trigger = 10 }; -- \u8be5\u547d\u4ee4\u4f1a\u6574\u4e2a\u8986\u76d6 rocksdb_column_family_options\uff0c\u8bf7\u6ce8\u610f\u662f\u5426\u4f1a\u8986\u76d6\u5176\u4ed6\u5b50\u9879 nebula> UPDATE CONFIGS storage:rocksdb_db_options = \\ { max_subcompactions = 10, max_background_jobs = 10}; nebula> UPDATE CONFIGS storage:max_edge_returned_per_vertex = 10; -- \u8be5\u53c2\u6570\u89e3\u91ca\u89c1\u4e0b\u6587 \u53ef\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u4e0b\u8bbe\u7f6e: rocksdb_db_options = {\"stats_dump_period_sec\":\"200\", \"write_thread_max_yield_usec\":\"600\"} rocksdb_column_family_options = {\"max_write_buffer_number\":\"4\", \"min_write_buffer_number_to_merge\":\"2\", \"max_write_buffer_number_to_maintain\":\"1\"} rocksdb_block_based_table_options = {\"block_restart_interval\":\"2\"}","title":"rocksdb_column_family_options"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/#_1","text":"\u9488\u5bf9\u56fe\u904d\u5386\u8fc7\u7a0b\u4e2d\uff0c\u9047\u5230\u7a20\u5bc6\u70b9\u7684\u60c5\u51b5\uff0c\u76ee\u524d\u6709\u4e24\u79cd\u622a\u65ad\u7b56\u7565\uff1a \u76f4\u63a5\u622a\u65ad\u3002\u8bbe\u7f6e enable_reservoir_sampling = false \uff0c\u622a\u53d6\u524d max_edge_returned_per_vertex \u4e2a\u8fb9\uff0c\u591a\u4f59\u7684\u8fb9\u4e0d\u8fd4\u56de\u3002 \u84c4\u6c34\u6c60\u91c7\u6837\u3002\u5bf9\u51fa\u8fb9\u8fdb\u884c\u7b49\u6982\u7387\u91c7\u6837\uff0c\u4ece\u672a\u77e5\u6570\u91cf\u7684\u6240\u6709\u51fa\u8fb9\u4e2d\uff0c\u7b49\u6982\u7387\u91c7\u6837 max_edge_returned_per_vertex \u4e2a\u8fb9\u3002\u5bf9\u4e8e\u51fa\u8fb9\u6570\u91cf\u8d85\u8fc7 max_edge_returned_per_vertex \u7684\u7a20\u5bc6\u70b9\uff0c\u84c4\u6c34\u6c60\u91c7\u6837\u65b9\u6cd5\u7684\u6027\u80fd\u76f8\u5bf9\u76f4\u63a5\u622a\u53d6\u65b9\u6cd5\u8981\u5dee\uff0c\u4f46\u5bf9\u67d0\u4e9b\u4e1a\u52a1\u573a\u666f\u66f4\u6709\u5e94\u7528\u4ef7\u503c\u3002 \u4f8b\u5982\uff1a nebula> UPDATE CONFIGS storage:enable_reservoir_sampling = false;","title":"\u8bf4\u660e\uff1a\u7a20\u5bc6\u70b9\u5904\u7406\uff08\u51fa\u5165\u8fb9\u6570\u91cf\u6781\u591a\u7684\u70b9\uff09"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/#_2","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 max_edge_returned_per_vertex 2147483647 \u6bcf\u4e2a\u7a20\u5bc6\u70b9\uff0c\u6700\u591a\u8fd4\u56de\u591a\u5c11\u6761\u8fb9\uff0c\u591a\u4f59\u7684\u8fb9\u622a\u65ad\u4e0d\u8fd4\u56de UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548","title":"\u76f4\u63a5\u622a\u65ad\u65b9\u6cd5"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/#reservoir_sampling","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e \u52a8\u6001\u4fee\u6539 enable_reservoir_sampling false \u5bf9\u4e8e\u8fb9\u91c7\u7528\u84c4\u6c34\u6c60\u6982\u7387\u91c7\u6837\u65b9\u5f0f\u51b3\u5b9a\u662f\u5426\u8fd4\u56de UPDATE CONFIGS \u547d\u4ee4\u4fee\u6539\uff0c\u7acb\u523b\u751f\u6548","title":"Reservoir Sampling \u84c4\u6c34\u6c60\u91c7\u6837\u7b97\u6cd5\u65b9\u5f0f"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/5.storage-config/#storage_2","text":"\u5982\u679c\u6570\u636e\u91cf\u5f88\u5927\u4f46\u5185\u5b58\u4e0d\u591f\uff0c\u5219\u63a8\u8350\u628a storage \u914d\u7f6e\u4e2d\u7684 enable_partitioned_index_filter \u8bbe\u7f6e\u4e3a true \uff1b\u4f46\u7531\u4e8e\u7f13\u5b58\u4e86\u8f83\u5c11\u7684 RocksDB \u7d22\u5f15\uff0c\u6027\u80fd\u4f1a\u53d7\u5f71\u54cd\u3002","title":"\u6570\u636e\u91cf\u5927\u65f6\u7684 storage \u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/6.console-config/","text":"\u547d\u4ee4\u884c\u7ec8\u7aef\u8bbe\u7f6e \u00b6 \u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e addr \"127.0.0.1\" graphd IP port 0 graphd port u \"\" \u7528\u4e8e\u8eab\u4efd\u9a8c\u8bc1\u7684\u7528\u6237\u540d p \"\" \u7528\u4e8e\u8eab\u4efd\u9a8c\u8bc1\u7684\u5bc6\u7801 enable_history false \u662f\u5426\u4fdd\u5b58\u5386\u53f2\u547d\u4ee4 server_conn_timeout_ms 1000 \u8fde\u63a5\u8d85\u65f6\u65f6\u957f\uff0c\u5355\u4f4d\u6beb\u79d2","title":"Console \u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/6.console-config/#_1","text":"\u5c5e\u6027\u540d \u9ed8\u8ba4\u503c \u8bf4\u660e addr \"127.0.0.1\" graphd IP port 0 graphd port u \"\" \u7528\u4e8e\u8eab\u4efd\u9a8c\u8bc1\u7684\u7528\u6237\u540d p \"\" \u7528\u4e8e\u8eab\u4efd\u9a8c\u8bc1\u7684\u5bc6\u7801 enable_history false \u662f\u5426\u4fdd\u5b58\u5386\u53f2\u547d\u4ee4 server_conn_timeout_ms 1000 \u8fde\u63a5\u8d85\u65f6\u65f6\u957f\uff0c\u5355\u4f4d\u6beb\u79d2","title":"\u547d\u4ee4\u884c\u7ec8\u7aef\u8bbe\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/","text":"\u64cd\u4f5c\u7cfb\u7edf\u53c2\u6570\u914d\u7f6e \u00b6 \u672c\u6587\u6863\u4e3a Nebula Graph \u7cfb\u7edf\u53c2\u6570\u914d\u7f6e\u53c2\u8003\u3002 ulimit \u00b6 ulimit -c \u00b6 \u6b64\u547d\u4ee4\u8c03\u6574 core dump \u6587\u4ef6\u53ef\u5360\u7528\u7a7a\u95f4\u7684\u6700\u5927\u503c\u3002\u5efa\u8bae\u8bbe\u7f6e\u4e3a unlimited \uff0c\u5373\uff1a ulimit -c unlimited \u3002 ulimit -n \u00b6 \u6b64\u547d\u4ee4\u8c03\u6574\u8fdb\u7a0b\u6700\u5927\u53ef\u7528\u7684\u6587\u4ef6\u53e5\u67c4\u6570\u3002\u5efa\u8bae\u8bbe\u7f6e\u5230 10 \u4e07\u4ee5\u4e0a\uff0c\u5982\uff1a ulimit -n 130000 \u3002 \u5185\u5b58 \u00b6 vm.swappiness \u00b6 \u5185\u6838\u5c06\u4e00\u6bb5\u65f6\u95f4\u5185 idle \u7684\u533f\u540d\u9875\u4ea4\u6362\u81f3\u78c1\u76d8\u7684 \u503e\u5411\u6027 \u3002\u503c\u8d8a\u5927\uff0c\u8d8a\u503e\u5411\u4e8e\u6362\u51fa\u3002\u5efa\u8bae\u8bbe\u7f6e\u4e3a 0\uff0c\u5373\u5728\u5185\u5b58\u7d27\u5f20\u65f6\uff0c\u4f18\u5148\u6dd8\u6c70 page cache\u3002\u6ce8\u610f\uff0cswappiness \u4e3a 0\uff0c\u4e0d\u4ee3\u8868\u4e0d\u4f1a\u6362\u51fa\u3002 vm.min_free_kbytes \u00b6 Linux \u5185\u6838\u6839\u636e\u8be5\u9009\u9879\u8ba1\u7b97\u5185\u5b58\u76f8\u5173\u6c34\u4f4d\u503c\u3002\u5982\u679c\u7cfb\u7edf\u7269\u7406\u5185\u5b58\u8f83\u5927\uff0c\u5efa\u8bae\u8c03\u9ad8\u8be5\u503c\uff08\u6bd4\u5982\uff0c128GB \u7269\u7406\u5185\u5b58\u8bbe\u7f6e\u4e3a 5GB\uff09\u3002\u5426\u5219\uff0c\u5728\u5185\u5b58\u7d27\u5f20\u65f6\uff0c\u7cfb\u7edf\u65e0\u6cd5\u7533\u8bf7\u8f83\u5927\u7684\u8fde\u7eed\u7269\u7406\u5185\u5b58\u3002 vm.max_map_count \u00b6 \u6b64\u9009\u9879\u6307\u5b9a\u8fdb\u7a0b\u5141\u8bb8\u7684\u6700\u5927 vma (virtual memory area) \u6570\u91cf\u3002\u7cfb\u7edf\u9ed8\u8ba4\u503c\u901a\u5e38\u4e3a 65530\uff0c\u7edd\u5927\u591a\u6570\u60c5\u51b5\u662f\u8db3\u591f\u7684\u3002\u5982\u679c\u5728\u5185\u5b58\u6d88\u8017\u8f83\u5927\u65f6\u51fa\u73b0\u5185\u5b58\u7533\u8bf7\u5931\u8d25\uff0c\u53ef\u4ee5\u9002\u5f53\u8c03\u9ad8\u3002 vm.overcommit_memory \u00b6 \u8be5\u9009\u9879\u6307\u5b9a\u7cfb\u7edf\u4e2d\u7533\u8bf7\u7684\u5185\u5b58\u5927\u4e8e\u53ef\u7528\u5185\u5b58\u65f6\u7684\u5185\u6838\u884c\u4e3a\uff0c\u5efa\u8bae\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u503c 0 \u6216 1\u3002\u4e0d\u8981\u8bbe\u7f6e\u4e3a 2\u3002 vm.dirty_* \u00b6 \u8fd9\u4e9b\u9009\u9879\u63a7\u5236\u7cfb\u7edf\u810f\u9875\uff08dirty page cache\uff09\u843d\u76d8\u7684\u6fc0\u8fdb\u7a0b\u5ea6\u3002\u5bf9\u4e8e\u5199\u5165\u5bc6\u96c6\u7684\u573a\u666f\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\uff08\u541e\u5410\u4f18\u5148\u8fd8\u662f\u5ef6\u65f6\u4f18\u5148\uff09\u505a\u9002\u5f53\u8c03\u6574\u3002\u5efa\u8bae\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u503c\u3002 Transparent Huge Page \u00b6 \u4e3a\u4e86\u66f4\u597d\u7684\u5ef6\u65f6\u8868\u73b0\uff0c\u5efa\u8bae\u5c06\u5185\u5b58\u900f\u660e\u5927\u9875\u53ca\u9501\u7247\u6574\u7406\u7981\u6389\u3002\u9009\u9879\u5206\u522b\u4e3a /sys/kernel/mm/transparent_hugepage/enabled \u548c /sys/kernel/mm/transparent_hugepage/defrag \u3002\u4f8b\u5982\uff1a echo never > /sys/kernel/mm/transparent_hugepage/enabled echo never > /sys/kernel/mm/transparent_hugepage/defrag swapoff -a && swapon -a \u7f51\u7edc \u00b6 net.ipv4.tcp_slow_start_after_idle \u00b6 \u6b64\u9009\u9879\u9ed8\u8ba4\u503c\u4e3a 1\uff0c\u5373 TCP \u8fde\u63a5\u5728 Idle \u4e00\u6bb5\u65f6\u95f4\u4e4b\u540e\uff0c\u53d1\u9001\u7a97\u53e3\u4f1a\u88ab\u91cd\u8bbe\uff0c\u5e76\u91cd\u65b0\u6267\u884c\u6162\u5f00\u59cb\u7b97\u6cd5\u3002\u5efa\u8bae\u5c06\u8be5\u9009\u9879\u8bbe\u7f6e\u4e3a 0\uff0c\u5c24\u5176\u662f\u957f\u80a5\u94fe\u8def\uff08\u5373\u9ad8\u5ef6\u65f6\u5927\u5e26\u5bbd\uff09\u3002 net.core.somaxconn \u00b6 \u8be5\u9009\u9879\u4e0e listen \u7cfb\u7edf\u8c03\u7528\u7684 backlog \u53c2\u6570\u4e00\u8d77\uff0c\u6307\u5b9a\u201c\u5df2\u5b8c\u6210\u4e09\u6b21\u63e1\u624b\u4f46\u672a\u88ab accept\u201d\u7684\u6700\u5927 TCP \u8fde\u63a5\u6570\u3002\u5bf9\u4e8e\u6709\u5927\u91cf\u7a81\u53d1\u8fde\u63a5\u5efa\u7acb\u7684\u573a\u666f\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a 1024 \u4ee5\u4e0a\uff08\u9ed8\u8ba4\u503c\u4e3a 128\uff09\u3002 net.ipv4.tcp_max_syn_backlog \u00b6 \u6700\u5927 TCP \u534a\u8fde\u63a5\u6570\uff0c\u8bbe\u7f6e\u539f\u5219\u540c net.core.somaxconn \u3002 net.core.netdev_max_backlog \u00b6 \u7f51\u5361\u63a5\u53d7\u961f\u5217\u7684\u6700\u5927\u957f\u5ea6\u3002\u5bf9\u4e8e\u9ad8\u541e\u5410\u573a\u666f\uff0c\u5c24\u5176\u662f 10G \u7f51\u5361\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a 10000 \u4ee5\u4e0a\uff08\u9ed8\u8ba4\u503c\u4e3a 1000\uff09\u3002 net.ipv4.tcp_keepalive_* \u00b6 TCP \u8fde\u63a5\u7684 keepalive \u673a\u5236\u76f8\u5173\u53c2\u6570\u3002\u5bf9\u4e8e\u4f7f\u7528 4 \u5c42\u900f\u660e load balancer \u7684\u5e94\u7528\uff0c\u5982\u679c\u51fa\u73b0 idle \u8fde\u63a5\u610f\u5916\u65ad\u5f00\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u5c06 tcp_keepalive_time \u4e0e tcp_keepalive_intvl \u8c03\u4f4e\u3002 net.ipv4.tcp_rmem/wmem \u00b6 TCP \u8fde\u63a5\u7684\u6700\u5c0f\u3001\u9ed8\u8ba4\u3001\u6700\u5927\u63a5\u53d7/\u53d1\u9001 buffer \u7684\u5927\u5c0f\u3002\u5bf9\u4e8e\u957f\u80a5\u94fe\u8def\uff0c\u5efa\u8bae\u8c03\u5927\u9ed8\u8ba4\u503c\u4e3a bandwidth * RTT\u3002 scheduler \u00b6 \u5bf9\u4e8e SSD \u8bbe\u5907\uff0c\u5efa\u8bae\u5c06 /sys/block/DEV_NAME/queue/scheduler \u8bbe\u7f6e\u4e3a noop \u6216 none\u3002 \u5176\u4ed6 \u00b6 kernel.core_pattern \u00b6 \u5efa\u8bae\u8bbe\u7f6e\u4e3a core\uff0c\u5e76\u5c06 kernel.core_uses_pid \u8bbe\u7f6e\u4e3a 1\u3002 \u76f8\u5173\u547d\u4ee4\u4f7f\u7528\u8bf4\u660e \u00b6 sysctl \u00b6 sysctl conf_name \u67e5\u770b\u5f53\u524d\u53c2\u6570\u503c sysctl -w conf_name=value \u4fee\u6539\u53c2\u6570\u503c\u5e76\u7acb\u5373\u751f\u6548 sysctl -p \u4ece\u76f8\u5173\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u53c2\u6570\u503c ulimit \u4f7f\u7528\u8bf4\u660e \u00b6 ulimit \u547d\u4ee4\u7528\u4e8e\u8bbe\u7f6e\u5f53\u524d shell session \u7684\u8d44\u6e90\u9650\u5236\u9608\u503c\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c ulimit \u547d\u4ee4\u505a\u51fa\u7684\u4fee\u6539\u4ec5\u5bf9\u5f53\u524d session \uff08\u53ca\u5b50\u8fdb\u7a0b\uff09\u6709\u6548\u3002 ulimit \u4e0d\u80fd\u5c06\u67d0\u4e2a\u8d44\u6e90\u7684\uff08soft\uff09\u9608\u503c\u8c03\u6574\u81f3\u5927\u4e8e\u5f53\u524d hard \u503c\u3002 \u666e\u901a\u7528\u6237\u4e0d\u80fd\u901a\u8fc7\u8be5\u547d\u4ee4\u8c03\u6574 hard \u9608\u503c\uff08\u5305\u62ec sudo \u65b9\u5f0f\uff09\u3002 \u82e5\u8981\u4ece\u7cfb\u7edf\u5c42\u9762\u4fee\u6539\uff0c\u6216\u8005\u8c03\u6574 hard \u9608\u503c\uff0c\u9700\u8981\u7f16\u8f91 /etc/security/limits.conf \u6587\u4ef6\u3002\u4f46\u8be5\u65b9\u5f0f\u9700\u8981\u91cd\u65b0\u767b\u5f55\u624d\u80fd\u751f\u6548\u3002 prlimit \u00b6 prlimit \u547d\u4ee4\u53ef\u4ee5\u4fee\u6539\u67d0\u4e2a\u7279\u5b9a\u8fdb\u7a0b\u7684\u8d44\u6e90\u9650\u5236\u9608\u503c\u3002\u7ed3\u5408 sudo \u547d\u4ee4\u53ef\u4ee5\u4fee\u6539 hard \u9608\u503c\u3002\u4f8b\u5982\uff0c prlimit --nofile=130000 --pid=$$ \u53ef\u5c06\u5f53\u524d\u8fdb\u7a0b\u6700\u5927\u5141\u8bb8\u6253\u5f00\u7684\u6587\u4ef6\u6570\u8c03\u6574\u81f3 14000\uff0c\u5e76\u7acb\u5373\u751f\u6548\u3002\u8bf7\u6ce8\u610f\u8be5\u547d\u4ee4\u4ec5\u5728 RedHat 7u \u6216\u66f4\u65b0\u7248\u672c OS \u53ef\u7528\u3002","title":"Kernel \u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#_1","text":"\u672c\u6587\u6863\u4e3a Nebula Graph \u7cfb\u7edf\u53c2\u6570\u914d\u7f6e\u53c2\u8003\u3002","title":"\u64cd\u4f5c\u7cfb\u7edf\u53c2\u6570\u914d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#ulimit","text":"","title":"ulimit"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#ulimit_-c","text":"\u6b64\u547d\u4ee4\u8c03\u6574 core dump \u6587\u4ef6\u53ef\u5360\u7528\u7a7a\u95f4\u7684\u6700\u5927\u503c\u3002\u5efa\u8bae\u8bbe\u7f6e\u4e3a unlimited \uff0c\u5373\uff1a ulimit -c unlimited \u3002","title":"ulimit -c"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#ulimit_-n","text":"\u6b64\u547d\u4ee4\u8c03\u6574\u8fdb\u7a0b\u6700\u5927\u53ef\u7528\u7684\u6587\u4ef6\u53e5\u67c4\u6570\u3002\u5efa\u8bae\u8bbe\u7f6e\u5230 10 \u4e07\u4ee5\u4e0a\uff0c\u5982\uff1a ulimit -n 130000 \u3002","title":"ulimit -n"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#_2","text":"","title":"\u5185\u5b58"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#vmswappiness","text":"\u5185\u6838\u5c06\u4e00\u6bb5\u65f6\u95f4\u5185 idle \u7684\u533f\u540d\u9875\u4ea4\u6362\u81f3\u78c1\u76d8\u7684 \u503e\u5411\u6027 \u3002\u503c\u8d8a\u5927\uff0c\u8d8a\u503e\u5411\u4e8e\u6362\u51fa\u3002\u5efa\u8bae\u8bbe\u7f6e\u4e3a 0\uff0c\u5373\u5728\u5185\u5b58\u7d27\u5f20\u65f6\uff0c\u4f18\u5148\u6dd8\u6c70 page cache\u3002\u6ce8\u610f\uff0cswappiness \u4e3a 0\uff0c\u4e0d\u4ee3\u8868\u4e0d\u4f1a\u6362\u51fa\u3002","title":"vm.swappiness"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#vmmin_free_kbytes","text":"Linux \u5185\u6838\u6839\u636e\u8be5\u9009\u9879\u8ba1\u7b97\u5185\u5b58\u76f8\u5173\u6c34\u4f4d\u503c\u3002\u5982\u679c\u7cfb\u7edf\u7269\u7406\u5185\u5b58\u8f83\u5927\uff0c\u5efa\u8bae\u8c03\u9ad8\u8be5\u503c\uff08\u6bd4\u5982\uff0c128GB \u7269\u7406\u5185\u5b58\u8bbe\u7f6e\u4e3a 5GB\uff09\u3002\u5426\u5219\uff0c\u5728\u5185\u5b58\u7d27\u5f20\u65f6\uff0c\u7cfb\u7edf\u65e0\u6cd5\u7533\u8bf7\u8f83\u5927\u7684\u8fde\u7eed\u7269\u7406\u5185\u5b58\u3002","title":"vm.min_free_kbytes"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#vmmax_map_count","text":"\u6b64\u9009\u9879\u6307\u5b9a\u8fdb\u7a0b\u5141\u8bb8\u7684\u6700\u5927 vma (virtual memory area) \u6570\u91cf\u3002\u7cfb\u7edf\u9ed8\u8ba4\u503c\u901a\u5e38\u4e3a 65530\uff0c\u7edd\u5927\u591a\u6570\u60c5\u51b5\u662f\u8db3\u591f\u7684\u3002\u5982\u679c\u5728\u5185\u5b58\u6d88\u8017\u8f83\u5927\u65f6\u51fa\u73b0\u5185\u5b58\u7533\u8bf7\u5931\u8d25\uff0c\u53ef\u4ee5\u9002\u5f53\u8c03\u9ad8\u3002","title":"vm.max_map_count"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#vmovercommit_memory","text":"\u8be5\u9009\u9879\u6307\u5b9a\u7cfb\u7edf\u4e2d\u7533\u8bf7\u7684\u5185\u5b58\u5927\u4e8e\u53ef\u7528\u5185\u5b58\u65f6\u7684\u5185\u6838\u884c\u4e3a\uff0c\u5efa\u8bae\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u503c 0 \u6216 1\u3002\u4e0d\u8981\u8bbe\u7f6e\u4e3a 2\u3002","title":"vm.overcommit_memory"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#vmdirty_","text":"\u8fd9\u4e9b\u9009\u9879\u63a7\u5236\u7cfb\u7edf\u810f\u9875\uff08dirty page cache\uff09\u843d\u76d8\u7684\u6fc0\u8fdb\u7a0b\u5ea6\u3002\u5bf9\u4e8e\u5199\u5165\u5bc6\u96c6\u7684\u573a\u666f\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\uff08\u541e\u5410\u4f18\u5148\u8fd8\u662f\u5ef6\u65f6\u4f18\u5148\uff09\u505a\u9002\u5f53\u8c03\u6574\u3002\u5efa\u8bae\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u503c\u3002","title":"vm.dirty_*"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#transparent_huge_page","text":"\u4e3a\u4e86\u66f4\u597d\u7684\u5ef6\u65f6\u8868\u73b0\uff0c\u5efa\u8bae\u5c06\u5185\u5b58\u900f\u660e\u5927\u9875\u53ca\u9501\u7247\u6574\u7406\u7981\u6389\u3002\u9009\u9879\u5206\u522b\u4e3a /sys/kernel/mm/transparent_hugepage/enabled \u548c /sys/kernel/mm/transparent_hugepage/defrag \u3002\u4f8b\u5982\uff1a echo never > /sys/kernel/mm/transparent_hugepage/enabled echo never > /sys/kernel/mm/transparent_hugepage/defrag swapoff -a && swapon -a","title":"Transparent Huge Page"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#_3","text":"","title":"\u7f51\u7edc"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#netipv4tcp_slow_start_after_idle","text":"\u6b64\u9009\u9879\u9ed8\u8ba4\u503c\u4e3a 1\uff0c\u5373 TCP \u8fde\u63a5\u5728 Idle \u4e00\u6bb5\u65f6\u95f4\u4e4b\u540e\uff0c\u53d1\u9001\u7a97\u53e3\u4f1a\u88ab\u91cd\u8bbe\uff0c\u5e76\u91cd\u65b0\u6267\u884c\u6162\u5f00\u59cb\u7b97\u6cd5\u3002\u5efa\u8bae\u5c06\u8be5\u9009\u9879\u8bbe\u7f6e\u4e3a 0\uff0c\u5c24\u5176\u662f\u957f\u80a5\u94fe\u8def\uff08\u5373\u9ad8\u5ef6\u65f6\u5927\u5e26\u5bbd\uff09\u3002","title":"net.ipv4.tcp_slow_start_after_idle"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#netcoresomaxconn","text":"\u8be5\u9009\u9879\u4e0e listen \u7cfb\u7edf\u8c03\u7528\u7684 backlog \u53c2\u6570\u4e00\u8d77\uff0c\u6307\u5b9a\u201c\u5df2\u5b8c\u6210\u4e09\u6b21\u63e1\u624b\u4f46\u672a\u88ab accept\u201d\u7684\u6700\u5927 TCP \u8fde\u63a5\u6570\u3002\u5bf9\u4e8e\u6709\u5927\u91cf\u7a81\u53d1\u8fde\u63a5\u5efa\u7acb\u7684\u573a\u666f\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a 1024 \u4ee5\u4e0a\uff08\u9ed8\u8ba4\u503c\u4e3a 128\uff09\u3002","title":"net.core.somaxconn"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#netipv4tcp_max_syn_backlog","text":"\u6700\u5927 TCP \u534a\u8fde\u63a5\u6570\uff0c\u8bbe\u7f6e\u539f\u5219\u540c net.core.somaxconn \u3002","title":"net.ipv4.tcp_max_syn_backlog"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#netcorenetdev_max_backlog","text":"\u7f51\u5361\u63a5\u53d7\u961f\u5217\u7684\u6700\u5927\u957f\u5ea6\u3002\u5bf9\u4e8e\u9ad8\u541e\u5410\u573a\u666f\uff0c\u5c24\u5176\u662f 10G \u7f51\u5361\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a 10000 \u4ee5\u4e0a\uff08\u9ed8\u8ba4\u503c\u4e3a 1000\uff09\u3002","title":"net.core.netdev_max_backlog"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#netipv4tcp_keepalive_","text":"TCP \u8fde\u63a5\u7684 keepalive \u673a\u5236\u76f8\u5173\u53c2\u6570\u3002\u5bf9\u4e8e\u4f7f\u7528 4 \u5c42\u900f\u660e load balancer \u7684\u5e94\u7528\uff0c\u5982\u679c\u51fa\u73b0 idle \u8fde\u63a5\u610f\u5916\u65ad\u5f00\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u5c06 tcp_keepalive_time \u4e0e tcp_keepalive_intvl \u8c03\u4f4e\u3002","title":"net.ipv4.tcp_keepalive_*"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#netipv4tcp_rmemwmem","text":"TCP \u8fde\u63a5\u7684\u6700\u5c0f\u3001\u9ed8\u8ba4\u3001\u6700\u5927\u63a5\u53d7/\u53d1\u9001 buffer \u7684\u5927\u5c0f\u3002\u5bf9\u4e8e\u957f\u80a5\u94fe\u8def\uff0c\u5efa\u8bae\u8c03\u5927\u9ed8\u8ba4\u503c\u4e3a bandwidth * RTT\u3002","title":"net.ipv4.tcp_rmem/wmem"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#scheduler","text":"\u5bf9\u4e8e SSD \u8bbe\u5907\uff0c\u5efa\u8bae\u5c06 /sys/block/DEV_NAME/queue/scheduler \u8bbe\u7f6e\u4e3a noop \u6216 none\u3002","title":"scheduler"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#_4","text":"","title":"\u5176\u4ed6"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#kernelcore_pattern","text":"\u5efa\u8bae\u8bbe\u7f6e\u4e3a core\uff0c\u5e76\u5c06 kernel.core_uses_pid \u8bbe\u7f6e\u4e3a 1\u3002","title":"kernel.core_pattern"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#_5","text":"","title":"\u76f8\u5173\u547d\u4ee4\u4f7f\u7528\u8bf4\u660e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#sysctl","text":"sysctl conf_name \u67e5\u770b\u5f53\u524d\u53c2\u6570\u503c sysctl -w conf_name=value \u4fee\u6539\u53c2\u6570\u503c\u5e76\u7acb\u5373\u751f\u6548 sysctl -p \u4ece\u76f8\u5173\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u53c2\u6570\u503c","title":"sysctl"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#ulimit_1","text":"ulimit \u547d\u4ee4\u7528\u4e8e\u8bbe\u7f6e\u5f53\u524d shell session \u7684\u8d44\u6e90\u9650\u5236\u9608\u503c\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c ulimit \u547d\u4ee4\u505a\u51fa\u7684\u4fee\u6539\u4ec5\u5bf9\u5f53\u524d session \uff08\u53ca\u5b50\u8fdb\u7a0b\uff09\u6709\u6548\u3002 ulimit \u4e0d\u80fd\u5c06\u67d0\u4e2a\u8d44\u6e90\u7684\uff08soft\uff09\u9608\u503c\u8c03\u6574\u81f3\u5927\u4e8e\u5f53\u524d hard \u503c\u3002 \u666e\u901a\u7528\u6237\u4e0d\u80fd\u901a\u8fc7\u8be5\u547d\u4ee4\u8c03\u6574 hard \u9608\u503c\uff08\u5305\u62ec sudo \u65b9\u5f0f\uff09\u3002 \u82e5\u8981\u4ece\u7cfb\u7edf\u5c42\u9762\u4fee\u6539\uff0c\u6216\u8005\u8c03\u6574 hard \u9608\u503c\uff0c\u9700\u8981\u7f16\u8f91 /etc/security/limits.conf \u6587\u4ef6\u3002\u4f46\u8be5\u65b9\u5f0f\u9700\u8981\u91cd\u65b0\u767b\u5f55\u624d\u80fd\u751f\u6548\u3002","title":"ulimit \u4f7f\u7528\u8bf4\u660e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/7.kernel-config/#prlimit","text":"prlimit \u547d\u4ee4\u53ef\u4ee5\u4fee\u6539\u67d0\u4e2a\u7279\u5b9a\u8fdb\u7a0b\u7684\u8d44\u6e90\u9650\u5236\u9608\u503c\u3002\u7ed3\u5408 sudo \u547d\u4ee4\u53ef\u4ee5\u4fee\u6539 hard \u9608\u503c\u3002\u4f8b\u5982\uff0c prlimit --nofile=130000 --pid=$$ \u53ef\u5c06\u5f53\u524d\u8fdb\u7a0b\u6700\u5927\u5141\u8bb8\u6253\u5f00\u7684\u6587\u4ef6\u6570\u8c03\u6574\u81f3 14000\uff0c\u5e76\u7acb\u5373\u751f\u6548\u3002\u8bf7\u6ce8\u610f\u8be5\u547d\u4ee4\u4ec5\u5728 RedHat 7u \u6216\u66f4\u65b0\u7248\u672c OS \u53ef\u7528\u3002","title":"prlimit"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/8.single-node-log/","text":"\u5355\u673a\u65e5\u5fd7 \u00b6 Nebula Graph \u4f7f\u7528 glog \u6253\u5370\u65e5\u5fd7\uff0c\u4f7f\u7528 gflag \u63a7\u5236\u65e5\u5fd7\u7ea7\u522b\uff0c\u5e76\u63d0\u4f9b HTTP \u63a5\u53e3\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u6539\u53d8\u65e5\u5fd7\u7ea7\u522b\uff0c\u4ee5\u65b9\u4fbf\u8ffd\u8e2a\u95ee\u9898\u3002 \u65e5\u5fd7\u4f4d\u7f6e \u00b6 \u65e5\u5fd7\u9ed8\u8ba4\u5b58\u653e\u5728 /usr/local/nebula/logs/ \u4e0b\u3002 \u6ce8\u610f\uff1a \u5982\u679c\u5728\u8fd0\u884c\u65f6\u5220\u9664\u4e86\u65e5\u5fd7\u76ee\u5f55\uff0c\u4f1a\u5bfc\u81f4\u8fd0\u884c\u65f6\u7684\u65e5\u5fd7\u4e0d\u7ee7\u7eed\u8f93\u51fa\uff0c\u4f46\u4e0d\u4f1a\u5f71\u54cd\u670d\u52a1\u3002\u7a0b\u5e8f\u91cd\u542f\u540e\u53ef\u6062\u590d\u6b63\u5e38\u3002 \u53c2\u6570\u8bf4\u660e \u00b6 glog \u4e2d\u7684\u4e24\u4e2a\u4e3b\u8981\u53c2\u6570 \u00b6 minloglevel\uff1a\u8303\u56f4\u4e3a 0-4\u3002\u5176\u4e2d 0-3 \u5bf9\u5e94\u7684\u65e5\u5fd7\u7ea7\u522b\u5206\u522b\u4e3a INFO(DEBUG)\u3001WARNING\u3001ERROR\u3001FATAL\u3002\u901a\u5e38\u5728\u8c03\u8bd5\u73af\u5883\u8bbe\u7f6e\u4e3a 0\uff0c\u751f\u4ea7\u73af\u5883\u8bbe\u7f6e\u4e3a 1\uff0c\u8bbe\u7f6e\u4e3a 4 \u4e0d\u6253\u5370\u4efb\u4f55\u65e5\u5fd7\u3002 v\uff1a\u8303\u56f4\u4e3a 0-3\u3002\u5f53 minloglevel \u8bbe\u7f6e\u4e3a 0 \u65f6\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8bbe\u7f6e\u8c03\u8bd5\u65e5\u5fd7\u7684\u8be6\u7ec6\u7a0b\u5ea6\uff0c\u503c\u8d8a\u5927\u8d8a\u8be6\u7ec6\u3002 \u914d\u7f6e\u6587\u4ef6 \u00b6 \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff08\u901a\u5e38\u5728 /usr/local/nebula/etc/ \u4e0b\uff09\u53ef\u4ee5\u627e\u5230 metad\u3001graphd \u548c storaged \u7684\u9ed8\u8ba4\u65e5\u5fd7\u914d\u7f6e\u7ea7\u522b\u3002 \u52a8\u6001\u67e5\u770b\u548c\u4fee\u6539\u65e5\u5fd7\u7ea7\u522b \u00b6 \u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u6765\u67e5\u770b\u5f53\u524d\u6240\u6709\u7684 gflags \u53c2\u6570\uff08\u5305\u62ec\u65e5\u5fd7\u53c2\u6570\uff09\u3002curl \u4ec5\u5728 local_config \u8bbe\u7f6e\u4e3a true \u65f6\u53ef\u7528\u3002 > curl ${ ws_ip } : ${ ws_port } /get_flags \u5176\u4e2d\uff0c ws_ip \u4e3a HTTP \u670d\u52a1\u7684 IP\uff0c\u53ef\u4ee5\u5728\u4e0a\u8ff0\u914d\u7f6e\u6587\u4ef6\u4e2d\u627e\u5230\u3002\u9ed8\u8ba4 IP \u4e3a 127.0.0.1\u3002 ws_port \u4e3a HTTP \u670d\u52a1\u7684\u7aef\u53e3\u53f7\u3002 metad \u9ed8\u8ba4\u4e3a 11000\uff0c storaged \u9ed8\u8ba4\u4e3a 12000\uff0c graphd \u9ed8\u8ba4\u4e3a 13000\u3002 \u4f8b\u5982\uff0c\u67e5\u770b storaged \u670d\u52a1\u7684 minloglevel \u7ea7\u522b\uff1a > curl 127 .0.0.1:12000/get_flags | grep minloglevel # storage > curl 127 .0.0.1:13000/get_flags # metad \u4e5f\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u5c06\u65e5\u5fd7\u7ea7\u522b\u66f4\u6539\u4e3a \u6700\u8be6\u7ec6 \u3002 > curl \"http://127.0.0.1:12000/set_flags?flag=v&value=3\" > curl \"http://127.0.0.1:12000/set_flags?flag=minloglevel&value=0\" \u5728 console \u4e2d\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u83b7\u53d6\u5f53\u524d\u65e5\u5fd7\u7ea7\u522b\u5e76\u5c06\u65e5\u5fd7\u7ea7\u522b\u8bbe\u7f6e\u4e3a \u6700\u8be6\u7ec6 \u3002 nebula> GET CONFIGS graph:minloglevel; nebula> UPDATE CONFIGS graph:minloglevel=0; \u5982\u9700\u66f4\u6539 storage \u65e5\u5fd7\u7ea7\u522b\uff0c\u5c06\u4e0a\u8ff0\u547d\u4ee4\u4e2d\u7684 graph \u66f4\u6362\u4e3a storage \u5373\u53ef\u3002 \u6ce8\u610f\uff1a Nebula Graph \u4ec5\u652f\u6301\u901a\u8fc7 console \u4fee\u6539 graph \u548c storage \u65e5\u5fd7\u7ea7\u522b\uff0cmeta \u65e5\u5fd7\u7ea7\u522b\u5fc5\u987b\u4f7f\u7528 curl \u547d\u4ee4\u66f4\u6539\u3002 \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4 \u5173\u95ed \u6240\u6709\u7684\u65e5\u5fd7\u6253\u5370(\u4ec5\u4fdd\u7559 FATAL)\u3002 > curl \"http://127.0.0.1:12000/set_flags?flag=minloglevel&value=3\"","title":"\u5355\u673a\u65e5\u5fd7"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/8.single-node-log/#_1","text":"Nebula Graph \u4f7f\u7528 glog \u6253\u5370\u65e5\u5fd7\uff0c\u4f7f\u7528 gflag \u63a7\u5236\u65e5\u5fd7\u7ea7\u522b\uff0c\u5e76\u63d0\u4f9b HTTP \u63a5\u53e3\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u6539\u53d8\u65e5\u5fd7\u7ea7\u522b\uff0c\u4ee5\u65b9\u4fbf\u8ffd\u8e2a\u95ee\u9898\u3002","title":"\u5355\u673a\u65e5\u5fd7"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/8.single-node-log/#_2","text":"\u65e5\u5fd7\u9ed8\u8ba4\u5b58\u653e\u5728 /usr/local/nebula/logs/ \u4e0b\u3002 \u6ce8\u610f\uff1a \u5982\u679c\u5728\u8fd0\u884c\u65f6\u5220\u9664\u4e86\u65e5\u5fd7\u76ee\u5f55\uff0c\u4f1a\u5bfc\u81f4\u8fd0\u884c\u65f6\u7684\u65e5\u5fd7\u4e0d\u7ee7\u7eed\u8f93\u51fa\uff0c\u4f46\u4e0d\u4f1a\u5f71\u54cd\u670d\u52a1\u3002\u7a0b\u5e8f\u91cd\u542f\u540e\u53ef\u6062\u590d\u6b63\u5e38\u3002","title":"\u65e5\u5fd7\u4f4d\u7f6e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/8.single-node-log/#_3","text":"","title":"\u53c2\u6570\u8bf4\u660e"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/8.single-node-log/#glog","text":"minloglevel\uff1a\u8303\u56f4\u4e3a 0-4\u3002\u5176\u4e2d 0-3 \u5bf9\u5e94\u7684\u65e5\u5fd7\u7ea7\u522b\u5206\u522b\u4e3a INFO(DEBUG)\u3001WARNING\u3001ERROR\u3001FATAL\u3002\u901a\u5e38\u5728\u8c03\u8bd5\u73af\u5883\u8bbe\u7f6e\u4e3a 0\uff0c\u751f\u4ea7\u73af\u5883\u8bbe\u7f6e\u4e3a 1\uff0c\u8bbe\u7f6e\u4e3a 4 \u4e0d\u6253\u5370\u4efb\u4f55\u65e5\u5fd7\u3002 v\uff1a\u8303\u56f4\u4e3a 0-3\u3002\u5f53 minloglevel \u8bbe\u7f6e\u4e3a 0 \u65f6\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8bbe\u7f6e\u8c03\u8bd5\u65e5\u5fd7\u7684\u8be6\u7ec6\u7a0b\u5ea6\uff0c\u503c\u8d8a\u5927\u8d8a\u8be6\u7ec6\u3002","title":"glog \u4e2d\u7684\u4e24\u4e2a\u4e3b\u8981\u53c2\u6570"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/8.single-node-log/#_4","text":"\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff08\u901a\u5e38\u5728 /usr/local/nebula/etc/ \u4e0b\uff09\u53ef\u4ee5\u627e\u5230 metad\u3001graphd \u548c storaged \u7684\u9ed8\u8ba4\u65e5\u5fd7\u914d\u7f6e\u7ea7\u522b\u3002","title":"\u914d\u7f6e\u6587\u4ef6"},{"location":"manual-CN/3.build-develop-and-administration/3.configurations/8.single-node-log/#_5","text":"\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u6765\u67e5\u770b\u5f53\u524d\u6240\u6709\u7684 gflags \u53c2\u6570\uff08\u5305\u62ec\u65e5\u5fd7\u53c2\u6570\uff09\u3002curl \u4ec5\u5728 local_config \u8bbe\u7f6e\u4e3a true \u65f6\u53ef\u7528\u3002 > curl ${ ws_ip } : ${ ws_port } /get_flags \u5176\u4e2d\uff0c ws_ip \u4e3a HTTP \u670d\u52a1\u7684 IP\uff0c\u53ef\u4ee5\u5728\u4e0a\u8ff0\u914d\u7f6e\u6587\u4ef6\u4e2d\u627e\u5230\u3002\u9ed8\u8ba4 IP \u4e3a 127.0.0.1\u3002 ws_port \u4e3a HTTP \u670d\u52a1\u7684\u7aef\u53e3\u53f7\u3002 metad \u9ed8\u8ba4\u4e3a 11000\uff0c storaged \u9ed8\u8ba4\u4e3a 12000\uff0c graphd \u9ed8\u8ba4\u4e3a 13000\u3002 \u4f8b\u5982\uff0c\u67e5\u770b storaged \u670d\u52a1\u7684 minloglevel \u7ea7\u522b\uff1a > curl 127 .0.0.1:12000/get_flags | grep minloglevel # storage > curl 127 .0.0.1:13000/get_flags # metad \u4e5f\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u5c06\u65e5\u5fd7\u7ea7\u522b\u66f4\u6539\u4e3a \u6700\u8be6\u7ec6 \u3002 > curl \"http://127.0.0.1:12000/set_flags?flag=v&value=3\" > curl \"http://127.0.0.1:12000/set_flags?flag=minloglevel&value=0\" \u5728 console \u4e2d\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u83b7\u53d6\u5f53\u524d\u65e5\u5fd7\u7ea7\u522b\u5e76\u5c06\u65e5\u5fd7\u7ea7\u522b\u8bbe\u7f6e\u4e3a \u6700\u8be6\u7ec6 \u3002 nebula> GET CONFIGS graph:minloglevel; nebula> UPDATE CONFIGS graph:minloglevel=0; \u5982\u9700\u66f4\u6539 storage \u65e5\u5fd7\u7ea7\u522b\uff0c\u5c06\u4e0a\u8ff0\u547d\u4ee4\u4e2d\u7684 graph \u66f4\u6362\u4e3a storage \u5373\u53ef\u3002 \u6ce8\u610f\uff1a Nebula Graph \u4ec5\u652f\u6301\u901a\u8fc7 console \u4fee\u6539 graph \u548c storage \u65e5\u5fd7\u7ea7\u522b\uff0cmeta \u65e5\u5fd7\u7ea7\u522b\u5fc5\u987b\u4f7f\u7528 curl \u547d\u4ee4\u66f4\u6539\u3002 \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4 \u5173\u95ed \u6240\u6709\u7684\u65e5\u5fd7\u6253\u5370(\u4ec5\u4fdd\u7559 FATAL)\u3002 > curl \"http://127.0.0.1:12000/set_flags?flag=minloglevel&value=3\"","title":"\u52a8\u6001\u67e5\u770b\u548c\u4fee\u6539\u65e5\u5fd7\u7ea7\u522b"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/LDAP/","text":"\u96c6\u6210 LDAP \u00b6 \u672c\u6587\u6863\u4ecb\u7ecd\u5982\u4f55\u5c06 Nebula Graph \u8fde\u63a5\u5230 LDAP \u670d\u52a1\u5668\u4ee5\u8fdb\u884c\u8eab\u4efd\u200b\u200b\u9a8c\u8bc1\uff08\u4ec5\u4f01\u4e1a\u7248\u53ef\u7528\uff09\u3002 LDAP \u4ecb\u7ecd \u00b6 \u96c6\u6210 LDAP \u540e\uff0c Nebula Graph \u5373\u53ef\u5171\u4eab\u5728 LDAP \u4e2d\u5b9a\u4e49\u7684\u7528\u6237\u8eab\u4efd\u4fe1\u606f\u548c\u5bc6\u7801\u3002 \u5b89\u88c5 LDAP \u63d2\u4ef6 \u00b6 \u6784\u5efa LDAP \u670d\u52a1\u5668\u5e76\u63d2\u5165\u76f8\u5e94\u7684\u8bb0\u5f55\u3002 \u4f8b\u5982\uff0c\u63d2\u5165\u7528\u6237\u540d test2 \uff0c\u5bc6\u7801 passwdtest2 \u3002\u7136\u540e\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u7528\u6237\uff1a ldapsearch -x -b 'uid=test2,ou=it,dc=sys,dc=com' \u5c06 auth_ldap.so \u6587\u4ef6\u653e\u5728\u5b89\u88c5\u8def\u5f84\u7684\u5171\u4eab\u76ee\u5f55\u4e2d\u3002 \u521b\u5efa\u5f71\u5b50\u8d26\u6237\u5b89\u88c5 auth_ldap \u63d2\u4ef6\u3002 \u4ee5 root \u8eab\u4efd\u767b\u5f55 Nebula Graph \uff0c \u5bc6\u7801\u4e3a nebula \uff0c\u8eab\u4efd\u9a8c\u8bc1 auth_type \u7c7b\u578b\u4e3a password \uff1a ./bin/nebula -u root -p nebula --port 3699 --addr = \"127.0.0.1\" \u521b\u5efa\u5f71\u5b50\u8d26\u6237\uff1a # \u6b64\u5904\u9700\u8981\u4e3a\u5f71\u5b50\u8d26\u6237 test2 \u8d4b\u6743 nebula> CREATE USER test2 WITH PASSWORD \"\"; \u5b89\u88c5 auth_ldap \u63d2\u4ef6\uff1a nebula> INSTALL PLUGIN auth_ldap SONMAE \"auth_ldap.so\"; \u67e5\u770b\u63d2\u4ef6\u662f\u5426\u6210\u529f\u5b89\u88c5\uff1a nebula> SHOW PLUGINS; \u5378\u8f7d LDAP \u63d2\u4ef6 \u00b6 \u4ee5 root \u8eab\u4efd\u767b\u5f55 Nebula Graph \uff0c \u5bc6\u7801\u4e3a nebula \uff0c\u8eab\u4efd\u9a8c\u8bc1 auth_type \u7c7b\u578b\u4e3a password \uff1a ./bin/nebula -u root -p nebula --port 3699 --addr = \"127.0.0.1\" \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5378\u8f7d auth_ldap \u63d2\u4ef6\uff1a nebula> UNINSTALL PLUGIN auth_ldap; \u542f\u7528 LDAP \u8eab\u4efd\u9a8c\u8bc1 \u00b6 Nebula Graph \u9ed8\u8ba4\u7981\u7528 LDAP \u8eab\u4efd\u9a8c\u8bc1\u3002\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\u542f\u7528 LDAP \u8eab\u4efd\u9a8c\u8bc1\uff1a \u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\u5f00\u5173 \u00b6 \u9996\u5148\uff0c\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\u5f00\u5173\u3002\u6253\u5f00 nebula-graphd.conf \u6587\u4ef6\uff08\u9ed8\u8ba4\u76ee\u5f55\u4e3a /usr/local/nebula/etc/ \uff09\uff0c\u7136\u540e\u627e\u5230 --enable_authorize \uff0c\u5c06\u5176\u66f4\u6539\u4e3a true \uff1a ########## Authorization ########## # Enable authorization --enable_authorize=true \u914d\u7f6e Nebula Graph \u00b6 \u7136\u540e\u914d\u7f6e Nebula Graph \u4ee5\u4f7f\u7528 LDAP\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e24\u79cd LDAP \u65b9\u6cd5\u6765\u4e3a Nebula Graph \u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\u3002 \u7b80\u5355\u7ed1\u5b9a \u3002\u6253\u5f00 nebula-graphd.conf \u6587\u4ef6\uff08\u9ed8\u8ba4\u76ee\u5f55\u4e3a /usr/local/nebula/etc/ \uff09\uff0c\u627e\u5230 Authentication \u90e8\u5206\uff0c\u5c06 auth_type \u66f4\u6539\u4e3a ldap \u5e76\u6dfb\u52a0\u4ee5\u4e0b\u5c5e\u6027\uff1a ########## Authentication ########## # User login authentication type, password for nebula authentication, ldap for ldap authentication, cloud for cloud authentication --auth_type=ldap --ldap_server=127.0.0.1 --ldap_port=389 --ldap_scheme=ldap --ldap_prefix=uid= --ldap_suffix=,ou=it,dc=sys,dc=com \u641c\u7d22\u548c\u7ed1\u5b9a . \u6253\u5f00 nebula-graphd.conf \u6587\u4ef6\uff08\u9ed8\u8ba4\u76ee\u5f55\u4e3a /usr/local/nebula/etc/ \uff09\uff0c\u627e\u5230 Authentication \u90e8\u5206\uff0c\u5c06 auth_type \u66f4\u6539\u4e3a ldap \u5e76\u6dfb\u52a0\u4ee5\u4e0b\u5c5e\u6027\uff1a ########## Authentication ########## # User login authentication type, password for nebula authentication, ldap for ldap authentication, cloud for cloud authentication --auth_type=ldap --ldap_server=127.0.0.1 --ldap_port=389 --ldap_scheme=ldap --ldap_prefix=uid= --ldap_suffix=,ou=it,dc=sys,dc=com \u91cd\u542f\u670d\u52a1 \u00b6 \u4fdd\u5b58\u5e76\u5173\u95ed\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u91cd\u542f\u670d\u52a1\uff1a /usr/local/nebula/scripts/nebula.service restart all \u7981\u7528 LDAP \u00b6 \u5c06 nebula-graphd.conf \u4e2d\u7684 --enable_authorize \u53c2\u6570\u8bbe\u7f6e\u4e3a false \u7136\u540e\u91cd\u542f\u670d\u52a1\u5373\u53ef\u5728 Nebula Graph \u4e2d\u7981\u7528 LDAP \u8eab\u4efd\u9a8c\u8bc1\u3002 \u4f7f\u7528 LDAP \u8fde\u63a5 Nebula Graph \u00b6 \u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 LDAP \u8eab\u4efd\u9a8c\u8bc1\u8fde\u63a5\u5230 Nebula Graph \uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a ./bin/nebula -u test2 -p passwdtest2 --port 3699 --addr = \"127.0.0.1\"","title":"LDAP"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/LDAP/#ldap","text":"\u672c\u6587\u6863\u4ecb\u7ecd\u5982\u4f55\u5c06 Nebula Graph \u8fde\u63a5\u5230 LDAP \u670d\u52a1\u5668\u4ee5\u8fdb\u884c\u8eab\u4efd\u200b\u200b\u9a8c\u8bc1\uff08\u4ec5\u4f01\u4e1a\u7248\u53ef\u7528\uff09\u3002","title":"\u96c6\u6210 LDAP"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/LDAP/#ldap_1","text":"\u96c6\u6210 LDAP \u540e\uff0c Nebula Graph \u5373\u53ef\u5171\u4eab\u5728 LDAP \u4e2d\u5b9a\u4e49\u7684\u7528\u6237\u8eab\u4efd\u4fe1\u606f\u548c\u5bc6\u7801\u3002","title":"LDAP \u4ecb\u7ecd"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/LDAP/#ldap_2","text":"\u6784\u5efa LDAP \u670d\u52a1\u5668\u5e76\u63d2\u5165\u76f8\u5e94\u7684\u8bb0\u5f55\u3002 \u4f8b\u5982\uff0c\u63d2\u5165\u7528\u6237\u540d test2 \uff0c\u5bc6\u7801 passwdtest2 \u3002\u7136\u540e\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u7528\u6237\uff1a ldapsearch -x -b 'uid=test2,ou=it,dc=sys,dc=com' \u5c06 auth_ldap.so \u6587\u4ef6\u653e\u5728\u5b89\u88c5\u8def\u5f84\u7684\u5171\u4eab\u76ee\u5f55\u4e2d\u3002 \u521b\u5efa\u5f71\u5b50\u8d26\u6237\u5b89\u88c5 auth_ldap \u63d2\u4ef6\u3002 \u4ee5 root \u8eab\u4efd\u767b\u5f55 Nebula Graph \uff0c \u5bc6\u7801\u4e3a nebula \uff0c\u8eab\u4efd\u9a8c\u8bc1 auth_type \u7c7b\u578b\u4e3a password \uff1a ./bin/nebula -u root -p nebula --port 3699 --addr = \"127.0.0.1\" \u521b\u5efa\u5f71\u5b50\u8d26\u6237\uff1a # \u6b64\u5904\u9700\u8981\u4e3a\u5f71\u5b50\u8d26\u6237 test2 \u8d4b\u6743 nebula> CREATE USER test2 WITH PASSWORD \"\"; \u5b89\u88c5 auth_ldap \u63d2\u4ef6\uff1a nebula> INSTALL PLUGIN auth_ldap SONMAE \"auth_ldap.so\"; \u67e5\u770b\u63d2\u4ef6\u662f\u5426\u6210\u529f\u5b89\u88c5\uff1a nebula> SHOW PLUGINS;","title":"\u5b89\u88c5 LDAP \u63d2\u4ef6"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/LDAP/#ldap_3","text":"\u4ee5 root \u8eab\u4efd\u767b\u5f55 Nebula Graph \uff0c \u5bc6\u7801\u4e3a nebula \uff0c\u8eab\u4efd\u9a8c\u8bc1 auth_type \u7c7b\u578b\u4e3a password \uff1a ./bin/nebula -u root -p nebula --port 3699 --addr = \"127.0.0.1\" \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5378\u8f7d auth_ldap \u63d2\u4ef6\uff1a nebula> UNINSTALL PLUGIN auth_ldap;","title":"\u5378\u8f7d LDAP \u63d2\u4ef6"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/LDAP/#ldap_4","text":"Nebula Graph \u9ed8\u8ba4\u7981\u7528 LDAP \u8eab\u4efd\u9a8c\u8bc1\u3002\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\u542f\u7528 LDAP \u8eab\u4efd\u9a8c\u8bc1\uff1a","title":"\u542f\u7528 LDAP \u8eab\u4efd\u9a8c\u8bc1"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/LDAP/#_1","text":"\u9996\u5148\uff0c\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\u5f00\u5173\u3002\u6253\u5f00 nebula-graphd.conf \u6587\u4ef6\uff08\u9ed8\u8ba4\u76ee\u5f55\u4e3a /usr/local/nebula/etc/ \uff09\uff0c\u7136\u540e\u627e\u5230 --enable_authorize \uff0c\u5c06\u5176\u66f4\u6539\u4e3a true \uff1a ########## Authorization ########## # Enable authorization --enable_authorize=true","title":"\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\u5f00\u5173"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/LDAP/#nebula_graph","text":"\u7136\u540e\u914d\u7f6e Nebula Graph \u4ee5\u4f7f\u7528 LDAP\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e24\u79cd LDAP \u65b9\u6cd5\u6765\u4e3a Nebula Graph \u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\u3002 \u7b80\u5355\u7ed1\u5b9a \u3002\u6253\u5f00 nebula-graphd.conf \u6587\u4ef6\uff08\u9ed8\u8ba4\u76ee\u5f55\u4e3a /usr/local/nebula/etc/ \uff09\uff0c\u627e\u5230 Authentication \u90e8\u5206\uff0c\u5c06 auth_type \u66f4\u6539\u4e3a ldap \u5e76\u6dfb\u52a0\u4ee5\u4e0b\u5c5e\u6027\uff1a ########## Authentication ########## # User login authentication type, password for nebula authentication, ldap for ldap authentication, cloud for cloud authentication --auth_type=ldap --ldap_server=127.0.0.1 --ldap_port=389 --ldap_scheme=ldap --ldap_prefix=uid= --ldap_suffix=,ou=it,dc=sys,dc=com \u641c\u7d22\u548c\u7ed1\u5b9a . \u6253\u5f00 nebula-graphd.conf \u6587\u4ef6\uff08\u9ed8\u8ba4\u76ee\u5f55\u4e3a /usr/local/nebula/etc/ \uff09\uff0c\u627e\u5230 Authentication \u90e8\u5206\uff0c\u5c06 auth_type \u66f4\u6539\u4e3a ldap \u5e76\u6dfb\u52a0\u4ee5\u4e0b\u5c5e\u6027\uff1a ########## Authentication ########## # User login authentication type, password for nebula authentication, ldap for ldap authentication, cloud for cloud authentication --auth_type=ldap --ldap_server=127.0.0.1 --ldap_port=389 --ldap_scheme=ldap --ldap_prefix=uid= --ldap_suffix=,ou=it,dc=sys,dc=com","title":"\u914d\u7f6e Nebula Graph"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/LDAP/#_2","text":"\u4fdd\u5b58\u5e76\u5173\u95ed\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u91cd\u542f\u670d\u52a1\uff1a /usr/local/nebula/scripts/nebula.service restart all","title":"\u91cd\u542f\u670d\u52a1"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/LDAP/#ldap_5","text":"\u5c06 nebula-graphd.conf \u4e2d\u7684 --enable_authorize \u53c2\u6570\u8bbe\u7f6e\u4e3a false \u7136\u540e\u91cd\u542f\u670d\u52a1\u5373\u53ef\u5728 Nebula Graph \u4e2d\u7981\u7528 LDAP \u8eab\u4efd\u9a8c\u8bc1\u3002","title":"\u7981\u7528 LDAP"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/LDAP/#ldap_nebula_graph","text":"\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 LDAP \u8eab\u4efd\u9a8c\u8bc1\u8fde\u63a5\u5230 Nebula Graph \uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a ./bin/nebula -u test2 -p passwdtest2 --port 3699 --addr = \"127.0.0.1\"","title":"\u4f7f\u7528 LDAP \u8fde\u63a5 Nebula Graph"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/alter-user-syntax/","text":"ALTER USER \u8bed\u6cd5 \u00b6 ALTER USER <user_name> WITH PASSWORD <password> \u4f7f\u7528 ALTER USER \u8bed\u53e5\u4fee\u6539 Nebula Graph \u5e10\u6237\u3002\u4f7f\u7528 ALTER USER \u5fc5\u987b\u62e5\u6709\u5168\u5c40\u7684 CREATE USER \u6743\u9650\u3002\u5c1d\u8bd5\u4fee\u6539\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u7528\u6237\u4f1a\u53d1\u751f\u9519\u8bef\u3002 ALTER \u65e0\u9700\u5bc6\u7801\u6821\u9a8c\u3002","title":"Alter User"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/alter-user-syntax/#alter_user","text":"ALTER USER <user_name> WITH PASSWORD <password> \u4f7f\u7528 ALTER USER \u8bed\u53e5\u4fee\u6539 Nebula Graph \u5e10\u6237\u3002\u4f7f\u7528 ALTER USER \u5fc5\u987b\u62e5\u6709\u5168\u5c40\u7684 CREATE USER \u6743\u9650\u3002\u5c1d\u8bd5\u4fee\u6539\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u7528\u6237\u4f1a\u53d1\u751f\u9519\u8bef\u3002 ALTER \u65e0\u9700\u5bc6\u7801\u6821\u9a8c\u3002","title":"ALTER USER \u8bed\u6cd5"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/authentication/","text":"\u8eab\u4efd\u9a8c\u8bc1 \u00b6 \u5f53\u5ba2\u6237\u7aef\u8fde\u63a5\u5230 Nebula Graph \u65f6\uff0c Nebula Graph \u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a\u4f1a\u8bdd\u3002\u4f1a\u8bdd\u7528\u6765\u5b58\u50a8\u6709\u5173\u8fde\u63a5\u7684\u5404\u79cd\u4fe1\u606f\u3002\u6bcf\u6761\u4f1a\u8bdd\u53ea\u5173\u8054\u4e00\u4e2a\u7528\u6237\u3002\u8eab\u4efd\u9a8c\u8bc1\u5373\u4e3a\u5c06\u4f1a\u8bdd\u6620\u5c04\u5230\u7279\u5b9a\u7528\u6237\u7684\u8fc7\u7a0b\u3002\u4e00\u65e6\u5c06\u4f1a\u8bdd\u6620\u5c04\u5230\u7528\u6237\uff0c\u4fbf\u53ef\u4ee5\u4f7f\u7528\u6388\u6743\u5c06\u4e00\u7ec4\u6743\u9650\u4e0e\u4e4b\u5173\u8054\u3002 Nebula Graph \u652f\u6301\u4e24\u79cd\u8eab\u4efd\u9a8c\u8bc1\u65b9\u5f0f\uff0c\u5373\u672c\u5730\u548c LDAP\u3002\u8be6\u7ec6\u8bf4\u660e\u89c1\u4e0b\u6587\u3002 \u672c\u5730\u8eab\u4efd\u9a8c\u8bc1 \u00b6 \u672c\u5730\u6570\u636e\u5e93\u5b58\u50a8\u7528\u6237\u540d\uff0c\u52a0\u5bc6\u5bc6\u7801\uff0c\u672c\u5730\u7528\u6237\u8bbe\u7f6e\u548c\u8fdc\u7a0b LDAP \u7528\u6237\u8bbe\u7f6e\u3002\u5f53\u7528\u6237\u5c1d\u8bd5\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\uff0c\u5c06\u63a5\u53d7\u5b89\u5168\u9a8c\u8bc1\u3002 \u5c06 nebula-graphd.conf \uff08\u9ed8\u8ba4\u76ee\u5f55 /usr/local/nebula/etc/ \uff09\u6587\u4ef6\u4e2d\u7684 --enable_authorize \u5c5e\u6027\u8bbe\u7f6e\u4e3a true \u5373\u53ef\u542f\u7528\u672c\u5730\u8ba4\u8bc1\u3002 LDAP \u00b6 \u8f7b\u578b\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae\uff08LDAP\uff09\u662f\u7528\u4e8e\u8bbf\u95ee\u76ee\u5f55\u670d\u52a1\u7684\u8f7b\u578b\u5ba2\u6237\u7aef-\u670d\u52a1\u5668\u534f\u8bae\u3002 LDAP \u4e2d\u5b58\u50a8\u7684\u7528\u6237\u4f18\u5148\u7ea7\u9ad8\u4e8e\u672c\u5730\u6570\u636e\u5e93\u7528\u6237\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e24\u4e2a\u672c\u5730\u548c LDAP \u90fd\u6709\u4e00\u4e2a\u540d\u4e3a \u201cAmber\u201d \u7684\u7528\u6237\uff0c\u5219\u4f18\u5148\u4ece LDAP \u8bfb\u53d6\u8be5\u7528\u6237\u7684\u8bbe\u7f6e\u548c\u89d2\u8272\u4fe1\u606f\u3002 \u4e0e\u672c\u5730\u8eab\u4efd\u9a8c\u8bc1\u4e0d\u540c\uff0c\u9664\u9700\u8bbe\u7f6e --enable_authorize \u53c2\u6570\u4e4b\u5916\uff0c LDAP \u8fd8\u9700\u8981\u5728 nebula-graphd.conf \u6587\u4ef6\u4e2d\uff08\u9ed8\u8ba4\u76ee\u5f55 /usr/local/nebula/etc/ \uff09\u914d\u7f6e\u76f8\u5173\u53c2\u6570\u65b9\u53ef\u542f\u7528\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u96c6\u6210 LDAP \u6587\u6863 \u3002 LDAP \u53c2\u6570 \u00b6 \u53c2\u6570\u540d \u53c2\u6570\u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e ldap_server string \"\" \u4e00\u7cfb\u5217 ldap \u670d\u52a1\u5668\u5730\u5740\u3002\u591a\u4e2a\u5730\u5740\u4f7f\u7528\u9017\u53f7\u9694\u5f00\u3002 ldap_port INT32 LDAP \u670d\u52a1\u5668\u7aef\u53e3\u53f7\u3002\u5982\u672a\u6307\u5b9a\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3\u3002 ldap_scheme string \"ldap\" \u4ec5\u652f\u6301 ldap\u3002 ldap_tls bool false \u5f00\u542f/\u7981\u7528 graphd \u548c ldap \u4e4b\u95f4\u7684 TLS \u52a0\u5bc6\u65b9\u5f0f\u3002 ldap_suffix string \"\" \u6307\u5b9a\u7528\u4e8e\u6240\u6709 ldap \u64cd\u4f5c\u7684\u6839\u540e\u7f00\u3002 ldap_basedn string \"\" LDAP \u7684\u4e13\u6709\u540d\u79f0\u3002 ldap_binddn string \"\" \u5141\u8bb8\u641c\u7d22\u57fa\u672c DN \u7684 LDAP \u7528\u6237\u3002 ldap_bindpasswd string \"\" \u7ed1\u5b9a\u5230 DN \u7684\u7528\u6237\u5bc6\u7801\u3002 ldap_searchattribute string \"\" \u4e00\u7cfb\u5217\u5fc5\u586b\u5c5e\u6027\u3002 ldap_searchfilter string \"\" \u5b9a\u4e49\u641c\u7d22\u8fc7\u6ee4\u89c4\u5219\u3002\u8f83 searchattribut \u66f4\u4e3a\u7075\u6d3b\u3002 |","title":"\u8eab\u4efd\u9a8c\u8bc1"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/authentication/#_1","text":"\u5f53\u5ba2\u6237\u7aef\u8fde\u63a5\u5230 Nebula Graph \u65f6\uff0c Nebula Graph \u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a\u4f1a\u8bdd\u3002\u4f1a\u8bdd\u7528\u6765\u5b58\u50a8\u6709\u5173\u8fde\u63a5\u7684\u5404\u79cd\u4fe1\u606f\u3002\u6bcf\u6761\u4f1a\u8bdd\u53ea\u5173\u8054\u4e00\u4e2a\u7528\u6237\u3002\u8eab\u4efd\u9a8c\u8bc1\u5373\u4e3a\u5c06\u4f1a\u8bdd\u6620\u5c04\u5230\u7279\u5b9a\u7528\u6237\u7684\u8fc7\u7a0b\u3002\u4e00\u65e6\u5c06\u4f1a\u8bdd\u6620\u5c04\u5230\u7528\u6237\uff0c\u4fbf\u53ef\u4ee5\u4f7f\u7528\u6388\u6743\u5c06\u4e00\u7ec4\u6743\u9650\u4e0e\u4e4b\u5173\u8054\u3002 Nebula Graph \u652f\u6301\u4e24\u79cd\u8eab\u4efd\u9a8c\u8bc1\u65b9\u5f0f\uff0c\u5373\u672c\u5730\u548c LDAP\u3002\u8be6\u7ec6\u8bf4\u660e\u89c1\u4e0b\u6587\u3002","title":"\u8eab\u4efd\u9a8c\u8bc1"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/authentication/#_2","text":"\u672c\u5730\u6570\u636e\u5e93\u5b58\u50a8\u7528\u6237\u540d\uff0c\u52a0\u5bc6\u5bc6\u7801\uff0c\u672c\u5730\u7528\u6237\u8bbe\u7f6e\u548c\u8fdc\u7a0b LDAP \u7528\u6237\u8bbe\u7f6e\u3002\u5f53\u7528\u6237\u5c1d\u8bd5\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\uff0c\u5c06\u63a5\u53d7\u5b89\u5168\u9a8c\u8bc1\u3002 \u5c06 nebula-graphd.conf \uff08\u9ed8\u8ba4\u76ee\u5f55 /usr/local/nebula/etc/ \uff09\u6587\u4ef6\u4e2d\u7684 --enable_authorize \u5c5e\u6027\u8bbe\u7f6e\u4e3a true \u5373\u53ef\u542f\u7528\u672c\u5730\u8ba4\u8bc1\u3002","title":"\u672c\u5730\u8eab\u4efd\u9a8c\u8bc1"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/authentication/#ldap","text":"\u8f7b\u578b\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae\uff08LDAP\uff09\u662f\u7528\u4e8e\u8bbf\u95ee\u76ee\u5f55\u670d\u52a1\u7684\u8f7b\u578b\u5ba2\u6237\u7aef-\u670d\u52a1\u5668\u534f\u8bae\u3002 LDAP \u4e2d\u5b58\u50a8\u7684\u7528\u6237\u4f18\u5148\u7ea7\u9ad8\u4e8e\u672c\u5730\u6570\u636e\u5e93\u7528\u6237\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e24\u4e2a\u672c\u5730\u548c LDAP \u90fd\u6709\u4e00\u4e2a\u540d\u4e3a \u201cAmber\u201d \u7684\u7528\u6237\uff0c\u5219\u4f18\u5148\u4ece LDAP \u8bfb\u53d6\u8be5\u7528\u6237\u7684\u8bbe\u7f6e\u548c\u89d2\u8272\u4fe1\u606f\u3002 \u4e0e\u672c\u5730\u8eab\u4efd\u9a8c\u8bc1\u4e0d\u540c\uff0c\u9664\u9700\u8bbe\u7f6e --enable_authorize \u53c2\u6570\u4e4b\u5916\uff0c LDAP \u8fd8\u9700\u8981\u5728 nebula-graphd.conf \u6587\u4ef6\u4e2d\uff08\u9ed8\u8ba4\u76ee\u5f55 /usr/local/nebula/etc/ \uff09\u914d\u7f6e\u76f8\u5173\u53c2\u6570\u65b9\u53ef\u542f\u7528\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u96c6\u6210 LDAP \u6587\u6863 \u3002","title":"LDAP"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/authentication/#ldap_1","text":"\u53c2\u6570\u540d \u53c2\u6570\u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e ldap_server string \"\" \u4e00\u7cfb\u5217 ldap \u670d\u52a1\u5668\u5730\u5740\u3002\u591a\u4e2a\u5730\u5740\u4f7f\u7528\u9017\u53f7\u9694\u5f00\u3002 ldap_port INT32 LDAP \u670d\u52a1\u5668\u7aef\u53e3\u53f7\u3002\u5982\u672a\u6307\u5b9a\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3\u3002 ldap_scheme string \"ldap\" \u4ec5\u652f\u6301 ldap\u3002 ldap_tls bool false \u5f00\u542f/\u7981\u7528 graphd \u548c ldap \u4e4b\u95f4\u7684 TLS \u52a0\u5bc6\u65b9\u5f0f\u3002 ldap_suffix string \"\" \u6307\u5b9a\u7528\u4e8e\u6240\u6709 ldap \u64cd\u4f5c\u7684\u6839\u540e\u7f00\u3002 ldap_basedn string \"\" LDAP \u7684\u4e13\u6709\u540d\u79f0\u3002 ldap_binddn string \"\" \u5141\u8bb8\u641c\u7d22\u57fa\u672c DN \u7684 LDAP \u7528\u6237\u3002 ldap_bindpasswd string \"\" \u7ed1\u5b9a\u5230 DN \u7684\u7528\u6237\u5bc6\u7801\u3002 ldap_searchattribute string \"\" \u4e00\u7cfb\u5217\u5fc5\u586b\u5c5e\u6027\u3002 ldap_searchfilter string \"\" \u5b9a\u4e49\u641c\u7d22\u8fc7\u6ee4\u89c4\u5219\u3002\u8f83 searchattribut \u66f4\u4e3a\u7075\u6d3b\u3002 |","title":"LDAP \u53c2\u6570"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/built-in-roles/","text":"Built-in Roles \u00b6 Nebula Graph \u89d2\u8272\u53ef\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a God \u521d\u59cb Root \u7528\u6237\uff08\u7c7b\u4f3c\u4e8e Linux \u7cfb\u7edf\u4e2d\u7684 Root\uff0c\u548c Windows \u7cfb\u7edf\u4e2d\u7684 Administrator\uff09\u3002 \u62e5\u6709\u6240\u6709\u64cd\u4f5c\u6743\u9650\u3002 \u4e00\u4e2a\u96c6\u7fa4\u53ea\u80fd\u6709\u4e00\u4e2a God\u3002God \u53ef\u7ba1\u7406\u96c6\u7fa4\u5185\u6240\u6709 space\u3002 Meta \u670d\u52a1\u5728\u521d\u59cb\u5316\u65f6\u4f1a\u9ed8\u8ba4\u521b\u5efa\u4e00\u4e2a GOD \u89d2\u8272\u7684 Account\uff0c\u540d\u4e3a root\u3002 God \u89d2\u8272\u7531 meta \u81ea\u52a8\u521d\u59cb\u5316\uff0c\u4e14\u4e0d\u652f\u6301\u7528\u6237\u81ea\u884c\u6388\u6743\u6210\u4e3a God\u3002 Admin \u7ba1\u7406\u5458\u7528\u6237\u3002 \u5bf9\u6743\u9650\u5185\u7684 space \u62e5\u6709 schema \u548c data \u7684\u8bfb/\u5199\u6743\u9650\u3002 \u53ef\u5bf9\u6743\u9650\u5185\u7684 space \u8fdb\u884c\u7528\u6237\u6388\u6743\u3002 DBA \u5bf9\u6743\u9650\u5185\u7684 space \u62e5\u6709 schema \u548c data \u7684\u8bfb/\u5199\u6743\u9650\u3002 \u6ca1\u6709\u5bf9\u7528\u6237\u53d7\u6743\u7684\u6743\u9650\u3002 User \u5bf9\u6743\u9650\u5185\u7684 space \u62e5\u6709 data \u7684\u8bfb/\u5199\u6743\u9650\u3002 \u5bf9\u6743\u9650\u5185\u7684 space \u62e5\u6709 schema \u53ea\u8bfb\u6743\u9650\u3002 Guest \u5bf9\u6743\u9650\u5185\u7684 space \u62e5\u6709 schema \u548c data \u7684\u53ea\u8bfb\u6743\u9650\u3002 \u5982\u679c\u5f00\u542f\u7528\u6237\u6743\u9650\u5f00\u5173\uff0c\u5219\u9ed8\u8ba4\u7528\u6237\u540d\u4e3a root\uff0c\u9ed8\u8ba4\u5bc6\u7801\u4e3a nebula\uff0c\u4e14\u7528\u6237\u540d\u4e0d\u53ef\u66f4\u6539\u3002\u5c06 /usr/local/nebula/etc/nebula-graphd.conf \u6587\u4ef6\u4e2d\u7684 enable_authorize \u8bbe\u7f6e\u4e3a true \u5373\u53ef\u6253\u5f00\u6743\u9650\u5f00\u5173\u3002 \u672a\u88ab\u5206\u914d\u89d2\u8272\u7684\u7528\u6237\u5c06\u65e0\u6743\u8bbf\u95ee\u8be5 space\u3002\u4e00\u4e2a\u7528\u6237\u5728\u540c\u4e00\u4e2a space \u4e2d\u53ea\u80fd\u5206\u914d\u4e00\u4e2a\u89d2\u8272\u3002\u4e00\u4e2a\u7528\u6237\u5728\u4e0d\u540c space \u53ef\u62e5\u6709\u4e0d\u540c\u6743\u9650\u3002 \u5404\u89d2\u8272\u7684 Executor \u6743\u9650\u89c1\u4e0b\u8868\u3002 \u6309\u64cd\u4f5c\u6743\u9650\u5212\u5206\u3002 OPERATION STATEMENTS Read space Use, DescribeSpace Write space CreateSpace, DropSpace, CreateSnapshot, DropSnapshot, Balance, Admin, Config, Ingest, Download Read schema DescribeTag, DescribeEdge, DescribeTagIndex, DescribeEdgeIndex Write schema CreateTag, AlterTag, CreateEdge, AlterEdge, DropTag, DropEdge, CreateTagIndex, CreateEdgeIndex, DropTagIndex, DropEdgeIndex Write user CreateUser, DropUser, AlterUser Write role Grant, Revoke Read data Go, Set, Pipe, Match, Assignment, Lookup, Yield, OrderBy, FetchVertices, Find, FetchEdges, FindPath, Limit, GroupBy, Return Write data BuildTagIndex, BuildEdgeIndex, InsertVertex, UpdateVertex, InsertEdge, UpdateEdge, DeleteVertex, DeleteEdges Special operation Show, ChangePassword \u6309\u64cd\u4f5c\u5212\u5206\u3002 OPERATION GOD ADMIN DBA USER GUEST Read space Y Y Y Y Y Write space Y Read schema Y Y Y Y Y Write schema Y Y Y Write user Y Write role Y Y Read data Y Y Y Y Y Write data Y Y Y Y Special operation Y Y Y Y Y Show Jobs Y Y Y Y Y \u6ce8\u610f\uff1a Special Operation \u4e3a\u7279\u6b8a\u64cd\u4f5c\uff0c\u4f8b\u5982 SHOW SPACE \uff0c\u6bcf\u4e2a\u89d2\u8272\u90fd\u53ef\u4ee5\u6267\u884c\uff0c\u4f46\u5176\u6267\u884c\u7ed3\u679c\u53ea\u663e\u793a Account \u6743\u9650\u5185\u7684\u7ed3\u679c\u3002","title":"Built-in Roles"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/built-in-roles/#built-in_roles","text":"Nebula Graph \u89d2\u8272\u53ef\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a God \u521d\u59cb Root \u7528\u6237\uff08\u7c7b\u4f3c\u4e8e Linux \u7cfb\u7edf\u4e2d\u7684 Root\uff0c\u548c Windows \u7cfb\u7edf\u4e2d\u7684 Administrator\uff09\u3002 \u62e5\u6709\u6240\u6709\u64cd\u4f5c\u6743\u9650\u3002 \u4e00\u4e2a\u96c6\u7fa4\u53ea\u80fd\u6709\u4e00\u4e2a God\u3002God \u53ef\u7ba1\u7406\u96c6\u7fa4\u5185\u6240\u6709 space\u3002 Meta \u670d\u52a1\u5728\u521d\u59cb\u5316\u65f6\u4f1a\u9ed8\u8ba4\u521b\u5efa\u4e00\u4e2a GOD \u89d2\u8272\u7684 Account\uff0c\u540d\u4e3a root\u3002 God \u89d2\u8272\u7531 meta \u81ea\u52a8\u521d\u59cb\u5316\uff0c\u4e14\u4e0d\u652f\u6301\u7528\u6237\u81ea\u884c\u6388\u6743\u6210\u4e3a God\u3002 Admin \u7ba1\u7406\u5458\u7528\u6237\u3002 \u5bf9\u6743\u9650\u5185\u7684 space \u62e5\u6709 schema \u548c data \u7684\u8bfb/\u5199\u6743\u9650\u3002 \u53ef\u5bf9\u6743\u9650\u5185\u7684 space \u8fdb\u884c\u7528\u6237\u6388\u6743\u3002 DBA \u5bf9\u6743\u9650\u5185\u7684 space \u62e5\u6709 schema \u548c data \u7684\u8bfb/\u5199\u6743\u9650\u3002 \u6ca1\u6709\u5bf9\u7528\u6237\u53d7\u6743\u7684\u6743\u9650\u3002 User \u5bf9\u6743\u9650\u5185\u7684 space \u62e5\u6709 data \u7684\u8bfb/\u5199\u6743\u9650\u3002 \u5bf9\u6743\u9650\u5185\u7684 space \u62e5\u6709 schema \u53ea\u8bfb\u6743\u9650\u3002 Guest \u5bf9\u6743\u9650\u5185\u7684 space \u62e5\u6709 schema \u548c data \u7684\u53ea\u8bfb\u6743\u9650\u3002 \u5982\u679c\u5f00\u542f\u7528\u6237\u6743\u9650\u5f00\u5173\uff0c\u5219\u9ed8\u8ba4\u7528\u6237\u540d\u4e3a root\uff0c\u9ed8\u8ba4\u5bc6\u7801\u4e3a nebula\uff0c\u4e14\u7528\u6237\u540d\u4e0d\u53ef\u66f4\u6539\u3002\u5c06 /usr/local/nebula/etc/nebula-graphd.conf \u6587\u4ef6\u4e2d\u7684 enable_authorize \u8bbe\u7f6e\u4e3a true \u5373\u53ef\u6253\u5f00\u6743\u9650\u5f00\u5173\u3002 \u672a\u88ab\u5206\u914d\u89d2\u8272\u7684\u7528\u6237\u5c06\u65e0\u6743\u8bbf\u95ee\u8be5 space\u3002\u4e00\u4e2a\u7528\u6237\u5728\u540c\u4e00\u4e2a space \u4e2d\u53ea\u80fd\u5206\u914d\u4e00\u4e2a\u89d2\u8272\u3002\u4e00\u4e2a\u7528\u6237\u5728\u4e0d\u540c space \u53ef\u62e5\u6709\u4e0d\u540c\u6743\u9650\u3002 \u5404\u89d2\u8272\u7684 Executor \u6743\u9650\u89c1\u4e0b\u8868\u3002 \u6309\u64cd\u4f5c\u6743\u9650\u5212\u5206\u3002 OPERATION STATEMENTS Read space Use, DescribeSpace Write space CreateSpace, DropSpace, CreateSnapshot, DropSnapshot, Balance, Admin, Config, Ingest, Download Read schema DescribeTag, DescribeEdge, DescribeTagIndex, DescribeEdgeIndex Write schema CreateTag, AlterTag, CreateEdge, AlterEdge, DropTag, DropEdge, CreateTagIndex, CreateEdgeIndex, DropTagIndex, DropEdgeIndex Write user CreateUser, DropUser, AlterUser Write role Grant, Revoke Read data Go, Set, Pipe, Match, Assignment, Lookup, Yield, OrderBy, FetchVertices, Find, FetchEdges, FindPath, Limit, GroupBy, Return Write data BuildTagIndex, BuildEdgeIndex, InsertVertex, UpdateVertex, InsertEdge, UpdateEdge, DeleteVertex, DeleteEdges Special operation Show, ChangePassword \u6309\u64cd\u4f5c\u5212\u5206\u3002 OPERATION GOD ADMIN DBA USER GUEST Read space Y Y Y Y Y Write space Y Read schema Y Y Y Y Y Write schema Y Y Y Write user Y Write role Y Y Read data Y Y Y Y Y Write data Y Y Y Y Special operation Y Y Y Y Y Show Jobs Y Y Y Y Y \u6ce8\u610f\uff1a Special Operation \u4e3a\u7279\u6b8a\u64cd\u4f5c\uff0c\u4f8b\u5982 SHOW SPACE \uff0c\u6bcf\u4e2a\u89d2\u8272\u90fd\u53ef\u4ee5\u6267\u884c\uff0c\u4f46\u5176\u6267\u884c\u7ed3\u679c\u53ea\u663e\u793a Account \u6743\u9650\u5185\u7684\u7ed3\u679c\u3002","title":"Built-in Roles"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/change-password/","text":"CHANGE PASSWORD \u8bed\u6cd5 \u00b6 CHANGE PASSWORD <user_name> FROM <old_psw> TO <new-psw> CHANGE PASSWORD \u66f4\u6539 Nebula Graph \u7528\u6237\u8d26\u6237\u5bc6\u7801\u3002\u66f4\u6539\u5bc6\u7801\u9700\u540c\u65f6\u63d0\u4f9b\u65b0\u5bc6\u7801\u548c\u65e7\u5bc6\u7801\u3002","title":"Change Password"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/change-password/#change_password","text":"CHANGE PASSWORD <user_name> FROM <old_psw> TO <new-psw> CHANGE PASSWORD \u66f4\u6539 Nebula Graph \u7528\u6237\u8d26\u6237\u5bc6\u7801\u3002\u66f4\u6539\u5bc6\u7801\u9700\u540c\u65f6\u63d0\u4f9b\u65b0\u5bc6\u7801\u548c\u65e7\u5bc6\u7801\u3002","title":"CHANGE PASSWORD \u8bed\u6cd5"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/create-user-syntax/","text":"CREATE USER \u8bed\u6cd5 \u00b6 CREATE USER [IF NOT EXISTS] <user_name> [WITH PASSWORD <password>] \u4f7f\u7528 CREATE USER \u8bed\u53e5\u521b\u5efa\u65b0\u7684 Nebula Graph \u5e10\u6237\u3002\u4f7f\u7528 CREATE USER \u5fc5\u987b\u62e5\u6709\u5168\u5c40\u7684 CREATE USER \u6743\u9650\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5c1d\u8bd5\u521b\u5efa\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u7528\u6237\u4f1a\u53d1\u751f\u9519\u8bef\u3002\u5982\u679c\u4f7f\u7528 IF NOT EXISTS \u5b50\u53e5\uff0c\u5219\u4f1a\u63d0\u793a\u7528\u6237\u540d\u5df2\u5b58\u5728\u3002 \u4f8b\u5982\uff1a nebula> CREATE USER user1 WITH PASSWORD 'nebula';","title":"Create User"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/create-user-syntax/#create_user","text":"CREATE USER [IF NOT EXISTS] <user_name> [WITH PASSWORD <password>] \u4f7f\u7528 CREATE USER \u8bed\u53e5\u521b\u5efa\u65b0\u7684 Nebula Graph \u5e10\u6237\u3002\u4f7f\u7528 CREATE USER \u5fc5\u987b\u62e5\u6709\u5168\u5c40\u7684 CREATE USER \u6743\u9650\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5c1d\u8bd5\u521b\u5efa\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u7528\u6237\u4f1a\u53d1\u751f\u9519\u8bef\u3002\u5982\u679c\u4f7f\u7528 IF NOT EXISTS \u5b50\u53e5\uff0c\u5219\u4f1a\u63d0\u793a\u7528\u6237\u540d\u5df2\u5b58\u5728\u3002 \u4f8b\u5982\uff1a nebula> CREATE USER user1 WITH PASSWORD 'nebula';","title":"CREATE USER \u8bed\u6cd5"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/drop-user-syntax/","text":"DROP USER \u8bed\u6cd5 \u00b6 DROP USER [IF EXISTS] <user_name> \u53ea\u6709 God \u548c Admin \u7528\u6237\u6709\u4f7f\u7528 DROP \u8bed\u53e5\u7684\u6743\u9650\u3002 DROP USER \u4e0d\u4f1a\u81ea\u52a8\u5173\u95ed\u4efb\u4f55\u5df2\u6253\u5f00\u7684\u5ba2\u6237\u7aef\u8fde\u63a5\u3002","title":"Drop User"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/drop-user-syntax/#drop_user","text":"DROP USER [IF EXISTS] <user_name> \u53ea\u6709 God \u548c Admin \u7528\u6237\u6709\u4f7f\u7528 DROP \u8bed\u53e5\u7684\u6743\u9650\u3002 DROP USER \u4e0d\u4f1a\u81ea\u52a8\u5173\u95ed\u4efb\u4f55\u5df2\u6253\u5f00\u7684\u5ba2\u6237\u7aef\u8fde\u63a5\u3002","title":"DROP USER \u8bed\u6cd5"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/grant-role-syntax/","text":"GRANT ROLE \u8bed\u6cd5 \u00b6 GRANT ROLE <role_type> ON <space> TO <user> \u4f7f\u7528 GRANT \u8bed\u53e5\u4e3a Nebula Graph \u7528\u6237\u6388\u4e88\u6743\u9650\u3002\u4f7f\u7528 GRANT \u5fc5\u987b\u62e5\u6709 GRANT \u6743\u9650\u3002 \u76ee\u524d Nebula Graph \u5305\u542b\u4e94\u79cd\u89d2\u8272\u6743\u9650\uff1a GOD \u3001 ADMIN \u3001 DBA \u3001 USER \u548c GUEST \u3002 \u901a\u5e38\uff0c\u9700\u8981\u5148\u4f7f\u7528 CREATE USER \u521b\u5efa\u5e10\u6237\uff0c\u7136\u540e\u518d\u4f7f\u7528 GRANT \u4e3a\u5176\u6388\u4e88\u6743\u9650\uff08\u5047\u8bbe\u4f60\u62e5\u6709 CREATE \u548c GRANT \u6743\u9650\uff09\u3002\u5f85\u6388\u4e88\u7684\u89d2\u8272\u4ee5\u53ca\u7528\u6237\u5e10\u6237\u5fc5\u987b\u5b58\u5728\uff0c\u5426\u5219\u4f1a\u53d1\u751f\u9519\u8bef\u3002 <space> \u5fc5\u987b\u6307\u5b9a\u4e3a\u5b58\u5728\u7684\u56fe\u7a7a\u95f4\uff0c\u5426\u5219\u4f1a\u53d1\u751f\u9519\u8bef\u3002","title":"Grant Role"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/grant-role-syntax/#grant_role","text":"GRANT ROLE <role_type> ON <space> TO <user> \u4f7f\u7528 GRANT \u8bed\u53e5\u4e3a Nebula Graph \u7528\u6237\u6388\u4e88\u6743\u9650\u3002\u4f7f\u7528 GRANT \u5fc5\u987b\u62e5\u6709 GRANT \u6743\u9650\u3002 \u76ee\u524d Nebula Graph \u5305\u542b\u4e94\u79cd\u89d2\u8272\u6743\u9650\uff1a GOD \u3001 ADMIN \u3001 DBA \u3001 USER \u548c GUEST \u3002 \u901a\u5e38\uff0c\u9700\u8981\u5148\u4f7f\u7528 CREATE USER \u521b\u5efa\u5e10\u6237\uff0c\u7136\u540e\u518d\u4f7f\u7528 GRANT \u4e3a\u5176\u6388\u4e88\u6743\u9650\uff08\u5047\u8bbe\u4f60\u62e5\u6709 CREATE \u548c GRANT \u6743\u9650\uff09\u3002\u5f85\u6388\u4e88\u7684\u89d2\u8272\u4ee5\u53ca\u7528\u6237\u5e10\u6237\u5fc5\u987b\u5b58\u5728\uff0c\u5426\u5219\u4f1a\u53d1\u751f\u9519\u8bef\u3002 <space> \u5fc5\u987b\u6307\u5b9a\u4e3a\u5b58\u5728\u7684\u56fe\u7a7a\u95f4\uff0c\u5426\u5219\u4f1a\u53d1\u751f\u9519\u8bef\u3002","title":"GRANT ROLE \u8bed\u6cd5"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/revoke-syntax/","text":"REVOKE \u8bed\u6cd5 \u00b6 REVOKE ROLE <role_type> ON <space> FROM <user> \u4f7f\u7528 REVOKE \u8bed\u53e5\u4ece Nebula Graph \u7528\u6237\u5220\u9664\u6743\u9650\u3002\u4f7f\u7528 REVOKE \u5fc5\u987b\u62e5\u6709 REVOKE \u6743\u9650\u3002 \u76ee\u524d Nebula Graph \u5305\u542b\u4e94\u79cd\u89d2\u8272\u6743\u9650\uff1a GOD \u3001 ADMIN \u3001 DBA \u3001 USER \u548c GUEST \u3002 \u5f85\u5220\u9664\u7684\u89d2\u8272\u4ee5\u53ca\u7528\u6237\u5e10\u6237\u5fc5\u987b\u5b58\u5728\uff0c\u5426\u5219\u4f1a\u53d1\u751f\u9519\u8bef\u3002 <space> \u5fc5\u987b\u6307\u5b9a\u4e3a\u5b58\u5728\u7684\u56fe\u7a7a\u95f4\uff0c\u5426\u5219\u4f1a\u53d1\u751f\u9519\u8bef\u3002","title":"Revoke"},{"location":"manual-CN/3.build-develop-and-administration/4.account-management-statements/revoke-syntax/#revoke","text":"REVOKE ROLE <role_type> ON <space> FROM <user> \u4f7f\u7528 REVOKE \u8bed\u53e5\u4ece Nebula Graph \u7528\u6237\u5220\u9664\u6743\u9650\u3002\u4f7f\u7528 REVOKE \u5fc5\u987b\u62e5\u6709 REVOKE \u6743\u9650\u3002 \u76ee\u524d Nebula Graph \u5305\u542b\u4e94\u79cd\u89d2\u8272\u6743\u9650\uff1a GOD \u3001 ADMIN \u3001 DBA \u3001 USER \u548c GUEST \u3002 \u5f85\u5220\u9664\u7684\u89d2\u8272\u4ee5\u53ca\u7528\u6237\u5e10\u6237\u5fc5\u987b\u5b58\u5728\uff0c\u5426\u5219\u4f1a\u53d1\u751f\u9519\u8bef\u3002 <space> \u5fc5\u987b\u6307\u5b9a\u4e3a\u5b58\u5728\u7684\u56fe\u7a7a\u95f4\uff0c\u5426\u5219\u4f1a\u53d1\u751f\u9519\u8bef\u3002","title":"REVOKE \u8bed\u6cd5"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/cluster-snapshot/","text":"\u96c6\u7fa4\u5feb\u7167 \u00b6 \u521b\u5efa\u5feb\u7167 \u00b6 CREATE SNAPSHOT \u547d\u4ee4\u53ef\u5bf9\u6574\u4e2a\u96c6\u7fa4\u521b\u5efa\u5f53\u524d\u65f6\u95f4\u70b9\u7684\u5feb\u7167\uff0c\u5feb\u7167\u540d\u79f0\u7531 meta server \u7684\u65f6\u95f4\u6233\u7ec4\u6210\u3002\u5f53\u524d\u7248\u672c\u5982\u679c\u5feb\u7167\u521b\u5efa\u5931\u8d25\uff0c\u5fc5\u987b\u901a\u8fc7 DROP SNAPSHOT \u547d\u4ee4\u6e05\u9664\u65e0\u6548\u7684\u5feb\u7167\u3002 \u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u5bf9\u6307\u5b9a\u7684\u56fe\u7a7a\u95f4\u521b\u5efa\u5feb\u7167\uff0c\u5f53\u6267\u884c CREATE SNAPSHOT \u540e\uff0c\u5c06\u5bf9\u96c6\u7fa4\u4e2d\u7684\u6240\u6709\u56fe\u7a7a\u95f4\u521b\u5efa\u5feb\u7167\u3002\u4f8b\u5982\uff1a nebula> CREATE SNAPSHOT; Execution succeeded (Time spent: 22892/23923 us) \u67e5\u770b\u5feb\u7167 \u00b6 SHOW SNAPSHOT \u547d\u4ee4\u53ef\u67e5\u770b\u96c6\u7fa4\u4e2d\u6240\u6709\u5feb\u7167\u72b6\u6001\uff08VALID \u6216 INVALID\uff09\u3001\u540d\u79f0\u548c\u521b\u5efa\u5feb\u7167\u65f6\u6240\u6709 storage server \u7684 IP \u5730\u5740\u3002\u4f8b\u5982\uff1a nebula> SHOW SNAPSHOTS; =========================================================== | Name | Status | Hosts | =========================================================== | SNAPSHOT_2019_12_04_10_54_36 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- | SNAPSHOT_2019_12_04_10_54_42 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- | SNAPSHOT_2019_12_04_10_54_44 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- \u5220\u9664\u5feb\u7167 \u00b6 DROP SNAPSHOT \u547d\u4ee4\u53ef\u5220\u9664\u6307\u5b9a\u540d\u79f0\u7684\u5feb\u7167\uff0c\u8bed\u6cd5\u4e3a\uff1a DROP SNAPSHOT <snapshot-name> \u53ef\u4ee5\u901a\u8fc7 SHOW SNAPSHOTS \u547d\u4ee4\u83b7\u53d6\u5feb\u7167\u540d\u79f0\uff0c DROP SNAPSHOT \u65e2\u53ef\u4ee5\u5220\u9664\u6709\u6548\u7684\u5feb\u7167\uff0c\u4e5f\u53ef\u4ee5\u5220\u9664\u521b\u5efa\u5931\u8d25\u7684\u5feb\u7167\u3002 nebula> DROP SNAPSHOT SNAPSHOT_2019_12_04_10_54_36; nebula> SHOW SNAPSHOTS; =========================================================== | Name | Status | Hosts | =========================================================== | SNAPSHOT_2019_12_04_10_54_42 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- | SNAPSHOT_2019_12_04_10_54_44 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- \u6b64\u65f6\u5220\u9664\u7684\u5feb\u7167\u5df2\u4e0d\u5728\u5feb\u7167\u5217\u8868\u4e2d\u3002 \u6ce8\u610f\u4e8b\u9879 \u00b6 \u5f53\u7cfb\u7edf\u7ed3\u6784\u53d1\u751f\u53d8\u5316\u540e\uff0c\u6700\u597d\u7acb\u523b\u521b\u5efa\u5feb\u7167\uff0c\u4f8b\u5982\u5728 add host\u3001drop host\u3001create space\u3001drop space\u3001balance \u7b49\u64cd\u4f5c\u4e4b\u540e\u3002 \u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u5bf9\u521b\u5efa\u5931\u8d25\u7684\u5feb\u7167\u8fdb\u884c\u81ea\u52a8\u5783\u573e\u56de\u6536\uff0c\u540e\u7eed\u5c06\u5728 meta server \u4e2d\u5f00\u53d1 cluster checker \u529f\u80fd\uff0c\u901a\u8fc7\u5f02\u6b65\u7ebf\u7a0b\u68c0\u67e5\u96c6\u7fa4\u72b6\u6001\uff0c\u5e76\u81ea\u52a8\u56de\u6536\u521b\u5efa\u5931\u8d25\u7684\u5feb\u7167\u5783\u573e\u6587\u4ef6 \u5f53\u524d\u7248\u672c\u6682\u672a\u63d0\u4f9b\u7528\u6237\u6307\u5b9a\u5feb\u7167\u8def\u5f84\u7684\u529f\u80fd\uff0c\u5feb\u7167\u5c06\u9ed8\u8ba4\u521b\u5efa\u5728 data_path/nebula \u76ee\u5f55\u4e0b\u3002 \u5f53\u524d\u7248\u672c\u6682\u672a\u63d0\u4f9b\u5feb\u7167\u6062\u590d\u529f\u80fd\uff0c\u9700\u8981\u7528\u6237\u6839\u636e\u5b9e\u9645\u7684\u751f\u4ea7\u73af\u5883\u7f16\u5199 shell \u811a\u672c\u5b9e\u73b0\u3002\u5b9e\u73b0\u903b\u8f91\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c\u62f7\u8d1d\u5404 engine server \u7684\u5feb\u7167\u5230\u6307\u5b9a\u7684\u6587\u4ef6\u5939\u4e0b\uff0c\u5e76\u5c06\u6b64\u6587\u4ef6\u5939\u8bbe\u7f6e\u4e3a data_path \uff0c\u7136\u540e\u542f\u52a8\u96c6\u7fa4\u5373\u53ef\u3002","title":"\u96c6\u7fa4\u5feb\u7167"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/cluster-snapshot/#_1","text":"","title":"\u96c6\u7fa4\u5feb\u7167"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/cluster-snapshot/#_2","text":"CREATE SNAPSHOT \u547d\u4ee4\u53ef\u5bf9\u6574\u4e2a\u96c6\u7fa4\u521b\u5efa\u5f53\u524d\u65f6\u95f4\u70b9\u7684\u5feb\u7167\uff0c\u5feb\u7167\u540d\u79f0\u7531 meta server \u7684\u65f6\u95f4\u6233\u7ec4\u6210\u3002\u5f53\u524d\u7248\u672c\u5982\u679c\u5feb\u7167\u521b\u5efa\u5931\u8d25\uff0c\u5fc5\u987b\u901a\u8fc7 DROP SNAPSHOT \u547d\u4ee4\u6e05\u9664\u65e0\u6548\u7684\u5feb\u7167\u3002 \u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u5bf9\u6307\u5b9a\u7684\u56fe\u7a7a\u95f4\u521b\u5efa\u5feb\u7167\uff0c\u5f53\u6267\u884c CREATE SNAPSHOT \u540e\uff0c\u5c06\u5bf9\u96c6\u7fa4\u4e2d\u7684\u6240\u6709\u56fe\u7a7a\u95f4\u521b\u5efa\u5feb\u7167\u3002\u4f8b\u5982\uff1a nebula> CREATE SNAPSHOT; Execution succeeded (Time spent: 22892/23923 us)","title":"\u521b\u5efa\u5feb\u7167"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/cluster-snapshot/#_3","text":"SHOW SNAPSHOT \u547d\u4ee4\u53ef\u67e5\u770b\u96c6\u7fa4\u4e2d\u6240\u6709\u5feb\u7167\u72b6\u6001\uff08VALID \u6216 INVALID\uff09\u3001\u540d\u79f0\u548c\u521b\u5efa\u5feb\u7167\u65f6\u6240\u6709 storage server \u7684 IP \u5730\u5740\u3002\u4f8b\u5982\uff1a nebula> SHOW SNAPSHOTS; =========================================================== | Name | Status | Hosts | =========================================================== | SNAPSHOT_2019_12_04_10_54_36 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- | SNAPSHOT_2019_12_04_10_54_42 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- | SNAPSHOT_2019_12_04_10_54_44 | VALID | 127.0.0.1:77833 | -----------------------------------------------------------","title":"\u67e5\u770b\u5feb\u7167"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/cluster-snapshot/#_4","text":"DROP SNAPSHOT \u547d\u4ee4\u53ef\u5220\u9664\u6307\u5b9a\u540d\u79f0\u7684\u5feb\u7167\uff0c\u8bed\u6cd5\u4e3a\uff1a DROP SNAPSHOT <snapshot-name> \u53ef\u4ee5\u901a\u8fc7 SHOW SNAPSHOTS \u547d\u4ee4\u83b7\u53d6\u5feb\u7167\u540d\u79f0\uff0c DROP SNAPSHOT \u65e2\u53ef\u4ee5\u5220\u9664\u6709\u6548\u7684\u5feb\u7167\uff0c\u4e5f\u53ef\u4ee5\u5220\u9664\u521b\u5efa\u5931\u8d25\u7684\u5feb\u7167\u3002 nebula> DROP SNAPSHOT SNAPSHOT_2019_12_04_10_54_36; nebula> SHOW SNAPSHOTS; =========================================================== | Name | Status | Hosts | =========================================================== | SNAPSHOT_2019_12_04_10_54_42 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- | SNAPSHOT_2019_12_04_10_54_44 | VALID | 127.0.0.1:77833 | ----------------------------------------------------------- \u6b64\u65f6\u5220\u9664\u7684\u5feb\u7167\u5df2\u4e0d\u5728\u5feb\u7167\u5217\u8868\u4e2d\u3002","title":"\u5220\u9664\u5feb\u7167"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/cluster-snapshot/#_5","text":"\u5f53\u7cfb\u7edf\u7ed3\u6784\u53d1\u751f\u53d8\u5316\u540e\uff0c\u6700\u597d\u7acb\u523b\u521b\u5efa\u5feb\u7167\uff0c\u4f8b\u5982\u5728 add host\u3001drop host\u3001create space\u3001drop space\u3001balance \u7b49\u64cd\u4f5c\u4e4b\u540e\u3002 \u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u5bf9\u521b\u5efa\u5931\u8d25\u7684\u5feb\u7167\u8fdb\u884c\u81ea\u52a8\u5783\u573e\u56de\u6536\uff0c\u540e\u7eed\u5c06\u5728 meta server \u4e2d\u5f00\u53d1 cluster checker \u529f\u80fd\uff0c\u901a\u8fc7\u5f02\u6b65\u7ebf\u7a0b\u68c0\u67e5\u96c6\u7fa4\u72b6\u6001\uff0c\u5e76\u81ea\u52a8\u56de\u6536\u521b\u5efa\u5931\u8d25\u7684\u5feb\u7167\u5783\u573e\u6587\u4ef6 \u5f53\u524d\u7248\u672c\u6682\u672a\u63d0\u4f9b\u7528\u6237\u6307\u5b9a\u5feb\u7167\u8def\u5f84\u7684\u529f\u80fd\uff0c\u5feb\u7167\u5c06\u9ed8\u8ba4\u521b\u5efa\u5728 data_path/nebula \u76ee\u5f55\u4e0b\u3002 \u5f53\u524d\u7248\u672c\u6682\u672a\u63d0\u4f9b\u5feb\u7167\u6062\u590d\u529f\u80fd\uff0c\u9700\u8981\u7528\u6237\u6839\u636e\u5b9e\u9645\u7684\u751f\u4ea7\u73af\u5883\u7f16\u5199 shell \u811a\u672c\u5b9e\u73b0\u3002\u5b9e\u73b0\u903b\u8f91\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c\u62f7\u8d1d\u5404 engine server \u7684\u5feb\u7167\u5230\u6307\u5b9a\u7684\u6587\u4ef6\u5939\u4e0b\uff0c\u5e76\u5c06\u6b64\u6587\u4ef6\u5939\u8bbe\u7f6e\u4e3a data_path \uff0c\u7136\u540e\u542f\u52a8\u96c6\u7fa4\u5373\u53ef\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/compact/","text":"Compact \u00b6 \u672c\u6587\u6863\u5c06\u4e3a\u60a8\u4ecb\u7ecd Compact\u3002 Nebula Graph KV \u57fa\u4e8e RocksDB \u7684\u9ed8\u8ba4 compact \u505a\u4e86\u5b9a\u5236\u3002 Nebula Graph \u63d0\u4f9b\u4e24\u79cd\u7c7b\u578b\u7684 compact \u76f8\u5e94\u7684\u64cd\u4f5c\u65b9\u6cd5\uff1a \u8c03\u7528 RocksDB \u9ed8\u8ba4\u7684 compact\uff1a\u4e3b\u8981\u76ee\u7684\u662f\u5728\u5199\u5165\u65f6\u81ea\u52a8\u8fdb\u884c\u5c0f\u89c4\u6a21\u7684 sst \u6587\u4ef6\u5408\u5e76\uff0c\u4ee5\u4fdd\u8bc1\u77ed\u65f6\u95f4\u5185\u7684\u8bfb\u901f\u5ea6\u3002\u901a\u5e38\u5728\u65e5\u95f4\u4e1a\u52a1\u65f6\u81ea\u52a8\u89e6\u53d1\u3002\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8 RocksDB \u9ed8\u8ba4 compact\uff1b nebula > UPDATE CONFIGS storage : rocksdb_column_family_options = { disable_auto_compactions = true } ; disable_auto_compactions \u53c2\u6570\u9ed8\u8ba4\u4e3a\u5173\u95ed\uff08\u5373 false \uff09\u3002\u5bfc\u5165\u6570\u636e\u524d\uff0c\u5efa\u8bae\u5c06\u5176\u5f00\u542f\u3002\u5bfc\u5165\u6570\u636e\u540e\uff0c\u8bf7\u52a1\u5fc5\u5c06\u5176\u6539\u56de false \uff0c\u7136\u540e\u6267\u884c SUBMIT JOB COMPACT \u547d\u4ee4\u4e3b\u52a8\u89e6\u53d1 compact\u3002 \u8c03\u7528 Nebula Graph \u81ea\u5b9a\u4e49\u7684 compact\uff1a\u4e3b\u8981\u76ee\u7684\u662f\u5b8c\u6210\u5927\u89c4\u6a21\u7684 sst \u6587\u4ef6\u5408\u5e76\u3001TTL \u7b49\u5927\u89c4\u6a21\u540e\u53f0\u64cd\u4f5c\u3002\u901a\u5e38\u5efa\u8bae\u5728\u51cc\u6668\u4e1a\u52a1\u4f4e\u8c37\u65f6\u8fdb\u884c\u3002\u901a\u8fc7 SUBMIT JOB COMPACT \u6765\u4e3b\u52a8\u89e6\u53d1\u3002 \u53e6\u5916\uff0c\u4e24\u79cd\u65b9\u6cd5\u7684\u7ebf\u7a0b\u6570\u5747\u53ef\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u8c03\u6574\u3002 nebula> UPDATE CONFIGS storage:rocksdb_db_options = \\ { max_subcompactions = 4, max_background_jobs = 4};","title":"Compact"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/compact/#compact","text":"\u672c\u6587\u6863\u5c06\u4e3a\u60a8\u4ecb\u7ecd Compact\u3002 Nebula Graph KV \u57fa\u4e8e RocksDB \u7684\u9ed8\u8ba4 compact \u505a\u4e86\u5b9a\u5236\u3002 Nebula Graph \u63d0\u4f9b\u4e24\u79cd\u7c7b\u578b\u7684 compact \u76f8\u5e94\u7684\u64cd\u4f5c\u65b9\u6cd5\uff1a \u8c03\u7528 RocksDB \u9ed8\u8ba4\u7684 compact\uff1a\u4e3b\u8981\u76ee\u7684\u662f\u5728\u5199\u5165\u65f6\u81ea\u52a8\u8fdb\u884c\u5c0f\u89c4\u6a21\u7684 sst \u6587\u4ef6\u5408\u5e76\uff0c\u4ee5\u4fdd\u8bc1\u77ed\u65f6\u95f4\u5185\u7684\u8bfb\u901f\u5ea6\u3002\u901a\u5e38\u5728\u65e5\u95f4\u4e1a\u52a1\u65f6\u81ea\u52a8\u89e6\u53d1\u3002\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8 RocksDB \u9ed8\u8ba4 compact\uff1b nebula > UPDATE CONFIGS storage : rocksdb_column_family_options = { disable_auto_compactions = true } ; disable_auto_compactions \u53c2\u6570\u9ed8\u8ba4\u4e3a\u5173\u95ed\uff08\u5373 false \uff09\u3002\u5bfc\u5165\u6570\u636e\u524d\uff0c\u5efa\u8bae\u5c06\u5176\u5f00\u542f\u3002\u5bfc\u5165\u6570\u636e\u540e\uff0c\u8bf7\u52a1\u5fc5\u5c06\u5176\u6539\u56de false \uff0c\u7136\u540e\u6267\u884c SUBMIT JOB COMPACT \u547d\u4ee4\u4e3b\u52a8\u89e6\u53d1 compact\u3002 \u8c03\u7528 Nebula Graph \u81ea\u5b9a\u4e49\u7684 compact\uff1a\u4e3b\u8981\u76ee\u7684\u662f\u5b8c\u6210\u5927\u89c4\u6a21\u7684 sst \u6587\u4ef6\u5408\u5e76\u3001TTL \u7b49\u5927\u89c4\u6a21\u540e\u53f0\u64cd\u4f5c\u3002\u901a\u5e38\u5efa\u8bae\u5728\u51cc\u6668\u4e1a\u52a1\u4f4e\u8c37\u65f6\u8fdb\u884c\u3002\u901a\u8fc7 SUBMIT JOB COMPACT \u6765\u4e3b\u52a8\u89e6\u53d1\u3002 \u53e6\u5916\uff0c\u4e24\u79cd\u65b9\u6cd5\u7684\u7ebf\u7a0b\u6570\u5747\u53ef\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u8c03\u6574\u3002 nebula> UPDATE CONFIGS storage:rocksdb_db_options = \\ { max_subcompactions = 4, max_background_jobs = 4};","title":"Compact"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/job-manager/","text":"\u4f5c\u4e1a\u7ba1\u7406\uff08flush \u548c compact\uff09 \u00b6 \u4f5c\u4e1a\u7279\u6307\u5728\u5b58\u50a8\u5c42\u8fd0\u884c\u7684\u4e00\u4e9b\u957f\u4efb\u52a1\u3002\u6bd4\u5982 compact \u548c flush \u7b49\u3002\u7ba1\u7406\u6307\u5bf9\u4f5c\u4e1a\u8fdb\u884c\u7ba1\u7406\u3002\u6bd4\u5982\u8ba9\u4f5c\u4e1a\u6392\u961f\u6267\u884c\u3001\u67e5\u770b\u4f5c\u4e1a\u72b6\u6001\u3001\u505c\u6b62\u4f5c\u4e1a\u3001\u6062\u590d\u4f5c\u4e1a\u7b49\u3002 \u547d\u4ee4\u5217\u8868 \u00b6 SUBMIT JOB COMPACT \u00b6 SUBMIT JOB COMPACT \u547d\u4ee4\u89e6\u53d1\u957f\u8017\u65f6\u7684 RocksDB compact \u64cd\u4f5c\u3002\u793a\u4f8b\u8fd4\u56de\u7ed3\u679c\u5982\u4e0b\uff1a nebula> SUBMIT JOB COMPACT; ============== | New Job Id | ============== | 40 | -------------- \u4fee\u6539\u9ed8\u8ba4 compact \u7ebf\u7a0b\u6570\u91cf\u8bf7\u53c2\u8003 \u8fd9\u91cc \u3002 SUBMIT JOB FLUSH \u00b6 SUBMIT JOB FLUSH \u547d\u4ee4\u5c06\u5185\u5b58\u4e2d\u7684 RocksDB memfile \u5199\u5165\u5230\u786c\u76d8\u4e2d\u3002 nebula> SUBMIT JOB FLUSH; ============== | New Job Id | ============== | 2 | -------------- SHOW JOB \u00b6 \u8fd4\u56de\u5355\u4e2a\u4f5c\u4e1a\u4fe1\u606f \u00b6 \u547d\u4ee4 SHOW JOB <job_id> \u7528\u4e8e\u8fd4\u56de\u5bf9\u5e94 ID \u4f5c\u4e1a\u53ca\u5176\u6240\u6709\u4efb\u52a1\u3002\u4f5c\u4e1a\u5230\u8fbe Meta \u5c42\u540e\uff0cMeta \u4f1a\u5c06\u4f5c\u4e1a\u5206\u6210\u591a\u4e2a\u4efb\u52a1\u5e76\u53d1\u9001\u81f3 storage \u5c42\u3002 nebula> SHOW JOB 40; ================================================================================================== | Job Id(TaskId) | Command(Dest) | Status | Start Time | Stop Time | ================================================================================================== | 40 | flush basketballplayer | finished | 12/17/19 17:21:30 | 12/17/19 17:21:30 | -------------------------------------------------------------------------------------------------- | 40-0 | 192.168.8.5 | finished | 12/17/19 17:21:30 | 12/17/19 17:21:30 | -------------------------------------------------------------------------------------------------- \u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u5c06\u8fd4\u56de 1 \u5230\u591a\u884c\u7ed3\u679c\uff0c\u53d6\u51b3\u4e8e space \u6240\u5728\u7684 storaged \u4e2a\u6570\u3002 \u8fd4\u56de\u7ed3\u679c\u8bf4\u660e\uff1a 40 \u4e3a\u5f53\u524d\u4f5c\u4e1a ID flush basketballplayer \u8868\u793a\u5728 basketballplayer \u56fe\u7a7a\u95f4\u4e0a\u6267\u884c\u4e86 flush \u64cd\u4f5c finished \u8868\u793a\u8fd0\u884c\u5df2\u7ed3\u675f\uff0c\u4e14\u6210\u529f\u3002\u5176\u4ed6\u53ef\u80fd\u7684\u72b6\u6001\u6709 Queue\u3001running\u3001failed\u3001stopped 12/17/19 17:21:30 \u8868\u793a\u5f00\u59cb\u65f6\u95f4\uff0c\u521d\u59cb\u4e3a\u7a7a(Queue)\uff0c\u5f53\u4e14\u4ec5\u5f53\u72b6\u6001\u53d8\u4e3a running \u65f6\uff0c\u624d\u4f1a\u8bbe\u8fd9\u4e2a\u503c 12/17/19 17:21:30 \u8868\u793a\u7ed3\u675f\u65f6\u95f4\uff0c\u5982\u679c\u4e3a Queue \u6216\u8005 running \u72b6\u6001\uff0c\u8fd9\u91cc\u4f1a\u4e3a\u7a7a\uff0c\u5f53\u72b6\u6001\u53d8\u4e3a finished\u3001failed\u3001stopped \u65f6\u4f1a\u8bbe\u7f6e\u6b64\u503c 40-0 \u8868\u793a\u5f53\u524d\u4f5c\u4e1a ID \u662f 40\uff0c\u4efb\u52a1 ID \u662f 0 192.168.8.5 \u8868\u793a\u8fd0\u884c\u5728 192.168.8.5 \u8fd9\u53f0\u673a\u5668\u4e0a finished \u8868\u793a\u8fd0\u884c\u5df2\u7ed3\u675f\uff0c\u4e14\u6210\u529f\u3002\u5176\u4ed6\u53ef\u80fd\u7684\u72b6\u6001\u6709 Queue\u3001running\u3001failed\u3001stopped 12/17/19 17:21:30 \u8868\u793a\u5f00\u59cb\u65f6\u95f4\uff0c\u56e0\u4e3a\u4efb\u52a1\u521d\u59cb\u5373\u4e3a running \u72b6\u6001\uff0c\u6240\u4ee5\u8fd9\u91cc\u6c38\u4e0d\u4e3a\u7a7a 12/17/19 17:21:30 \u8868\u793a\u7ed3\u675f\u65f6\u95f4\uff0c\u5982\u679c\u4e3a running \u72b6\u6001\uff0c\u8fd9\u91cc\u4f1a\u4e3a\u7a7a\uff0c\u5f53\u72b6\u6001\u53d8\u4e3a finished\u3001failed\u3001stopped \u65f6\u4f1a\u8bbe\u7f6e\u6b64\u503c \u6ce8\u610f\uff1a \u4f5c\u4e1a\u72b6\u6001\u6709\u4e94\u79cd\uff0c\u5206\u4e3a\u662f QUEUE\u3001RUNNING\u3001FINISHED\u3001FAILED\u3001STOPPED\u3002\u72b6\u6001\u673a\u8f6c\u6362\u89c1\u4ee5\u4e0b\u8bf4\u660e\uff1a Queue -- running -- finished -- removed \\ \\ / \\ \\ -- failed -- / \\ \\ / \\ ---------- stopped -/ \u8fd4\u56de\u6240\u6709\u4f5c\u4e1a\u4fe1\u606f \u00b6 \u547d\u4ee4 SHOW JOBS \u7528\u4e8e\u5217\u51fa\u6240\u6709\u672a\u8fc7\u671f\u7684\u4f5c\u4e1a\u4fe1\u606f\u3002\u9ed8\u8ba4\u4f5c\u4e1a\u8fc7\u671f\u65f6\u957f\u4e3a\u4e00\u5468\u3002\u7528\u6237\u53ef\u901a\u8fc7 job_expired_secs \u53c2\u6570\u66f4\u6539\u8fc7\u671f\u65f6\u957f\u3002 nebula> SHOW JOBS; ============================================================================= | Job Id | Command | Status | Start Time | Stop Time | ============================================================================= | 22 | flush test2 | failed | 12/06/19 14:46:22 | 12/06/19 14:46:22 | ----------------------------------------------------------------------------- | 23 | compact test2 | stopped | 12/06/19 15:07:09 | 12/06/19 15:07:33 | ----------------------------------------------------------------------------- | 24 | compact test2 | stopped | 12/06/19 15:07:11 | 12/06/19 15:07:20 | ----------------------------------------------------------------------------- | 25 | compact test2 | stopped | 12/06/19 15:07:13 | 12/06/19 15:07:24 | ----------------------------------------------------------------------------- \u8fd4\u56de\u7ed3\u679c\u8bf4\u660e\u89c1\u4e0a\u8282 \u8fd4\u56de\u5355\u4e2a\u4f5c\u4e1a\u4fe1\u606f \u3002 STOP JOB \u00b6 \u547d\u4ee4 STOP JOB \u7528\u4e8e\u5728\u505c\u6b62\u672a\u5b8c\u6210\u7684\u4f5c\u4e1a\u3002 nebula> STOP JOB 22; ========================= | STOP Result | ========================= | stop 1 jobs 2 tasks | ------------------------- RECOVER JOB \u00b6 \u547d\u4ee4 RECOVER JOB \u7528\u4e8e\u91cd\u65b0\u6267\u884c\u5931\u8d25\u7684\u4f5c\u4e1a\uff0c\u5e76\u8fd4\u56de recover \u7684\u4f5c\u4e1a\u6570\u76ee\u3002 nebula> RECOVER JOB; ===================== | Recovered job num | ===================== | 5 job recovered | --------------------- FAQ \u00b6 SUBMIT JOB \u4f7f\u7528 HTTP \u7aef\u53e3\u3002\u8bf7\u68c0\u67e5 Storage \u4e4b\u95f4\u7684 HTTP \u7aef\u53e3\u662f\u5426\u6b63\u5e38\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u8c03\u8bd5\u3002 curl \"http://{storaged-ip}:12000/admin?space={test}&op=compact\"","title":"\u957f\u8017\u65f6\u4efb\u52a1\u7ba1\u7406"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/job-manager/#flush_compact","text":"\u4f5c\u4e1a\u7279\u6307\u5728\u5b58\u50a8\u5c42\u8fd0\u884c\u7684\u4e00\u4e9b\u957f\u4efb\u52a1\u3002\u6bd4\u5982 compact \u548c flush \u7b49\u3002\u7ba1\u7406\u6307\u5bf9\u4f5c\u4e1a\u8fdb\u884c\u7ba1\u7406\u3002\u6bd4\u5982\u8ba9\u4f5c\u4e1a\u6392\u961f\u6267\u884c\u3001\u67e5\u770b\u4f5c\u4e1a\u72b6\u6001\u3001\u505c\u6b62\u4f5c\u4e1a\u3001\u6062\u590d\u4f5c\u4e1a\u7b49\u3002","title":"\u4f5c\u4e1a\u7ba1\u7406\uff08flush \u548c compact\uff09"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/job-manager/#_1","text":"","title":"\u547d\u4ee4\u5217\u8868"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/job-manager/#submit_job_compact","text":"SUBMIT JOB COMPACT \u547d\u4ee4\u89e6\u53d1\u957f\u8017\u65f6\u7684 RocksDB compact \u64cd\u4f5c\u3002\u793a\u4f8b\u8fd4\u56de\u7ed3\u679c\u5982\u4e0b\uff1a nebula> SUBMIT JOB COMPACT; ============== | New Job Id | ============== | 40 | -------------- \u4fee\u6539\u9ed8\u8ba4 compact \u7ebf\u7a0b\u6570\u91cf\u8bf7\u53c2\u8003 \u8fd9\u91cc \u3002","title":"SUBMIT JOB COMPACT"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/job-manager/#submit_job_flush","text":"SUBMIT JOB FLUSH \u547d\u4ee4\u5c06\u5185\u5b58\u4e2d\u7684 RocksDB memfile \u5199\u5165\u5230\u786c\u76d8\u4e2d\u3002 nebula> SUBMIT JOB FLUSH; ============== | New Job Id | ============== | 2 | --------------","title":"SUBMIT JOB FLUSH"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/job-manager/#show_job","text":"","title":"SHOW JOB"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/job-manager/#_2","text":"\u547d\u4ee4 SHOW JOB <job_id> \u7528\u4e8e\u8fd4\u56de\u5bf9\u5e94 ID \u4f5c\u4e1a\u53ca\u5176\u6240\u6709\u4efb\u52a1\u3002\u4f5c\u4e1a\u5230\u8fbe Meta \u5c42\u540e\uff0cMeta \u4f1a\u5c06\u4f5c\u4e1a\u5206\u6210\u591a\u4e2a\u4efb\u52a1\u5e76\u53d1\u9001\u81f3 storage \u5c42\u3002 nebula> SHOW JOB 40; ================================================================================================== | Job Id(TaskId) | Command(Dest) | Status | Start Time | Stop Time | ================================================================================================== | 40 | flush basketballplayer | finished | 12/17/19 17:21:30 | 12/17/19 17:21:30 | -------------------------------------------------------------------------------------------------- | 40-0 | 192.168.8.5 | finished | 12/17/19 17:21:30 | 12/17/19 17:21:30 | -------------------------------------------------------------------------------------------------- \u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u5c06\u8fd4\u56de 1 \u5230\u591a\u884c\u7ed3\u679c\uff0c\u53d6\u51b3\u4e8e space \u6240\u5728\u7684 storaged \u4e2a\u6570\u3002 \u8fd4\u56de\u7ed3\u679c\u8bf4\u660e\uff1a 40 \u4e3a\u5f53\u524d\u4f5c\u4e1a ID flush basketballplayer \u8868\u793a\u5728 basketballplayer \u56fe\u7a7a\u95f4\u4e0a\u6267\u884c\u4e86 flush \u64cd\u4f5c finished \u8868\u793a\u8fd0\u884c\u5df2\u7ed3\u675f\uff0c\u4e14\u6210\u529f\u3002\u5176\u4ed6\u53ef\u80fd\u7684\u72b6\u6001\u6709 Queue\u3001running\u3001failed\u3001stopped 12/17/19 17:21:30 \u8868\u793a\u5f00\u59cb\u65f6\u95f4\uff0c\u521d\u59cb\u4e3a\u7a7a(Queue)\uff0c\u5f53\u4e14\u4ec5\u5f53\u72b6\u6001\u53d8\u4e3a running \u65f6\uff0c\u624d\u4f1a\u8bbe\u8fd9\u4e2a\u503c 12/17/19 17:21:30 \u8868\u793a\u7ed3\u675f\u65f6\u95f4\uff0c\u5982\u679c\u4e3a Queue \u6216\u8005 running \u72b6\u6001\uff0c\u8fd9\u91cc\u4f1a\u4e3a\u7a7a\uff0c\u5f53\u72b6\u6001\u53d8\u4e3a finished\u3001failed\u3001stopped \u65f6\u4f1a\u8bbe\u7f6e\u6b64\u503c 40-0 \u8868\u793a\u5f53\u524d\u4f5c\u4e1a ID \u662f 40\uff0c\u4efb\u52a1 ID \u662f 0 192.168.8.5 \u8868\u793a\u8fd0\u884c\u5728 192.168.8.5 \u8fd9\u53f0\u673a\u5668\u4e0a finished \u8868\u793a\u8fd0\u884c\u5df2\u7ed3\u675f\uff0c\u4e14\u6210\u529f\u3002\u5176\u4ed6\u53ef\u80fd\u7684\u72b6\u6001\u6709 Queue\u3001running\u3001failed\u3001stopped 12/17/19 17:21:30 \u8868\u793a\u5f00\u59cb\u65f6\u95f4\uff0c\u56e0\u4e3a\u4efb\u52a1\u521d\u59cb\u5373\u4e3a running \u72b6\u6001\uff0c\u6240\u4ee5\u8fd9\u91cc\u6c38\u4e0d\u4e3a\u7a7a 12/17/19 17:21:30 \u8868\u793a\u7ed3\u675f\u65f6\u95f4\uff0c\u5982\u679c\u4e3a running \u72b6\u6001\uff0c\u8fd9\u91cc\u4f1a\u4e3a\u7a7a\uff0c\u5f53\u72b6\u6001\u53d8\u4e3a finished\u3001failed\u3001stopped \u65f6\u4f1a\u8bbe\u7f6e\u6b64\u503c \u6ce8\u610f\uff1a \u4f5c\u4e1a\u72b6\u6001\u6709\u4e94\u79cd\uff0c\u5206\u4e3a\u662f QUEUE\u3001RUNNING\u3001FINISHED\u3001FAILED\u3001STOPPED\u3002\u72b6\u6001\u673a\u8f6c\u6362\u89c1\u4ee5\u4e0b\u8bf4\u660e\uff1a Queue -- running -- finished -- removed \\ \\ / \\ \\ -- failed -- / \\ \\ / \\ ---------- stopped -/","title":"\u8fd4\u56de\u5355\u4e2a\u4f5c\u4e1a\u4fe1\u606f"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/job-manager/#_3","text":"\u547d\u4ee4 SHOW JOBS \u7528\u4e8e\u5217\u51fa\u6240\u6709\u672a\u8fc7\u671f\u7684\u4f5c\u4e1a\u4fe1\u606f\u3002\u9ed8\u8ba4\u4f5c\u4e1a\u8fc7\u671f\u65f6\u957f\u4e3a\u4e00\u5468\u3002\u7528\u6237\u53ef\u901a\u8fc7 job_expired_secs \u53c2\u6570\u66f4\u6539\u8fc7\u671f\u65f6\u957f\u3002 nebula> SHOW JOBS; ============================================================================= | Job Id | Command | Status | Start Time | Stop Time | ============================================================================= | 22 | flush test2 | failed | 12/06/19 14:46:22 | 12/06/19 14:46:22 | ----------------------------------------------------------------------------- | 23 | compact test2 | stopped | 12/06/19 15:07:09 | 12/06/19 15:07:33 | ----------------------------------------------------------------------------- | 24 | compact test2 | stopped | 12/06/19 15:07:11 | 12/06/19 15:07:20 | ----------------------------------------------------------------------------- | 25 | compact test2 | stopped | 12/06/19 15:07:13 | 12/06/19 15:07:24 | ----------------------------------------------------------------------------- \u8fd4\u56de\u7ed3\u679c\u8bf4\u660e\u89c1\u4e0a\u8282 \u8fd4\u56de\u5355\u4e2a\u4f5c\u4e1a\u4fe1\u606f \u3002","title":"\u8fd4\u56de\u6240\u6709\u4f5c\u4e1a\u4fe1\u606f"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/job-manager/#stop_job","text":"\u547d\u4ee4 STOP JOB \u7528\u4e8e\u5728\u505c\u6b62\u672a\u5b8c\u6210\u7684\u4f5c\u4e1a\u3002 nebula> STOP JOB 22; ========================= | STOP Result | ========================= | stop 1 jobs 2 tasks | -------------------------","title":"STOP JOB"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/job-manager/#recover_job","text":"\u547d\u4ee4 RECOVER JOB \u7528\u4e8e\u91cd\u65b0\u6267\u884c\u5931\u8d25\u7684\u4f5c\u4e1a\uff0c\u5e76\u8fd4\u56de recover \u7684\u4f5c\u4e1a\u6570\u76ee\u3002 nebula> RECOVER JOB; ===================== | Recovered job num | ===================== | 5 job recovered | ---------------------","title":"RECOVER JOB"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/job-manager/#faq","text":"SUBMIT JOB \u4f7f\u7528 HTTP \u7aef\u53e3\u3002\u8bf7\u68c0\u67e5 Storage \u4e4b\u95f4\u7684 HTTP \u7aef\u53e3\u662f\u5426\u6b63\u5e38\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u8c03\u8bd5\u3002 curl \"http://{storaged-ip}:12000/admin?space={test}&op=compact\"","title":"FAQ"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/storage-balance/","text":"\u5b58\u50a8\u670d\u52a1\u7684\u8d1f\u8f7d\u5747\u8861\u548c\u6570\u636e\u8fc1\u79fb \u00b6 Nebula Graph \u7684\u670d\u52a1\u53ef\u5206\u4e3a graphd\uff0cstoraged\uff0cmetad\u3002\u6b64\u6587\u6863\u4e2d\u7684 balance \u4ec5\u9488\u5bf9 storaged \u8fdb\u884c\u64cd\u4f5c\u3002\u76ee\u524d\uff0cstoraged \u7684\u6269\u7f29\u5bb9\u662f\u901a\u8fc7 balance \u547d\u4ee4\u6765\u5b9e\u73b0\u7684\u3002balance \u547d\u4ee4\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u9700\u8981\u8fc1\u79fb\u6570\u636e\uff0c\u547d\u4ee4\u4e3a BALANCE DATA \uff1b\u53e6\u4e00\u79cd\u4e0d\u9700\u8981\u8fc1\u79fb\u6570\u636e\uff0c\u53ea\u6539\u53d8 partition \u7684 leader \u5206\u5e03\uff0c\u6765\u8fbe\u5230\u8d1f\u8f7d\u5747\u8861\u7684\u76ee\u7684\uff0c\u547d\u4ee4\u4e3a BALANCE LEADER \u3002 Balance data \u00b6 \u4ee5\u4e0b\u4e3e\u4f8b\u8bf4\u660e BALANCE DATA \u7684\u4f7f\u7528\u65b9\u5f0f\u3002\u672c\u4f8b\u5c06\u96c6\u7fa4\u4ece 3 \u4e2a\u5b9e\u4f8b\uff08\u8fdb\u7a0b\uff09\u6269\u5c55\u5230 8 \u4e2a\u5b9e\u4f8b\uff08\u8fdb\u7a0b\uff09\uff1a Step 1 \u51c6\u5907 \u00b6 \u90e8\u7f72\u4e00\u4e2a\u4e09\u526f\u672c\u7684\u96c6\u7fa4\uff0c1\u4e2a graphd\uff0c1\u4e2a metad\uff0c3\u4e2a storaged\uff08\u5177\u4f53\u90e8\u7f72\u65b9\u5f0f\u8bf7\u53c2\u8003\u96c6\u7fa4\u90e8\u7f72\u6587\u6863\uff09\uff0c\u901a\u8fc7 SHOW HOSTS \u547d\u4ee4\u53ef\u4ee5\u770b\u5230\u96c6\u7fa4\u7684\u72b6\u6001\u4fe1\u606f\uff1a Step 1.1 \u00b6 nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 34600 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34700 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34500 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ Got 3 rows (Time spent: 5886/6835 us) SHOW HOSTS \u8fd4\u56de\u7ed3\u679c\u8bf4\u660e\uff1a IP, Port \u8868\u793a\u5f53\u524d\u7684 storage \u5b9e\u4f8b. \u8fd9\u4e2a\u96c6\u7fa4\u542f\u52a8\u4e86 3 \u4e2a storaged \u670d\u52a1\uff0c\u5e76\u4e14\u6ca1\u6709\u4efb\u4f55\u6570\u636e\u3002(192.168.8.210:34600\uff0c192.168.8.210:34700\uff0c192.168.8.210:34500) Status \u8868\u793a\u5f53\u524d\u5b9e\u4f8b\u7684\u72b6\u6001\uff0c\u76ee\u524d\u6709 online/offline \u4e24\u79cd\u3002\u5f53\u673a\u5668\u4e0b\u7ebf\u4ee5\u540e\uff08metad \u5728\u4e00\u6bb5\u95f4\u9694\u5185\u6536\u4e0d\u5230\u5176\u5fc3\u8df3\uff09\uff0c\u5c06\u628a\u5176\u66f4\u6539\u4e3a offline\u3002 \u8fd9\u4e2a\u65f6\u95f4\u95f4\u9694\u53ef\u4ee5\u5728\u542f\u52a8 metad \u7684\u65f6\u5019\u901a\u8fc7\u8bbe\u7f6e expired_threshold_sec \u6765\u4fee\u6539\uff0c\u5f53\u524d\u9ed8\u8ba4\u503c\u662f 10 \u5206\u949f\u3002 Leader count\uff1a\u8868\u793a\u5f53\u524d\u5b9e\u4f8b Raft leader \u6570\u76ee\u3002 Leader distribution\uff1a\u8868\u793a\u5f53\u524d leader \u5728\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u4e0a\u7684\u5206\u5e03\uff0c\u76ee\u524d\u5c1a\u672a\u521b\u5efa\u4efb\u4f55\u56fe\u7a7a\u95f4\u3002 Partition distribution\uff1a\u4e0d\u540c space \u4e2d partition \u7684\u6570\u76ee\u3002 Step 1.2 \u00b6 \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a test \u7684\u56fe\u7a7a\u95f4\uff0c\u5305\u542b 100 \u4e2a partition \u548c 3 \u4e2a replica\u3002 nebula> CREATE SPACE test(PARTITION_NUM=100, REPLICA_FACTOR=3); \u7247\u523b\u540e\uff0c\u4f7f\u7528 SHOW HOSTS \u547d\u4ee4\u663e\u793a\u96c6\u7fa4\u7684\u5206\u5e03\u3002 nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 34600 | online | 0 | test: 0 | test: 100 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34700 | online | 52 | test: 52 | test: 100 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34500 | online | 48 | test: 48 | test: 100 | ------------------------------------------------------------------------------------------------ Step 2 \u4e0a\u7ebf\u65b0\u673a\u5668 \u00b6 \u542f\u52a8 5 \u4e2a\u65b0 storaged \u8fdb\u7a0b\u8fdb\u884c\u6269\u5bb9\u3002\u542f\u52a8\u5b8c\u6bd5\u540e\uff0c\u4f7f\u7528 SHOW HOSTS \u547d\u4ee4\u67e5\u770b\u65b0\u7684\u72b6\u6001\uff1a nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 34600 | online | 0 | test: 0 | test: 100 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34900 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 35940 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34920 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 44920 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34700 | online | 52 | test: 52 | test: 100 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34500 | online | 48 | test: 48 | test: 100 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34800 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ \u65b0\u542f\u52a8\u7684 storage instance \u6b64\u65f6\u8fd8\u6ca1\u6709\u4efb\u4f55 partition\u3002 Step 3 \u8fc1\u79fb\u6570\u636e \u00b6 \u8fd0\u884c BALANCE DATA \u547d\u4ee4\uff0c \u67e5\u770b\u5f53\u524d\u7684 balance \u8ba1\u5212 id\u3002\u5982\u679c\u5f53\u524d\u96c6\u7fa4\u6709\u65b0\u673a\u5668\u52a0\u5165\uff0c\u5219\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u8ba1\u5212 id\u3002\u5bf9\u4e8e\u5df2\u7ecf\u5e73\u8861\u7684\u96c6\u7fa4\uff0c\u91cd\u590d\u8fd0\u884c BALANCE DATA \u4e0d\u4f1a\u6709\u4efb\u4f55\u65b0\u64cd\u4f5c\u3002 nebula> BALANCE DATA; ============== | ID | ============== | 1570761786 | -------------- \u4e5f\u53ef\u901a\u8fc7 BALANCE DATA $id \u67e5\u770b\u5177 balance \u7684\u5177\u4f53\u6267\u884c\u8fdb\u5ea6\u3002 nebula> BALANCE DATA 1570761786; =============================================================================== | balanceId, spaceId:partId, src->dst | status | =============================================================================== | [1570761786, 1:1, 192.168.8.210:34600->192.168.8.210:44920] | succeeded | ------------------------------------------------------------------------------- | [1570761786, 1:1, 192.168.8.210:34700->192.168.8.210:34920] | succeeded | ------------------------------------------------------------------------------- | [1570761786, 1:1, 192.168.8.210:34500->192.168.8.210:34800] | succeeded | ------------------------------------------------------------------------------- ... | Total:189, Succeeded:170, Failed:0, In Progress:19, Invalid:0 | 89.947090% | ------------------------------------------------------------------------------- BALANCE DATA $id \u8fd4\u56de\u7ed3\u679c\u8bf4\u660e\uff1a \u7b2c\u4e00\u5217 balanceId, spaceId:partId, src->dst \u8868\u793a\u4e00\u4e2a\u5177\u4f53\u7684 balance task\u3002 \u4ee5 1570761786, 1:88, 192.168.8.210:34700->192.168.8.210:35940 \u4e3a\u4f8b\uff1a 1570761786 \u4e3a balance ID 1:88\uff0c1 \u8868\u793a\u5f53\u524d\u7684 spaceId\uff0c88 \u8868\u793a\u8fc1\u79fb\u7684 partId 192.168.8.210:34700->192.168.8.210:3594\uff0c\u8868\u793a\u6570\u636e\u4ece192.168.8.210:34700 \u642c\u8fc1\u81f3 192.168.8.210:35940 \u7b2c\u4e8c\u5217\u8868\u793a\u5f53\u524d task \u7684\u8fd0\u884c\u72b6\u6001\uff0c\u76ee\u524d\u6709 4 \u79cd\u72b6\u6001 Succeeded\uff1a\u8fd0\u884c\u6210\u529f Failed\uff1a\u8fd0\u884c\u5931\u8d25 In progress\uff1a\u8fd0\u884c\u4e2d Invalid\uff1a\u65e0\u6548\u7684 task \u6700\u540e\u4e00\u884c\u4e3a\u5bf9\u6240\u6709 task \u8fd0\u884c\u72b6\u6001\u7684\u7edf\u8ba1\uff0c\u90e8\u5206 partition \u5c1a\u672a\u5b8c\u6210\u8fc1\u79fb\u3002 Step 4 \u67e5\u770b\u7ed3\u679c \u00b6 \u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u642c\u8fc1\u6570\u636e\u662f\u4e2a\u6bd4\u8f83\u6f2b\u957f\u7684\u8fc7\u7a0b\u3002\u4f46\u662f\u642c\u8fc1\u8fc7\u7a0b\u4e0d\u4f1a\u5f71\u54cd\u5df2\u6709\u670d\u52a1\u3002\u8fd0\u884c\u7ed3\u675f\u540e\uff0c\u8fdb\u5ea6\u4f1a\u63d0\u793a 100%\u3002\u5982\u679c\u6709\u8fd0\u884c\u5931\u8d25\u7684 task\uff0c\u53ef\u518d\u6b21\u8fd0\u884c BALANCE DATA \u547d\u4ee4\u8fdb\u884c\u4fee\u590d\u3002\u5982\u679c\u591a\u6b21\u8fd0\u884c\u4ecd\u65e0\u6cd5\u4fee\u590d\uff0c\u8bf7\u4e0e\u793e\u533a\u8054\u7cfb GitHub \u3002\u6700\u540e\uff0c\u901a\u8fc7 SHOW HOSTS \u67e5\u770b\u8fd0\u884c\u540e\u7684 partition \u5206\u5e03\u3002 nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 34600 | online | 3 | test: 3 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34900 | online | 0 | test: 0 | test: 38 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 35940 | online | 0 | test: 0 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34920 | online | 0 | test: 0 | test: 38 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 44920 | online | 0 | test: 0 | test: 38 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34700 | online | 35 | test: 35 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34500 | online | 24 | test: 24 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34800 | online | 38 | test: 38 | test: 38 | ------------------------------------------------------------------------------------------------ Got 8 rows (Time spent: 5074/6488 us) \u53ef\u4ee5\u770b\u5230 partition \u548c\u5bf9\u5e94\u7684\u6570\u636e\u5df2\u5747\u8861\u7684\u5206\u5e03\u81f3\u5404\u4e2a\u673a\u5668\u3002 Balance stop \u00b6 BALANCE DATA STOP \u547d\u4ee4\u7528\u4e8e\u505c\u6b62\u5df2\u7ecf\u5f00\u59cb\u6267\u884c\u7684 balance data \u8ba1\u5212\u3002\u5982\u679c\u6ca1\u6709\u6b63\u5728\u8fd0\u884c\u7684 balance \u8ba1\u5212\uff0c\u5219\u4f1a\u8fd4\u56de\u9519\u8bef\u4fe1\u606f\u3002\u5982\u679c\u6709\u6b63\u5728\u8fd0\u884c\u7684 balance \u8ba1\u5212\uff0c\u5219\u4f1a\u8fd4\u56de\u8ba1\u5212\u5bf9\u5e94\u7684 ID\u3002 \u7531\u4e8e\u6bcf\u4e2a balance \u8ba1\u5212\u5bf9\u5e94\u82e5\u5e72\u4e2a balance task\uff0c BALANCE DATA STOP \u4e0d\u4f1a\u505c\u6b62\u5df2\u7ecf\u5f00\u59cb\u6267\u884c\u7684 balance task\uff0c\u53ea\u4f1a\u53d6\u6d88\u540e\u7eed\u7684 task\uff0c\u5df2\u7ecf\u5f00\u59cb\u7684 task \u5c06\u7ee7\u7eed\u6267\u884c\u76f4\u81f3\u5b8c\u6210\u3002 \u7528\u6237\u53ef\u4ee5\u5728 BALANCE DATA STOP \u4e4b\u540e\u8f93\u5165 BALANCE DATA $id \u6765\u67e5\u770b\u5df2\u7ecf\u505c\u6b62\u7684 balance \u8ba1\u5212\u72b6\u6001\u3002 \u6240\u6709\u5df2\u7ecf\u5f00\u59cb\u6267\u884c\u7684 task \u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u518d\u6b21\u6267\u884c BALANCE DATA \uff0c\u91cd\u65b0\u5f00\u59cb balance\u3002 \u5982\u679c\u4e4b\u524d\u505c\u6b62\u7684\u8ba1\u5212\u4e2d\u6709\u5931\u8d25\u7684 task\uff0c\u5219\u4f1a\u7ee7\u7eed\u6267\u884c\u4e4b\u524d\u7684\u8ba1\u5212\uff0c\u5982\u679c\u4e4b\u524d\u505c\u6b62\u7684\u8ba1\u5212\u4e2d\u6240\u6709 task \u90fd\u6210\u529f\u4e86\uff0c\u5219\u4f1a\u65b0\u5efa\u4e00\u4e2a balance \u8ba1\u5212\u5e76\u5f00\u59cb\u6267\u884c\u3002 \u6279\u91cf\u7f29\u5bb9 \u00b6 Nebula Graph \u652f\u6301\u6307\u5b9a\u9700\u8981\u4e0b\u7ebf\u7684\u673a\u5668\u8fdb\u884c\u6279\u91cf\u7f29\u5bb9\u3002\u8bed\u6cd5\u4e3a BALANCE DATA REMOVE $host_list \uff0c\u4f8b\u5982 BALANCE DATA REMOVE 192.168.0.1:50000,192.168.0.2:50000 \uff0c\u5c06\u5728\u672c\u6b21 balance \u8fc7\u7a0b\u4e2d\u79fb\u9664 192.168.0.1:50000\uff0c192.168.0.2:50000 \u4e24\u53f0\u673a\u5668\u3002 \u5982\u679c\u79fb\u9664\u6307\u5b9a\u673a\u5668\u540e\uff0c\u4e0d\u6ee1\u8db3\u526f\u672c\u6570\u8981\u6c42\uff08\u4f8b\u5982\u5269\u4f59\u673a\u5668\u6570\u5c0f\u4e8e\u526f\u672c\u6570\uff0c\u6216\u8005\u4e09\u526f\u672c\u4e2d\u6709\u4e00\u53f0\u5df2\u7ecf\u79bb\u7ebf\uff0c\u6b64\u65f6\u8981\u6c42\u79fb\u9664\u5269\u4f59\u4e24\u526f\u672c\u4e2d\u7684\u4e00\u4e2a\uff09\uff0cNebula Graph \u5c06\u62d2\u7edd\u672c\u6b21 balance \u8bf7\u6c42\uff0c\u5e76\u8fd4\u56de\u76f8\u5173\u9519\u8bef\u7801\u3002 Balance leader \u00b6 BALANCE DATA \u4ec5\u80fd balance partition\uff0c\u4f46\u662f leader \u5206\u5e03\u4ecd\u7136\u4e0d\u5747\u8861\uff0c\u8fd9\u610f\u5473\u7740\u65e7\u670d\u52a1\u8fc7\u8f7d\uff0c\u800c\u65b0\u670d\u52a1\u672a\u5f97\u5230\u5145\u5206\u4f7f\u7528\u3002\u8fd0\u884c BALANCE LEADER \u91cd\u65b0\u5206\u5e03 Raft leader\uff1a nebula> BALANCE LEADER \u7247\u523b\u540e\uff0c\u4f7f\u7528 SHOW HOSTS \u547d\u4ee4\u67e5\u770b\uff0c\u6b64\u65f6 Raft leader \u5df2\u5747\u5300\u5206\u5e03\u81f3\u6240\u6709\u7684\u5b9e\u4f8b\u3002 nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 34600 | online | 13 | test: 13 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34900 | online | 12 | test: 12 | test: 38 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 35940 | online | 12 | test: 12 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34920 | online | 12 | test: 12 | test: 38 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 44920 | online | 13 | test: 13 | test: 38 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34700 | online | 12 | test: 12 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34500 | online | 13 | test: 13 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34800 | online | 13 | test: 13 | test: 38 | ------------------------------------------------------------------------------------------------ Got 8 rows (Time spent: 5039/6346 us)","title":"\u8d1f\u8f7d\u5747\u8861\u548c\u6570\u636e\u8fc1\u79fb"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/storage-balance/#_1","text":"Nebula Graph \u7684\u670d\u52a1\u53ef\u5206\u4e3a graphd\uff0cstoraged\uff0cmetad\u3002\u6b64\u6587\u6863\u4e2d\u7684 balance \u4ec5\u9488\u5bf9 storaged \u8fdb\u884c\u64cd\u4f5c\u3002\u76ee\u524d\uff0cstoraged \u7684\u6269\u7f29\u5bb9\u662f\u901a\u8fc7 balance \u547d\u4ee4\u6765\u5b9e\u73b0\u7684\u3002balance \u547d\u4ee4\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u9700\u8981\u8fc1\u79fb\u6570\u636e\uff0c\u547d\u4ee4\u4e3a BALANCE DATA \uff1b\u53e6\u4e00\u79cd\u4e0d\u9700\u8981\u8fc1\u79fb\u6570\u636e\uff0c\u53ea\u6539\u53d8 partition \u7684 leader \u5206\u5e03\uff0c\u6765\u8fbe\u5230\u8d1f\u8f7d\u5747\u8861\u7684\u76ee\u7684\uff0c\u547d\u4ee4\u4e3a BALANCE LEADER \u3002","title":"\u5b58\u50a8\u670d\u52a1\u7684\u8d1f\u8f7d\u5747\u8861\u548c\u6570\u636e\u8fc1\u79fb"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/storage-balance/#balance_data","text":"\u4ee5\u4e0b\u4e3e\u4f8b\u8bf4\u660e BALANCE DATA \u7684\u4f7f\u7528\u65b9\u5f0f\u3002\u672c\u4f8b\u5c06\u96c6\u7fa4\u4ece 3 \u4e2a\u5b9e\u4f8b\uff08\u8fdb\u7a0b\uff09\u6269\u5c55\u5230 8 \u4e2a\u5b9e\u4f8b\uff08\u8fdb\u7a0b\uff09\uff1a","title":"Balance data"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/storage-balance/#step_1","text":"\u90e8\u7f72\u4e00\u4e2a\u4e09\u526f\u672c\u7684\u96c6\u7fa4\uff0c1\u4e2a graphd\uff0c1\u4e2a metad\uff0c3\u4e2a storaged\uff08\u5177\u4f53\u90e8\u7f72\u65b9\u5f0f\u8bf7\u53c2\u8003\u96c6\u7fa4\u90e8\u7f72\u6587\u6863\uff09\uff0c\u901a\u8fc7 SHOW HOSTS \u547d\u4ee4\u53ef\u4ee5\u770b\u5230\u96c6\u7fa4\u7684\u72b6\u6001\u4fe1\u606f\uff1a","title":"Step 1 \u51c6\u5907"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/storage-balance/#step_11","text":"nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 34600 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34700 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34500 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ Got 3 rows (Time spent: 5886/6835 us) SHOW HOSTS \u8fd4\u56de\u7ed3\u679c\u8bf4\u660e\uff1a IP, Port \u8868\u793a\u5f53\u524d\u7684 storage \u5b9e\u4f8b. \u8fd9\u4e2a\u96c6\u7fa4\u542f\u52a8\u4e86 3 \u4e2a storaged \u670d\u52a1\uff0c\u5e76\u4e14\u6ca1\u6709\u4efb\u4f55\u6570\u636e\u3002(192.168.8.210:34600\uff0c192.168.8.210:34700\uff0c192.168.8.210:34500) Status \u8868\u793a\u5f53\u524d\u5b9e\u4f8b\u7684\u72b6\u6001\uff0c\u76ee\u524d\u6709 online/offline \u4e24\u79cd\u3002\u5f53\u673a\u5668\u4e0b\u7ebf\u4ee5\u540e\uff08metad \u5728\u4e00\u6bb5\u95f4\u9694\u5185\u6536\u4e0d\u5230\u5176\u5fc3\u8df3\uff09\uff0c\u5c06\u628a\u5176\u66f4\u6539\u4e3a offline\u3002 \u8fd9\u4e2a\u65f6\u95f4\u95f4\u9694\u53ef\u4ee5\u5728\u542f\u52a8 metad \u7684\u65f6\u5019\u901a\u8fc7\u8bbe\u7f6e expired_threshold_sec \u6765\u4fee\u6539\uff0c\u5f53\u524d\u9ed8\u8ba4\u503c\u662f 10 \u5206\u949f\u3002 Leader count\uff1a\u8868\u793a\u5f53\u524d\u5b9e\u4f8b Raft leader \u6570\u76ee\u3002 Leader distribution\uff1a\u8868\u793a\u5f53\u524d leader \u5728\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u4e0a\u7684\u5206\u5e03\uff0c\u76ee\u524d\u5c1a\u672a\u521b\u5efa\u4efb\u4f55\u56fe\u7a7a\u95f4\u3002 Partition distribution\uff1a\u4e0d\u540c space \u4e2d partition \u7684\u6570\u76ee\u3002","title":"Step 1.1"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/storage-balance/#step_12","text":"\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a test \u7684\u56fe\u7a7a\u95f4\uff0c\u5305\u542b 100 \u4e2a partition \u548c 3 \u4e2a replica\u3002 nebula> CREATE SPACE test(PARTITION_NUM=100, REPLICA_FACTOR=3); \u7247\u523b\u540e\uff0c\u4f7f\u7528 SHOW HOSTS \u547d\u4ee4\u663e\u793a\u96c6\u7fa4\u7684\u5206\u5e03\u3002 nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 34600 | online | 0 | test: 0 | test: 100 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34700 | online | 52 | test: 52 | test: 100 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34500 | online | 48 | test: 48 | test: 100 | ------------------------------------------------------------------------------------------------","title":"Step 1.2"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/storage-balance/#step_2","text":"\u542f\u52a8 5 \u4e2a\u65b0 storaged \u8fdb\u7a0b\u8fdb\u884c\u6269\u5bb9\u3002\u542f\u52a8\u5b8c\u6bd5\u540e\uff0c\u4f7f\u7528 SHOW HOSTS \u547d\u4ee4\u67e5\u770b\u65b0\u7684\u72b6\u6001\uff1a nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 34600 | online | 0 | test: 0 | test: 100 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34900 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 35940 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34920 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 44920 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34700 | online | 52 | test: 52 | test: 100 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34500 | online | 48 | test: 48 | test: 100 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34800 | online | 0 | No valid partition | No valid partition | ------------------------------------------------------------------------------------------------ \u65b0\u542f\u52a8\u7684 storage instance \u6b64\u65f6\u8fd8\u6ca1\u6709\u4efb\u4f55 partition\u3002","title":"Step 2 \u4e0a\u7ebf\u65b0\u673a\u5668"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/storage-balance/#step_3","text":"\u8fd0\u884c BALANCE DATA \u547d\u4ee4\uff0c \u67e5\u770b\u5f53\u524d\u7684 balance \u8ba1\u5212 id\u3002\u5982\u679c\u5f53\u524d\u96c6\u7fa4\u6709\u65b0\u673a\u5668\u52a0\u5165\uff0c\u5219\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u8ba1\u5212 id\u3002\u5bf9\u4e8e\u5df2\u7ecf\u5e73\u8861\u7684\u96c6\u7fa4\uff0c\u91cd\u590d\u8fd0\u884c BALANCE DATA \u4e0d\u4f1a\u6709\u4efb\u4f55\u65b0\u64cd\u4f5c\u3002 nebula> BALANCE DATA; ============== | ID | ============== | 1570761786 | -------------- \u4e5f\u53ef\u901a\u8fc7 BALANCE DATA $id \u67e5\u770b\u5177 balance \u7684\u5177\u4f53\u6267\u884c\u8fdb\u5ea6\u3002 nebula> BALANCE DATA 1570761786; =============================================================================== | balanceId, spaceId:partId, src->dst | status | =============================================================================== | [1570761786, 1:1, 192.168.8.210:34600->192.168.8.210:44920] | succeeded | ------------------------------------------------------------------------------- | [1570761786, 1:1, 192.168.8.210:34700->192.168.8.210:34920] | succeeded | ------------------------------------------------------------------------------- | [1570761786, 1:1, 192.168.8.210:34500->192.168.8.210:34800] | succeeded | ------------------------------------------------------------------------------- ... | Total:189, Succeeded:170, Failed:0, In Progress:19, Invalid:0 | 89.947090% | ------------------------------------------------------------------------------- BALANCE DATA $id \u8fd4\u56de\u7ed3\u679c\u8bf4\u660e\uff1a \u7b2c\u4e00\u5217 balanceId, spaceId:partId, src->dst \u8868\u793a\u4e00\u4e2a\u5177\u4f53\u7684 balance task\u3002 \u4ee5 1570761786, 1:88, 192.168.8.210:34700->192.168.8.210:35940 \u4e3a\u4f8b\uff1a 1570761786 \u4e3a balance ID 1:88\uff0c1 \u8868\u793a\u5f53\u524d\u7684 spaceId\uff0c88 \u8868\u793a\u8fc1\u79fb\u7684 partId 192.168.8.210:34700->192.168.8.210:3594\uff0c\u8868\u793a\u6570\u636e\u4ece192.168.8.210:34700 \u642c\u8fc1\u81f3 192.168.8.210:35940 \u7b2c\u4e8c\u5217\u8868\u793a\u5f53\u524d task \u7684\u8fd0\u884c\u72b6\u6001\uff0c\u76ee\u524d\u6709 4 \u79cd\u72b6\u6001 Succeeded\uff1a\u8fd0\u884c\u6210\u529f Failed\uff1a\u8fd0\u884c\u5931\u8d25 In progress\uff1a\u8fd0\u884c\u4e2d Invalid\uff1a\u65e0\u6548\u7684 task \u6700\u540e\u4e00\u884c\u4e3a\u5bf9\u6240\u6709 task \u8fd0\u884c\u72b6\u6001\u7684\u7edf\u8ba1\uff0c\u90e8\u5206 partition \u5c1a\u672a\u5b8c\u6210\u8fc1\u79fb\u3002","title":"Step 3 \u8fc1\u79fb\u6570\u636e"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/storage-balance/#step_4","text":"\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u642c\u8fc1\u6570\u636e\u662f\u4e2a\u6bd4\u8f83\u6f2b\u957f\u7684\u8fc7\u7a0b\u3002\u4f46\u662f\u642c\u8fc1\u8fc7\u7a0b\u4e0d\u4f1a\u5f71\u54cd\u5df2\u6709\u670d\u52a1\u3002\u8fd0\u884c\u7ed3\u675f\u540e\uff0c\u8fdb\u5ea6\u4f1a\u63d0\u793a 100%\u3002\u5982\u679c\u6709\u8fd0\u884c\u5931\u8d25\u7684 task\uff0c\u53ef\u518d\u6b21\u8fd0\u884c BALANCE DATA \u547d\u4ee4\u8fdb\u884c\u4fee\u590d\u3002\u5982\u679c\u591a\u6b21\u8fd0\u884c\u4ecd\u65e0\u6cd5\u4fee\u590d\uff0c\u8bf7\u4e0e\u793e\u533a\u8054\u7cfb GitHub \u3002\u6700\u540e\uff0c\u901a\u8fc7 SHOW HOSTS \u67e5\u770b\u8fd0\u884c\u540e\u7684 partition \u5206\u5e03\u3002 nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 34600 | online | 3 | test: 3 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34900 | online | 0 | test: 0 | test: 38 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 35940 | online | 0 | test: 0 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34920 | online | 0 | test: 0 | test: 38 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 44920 | online | 0 | test: 0 | test: 38 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34700 | online | 35 | test: 35 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34500 | online | 24 | test: 24 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34800 | online | 38 | test: 38 | test: 38 | ------------------------------------------------------------------------------------------------ Got 8 rows (Time spent: 5074/6488 us) \u53ef\u4ee5\u770b\u5230 partition \u548c\u5bf9\u5e94\u7684\u6570\u636e\u5df2\u5747\u8861\u7684\u5206\u5e03\u81f3\u5404\u4e2a\u673a\u5668\u3002","title":"Step 4 \u67e5\u770b\u7ed3\u679c"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/storage-balance/#balance_stop","text":"BALANCE DATA STOP \u547d\u4ee4\u7528\u4e8e\u505c\u6b62\u5df2\u7ecf\u5f00\u59cb\u6267\u884c\u7684 balance data \u8ba1\u5212\u3002\u5982\u679c\u6ca1\u6709\u6b63\u5728\u8fd0\u884c\u7684 balance \u8ba1\u5212\uff0c\u5219\u4f1a\u8fd4\u56de\u9519\u8bef\u4fe1\u606f\u3002\u5982\u679c\u6709\u6b63\u5728\u8fd0\u884c\u7684 balance \u8ba1\u5212\uff0c\u5219\u4f1a\u8fd4\u56de\u8ba1\u5212\u5bf9\u5e94\u7684 ID\u3002 \u7531\u4e8e\u6bcf\u4e2a balance \u8ba1\u5212\u5bf9\u5e94\u82e5\u5e72\u4e2a balance task\uff0c BALANCE DATA STOP \u4e0d\u4f1a\u505c\u6b62\u5df2\u7ecf\u5f00\u59cb\u6267\u884c\u7684 balance task\uff0c\u53ea\u4f1a\u53d6\u6d88\u540e\u7eed\u7684 task\uff0c\u5df2\u7ecf\u5f00\u59cb\u7684 task \u5c06\u7ee7\u7eed\u6267\u884c\u76f4\u81f3\u5b8c\u6210\u3002 \u7528\u6237\u53ef\u4ee5\u5728 BALANCE DATA STOP \u4e4b\u540e\u8f93\u5165 BALANCE DATA $id \u6765\u67e5\u770b\u5df2\u7ecf\u505c\u6b62\u7684 balance \u8ba1\u5212\u72b6\u6001\u3002 \u6240\u6709\u5df2\u7ecf\u5f00\u59cb\u6267\u884c\u7684 task \u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u518d\u6b21\u6267\u884c BALANCE DATA \uff0c\u91cd\u65b0\u5f00\u59cb balance\u3002 \u5982\u679c\u4e4b\u524d\u505c\u6b62\u7684\u8ba1\u5212\u4e2d\u6709\u5931\u8d25\u7684 task\uff0c\u5219\u4f1a\u7ee7\u7eed\u6267\u884c\u4e4b\u524d\u7684\u8ba1\u5212\uff0c\u5982\u679c\u4e4b\u524d\u505c\u6b62\u7684\u8ba1\u5212\u4e2d\u6240\u6709 task \u90fd\u6210\u529f\u4e86\uff0c\u5219\u4f1a\u65b0\u5efa\u4e00\u4e2a balance \u8ba1\u5212\u5e76\u5f00\u59cb\u6267\u884c\u3002","title":"Balance stop"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/storage-balance/#_2","text":"Nebula Graph \u652f\u6301\u6307\u5b9a\u9700\u8981\u4e0b\u7ebf\u7684\u673a\u5668\u8fdb\u884c\u6279\u91cf\u7f29\u5bb9\u3002\u8bed\u6cd5\u4e3a BALANCE DATA REMOVE $host_list \uff0c\u4f8b\u5982 BALANCE DATA REMOVE 192.168.0.1:50000,192.168.0.2:50000 \uff0c\u5c06\u5728\u672c\u6b21 balance \u8fc7\u7a0b\u4e2d\u79fb\u9664 192.168.0.1:50000\uff0c192.168.0.2:50000 \u4e24\u53f0\u673a\u5668\u3002 \u5982\u679c\u79fb\u9664\u6307\u5b9a\u673a\u5668\u540e\uff0c\u4e0d\u6ee1\u8db3\u526f\u672c\u6570\u8981\u6c42\uff08\u4f8b\u5982\u5269\u4f59\u673a\u5668\u6570\u5c0f\u4e8e\u526f\u672c\u6570\uff0c\u6216\u8005\u4e09\u526f\u672c\u4e2d\u6709\u4e00\u53f0\u5df2\u7ecf\u79bb\u7ebf\uff0c\u6b64\u65f6\u8981\u6c42\u79fb\u9664\u5269\u4f59\u4e24\u526f\u672c\u4e2d\u7684\u4e00\u4e2a\uff09\uff0cNebula Graph \u5c06\u62d2\u7edd\u672c\u6b21 balance \u8bf7\u6c42\uff0c\u5e76\u8fd4\u56de\u76f8\u5173\u9519\u8bef\u7801\u3002","title":"\u6279\u91cf\u7f29\u5bb9"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/storage-balance/#balance_leader","text":"BALANCE DATA \u4ec5\u80fd balance partition\uff0c\u4f46\u662f leader \u5206\u5e03\u4ecd\u7136\u4e0d\u5747\u8861\uff0c\u8fd9\u610f\u5473\u7740\u65e7\u670d\u52a1\u8fc7\u8f7d\uff0c\u800c\u65b0\u670d\u52a1\u672a\u5f97\u5230\u5145\u5206\u4f7f\u7528\u3002\u8fd0\u884c BALANCE LEADER \u91cd\u65b0\u5206\u5e03 Raft leader\uff1a nebula> BALANCE LEADER \u7247\u523b\u540e\uff0c\u4f7f\u7528 SHOW HOSTS \u547d\u4ee4\u67e5\u770b\uff0c\u6b64\u65f6 Raft leader \u5df2\u5747\u5300\u5206\u5e03\u81f3\u6240\u6709\u7684\u5b9e\u4f8b\u3002 nebula> SHOW HOSTS; ================================================================================================ | Ip | Port | Status | Leader count | Leader distribution | Partition distribution | ================================================================================================ | 192.168.8.210 | 34600 | online | 13 | test: 13 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34900 | online | 12 | test: 12 | test: 38 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 35940 | online | 12 | test: 12 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34920 | online | 12 | test: 12 | test: 38 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 44920 | online | 13 | test: 13 | test: 38 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34700 | online | 12 | test: 12 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34500 | online | 13 | test: 13 | test: 37 | ------------------------------------------------------------------------------------------------ | 192.168.8.210 | 34800 | online | 13 | test: 13 | test: 38 | ------------------------------------------------------------------------------------------------ Got 8 rows (Time spent: 5039/6346 us)","title":"Balance leader"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-export/dump-tool/","text":"Dump Tool \u00b6 Dump Tool \u662f\u4e00\u4e2a\u5355\u673a\u79bb\u7ebf\u6570\u636e\u5bfc\u51fa\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u4e8e\u5bfc\u51fa\u6216\u7edf\u8ba1\u6307\u5b9a\u6761\u4ef6\u7684\u6570\u636e\u3002 \u5982\u4f55\u83b7\u5f97 \u00b6 Dump Tool \u6e90\u7801\u4f4d\u4e8e nebula/src/tools/db_dump \u4e0b\uff0c\u7528\u6237\u53ef\u4ee5\u6267\u884c make db_dump \u547d\u4ee4\u6765\u7f16\u8bd1\u751f\u6210\u8be5\u5de5\u5177\u3002\u5728\u4f7f\u7528\u672c\u5de5\u5177\u524d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 Nebula Graph CLI \u7684 SHOW HOSTS \u547d\u4ee4\u67e5\u770b\u5206\u533a\u7684\u5206\u5e03\u3002\u4f7f\u7528 vertex_id % partition_num \u6765\u8ba1\u7b97\u70b9\u5bf9\u5e94\u7684 key \u4f4d\u4e8e\u54ea\u4e2a\u5206\u533a\u3002 \u6ce8\u610f\uff1a Dump Tool \u4f4d\u4e8e rpm \u5305\u4e2d\uff0c\u76ee\u5f55\u662f nebula/bin/ \u3002\u8be5\u5de5\u5177\u901a\u8fc7\u76f4\u63a5\u6253\u5f00 RocksDB \u8f6c\u50a8\u6570\u636e\uff0c\u56e0\u6b64\u9700\u8981\u79bb\u7ebf\u4f7f\u7528\uff0c\u5173\u95ed\u8be5 storaged \u8fdb\u7a0b\uff0c\u5e76\u540c\u65f6\u4fdd\u6301 meta_server \u5df2\u542f\u52a8\u3002\u5177\u4f53\u7528\u6cd5\u8bf7\u53c2\u8003\u4e0b\u65b9\u8bf4\u660e\u3002 \u5982\u4f55\u4f7f\u7528 \u00b6 \u5177\u4f53\u7528\u6cd5\u5982\u4e0b\u6240\u793a\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u6267\u884c\u4e0d\u5e26\u53c2\u6570\u7684 db_dump \u547d\u4ee4\u83b7\u5f97\u5e2e\u52a9\u3002\u5176\u4e2d space \u53c2\u6570\u662f\u5fc5\u987b\u7684\uff0c\u800c db_path \u4ee5\u53ca meta_server \u5177\u6709\u9ed8\u8ba4\u503c\uff0c\u7528\u6237\u53ef\u4ee5\u6309\u7167\u5b9e\u9645\u914d\u7f6e\u3002 vids \u3001 parts \u3001 tags \u3001 edges \u53ef\u4ee5\u4efb\u610f\u7ec4\u5408\uff0c\u5bfc\u51fa\u4f60\u9700\u8981\u7684\u6570\u636e\u3002 ./db_dump --space = <space name> required: --space = <space name> # A space name must be given. optional: --db_path = <path to rocksdb> # Path to the RocksDB data directory. If nebula was installed in `/usr/local/nebula`, # the db_path would be /usr/local/nebula/data/storage/nebula/ # Default: ./ --meta_server = <ip:port,...> # A list of meta severs' ip:port separated by comma. # Default: 127.0.0.1:45500 --mode = scan | stat # scan: print to screen when records meet the condition, and also print statistics to screen in final. # stat: print statistics to screen. # Default: scan --vids = <list of vid> # A list of vids separated by comma. This parameter means vertex_id/edge_src_id # Would scan the whole space's records if it is not given. --parts = <list of partition id> # A list of partition ids separated by comma. # Would output all partitions if it is not given. --tags = <list of tag name> # A list of tag name separated by comma. --edges = <list of edge name> # A list of edge name separated by comma. --limit = <N> # A positive number that limits the output. # Would output all if set to 0 or negative. # Default: 1000 \u4e0b\u9762\u662f\u4e00\u4e9b\u793a\u4f8b\uff1a // \u6307\u5b9a space \u5bfc\u51fa\u6570\u636e ./db_dump --space = space_name // \u6307\u5b9aspace, db_path, meta_server ./db_dump --space = space_name --db_path = /usr/local/nebula/data/storage/nebula/ --meta_server = 127 .0.0.1:45513 // \u6307\u5b9a mode = stat ( \u7edf\u8ba1\u6a21\u5f0f ) \uff0c\u6b64\u65f6\u53ea\u8fd4\u56de\u7edf\u8ba1\u4fe1\u606f\uff0c\u4e0d\u6253\u5370\u6570\u636e ./db_dump --space = space_name --mode = stat --db_path = /usr/local/nebula/data/storage/nebula/ --meta_server = 127 .0.0.1:45513 // \u6307\u5b9a vid \u5bfc\u51fa\u8be5\u70b9\u4ee5\u53ca\u4ee5\u8be5\u70b9\u4e3a\u8d77\u59cb\u70b9\u7684\u8fb9 ./db_dump --space = space_name --mode = stat --db_path = /usr/local/nebula/data/storage/nebula/ --meta_server = 127 .0.0.1:45513 --vids = 123 ,456 // \u6307\u5b9a tag \u7c7b\u578b\uff0c\u5bfc\u51fa\u5177\u6709\u8be5 tag \u7684\u70b9 ./db_dump --space = space_name --mode = stat --db_path = /usr/local/nebula/data/storage/nebula/ --meta_server = 127 .0.0.1:45513 --tags = tag1,tag2 \u8fd4\u56de\u7684\u6570\u636e\u683c\u5f0f\uff1a // \u70b9\uff0ckey: part_id, vertex_id, tag_name, value: <prop_list> [ vertex ] key: 1 , 0 , poi value:mid:0,8191765721868409651,8025713627522363385,1993089399535188613,3926276052777355165,5123607763506443893,2990089379644866415,poi_name_0,\u4e0a\u6d77,\u534e\u4e1c,30.2824,120.016,poi_stat_0,poi_fc_0,poi_sc_0,0,poi_star_0, // \u8fb9, key: part_id, src_id, edge_name, rank, dst_id, value: <prop_list> [ edge ] key: 1 , 0 , consume_poi_reverse, 0 , 656384 value:mid:656384,mid:0,7.19312,mid:656384,3897457441682646732,mun:656384,4038264117233984707,dun:656384,empe:656384,mobile:656384,gender:656384,age:656384,rs:656384,fpd:656384,0.75313,1.34433,fpd:656384,0.03567,7.56212, // \u7edf\u8ba1 ======================================================= COUNT: 10 #\u672c\u6b21\u5bfc\u51fa\u8bb0\u5f55\u6570\u91cf VERTEX COUNT: 1 #\u672c\u6b21\u5bfc\u51fa\u70b9\u6570\u91cf EDGE COUNT: 9 #\u672c\u6b21\u5bfc\u51fa\u8fb9\u6570\u91cf TAG STATISTICS: #\u672c\u6b21\u5bfc\u51fatag\u7edf\u8ba1 poi : 1 EDGE STATISTICS: #\u672c\u6b21\u5bfc\u51faedge\u7edf\u8ba1 consume_poi_reverse : 9 =======================================================","title":"Dump Tool"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-export/dump-tool/#dump_tool","text":"Dump Tool \u662f\u4e00\u4e2a\u5355\u673a\u79bb\u7ebf\u6570\u636e\u5bfc\u51fa\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u4e8e\u5bfc\u51fa\u6216\u7edf\u8ba1\u6307\u5b9a\u6761\u4ef6\u7684\u6570\u636e\u3002","title":"Dump Tool"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-export/dump-tool/#_1","text":"Dump Tool \u6e90\u7801\u4f4d\u4e8e nebula/src/tools/db_dump \u4e0b\uff0c\u7528\u6237\u53ef\u4ee5\u6267\u884c make db_dump \u547d\u4ee4\u6765\u7f16\u8bd1\u751f\u6210\u8be5\u5de5\u5177\u3002\u5728\u4f7f\u7528\u672c\u5de5\u5177\u524d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 Nebula Graph CLI \u7684 SHOW HOSTS \u547d\u4ee4\u67e5\u770b\u5206\u533a\u7684\u5206\u5e03\u3002\u4f7f\u7528 vertex_id % partition_num \u6765\u8ba1\u7b97\u70b9\u5bf9\u5e94\u7684 key \u4f4d\u4e8e\u54ea\u4e2a\u5206\u533a\u3002 \u6ce8\u610f\uff1a Dump Tool \u4f4d\u4e8e rpm \u5305\u4e2d\uff0c\u76ee\u5f55\u662f nebula/bin/ \u3002\u8be5\u5de5\u5177\u901a\u8fc7\u76f4\u63a5\u6253\u5f00 RocksDB \u8f6c\u50a8\u6570\u636e\uff0c\u56e0\u6b64\u9700\u8981\u79bb\u7ebf\u4f7f\u7528\uff0c\u5173\u95ed\u8be5 storaged \u8fdb\u7a0b\uff0c\u5e76\u540c\u65f6\u4fdd\u6301 meta_server \u5df2\u542f\u52a8\u3002\u5177\u4f53\u7528\u6cd5\u8bf7\u53c2\u8003\u4e0b\u65b9\u8bf4\u660e\u3002","title":"\u5982\u4f55\u83b7\u5f97"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-export/dump-tool/#_2","text":"\u5177\u4f53\u7528\u6cd5\u5982\u4e0b\u6240\u793a\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u6267\u884c\u4e0d\u5e26\u53c2\u6570\u7684 db_dump \u547d\u4ee4\u83b7\u5f97\u5e2e\u52a9\u3002\u5176\u4e2d space \u53c2\u6570\u662f\u5fc5\u987b\u7684\uff0c\u800c db_path \u4ee5\u53ca meta_server \u5177\u6709\u9ed8\u8ba4\u503c\uff0c\u7528\u6237\u53ef\u4ee5\u6309\u7167\u5b9e\u9645\u914d\u7f6e\u3002 vids \u3001 parts \u3001 tags \u3001 edges \u53ef\u4ee5\u4efb\u610f\u7ec4\u5408\uff0c\u5bfc\u51fa\u4f60\u9700\u8981\u7684\u6570\u636e\u3002 ./db_dump --space = <space name> required: --space = <space name> # A space name must be given. optional: --db_path = <path to rocksdb> # Path to the RocksDB data directory. If nebula was installed in `/usr/local/nebula`, # the db_path would be /usr/local/nebula/data/storage/nebula/ # Default: ./ --meta_server = <ip:port,...> # A list of meta severs' ip:port separated by comma. # Default: 127.0.0.1:45500 --mode = scan | stat # scan: print to screen when records meet the condition, and also print statistics to screen in final. # stat: print statistics to screen. # Default: scan --vids = <list of vid> # A list of vids separated by comma. This parameter means vertex_id/edge_src_id # Would scan the whole space's records if it is not given. --parts = <list of partition id> # A list of partition ids separated by comma. # Would output all partitions if it is not given. --tags = <list of tag name> # A list of tag name separated by comma. --edges = <list of edge name> # A list of edge name separated by comma. --limit = <N> # A positive number that limits the output. # Would output all if set to 0 or negative. # Default: 1000 \u4e0b\u9762\u662f\u4e00\u4e9b\u793a\u4f8b\uff1a // \u6307\u5b9a space \u5bfc\u51fa\u6570\u636e ./db_dump --space = space_name // \u6307\u5b9aspace, db_path, meta_server ./db_dump --space = space_name --db_path = /usr/local/nebula/data/storage/nebula/ --meta_server = 127 .0.0.1:45513 // \u6307\u5b9a mode = stat ( \u7edf\u8ba1\u6a21\u5f0f ) \uff0c\u6b64\u65f6\u53ea\u8fd4\u56de\u7edf\u8ba1\u4fe1\u606f\uff0c\u4e0d\u6253\u5370\u6570\u636e ./db_dump --space = space_name --mode = stat --db_path = /usr/local/nebula/data/storage/nebula/ --meta_server = 127 .0.0.1:45513 // \u6307\u5b9a vid \u5bfc\u51fa\u8be5\u70b9\u4ee5\u53ca\u4ee5\u8be5\u70b9\u4e3a\u8d77\u59cb\u70b9\u7684\u8fb9 ./db_dump --space = space_name --mode = stat --db_path = /usr/local/nebula/data/storage/nebula/ --meta_server = 127 .0.0.1:45513 --vids = 123 ,456 // \u6307\u5b9a tag \u7c7b\u578b\uff0c\u5bfc\u51fa\u5177\u6709\u8be5 tag \u7684\u70b9 ./db_dump --space = space_name --mode = stat --db_path = /usr/local/nebula/data/storage/nebula/ --meta_server = 127 .0.0.1:45513 --tags = tag1,tag2 \u8fd4\u56de\u7684\u6570\u636e\u683c\u5f0f\uff1a // \u70b9\uff0ckey: part_id, vertex_id, tag_name, value: <prop_list> [ vertex ] key: 1 , 0 , poi value:mid:0,8191765721868409651,8025713627522363385,1993089399535188613,3926276052777355165,5123607763506443893,2990089379644866415,poi_name_0,\u4e0a\u6d77,\u534e\u4e1c,30.2824,120.016,poi_stat_0,poi_fc_0,poi_sc_0,0,poi_star_0, // \u8fb9, key: part_id, src_id, edge_name, rank, dst_id, value: <prop_list> [ edge ] key: 1 , 0 , consume_poi_reverse, 0 , 656384 value:mid:656384,mid:0,7.19312,mid:656384,3897457441682646732,mun:656384,4038264117233984707,dun:656384,empe:656384,mobile:656384,gender:656384,age:656384,rs:656384,fpd:656384,0.75313,1.34433,fpd:656384,0.03567,7.56212, // \u7edf\u8ba1 ======================================================= COUNT: 10 #\u672c\u6b21\u5bfc\u51fa\u8bb0\u5f55\u6570\u91cf VERTEX COUNT: 1 #\u672c\u6b21\u5bfc\u51fa\u70b9\u6570\u91cf EDGE COUNT: 9 #\u672c\u6b21\u5bfc\u51fa\u8fb9\u6570\u91cf TAG STATISTICS: #\u672c\u6b21\u5bfc\u51fatag\u7edf\u8ba1 poi : 1 EDGE STATISTICS: #\u672c\u6b21\u5bfc\u51faedge\u7edf\u8ba1 consume_poi_reverse : 9 =======================================================","title":"\u5982\u4f55\u4f7f\u7528"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/download-and-ingest-sst-file/","text":"Download and Ingest \u00b6 Nebula Graph \u5b58\u50a8\u8bbf\u95ee\u9ed8\u8ba4\u4f7f\u7528 RocksDB \u4f5c\u4e3a key-value \u5b58\u50a8\u5f15\u64ce\u3002\u56e0\u6b64\u5728\u5927\u91cf\u6570\u636e\u52a0\u8f7d\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u4e00\u4e2a map-reduce job \u79bb\u7ebf\u751f\u6210 RocksDB \u7684 SST \u6587\u4ef6\uff0c\u518d\u76f4\u63a5\u5206\u53d1\u5230\u670d\u52a1\u5668\u4e0a\u3002 Nebula Graph \u63d0\u4f9b\u4e86 Spark-SSTFile-Generator \u5de5\u5177\u3002 Spark-SSTFile-Generator \u901a\u8fc7\u6620\u5c04\u6587\u4ef6\uff0c\u4ece hive \u8868\u751f\u6210 SST \u6587\u4ef6\u3002 \u5177\u4f53\u7528\u6cd5\u8be6\u89c1 Spark application command line reference \u3002 \u6267\u884c\u540e\u4f1a\u5728 HDFS \u4e0a\u751f\u6210 SST \u6587\u4ef6\uff0c\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a |---1 (this is partition number) | | ---- vertex-${FIRST_KEY_IN_THIS_FILE}.sst | | ---- edge-${FIRST_KEY_IN_THIS_FILE}.sst |---2 | ---- vertex-${FIRST_KEY_IN_THIS_FILE}.sst | ---- edge-${FIRST_KEY_IN_THIS_FILE}.sst .... \u5176\u4e2d\u5404\u4e2a\u76ee\u5f55\u4e3a partition \u7f16\u53f7\u3002 SST \u6587\u4ef6\u540d\u683c\u5f0f\u4e3a {TYPE}-${FIRST_KEY_IN_THIS_FILE}.sst \uff0c\u5176\u4e2d TYPE \u8868\u793a\u6570\u636e\u7c7b\u578b\uff0c FIRST_KEY_IN_THIS_FILE \u4e3a\u6587\u4ef6\u4e2d\u7684\u8d77\u59cb key\u3002\uff08\u5982\u679c\u4f60\u60f3\u81ea\u5df1\u5199\u5de5\u5177\u751f\u6210 SST \u6587\u4ef6\uff0c\u9700\u8981\u4fdd\u8bc1\u6bcf\u4e2a SST \u6587\u4ef6\u4e2d\u7684 key \u662f\u6709\u5e8f\u7684\u3002) \u8bf7\u786e\u8ba4\u6240\u6709 server \u5df2\u5b89\u88c5 Hadoop \uff0c\u5e76\u4e14 HADOOP_HOME \u5df2\u8bbe\u7f6e\u3002 \u8fd0\u884c Nebula Graph console\uff0c\u6267\u884c Download \u547d\u4ee4\uff1a nebula > DOWNLOAD HDFS \"hdfs://${HADOOP_HOST}:${HADOOP_PORT}/${HADOOP_PATH}\" \u901a\u8fc7 download \u547d\u4ee4\u4ee5\u53ca\u5404\u4e2a Storage Server \u7684 meta \u4fe1\u606f\uff0c\u5206\u522b\u4e0b\u8f7d\u5404\u81ea\u7684 SST \u6587\u4ef6\u5230 data/download \u76ee\u5f55\u4e2d\u3002\u5176\u4e2d\uff1a HADOOP_HOST \u6307\u5b9a Hadoop NameNode \u5730\u5740 HADOOP_PORT \u6307\u5b9a Hadoop NameNode \u7aef\u53e3\u53f7 HADOOP_PATH \u6307\u5b9a Hadoop \u6570\u636e\u5b58\u653e\u76ee\u5f55 \u5982\u679c download \u8fc7\u7a0b\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u5220\u9664 data/download \u76ee\u5f55\u4e0b\u76f8\u5e94\u7684\u6570\u636e\u6587\u4ef6\uff0c\u5e76\u5c1d\u8bd5\u91cd\u65b0\u4e0b\u8f7d\u3002\u5982\u679c\u9047\u5230\u591a\u6b21\u5931\u8d25\uff0c\u8bf7\u5728 GitHub \u63d0 issue\u3002 \u6570\u636e\u4e0b\u8f7d\u5b8c\u6bd5\u540e\uff0c\u91cd\u65b0\u6267\u884c\u8be5\u547d\u4ee4\u4e0d\u4f1a\u53d1\u751f\u4efb\u4f55\u64cd\u4f5c\u3002 SST \u6570\u636e\u79bb\u7ebf\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u901a\u8fc7 INGEST \u547d\u4ee4\u5728\u7ebf \u52a0\u8f7d \u5230\u5b58\u50a8\u670d\u52a1\u4e2d\u3002 Ingest \u547d\u4ee4\u5982\u4e0b\uff1a nebula > INGEST; \u8be5\u547d\u4ee4\u5c06\u52a0\u8f7d download \u76ee\u5f55\u4e2d\u7684 SST \u6587\u4ef6\u3002 \u6ce8\u610f\uff1a \u6570\u636e\u91cf\u8f83\u5927\u65f6 ingest \u4f1a\u963b\u585e RocksDB \uff0c\u8bf7\u907f\u514d\u5728\u8bf7\u6c42\u9ad8\u5cf0\u6267\u884c\u8be5\u547d\u4ee4\u3002","title":"Download and Ingest"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/download-and-ingest-sst-file/#download_and_ingest","text":"Nebula Graph \u5b58\u50a8\u8bbf\u95ee\u9ed8\u8ba4\u4f7f\u7528 RocksDB \u4f5c\u4e3a key-value \u5b58\u50a8\u5f15\u64ce\u3002\u56e0\u6b64\u5728\u5927\u91cf\u6570\u636e\u52a0\u8f7d\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u4e00\u4e2a map-reduce job \u79bb\u7ebf\u751f\u6210 RocksDB \u7684 SST \u6587\u4ef6\uff0c\u518d\u76f4\u63a5\u5206\u53d1\u5230\u670d\u52a1\u5668\u4e0a\u3002 Nebula Graph \u63d0\u4f9b\u4e86 Spark-SSTFile-Generator \u5de5\u5177\u3002 Spark-SSTFile-Generator \u901a\u8fc7\u6620\u5c04\u6587\u4ef6\uff0c\u4ece hive \u8868\u751f\u6210 SST \u6587\u4ef6\u3002 \u5177\u4f53\u7528\u6cd5\u8be6\u89c1 Spark application command line reference \u3002 \u6267\u884c\u540e\u4f1a\u5728 HDFS \u4e0a\u751f\u6210 SST \u6587\u4ef6\uff0c\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a |---1 (this is partition number) | | ---- vertex-${FIRST_KEY_IN_THIS_FILE}.sst | | ---- edge-${FIRST_KEY_IN_THIS_FILE}.sst |---2 | ---- vertex-${FIRST_KEY_IN_THIS_FILE}.sst | ---- edge-${FIRST_KEY_IN_THIS_FILE}.sst .... \u5176\u4e2d\u5404\u4e2a\u76ee\u5f55\u4e3a partition \u7f16\u53f7\u3002 SST \u6587\u4ef6\u540d\u683c\u5f0f\u4e3a {TYPE}-${FIRST_KEY_IN_THIS_FILE}.sst \uff0c\u5176\u4e2d TYPE \u8868\u793a\u6570\u636e\u7c7b\u578b\uff0c FIRST_KEY_IN_THIS_FILE \u4e3a\u6587\u4ef6\u4e2d\u7684\u8d77\u59cb key\u3002\uff08\u5982\u679c\u4f60\u60f3\u81ea\u5df1\u5199\u5de5\u5177\u751f\u6210 SST \u6587\u4ef6\uff0c\u9700\u8981\u4fdd\u8bc1\u6bcf\u4e2a SST \u6587\u4ef6\u4e2d\u7684 key \u662f\u6709\u5e8f\u7684\u3002) \u8bf7\u786e\u8ba4\u6240\u6709 server \u5df2\u5b89\u88c5 Hadoop \uff0c\u5e76\u4e14 HADOOP_HOME \u5df2\u8bbe\u7f6e\u3002 \u8fd0\u884c Nebula Graph console\uff0c\u6267\u884c Download \u547d\u4ee4\uff1a nebula > DOWNLOAD HDFS \"hdfs://${HADOOP_HOST}:${HADOOP_PORT}/${HADOOP_PATH}\" \u901a\u8fc7 download \u547d\u4ee4\u4ee5\u53ca\u5404\u4e2a Storage Server \u7684 meta \u4fe1\u606f\uff0c\u5206\u522b\u4e0b\u8f7d\u5404\u81ea\u7684 SST \u6587\u4ef6\u5230 data/download \u76ee\u5f55\u4e2d\u3002\u5176\u4e2d\uff1a HADOOP_HOST \u6307\u5b9a Hadoop NameNode \u5730\u5740 HADOOP_PORT \u6307\u5b9a Hadoop NameNode \u7aef\u53e3\u53f7 HADOOP_PATH \u6307\u5b9a Hadoop \u6570\u636e\u5b58\u653e\u76ee\u5f55 \u5982\u679c download \u8fc7\u7a0b\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u5220\u9664 data/download \u76ee\u5f55\u4e0b\u76f8\u5e94\u7684\u6570\u636e\u6587\u4ef6\uff0c\u5e76\u5c1d\u8bd5\u91cd\u65b0\u4e0b\u8f7d\u3002\u5982\u679c\u9047\u5230\u591a\u6b21\u5931\u8d25\uff0c\u8bf7\u5728 GitHub \u63d0 issue\u3002 \u6570\u636e\u4e0b\u8f7d\u5b8c\u6bd5\u540e\uff0c\u91cd\u65b0\u6267\u884c\u8be5\u547d\u4ee4\u4e0d\u4f1a\u53d1\u751f\u4efb\u4f55\u64cd\u4f5c\u3002 SST \u6570\u636e\u79bb\u7ebf\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u901a\u8fc7 INGEST \u547d\u4ee4\u5728\u7ebf \u52a0\u8f7d \u5230\u5b58\u50a8\u670d\u52a1\u4e2d\u3002 Ingest \u547d\u4ee4\u5982\u4e0b\uff1a nebula > INGEST; \u8be5\u547d\u4ee4\u5c06\u52a0\u8f7d download \u76ee\u5f55\u4e2d\u7684 SST \u6587\u4ef6\u3002 \u6ce8\u610f\uff1a \u6570\u636e\u91cf\u8f83\u5927\u65f6 ingest \u4f1a\u963b\u585e RocksDB \uff0c\u8bf7\u907f\u514d\u5728\u8bf7\u6c42\u9ad8\u5cf0\u6267\u884c\u8be5\u547d\u4ee4\u3002","title":"Download and Ingest"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/import-csv-file/","text":"csv \u5bfc\u5165\u5de5\u5177 \u00b6 \u89c1 vesoft-inc/nebula-importer \u3002","title":"\u8bfb\u53d6 .csv \u6587\u4ef6"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/import-csv-file/#csv","text":"\u89c1 vesoft-inc/nebula-importer \u3002","title":"csv \u5bfc\u5165\u5de5\u5177"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/","text":"Spark Writer \u00b6 \u6982\u8ff0 \u00b6 Spark Writer \u662f Nebula Graph \u57fa\u4e8e Spark \u7684\u5206\u5e03\u5f0f\u6570\u636e\u5bfc\u5165\u5de5\u5177\uff0c\u80fd\u591f\u5c06\u591a\u79cd\u6570\u636e\u4ed3\u5e93\u4e2d\u7684\u6570\u636e\u8f6c\u5316\u4e3a\u56fe\u7684\u70b9\u548c\u8fb9\uff0c\u5e76\u6279\u91cf\u5bfc\u5165\u5230\u56fe\u6570\u636e\u5e93\u4e2d\u3002\u76ee\u524d\u652f\u6301\u7684\u6570\u636e\u4ed3\u5e93\u6709\uff1a HDFS\uff0c\u5305\u62ec Parquet\u3001JSON\u3001ORC \u548c CSV \u683c\u5f0f\u7684\u6587\u4ef6 HIVE Spark Writer \u652f\u6301\u5e76\u53d1\u5bfc\u5165\u591a\u4e2a tag\u3001edge\uff0c\u652f\u6301\u4e0d\u540c tag/edge \u914d\u7f6e\u4e0d\u540c\u7684\u6570\u636e\u4ed3\u5e93\u3002 \u8f6f\u4ef6\u8981\u6c42 \u00b6 \u6ce8\u610f\uff1a \u4e3a\u786e\u4fdd Nebula Graph Spark Writer \u6b63\u5e38\u4f7f\u7528\uff0c\u8bf7\u786e\u4fdd\u4f60\u7684\u673a\u5668\u5df2\u5b89\u88c5\uff1a Spark 2.0 \u53ca\u4ee5\u4e0a\u7248\u672c Hive 2.3 \u53ca\u4ee5\u4e0a\u7248\u672c Hadoop 2.0 \u53ca\u4ee5\u4e0a\u7248\u672c \u83b7\u53d6 Spark Writer \u00b6 \u7f16\u8bd1\u6e90\u7801 \u00b6 git clone https://github.com/vesoft-inc/nebula.git cd nebula/src/tools/spark-sstfile-generator mvn compile package \u6216\u8005\u76f4\u63a5\u4e0b\u8f7d \u4ece\u4e91\u5b58\u50a8 OSS \u4e0b\u8f7d \u00b6 wget https://oss-cdn.nebula-graph.com.cn/jar-packages/sst.generator-1.2.1.jar \u4f7f\u7528\u6d41\u7a0b \u00b6 \u57fa\u672c\u6d41\u7a0b\u5206\u4e3a\u4ee5\u4e0b\u51e0\u6b65\uff1a \u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u6a21\u578b\uff0c\u6784\u56fe \u7f16\u5199\u6570\u636e\u6587\u4ef6 \u7f16\u5199\u8f93\u5165\u6e90\u6620\u5c04\u6587\u4ef6 \u5bfc\u5165\u6570\u636e \u6784\u56fe \u00b6 \u6784\u56fe\u8bf7\u53c2\u8003 \u5feb\u901f\u8bd5\u7528 \u4e2d\u7684\u793a\u4f8b\u6784\u56fe\u3002 \u6ce8\u610f\uff1a\u8bf7\u5148\u5728 Nebula Graph \u4e2d\u5b8c\u6210\u6784\u56fe\uff08\u521b\u5efa\u56fe\u7a7a\u95f4\u548c\u5b9a\u4e49\u56fe\u6570\u636e Schema\uff09\uff0c\u518d\u901a\u8fc7\u672c\u5de5\u5177\u5411 Nebula Graph \u4e2d\u5199\u5165\u6570\u636e\u3002 \u6570\u636e\u793a\u4f8b \u00b6 \u70b9 \u00b6 \u9876\u70b9\u6570\u636e\u6587\u4ef6\u7531\u4e00\u884c\u4e00\u884c\u7684\u6570\u636e\u7ec4\u6210\uff0c\u6587\u4ef6\u4e2d\u6bcf\u4e00\u884c\u8868\u793a\u4e00\u4e2a\u70b9\u548c\u5b83\u7684\u5c5e\u6027\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u7b2c\u4e00\u5217\u4e3a\u70b9\u7684 ID \u2014\u2014\u6b64\u5217\u7684\u540d\u79f0\u5c06\u5728\u540e\u6587\u7684\u6620\u5c04\u6587\u4ef6\u4e2d\u6307\u5b9a\uff0c\u5176\u4ed6\u5217\u4e3a\u70b9\u7684\u5c5e\u6027\u3002 player \u9876\u70b9\u6570\u636e {\"id\":100,\"name\":\"Tim Duncan\",\"age\":42} {\"id\":101,\"name\":\"Tony Parker\",\"age\":36} {\"id\":102,\"name\":\"LaMarcus Aldridge\",\"age\":33} \u8fb9 \u00b6 \u8fb9\u6570\u636e\u6587\u4ef6\u7531\u4e00\u884c\u4e00\u884c\u7684\u6570\u636e\u7ec4\u6210\uff0c\u6587\u4ef6\u4e2d\u6bcf\u4e00\u884c\u8868\u793a\u4e00\u6761\u8fb9\u548c\u5b83\u7684\u5c5e\u6027\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u7b2c\u4e00\u5217\u4e3a\u8d77\u70b9 ID\uff0c\u7b2c\u4e8c\u5217\u4e3a\u7ec8\u70b9 ID\uff0c\u8d77\u70b9 ID \u5217\u53ca\u7ec8\u70b9 ID \u5217\u4f1a\u5728\u6620\u5c04\u6587\u4ef6\u4e2d\u6307\u5b9a\u3002\u5176\u4ed6\u5217\u4e3a\u8fb9\u5c5e\u6027\u3002\u4e0b\u9762\u4ee5 JSON \u683c\u5f0f\u4e3a\u4f8b\u8fdb\u884c\u8bf4\u660e\u3002 \u4ee5\u8fb9 \u8fb9 follow \u7684\u6570\u636e\u4e3a\u4f8b\uff1a \u65e0 rank \u7684\u8fb9 {\"source\":100,\"target\":101,\"likeness\":95} {\"source\":101,\"target\":100,\"likeness\":95} {\"source\":101,\"target\":102,\"likeness\":90} \u6709 rank \u7684\u8fb9 {\"source\":100,\"target\":101,\"likeness\":95,\"ranking\":2} {\"source\":101,\"target\":100,\"likeness\":95,\"ranking\":1} {\"source\":101,\"target\":102,\"likeness\":90,\"ranking\":3} \u542b\u6709\u5730\u7406\u4f4d\u7f6e Geo \u7684\u6570\u636e \u00b6 Spark Writer \u652f\u6301 Geo \u6570\u636e\u5bfc\u5165\uff0cGeo \u6570\u636e\u7528 latitude \u4e0e longitude \u5b57\u6bb5\u63cf\u8ff0\u7ecf\u7eac\u5ea6\uff0c\u6570\u636e\u7c7b\u578b\u4e3a double\u3002 {\"latitude\":30.2822095,\"longitude\":120.0298785,\"target\":0,\"dp_poi_name\":\"0\"} {\"latitude\":30.2813834,\"longitude\":120.0208692,\"target\":1,\"dp_poi_name\":\"1\"} {\"latitude\":30.2807347,\"longitude\":120.0181162,\"target\":2,\"dp_poi_name\":\"2\"} {\"latitude\":30.2812694,\"longitude\":120.0164896,\"target\":3,\"dp_poi_name\":\"3\"} \u6570\u636e\u6e90\u6587\u4ef6 \u00b6 \u76ee\u524d Spark Writer \u652f\u6301\u7684\u6570\u636e\u6e90\u6709\uff1a HDFS HIVE HDFS \u6587\u4ef6 \u00b6 \u652f\u6301\u7684\u6587\u4ef6\u683c\u5f0f\u5305\u62ec\uff1a Parquet JSON CSV ORC Player \u7684 Parquet \u793a\u4f8b\u5982\u4e0b\uff1a +---+---+------------+ |age| id| name| +---+---+------------+ | 42|100| Tim Duncan | | 36|101| Tony Parker| +---+---+------------+ JSON \u793a\u4f8b\u5982\u4e0b\uff1a { \"id\" : 100 , \"name\" : \"Tim Duncan\" , \"age\" : 42 } { \"id\" : 101 , \"name\" : \"Tony Parker\" , \"age\" : 36 } CSV \u793a\u4f8b\u5982\u4e0b\uff1a age,id,name 42,100,Tim Duncan 36,101,Tony Parker \u6570\u636e\u5e93 \u00b6 Spark Writer \u652f\u6301\u4ee5\u6570\u636e\u5e93\u4f5c\u4e3a\u6570\u636e\u6e90\uff0c\u76ee\u524d\u652f\u6301 HIVE\u3002 Player \u8868\u7ed3\u6784\u5982\u4e0b\uff1a col_name data_type comment id int name string age int \u7f16\u5199\u914d\u7f6e\u6587\u4ef6 \u00b6 \u914d\u7f6e\u6587\u4ef6\u7531 Spark \u76f8\u5173\u4fe1\u606f\uff0cNebula \u76f8\u5173\u4fe1\u606f\uff0c\u4ee5\u53ca tags \u6620\u5c04 \u548c edges \u6620\u5c04\u5757\u7ec4\u6210\u3002Spark \u4fe1\u606f\u914d\u7f6e\u4e86 Spark \u8fd0\u884c\u7684\u76f8\u5173\u53c2\u6570\uff0cNebula \u76f8\u5173\u4fe1\u606f\u914d\u7f6e\u4e86\u8fde\u63a5 Nebula Graph \u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u7b49\u4fe1\u606f\u3002 tags \u6620\u5c04\u548c edges \u6620\u5c04\u5206\u522b\u5bf9\u5e94\u591a\u4e2a tag/edge \u7684\u8f93\u5165\u6e90\u6620\u5c04\uff0c\u63cf\u8ff0\u6bcf\u4e2a tag/edge \u7684\u6570\u636e\u6e90\u7b49\u57fa\u672c\u4fe1\u606f\uff0c\u4e0d\u540c tag/edge \u53ef\u4ee5\u6765\u81ea\u4e0d\u540c\u6570\u636e\u6e90\u3002 \u8f93\u5165\u6e90\u7684\u6620\u5c04\u6587\u4ef6\u793a\u4f8b\uff1a { # Spark \u76f8\u5173\u4fe1\u606f\u914d\u7f6e # \u53c2\u89c1\uff1a http://spark.apache.org/docs/latest/configuration.html spark: { app: { name: Spark Writer } driver: { cores: 1 maxResultSize: 1G } cores { max: 16 } } # Nebula Graph \u76f8\u5173\u4fe1\u606f\u914d\u7f6e nebula: { # \u67e5\u8be2\u5f15\u64ce IP \u5217\u8868 addresses: [\"127.0.0.1:3699\"] # \u8fde\u63a5 Nebula Graph \u670d\u52a1\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801 user: user pswd: password # Nebula Graph \u56fe\u7a7a\u95f4\u540d\u79f0 space: test # thrift \u8d85\u65f6\u65f6\u957f\u53ca\u91cd\u8bd5\u6b21\u6570 # \u5982\u672a\u8bbe\u7f6e\uff0c\u5219\u9ed8\u8ba4\u503c\u5206\u522b\u4e3a 3000 \u548c 3 connection { timeout: 3000 retry: 3 } # nGQL \u67e5\u8be2\u91cd\u8bd5\u6b21\u6570 # \u5982\u672a\u8bbe\u7f6e\uff0c\u5219\u9ed8\u8ba4\u503c\u4e3a 3 execution { retry: 3 } } # \u5904\u7406\u6807\u7b7e tags: [ # \u4ece HDFS \u6587\u4ef6\u52a0\u8f7d\u6570\u636e\uff0c \u6b64\u5904\u6570\u636e\u7c7b\u578b\u4e3a Parquet # tag \u540d\u79f0\u4e3a tag name 0 # HDFS Parquet \u6587\u4ef6\u7684\u4e2d\u7684 field_0\u3001field_1\u3001field_2 \u5c06\u5199\u5165 tag_name_0 # \u8282\u70b9\u5217\u4e3a vertex_key_field { name: tag_name_0 type: parquet path: hdfs path fields: { field_0: nebula_field_0, field_1: nebula_field_1, field_2: nebula_field_2 } vertex: vertex_key_field batch : 16 } # \u4e0e\u4e0a\u8ff0\u7c7b\u4f3c # \u4ece Hive \u52a0\u8f7d\u5c06\u6267\u884c\u547d\u4ee4 $ {exec} \u4f5c\u4e3a\u6570\u636e\u96c6 { name: tag_name_1 type: hive exec: \"select hive_field_0, hive_field_1, hive_field_2 from database.table\" fields: { hive_field_0: nebula_field_0, hive_field_1: nebula_field_1, hive_field_2: nebula_field_2 } vertex: vertex_id_field } ] # \u5904\u7406\u8fb9 edges: [ # \u4ece HDFS \u52a0\u8f7d\u6570\u636e\uff0c\u6570\u636e\u7c7b\u578b\u4e3a JSON # \u8fb9\u540d\u79f0\u4e3a edge_name_0 # HDFS JSON \u6587\u4ef6\u4e2d\u7684 field_0\u3001field_1\u3001field 2 \u5c06\u88ab\u5199\u5165 edge_name_0 # \u8d77\u59cb\u5b57\u6bb5\u4e3a source_field\uff0c\u7ec8\u6b62\u5b57\u6bb5\u4e3a target_field \uff0c\u8fb9\u6743\u91cd\u5b57\u6bb5\u4e3a ranking_field\u3002 { name: edge_name_0 type: json path: hdfs_path fields: { field_0: nebula_field_0, field_1: nebula_field_1, field_2: nebula_field_2 } source: source_field target: target_field ranking: ranking_field } # \u4ece Hive \u52a0\u8f7d\u5c06\u6267\u884c\u547d\u4ee4 $ {exec} \u4f5c\u4e3a\u6570\u636e\u96c6 # \u8fb9\u6743\u91cd\u4e3a\u53ef\u9009 { name: edge_name_1 type: hive exec: \"select hive_field_0, hive_field_1, hive_field_2 from database.table\" fields: { hive_field_0: nebula_field_0, hive_field_1: nebula_field_1, hive_field_2: nebula_field_2 } source: source_id_field target: target_id_field } ] } Spark \u914d\u7f6e\u4fe1\u606f \u00b6 \u4e0b\u8868\u7ed9\u51fa\u4e86\u4e00\u4e9b\u793a\u4f8b\uff0c\u6240\u6709\u53ef\u914d\u7f6e\u9879\u8bf7\u89c1 Spark Available Properties \u3002 \u5b57\u6bb5 \u9ed8\u8ba4\u503c \u662f\u5426\u5fc5\u987b \u8bf4\u660e spark.app.name Spark Writer \u5426 app \u540d\u79f0 spark.driver.cores 1 \u5426 \u9a71\u52a8\u7a0b\u5e8f\u8fdb\u7a0b\u7684\u6838\u6570\uff0c\u4ec5\u9002\u7528\u4e8e\u7fa4\u96c6\u6a21\u5f0f spark.driver.maxResultSize 1G \u5426 \u6bcf\u4e2a Spark \u64cd\u4f5c\uff08\u4f8b\u5982\u6536\u96c6\uff09\u4e2d\u6240\u6709\u5206\u533a\u7684\u5e8f\u5217\u5316\u7ed3\u679c\u7684\u4e0a\u9650\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002\u81f3\u5c11\u5e94\u4e3a 1M\uff0c\u5426\u5219\u5e94\u4e3a 0\uff08\u65e0\u9650\u5236\uff09 spark.cores.max (not set) \u5426 \u5f53\u4ee5\u201c\u7c97\u7c92\u5ea6\u201d\u5171\u4eab\u6a21\u5f0f\u5728\u72ec\u7acb\u90e8\u7f72\u7fa4\u96c6\u6216 Mesos \u7fa4\u96c6\u4e0a\u8fd0\u884c\u65f6\uff0c\u8de8\u7fa4\u96c6\uff08\u800c\u975e\u4ece\u6bcf\u53f0\u8ba1\u7b97\u673a\uff09\u8bf7\u6c42\u5e94\u7528\u7a0b\u5e8f\u7684\u6700\u5927 CPU \u6838\u6570\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u5219\u9ed8\u8ba4\u503c\u4e3a Spark \u7684\u72ec\u7acb\u96c6\u7fa4\u7ba1\u7406\u5668\u4e0a\u7684 spark.deploy.defaultCores \u6216 Mesos \u4e0a\u7684 infinite\uff08\u6240\u6709\u53ef\u7528\u7684\u5185\u6838\uff09 Nebula Graph \u914d\u7f6e\u4fe1\u606f \u00b6 \u5b57\u6bb5 \u9ed8\u8ba4\u503c \u662f\u5426\u5fc5\u987b \u8bf4\u660e nebula.addresses \u65e0 \u662f \u67e5\u8be2\u5f15\u64ce\u7684\u5730\u5740\u5217\u8868\uff0c\u9017\u53f7\u5206\u9694 nebula.user \u65e0 \u662f \u6570\u636e\u5e93\u7528\u6237\u540d\uff0c\u9ed8\u8ba4\u4e3a user nebula.pswd \u65e0 \u662f \u6570\u636e\u5e93\u7528\u6237\u540d\u5bf9\u5e94\u5bc6\u7801\uff0c\u9ed8\u8ba4 user \u5bc6\u7801\u4e3a password nebula.space \u65e0 \u662f \u5bfc\u5165\u6570\u636e\u5bf9\u5e94\u7684 space\uff0c\u672c\u4f8b\u4e2d\u4e3a test nebula.connection.timeout 3000 \u5426 Thrift \u8fde\u63a5\u8d85\u65f6\u65f6\u95f4 nebula.connection.retry 3 \u5426 Thrift \u8fde\u63a5\u91cd\u8bd5\u6b21\u6570 nebula.execution.retry 3 \u5426 nGQL \u8bed\u53e5\u6267\u884c\u91cd\u8bd5\u6b21\u6570 tags \u548c edges \u6620\u5c04\u4fe1\u606f \u00b6 tag \u548c edge \u6620\u5c04\u7684\u9009\u9879\u6bd4\u8f83\u7c7b\u4f3c\u3002\u4e0b\u9762\u5148\u4ecb\u7ecd\u76f8\u540c\u7684\u9009\u9879\uff0c\u518d\u5206\u522b\u4ecb\u7ecd tag \u6620\u5c04 \u548c edge \u6620\u5c04 \u7684\u7279\u6709\u9009\u9879\u3002 \u76f8\u540c\u7684\u9009\u9879 type \u6307\u5b9a\u4e0a\u6587\u4e2d\u63d0\u5230\u7684\u6570\u636e\u7c7b\u578b\uff0c\u76ee\u524d\u652f\u6301 \u201cParquet\u201d\u3001\"JSON\"\u3001\"ORC\" \u548c \u201cCSV\u201d\uff0c\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5fc5\u586b path \u9002\u7528\u4e8e HDFS \u6570\u636e\u6e90\uff0c\u6307\u5b9aHDFS \u6587\u4ef6\u6216\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\uff0ctype \u4e3a HDFS \u65f6\uff0c\u5fc5\u586b exec \u9002\u7528\u4e8e Hive \u6570\u636e\u6e90\uff0c \u5f53\u6267\u884c\u67e5\u8be2\u8bed\u53e5 type \u4e3a HIVE \u65f6\uff0c\u5fc5\u586b fields \u5c06\u8f93\u5165\u6e90\u5217\u7684\u5217\u540d\u6620\u5c04\u4e3a tag / edge \u7684\u5c5e\u6027\u540d\uff0c\u5fc5\u586b tag \u6620\u5c04\u7684\u7279\u6709\u9009\u9879 vertex \u6307\u5b9a\u67d0\u4e00\u5217\u4f5c\u4e3a\u70b9\u7684 ID \u5217\uff0c\u5fc5\u586b edge \u6620\u5c04\u7684\u7279\u6709\u9009\u9879 source \u6307\u5b9a\u8f93\u5165\u6e90\u67d0\u4e00\u5217\u4f5c\u4e3a \u6e90\u70b9 \u7684 ID \u5217\uff0c\u5fc5\u586b target \u6307\u5b9a\u67d0\u4e00\u5217\u4f5c\u4e3a \u76ee\u6807\u70b9 \u7684 ID \u5217\uff0c\u5fc5\u586b \u5f53\u63d2\u5165\u8fb9\u6709 ranking \u503c\uff0c ranking \u6307\u5b9a\u67d0\u4e00\u5217\u4f5c\u4e3a\u8fb9 ranking \u5217\uff0c\u9009\u586b \u6570\u636e\u6e90\u6620\u5c04 \u00b6 HDFS Parquet \u6587\u4ef6 type \u6307\u5b9a\u8f93\u5165\u6e90\u7c7b\u578b\uff0c\u5f53\u4e3a parquet \u65f6\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5fc5\u586b path \u6307\u5b9a HDFS \u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8def\u5f84\uff0c\u5fc5\u987b\u662f HDFS \u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u5fc5\u586b HDFS JSON \u6587\u4ef6 type \u6307\u5b9a\u8f93\u5165\u6e90\u7c7b\u578b\uff0c\u5f53\u4e3a JSON \u65f6\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5fc5\u586b path \u6307\u5b9a HDFS \u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8def\u5f84\uff0c\u5fc5\u987b\u662f HDFS \u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u5fc5\u586b HIVE ORC \u6587\u4ef6 type \u6307\u5b9a\u8f93\u5165\u6e90\u7c7b\u578b\uff0c\u5f53\u4e3a ORC\u65f6\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5fc5\u586b path \u6307\u5b9a HDFS \u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8def\u5f84\uff0c\u5fc5\u987b\u662f HDFS \u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u5fc5\u586b HIVE CSV \u6587\u4ef6 type \u6307\u5b9a\u8f93\u5165\u6e90\u7c7b\u578b\uff0c\u5f53\u4e3a CSV \u65f6\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5fc5\u586b path \u6307\u5b9a HDFS \u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8def\u5f84\uff0c\u5fc5\u987b\u662f HDFS \u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u5fc5\u586b HIVE type \u6307\u5b9a\u8f93\u5165\u6e90\u7c7b\u578b\uff0c\u5f53\u4e3a HIVE \u65f6\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5fc5\u586b exec \u6307\u5b9a HIVE \u6267\u884c\u67e5\u8be2\u7684\u8bed\u53e5\uff0c\u5fc5\u586b \u6267\u884c\u547d\u4ee4\u5bfc\u5165\u6570\u636e \u00b6 \u5bfc\u5165\u6570\u636e\u547d\u4ee4\uff1a bin/spark-submit \\ --class com.vesoft.nebula.tools.generator.v2.SparkClientGenerator \\ --master ${ MASTER -URL } \\ ${ SPARK_WRITER_JAR_PACKAGE } -c conf/test.conf -h -d \u53c2\u6570\u8bf4\u660e\uff1a Abbreviation Required Default Description \u793a\u4f8b --class yes \u6307\u5b9a\u7a0b\u5e8f\u4e3b\u7c7b --master yes \u6307\u5b9aspark cluster master url\uff0c\u8bf7\u53c2\u89c1 master-urls e.g. spark://23.195.26.187:7077 -c / --config yes \u4e0a\u6587\u6240\u7f16\u5199\u7684\u914d\u7f6e\u6587\u4ef6\u8def\u5f84 -h / --hive no false \u7528\u4e8e\u6307\u5b9a\u662f\u5426\u652f\u6301 Hive -d / --directly no false true \u4e3a\u5ba2\u6237\u7aef\u65b9\u5f0f\u63d2\u5165\uff1b false \u4e3a sst \u65b9\u5f0f\u5bfc\u5165 (TODO) -D / --dry no false \u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e \u6027\u80fd\u6d4b\u8bd5\u7ed3\u679c \u00b6 \u4e09\u53f0\u7269\u7406\u673a (56 \u6838\uff0c250G \u5185\u5b58\uff0c\u4e07\u5146\u7f51\uff0cSSD\uff09\uff0c\u5199 1 \u4ebf\u6761\u6570\u636e\uff08\u6bcf\u6761\u6570\u636e\u4e09\u4e2a\u5b57\u6bb5\uff0c\u6bcf\u4e2a batch 64 \u6761\u8bb0\u5f55\uff09\uff0c\u7528\u65f6 4 \u5206\u949f\uff0840\u4e07\u6761/\u79d2\uff09\u3002","title":"Spark \u5bfc\u5165\u5de5\u5177"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#spark_writer","text":"","title":"Spark Writer"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_1","text":"Spark Writer \u662f Nebula Graph \u57fa\u4e8e Spark \u7684\u5206\u5e03\u5f0f\u6570\u636e\u5bfc\u5165\u5de5\u5177\uff0c\u80fd\u591f\u5c06\u591a\u79cd\u6570\u636e\u4ed3\u5e93\u4e2d\u7684\u6570\u636e\u8f6c\u5316\u4e3a\u56fe\u7684\u70b9\u548c\u8fb9\uff0c\u5e76\u6279\u91cf\u5bfc\u5165\u5230\u56fe\u6570\u636e\u5e93\u4e2d\u3002\u76ee\u524d\u652f\u6301\u7684\u6570\u636e\u4ed3\u5e93\u6709\uff1a HDFS\uff0c\u5305\u62ec Parquet\u3001JSON\u3001ORC \u548c CSV \u683c\u5f0f\u7684\u6587\u4ef6 HIVE Spark Writer \u652f\u6301\u5e76\u53d1\u5bfc\u5165\u591a\u4e2a tag\u3001edge\uff0c\u652f\u6301\u4e0d\u540c tag/edge \u914d\u7f6e\u4e0d\u540c\u7684\u6570\u636e\u4ed3\u5e93\u3002","title":"\u6982\u8ff0"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_2","text":"\u6ce8\u610f\uff1a \u4e3a\u786e\u4fdd Nebula Graph Spark Writer \u6b63\u5e38\u4f7f\u7528\uff0c\u8bf7\u786e\u4fdd\u4f60\u7684\u673a\u5668\u5df2\u5b89\u88c5\uff1a Spark 2.0 \u53ca\u4ee5\u4e0a\u7248\u672c Hive 2.3 \u53ca\u4ee5\u4e0a\u7248\u672c Hadoop 2.0 \u53ca\u4ee5\u4e0a\u7248\u672c","title":"\u8f6f\u4ef6\u8981\u6c42"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#spark_writer_1","text":"","title":"\u83b7\u53d6 Spark Writer"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_3","text":"git clone https://github.com/vesoft-inc/nebula.git cd nebula/src/tools/spark-sstfile-generator mvn compile package \u6216\u8005\u76f4\u63a5\u4e0b\u8f7d","title":"\u7f16\u8bd1\u6e90\u7801"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#oss","text":"wget https://oss-cdn.nebula-graph.com.cn/jar-packages/sst.generator-1.2.1.jar","title":"\u4ece\u4e91\u5b58\u50a8 OSS \u4e0b\u8f7d"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_4","text":"\u57fa\u672c\u6d41\u7a0b\u5206\u4e3a\u4ee5\u4e0b\u51e0\u6b65\uff1a \u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u6a21\u578b\uff0c\u6784\u56fe \u7f16\u5199\u6570\u636e\u6587\u4ef6 \u7f16\u5199\u8f93\u5165\u6e90\u6620\u5c04\u6587\u4ef6 \u5bfc\u5165\u6570\u636e","title":"\u4f7f\u7528\u6d41\u7a0b"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_5","text":"\u6784\u56fe\u8bf7\u53c2\u8003 \u5feb\u901f\u8bd5\u7528 \u4e2d\u7684\u793a\u4f8b\u6784\u56fe\u3002 \u6ce8\u610f\uff1a\u8bf7\u5148\u5728 Nebula Graph \u4e2d\u5b8c\u6210\u6784\u56fe\uff08\u521b\u5efa\u56fe\u7a7a\u95f4\u548c\u5b9a\u4e49\u56fe\u6570\u636e Schema\uff09\uff0c\u518d\u901a\u8fc7\u672c\u5de5\u5177\u5411 Nebula Graph \u4e2d\u5199\u5165\u6570\u636e\u3002","title":"\u6784\u56fe"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_6","text":"","title":"\u6570\u636e\u793a\u4f8b"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_7","text":"\u9876\u70b9\u6570\u636e\u6587\u4ef6\u7531\u4e00\u884c\u4e00\u884c\u7684\u6570\u636e\u7ec4\u6210\uff0c\u6587\u4ef6\u4e2d\u6bcf\u4e00\u884c\u8868\u793a\u4e00\u4e2a\u70b9\u548c\u5b83\u7684\u5c5e\u6027\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u7b2c\u4e00\u5217\u4e3a\u70b9\u7684 ID \u2014\u2014\u6b64\u5217\u7684\u540d\u79f0\u5c06\u5728\u540e\u6587\u7684\u6620\u5c04\u6587\u4ef6\u4e2d\u6307\u5b9a\uff0c\u5176\u4ed6\u5217\u4e3a\u70b9\u7684\u5c5e\u6027\u3002 player \u9876\u70b9\u6570\u636e {\"id\":100,\"name\":\"Tim Duncan\",\"age\":42} {\"id\":101,\"name\":\"Tony Parker\",\"age\":36} {\"id\":102,\"name\":\"LaMarcus Aldridge\",\"age\":33}","title":"\u70b9"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_8","text":"\u8fb9\u6570\u636e\u6587\u4ef6\u7531\u4e00\u884c\u4e00\u884c\u7684\u6570\u636e\u7ec4\u6210\uff0c\u6587\u4ef6\u4e2d\u6bcf\u4e00\u884c\u8868\u793a\u4e00\u6761\u8fb9\u548c\u5b83\u7684\u5c5e\u6027\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u7b2c\u4e00\u5217\u4e3a\u8d77\u70b9 ID\uff0c\u7b2c\u4e8c\u5217\u4e3a\u7ec8\u70b9 ID\uff0c\u8d77\u70b9 ID \u5217\u53ca\u7ec8\u70b9 ID \u5217\u4f1a\u5728\u6620\u5c04\u6587\u4ef6\u4e2d\u6307\u5b9a\u3002\u5176\u4ed6\u5217\u4e3a\u8fb9\u5c5e\u6027\u3002\u4e0b\u9762\u4ee5 JSON \u683c\u5f0f\u4e3a\u4f8b\u8fdb\u884c\u8bf4\u660e\u3002 \u4ee5\u8fb9 \u8fb9 follow \u7684\u6570\u636e\u4e3a\u4f8b\uff1a \u65e0 rank \u7684\u8fb9 {\"source\":100,\"target\":101,\"likeness\":95} {\"source\":101,\"target\":100,\"likeness\":95} {\"source\":101,\"target\":102,\"likeness\":90} \u6709 rank \u7684\u8fb9 {\"source\":100,\"target\":101,\"likeness\":95,\"ranking\":2} {\"source\":101,\"target\":100,\"likeness\":95,\"ranking\":1} {\"source\":101,\"target\":102,\"likeness\":90,\"ranking\":3}","title":"\u8fb9"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#geo","text":"Spark Writer \u652f\u6301 Geo \u6570\u636e\u5bfc\u5165\uff0cGeo \u6570\u636e\u7528 latitude \u4e0e longitude \u5b57\u6bb5\u63cf\u8ff0\u7ecf\u7eac\u5ea6\uff0c\u6570\u636e\u7c7b\u578b\u4e3a double\u3002 {\"latitude\":30.2822095,\"longitude\":120.0298785,\"target\":0,\"dp_poi_name\":\"0\"} {\"latitude\":30.2813834,\"longitude\":120.0208692,\"target\":1,\"dp_poi_name\":\"1\"} {\"latitude\":30.2807347,\"longitude\":120.0181162,\"target\":2,\"dp_poi_name\":\"2\"} {\"latitude\":30.2812694,\"longitude\":120.0164896,\"target\":3,\"dp_poi_name\":\"3\"}","title":"\u542b\u6709\u5730\u7406\u4f4d\u7f6e Geo \u7684\u6570\u636e"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_9","text":"\u76ee\u524d Spark Writer \u652f\u6301\u7684\u6570\u636e\u6e90\u6709\uff1a HDFS HIVE","title":"\u6570\u636e\u6e90\u6587\u4ef6"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#hdfs","text":"\u652f\u6301\u7684\u6587\u4ef6\u683c\u5f0f\u5305\u62ec\uff1a Parquet JSON CSV ORC Player \u7684 Parquet \u793a\u4f8b\u5982\u4e0b\uff1a +---+---+------------+ |age| id| name| +---+---+------------+ | 42|100| Tim Duncan | | 36|101| Tony Parker| +---+---+------------+ JSON \u793a\u4f8b\u5982\u4e0b\uff1a { \"id\" : 100 , \"name\" : \"Tim Duncan\" , \"age\" : 42 } { \"id\" : 101 , \"name\" : \"Tony Parker\" , \"age\" : 36 } CSV \u793a\u4f8b\u5982\u4e0b\uff1a age,id,name 42,100,Tim Duncan 36,101,Tony Parker","title":"HDFS \u6587\u4ef6"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_10","text":"Spark Writer \u652f\u6301\u4ee5\u6570\u636e\u5e93\u4f5c\u4e3a\u6570\u636e\u6e90\uff0c\u76ee\u524d\u652f\u6301 HIVE\u3002 Player \u8868\u7ed3\u6784\u5982\u4e0b\uff1a col_name data_type comment id int name string age int","title":"\u6570\u636e\u5e93"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_11","text":"\u914d\u7f6e\u6587\u4ef6\u7531 Spark \u76f8\u5173\u4fe1\u606f\uff0cNebula \u76f8\u5173\u4fe1\u606f\uff0c\u4ee5\u53ca tags \u6620\u5c04 \u548c edges \u6620\u5c04\u5757\u7ec4\u6210\u3002Spark \u4fe1\u606f\u914d\u7f6e\u4e86 Spark \u8fd0\u884c\u7684\u76f8\u5173\u53c2\u6570\uff0cNebula \u76f8\u5173\u4fe1\u606f\u914d\u7f6e\u4e86\u8fde\u63a5 Nebula Graph \u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u7b49\u4fe1\u606f\u3002 tags \u6620\u5c04\u548c edges \u6620\u5c04\u5206\u522b\u5bf9\u5e94\u591a\u4e2a tag/edge \u7684\u8f93\u5165\u6e90\u6620\u5c04\uff0c\u63cf\u8ff0\u6bcf\u4e2a tag/edge \u7684\u6570\u636e\u6e90\u7b49\u57fa\u672c\u4fe1\u606f\uff0c\u4e0d\u540c tag/edge \u53ef\u4ee5\u6765\u81ea\u4e0d\u540c\u6570\u636e\u6e90\u3002 \u8f93\u5165\u6e90\u7684\u6620\u5c04\u6587\u4ef6\u793a\u4f8b\uff1a { # Spark \u76f8\u5173\u4fe1\u606f\u914d\u7f6e # \u53c2\u89c1\uff1a http://spark.apache.org/docs/latest/configuration.html spark: { app: { name: Spark Writer } driver: { cores: 1 maxResultSize: 1G } cores { max: 16 } } # Nebula Graph \u76f8\u5173\u4fe1\u606f\u914d\u7f6e nebula: { # \u67e5\u8be2\u5f15\u64ce IP \u5217\u8868 addresses: [\"127.0.0.1:3699\"] # \u8fde\u63a5 Nebula Graph \u670d\u52a1\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801 user: user pswd: password # Nebula Graph \u56fe\u7a7a\u95f4\u540d\u79f0 space: test # thrift \u8d85\u65f6\u65f6\u957f\u53ca\u91cd\u8bd5\u6b21\u6570 # \u5982\u672a\u8bbe\u7f6e\uff0c\u5219\u9ed8\u8ba4\u503c\u5206\u522b\u4e3a 3000 \u548c 3 connection { timeout: 3000 retry: 3 } # nGQL \u67e5\u8be2\u91cd\u8bd5\u6b21\u6570 # \u5982\u672a\u8bbe\u7f6e\uff0c\u5219\u9ed8\u8ba4\u503c\u4e3a 3 execution { retry: 3 } } # \u5904\u7406\u6807\u7b7e tags: [ # \u4ece HDFS \u6587\u4ef6\u52a0\u8f7d\u6570\u636e\uff0c \u6b64\u5904\u6570\u636e\u7c7b\u578b\u4e3a Parquet # tag \u540d\u79f0\u4e3a tag name 0 # HDFS Parquet \u6587\u4ef6\u7684\u4e2d\u7684 field_0\u3001field_1\u3001field_2 \u5c06\u5199\u5165 tag_name_0 # \u8282\u70b9\u5217\u4e3a vertex_key_field { name: tag_name_0 type: parquet path: hdfs path fields: { field_0: nebula_field_0, field_1: nebula_field_1, field_2: nebula_field_2 } vertex: vertex_key_field batch : 16 } # \u4e0e\u4e0a\u8ff0\u7c7b\u4f3c # \u4ece Hive \u52a0\u8f7d\u5c06\u6267\u884c\u547d\u4ee4 $ {exec} \u4f5c\u4e3a\u6570\u636e\u96c6 { name: tag_name_1 type: hive exec: \"select hive_field_0, hive_field_1, hive_field_2 from database.table\" fields: { hive_field_0: nebula_field_0, hive_field_1: nebula_field_1, hive_field_2: nebula_field_2 } vertex: vertex_id_field } ] # \u5904\u7406\u8fb9 edges: [ # \u4ece HDFS \u52a0\u8f7d\u6570\u636e\uff0c\u6570\u636e\u7c7b\u578b\u4e3a JSON # \u8fb9\u540d\u79f0\u4e3a edge_name_0 # HDFS JSON \u6587\u4ef6\u4e2d\u7684 field_0\u3001field_1\u3001field 2 \u5c06\u88ab\u5199\u5165 edge_name_0 # \u8d77\u59cb\u5b57\u6bb5\u4e3a source_field\uff0c\u7ec8\u6b62\u5b57\u6bb5\u4e3a target_field \uff0c\u8fb9\u6743\u91cd\u5b57\u6bb5\u4e3a ranking_field\u3002 { name: edge_name_0 type: json path: hdfs_path fields: { field_0: nebula_field_0, field_1: nebula_field_1, field_2: nebula_field_2 } source: source_field target: target_field ranking: ranking_field } # \u4ece Hive \u52a0\u8f7d\u5c06\u6267\u884c\u547d\u4ee4 $ {exec} \u4f5c\u4e3a\u6570\u636e\u96c6 # \u8fb9\u6743\u91cd\u4e3a\u53ef\u9009 { name: edge_name_1 type: hive exec: \"select hive_field_0, hive_field_1, hive_field_2 from database.table\" fields: { hive_field_0: nebula_field_0, hive_field_1: nebula_field_1, hive_field_2: nebula_field_2 } source: source_id_field target: target_id_field } ] }","title":"\u7f16\u5199\u914d\u7f6e\u6587\u4ef6"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#spark","text":"\u4e0b\u8868\u7ed9\u51fa\u4e86\u4e00\u4e9b\u793a\u4f8b\uff0c\u6240\u6709\u53ef\u914d\u7f6e\u9879\u8bf7\u89c1 Spark Available Properties \u3002 \u5b57\u6bb5 \u9ed8\u8ba4\u503c \u662f\u5426\u5fc5\u987b \u8bf4\u660e spark.app.name Spark Writer \u5426 app \u540d\u79f0 spark.driver.cores 1 \u5426 \u9a71\u52a8\u7a0b\u5e8f\u8fdb\u7a0b\u7684\u6838\u6570\uff0c\u4ec5\u9002\u7528\u4e8e\u7fa4\u96c6\u6a21\u5f0f spark.driver.maxResultSize 1G \u5426 \u6bcf\u4e2a Spark \u64cd\u4f5c\uff08\u4f8b\u5982\u6536\u96c6\uff09\u4e2d\u6240\u6709\u5206\u533a\u7684\u5e8f\u5217\u5316\u7ed3\u679c\u7684\u4e0a\u9650\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002\u81f3\u5c11\u5e94\u4e3a 1M\uff0c\u5426\u5219\u5e94\u4e3a 0\uff08\u65e0\u9650\u5236\uff09 spark.cores.max (not set) \u5426 \u5f53\u4ee5\u201c\u7c97\u7c92\u5ea6\u201d\u5171\u4eab\u6a21\u5f0f\u5728\u72ec\u7acb\u90e8\u7f72\u7fa4\u96c6\u6216 Mesos \u7fa4\u96c6\u4e0a\u8fd0\u884c\u65f6\uff0c\u8de8\u7fa4\u96c6\uff08\u800c\u975e\u4ece\u6bcf\u53f0\u8ba1\u7b97\u673a\uff09\u8bf7\u6c42\u5e94\u7528\u7a0b\u5e8f\u7684\u6700\u5927 CPU \u6838\u6570\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u5219\u9ed8\u8ba4\u503c\u4e3a Spark \u7684\u72ec\u7acb\u96c6\u7fa4\u7ba1\u7406\u5668\u4e0a\u7684 spark.deploy.defaultCores \u6216 Mesos \u4e0a\u7684 infinite\uff08\u6240\u6709\u53ef\u7528\u7684\u5185\u6838\uff09","title":"Spark \u914d\u7f6e\u4fe1\u606f"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#nebula_graph","text":"\u5b57\u6bb5 \u9ed8\u8ba4\u503c \u662f\u5426\u5fc5\u987b \u8bf4\u660e nebula.addresses \u65e0 \u662f \u67e5\u8be2\u5f15\u64ce\u7684\u5730\u5740\u5217\u8868\uff0c\u9017\u53f7\u5206\u9694 nebula.user \u65e0 \u662f \u6570\u636e\u5e93\u7528\u6237\u540d\uff0c\u9ed8\u8ba4\u4e3a user nebula.pswd \u65e0 \u662f \u6570\u636e\u5e93\u7528\u6237\u540d\u5bf9\u5e94\u5bc6\u7801\uff0c\u9ed8\u8ba4 user \u5bc6\u7801\u4e3a password nebula.space \u65e0 \u662f \u5bfc\u5165\u6570\u636e\u5bf9\u5e94\u7684 space\uff0c\u672c\u4f8b\u4e2d\u4e3a test nebula.connection.timeout 3000 \u5426 Thrift \u8fde\u63a5\u8d85\u65f6\u65f6\u95f4 nebula.connection.retry 3 \u5426 Thrift \u8fde\u63a5\u91cd\u8bd5\u6b21\u6570 nebula.execution.retry 3 \u5426 nGQL \u8bed\u53e5\u6267\u884c\u91cd\u8bd5\u6b21\u6570","title":"Nebula Graph \u914d\u7f6e\u4fe1\u606f"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#tags_edges","text":"tag \u548c edge \u6620\u5c04\u7684\u9009\u9879\u6bd4\u8f83\u7c7b\u4f3c\u3002\u4e0b\u9762\u5148\u4ecb\u7ecd\u76f8\u540c\u7684\u9009\u9879\uff0c\u518d\u5206\u522b\u4ecb\u7ecd tag \u6620\u5c04 \u548c edge \u6620\u5c04 \u7684\u7279\u6709\u9009\u9879\u3002 \u76f8\u540c\u7684\u9009\u9879 type \u6307\u5b9a\u4e0a\u6587\u4e2d\u63d0\u5230\u7684\u6570\u636e\u7c7b\u578b\uff0c\u76ee\u524d\u652f\u6301 \u201cParquet\u201d\u3001\"JSON\"\u3001\"ORC\" \u548c \u201cCSV\u201d\uff0c\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5fc5\u586b path \u9002\u7528\u4e8e HDFS \u6570\u636e\u6e90\uff0c\u6307\u5b9aHDFS \u6587\u4ef6\u6216\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\uff0ctype \u4e3a HDFS \u65f6\uff0c\u5fc5\u586b exec \u9002\u7528\u4e8e Hive \u6570\u636e\u6e90\uff0c \u5f53\u6267\u884c\u67e5\u8be2\u8bed\u53e5 type \u4e3a HIVE \u65f6\uff0c\u5fc5\u586b fields \u5c06\u8f93\u5165\u6e90\u5217\u7684\u5217\u540d\u6620\u5c04\u4e3a tag / edge \u7684\u5c5e\u6027\u540d\uff0c\u5fc5\u586b tag \u6620\u5c04\u7684\u7279\u6709\u9009\u9879 vertex \u6307\u5b9a\u67d0\u4e00\u5217\u4f5c\u4e3a\u70b9\u7684 ID \u5217\uff0c\u5fc5\u586b edge \u6620\u5c04\u7684\u7279\u6709\u9009\u9879 source \u6307\u5b9a\u8f93\u5165\u6e90\u67d0\u4e00\u5217\u4f5c\u4e3a \u6e90\u70b9 \u7684 ID \u5217\uff0c\u5fc5\u586b target \u6307\u5b9a\u67d0\u4e00\u5217\u4f5c\u4e3a \u76ee\u6807\u70b9 \u7684 ID \u5217\uff0c\u5fc5\u586b \u5f53\u63d2\u5165\u8fb9\u6709 ranking \u503c\uff0c ranking \u6307\u5b9a\u67d0\u4e00\u5217\u4f5c\u4e3a\u8fb9 ranking \u5217\uff0c\u9009\u586b","title":"tags \u548c edges \u6620\u5c04\u4fe1\u606f"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_12","text":"HDFS Parquet \u6587\u4ef6 type \u6307\u5b9a\u8f93\u5165\u6e90\u7c7b\u578b\uff0c\u5f53\u4e3a parquet \u65f6\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5fc5\u586b path \u6307\u5b9a HDFS \u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8def\u5f84\uff0c\u5fc5\u987b\u662f HDFS \u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u5fc5\u586b HDFS JSON \u6587\u4ef6 type \u6307\u5b9a\u8f93\u5165\u6e90\u7c7b\u578b\uff0c\u5f53\u4e3a JSON \u65f6\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5fc5\u586b path \u6307\u5b9a HDFS \u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8def\u5f84\uff0c\u5fc5\u987b\u662f HDFS \u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u5fc5\u586b HIVE ORC \u6587\u4ef6 type \u6307\u5b9a\u8f93\u5165\u6e90\u7c7b\u578b\uff0c\u5f53\u4e3a ORC\u65f6\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5fc5\u586b path \u6307\u5b9a HDFS \u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8def\u5f84\uff0c\u5fc5\u987b\u662f HDFS \u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u5fc5\u586b HIVE CSV \u6587\u4ef6 type \u6307\u5b9a\u8f93\u5165\u6e90\u7c7b\u578b\uff0c\u5f53\u4e3a CSV \u65f6\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5fc5\u586b path \u6307\u5b9a HDFS \u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8def\u5f84\uff0c\u5fc5\u987b\u662f HDFS \u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u5fc5\u586b HIVE type \u6307\u5b9a\u8f93\u5165\u6e90\u7c7b\u578b\uff0c\u5f53\u4e3a HIVE \u65f6\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5fc5\u586b exec \u6307\u5b9a HIVE \u6267\u884c\u67e5\u8be2\u7684\u8bed\u53e5\uff0c\u5fc5\u586b","title":"\u6570\u636e\u6e90\u6620\u5c04"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_13","text":"\u5bfc\u5165\u6570\u636e\u547d\u4ee4\uff1a bin/spark-submit \\ --class com.vesoft.nebula.tools.generator.v2.SparkClientGenerator \\ --master ${ MASTER -URL } \\ ${ SPARK_WRITER_JAR_PACKAGE } -c conf/test.conf -h -d \u53c2\u6570\u8bf4\u660e\uff1a Abbreviation Required Default Description \u793a\u4f8b --class yes \u6307\u5b9a\u7a0b\u5e8f\u4e3b\u7c7b --master yes \u6307\u5b9aspark cluster master url\uff0c\u8bf7\u53c2\u89c1 master-urls e.g. spark://23.195.26.187:7077 -c / --config yes \u4e0a\u6587\u6240\u7f16\u5199\u7684\u914d\u7f6e\u6587\u4ef6\u8def\u5f84 -h / --hive no false \u7528\u4e8e\u6307\u5b9a\u662f\u5426\u652f\u6301 Hive -d / --directly no false true \u4e3a\u5ba2\u6237\u7aef\u65b9\u5f0f\u63d2\u5165\uff1b false \u4e3a sst \u65b9\u5f0f\u5bfc\u5165 (TODO) -D / --dry no false \u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e","title":"\u6267\u884c\u547d\u4ee4\u5bfc\u5165\u6570\u636e"},{"location":"manual-CN/3.build-develop-and-administration/5.storage-service-administration/data-import/spark-writer/#_14","text":"\u4e09\u53f0\u7269\u7406\u673a (56 \u6838\uff0c250G \u5185\u5b58\uff0c\u4e07\u5146\u7f51\uff0cSSD\uff09\uff0c\u5199 1 \u4ebf\u6761\u6570\u636e\uff08\u6bcf\u6761\u6570\u636e\u4e09\u4e2a\u5b57\u6bb5\uff0c\u6bcf\u4e2a batch 64 \u6761\u8bb0\u5f55\uff09\uff0c\u7528\u65f6 4 \u5206\u949f\uff0840\u4e07\u6761/\u79d2\uff09\u3002","title":"\u6027\u80fd\u6d4b\u8bd5\u7ed3\u679c"},{"location":"manual-CN/3.build-develop-and-administration/6.develop-and-interface/kv-interfaces/","text":"KV \u63a5\u53e3 \u00b6 \u63a5\u53e3\u793a\u4f8b \u00b6 Nebula Graph storage \u63d0\u4f9b key-value \u63a5\u53e3\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 StorageClient \u8fdb\u884c kv \u7684\u76f8\u5173\u64cd\u4f5c\uff0c\u8bf7\u6ce8\u610f\u7528\u6237\u4ecd\u7136\u9700\u8981\u901a\u8fc7 console \u6765\u521b\u5efa space\u3002\u76ee\u524d\u652f\u6301\u7684\u63a5\u53e3\u6709 Get \u548c Put\uff0c\u63a5\u53e3\u5982\u4e0b\u3002 folly :: SemiFuture < StorageRpcResponse < storage :: cpp2 :: ExecResponse >> put ( GraphSpaceID space , std :: vector < nebula :: cpp2 :: Pair > values , folly :: EventBase * evb = nullptr ); folly :: SemiFuture < StorageRpcResponse < storage :: cpp2 :: GeneralResponse >> get ( GraphSpaceID space , const std :: vector < std :: string >& keys , folly :: EventBase * evb = nullptr ); \u540e\u7eed\u5c06\u63d0\u4f9b remove\uff0cremoveRange \u4ee5\u53ca scan \u7684\u65b9\u6cd5\u3002 \u4e0b\u9762\u7ed3\u5408\u793a\u4f8b\u8bf4\u660e kv \u63a5\u53e3\u7684\u4f7f\u7528\u65b9\u6cd5\uff1a // Put \u63a5\u53e3 std :: vector < nebula :: cpp2 :: Pair > pairs ; for ( int32_t i = 0 ; i < 1000 ; i ++ ) { auto key = std :: to_string ( folly :: Random :: rand32 ( 1000000000 )); auto value = std :: to_string ( folly :: Random :: rand32 ( 1000000000 )); pairs . emplace_back ( apache :: thrift :: FragileConstructor :: FRAGILE , std :: move ( key ), std :: move ( value )); } // \u901a\u8fc7 StorageClient \u53d1\u9001\u8bf7\u6c42\uff0c\u76f8\u5e94\u7684\u53c2\u6570\u4e3a spaceId\uff0c\u4ee5\u53ca\u5199\u5165\u7684\u952e\u503c\u5bf9 auto future = storageClient -> put ( spaceId , std :: move ( pairs )); // \u83b7\u53d6\u7ed3\u679c auto resp = std :: move ( future ). get (); // Get \u63a5\u53e3 std :: vector < std :: string > keys ; for ( auto & pair : pairs ) { keys . emplace_back ( pair . first ); } // \u901a\u8fc7 StorageClient \u53d1\u9001\u8bf7\u6c42\uff0c\u76f8\u5e94\u7684\u53c2\u6570\u4e3a spaceId\uff0c\u4ee5\u53ca\u8981\u83b7\u53d6\u7684 keys auto future = storageClient -> get ( spaceId , std :: move ( keys )); // \u83b7\u53d6\u7ed3\u679c auto resp = std :: move ( future ). get () \u5904\u7406\u8fd4\u56de\u7ed3\u679c \u00b6 \u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u68c0\u67e5 rpc \u8fd4\u56de\u7ed3\u679c\u67e5\u770b\u76f8\u5e94\u64cd\u4f5c\u662f\u5426\u6210\u529f\u3002\u6b64\u5916\u7531\u4e8e\u6bcf\u4e2a Nebula Graph storage \u4e2d\u90fd\u5bf9\u6570\u636e\u8fdb\u884c\u4e86\u5206\u7247\uff0c\u56e0\u6b64\u5982\u679c\u5bf9\u5e94\u7684 Partition \u5931\u8d25\u4e86\uff0c\u4e5f\u4f1a\u8fd4\u56de\u6bcf\u4e2a\u5931\u8d25\u7684 Partition \u7684\u9519\u8bef\u7801\u3002\u82e5\u4efb\u610f\u4e00\u4e2a Partition \u5931\u8d25\uff0c\u5219\u6574\u4e2a\u8bf7\u6c42\u5931\u8d25(resp.succeeded()\u4e3a false)\uff0c\u4f46\u662f\u5176\u4ed6\u6210\u529f\u7684 Partition \u4ecd\u7136\u4f1a\u6210\u529f\u5199\u5165\u6216\u8bfb\u53d6\u3002 \u7528\u6237\u53ef\u4ee5\u8fdb\u884c\u91cd\u8bd5\uff0c\u76f4\u81f3\u6240\u6709\u8bf7\u6c42\u90fd\u6210\u529f\u3002\u76ee\u524d StorageClient \u4e0d\u652f\u6301\u81ea\u52a8\u91cd\u8bd5\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u9519\u8bef\u7801\u51b3\u5b9a\u662f\u5426\u8fdb\u884c\u91cd\u8bd5\u3002 // \u5224\u65ad\u8c03\u7528\u662f\u5426\u6210\u529f if ( ! resp . succeeded ()) { LOG ( ERROR ) << \"Operation Failed\" ; return ; } // \u5931\u8d25\u7684 Partition \u4ee5\u53ca\u76f8\u5e94\u7684\u9519\u8bef\u7801 if ( ! resp . failedParts (). empty ()) { for ( const auto & partEntry : resp . failedParts ()) { LOG ( ERROR ) << \"Operation Failed in \" << partEntry . first << \", Code: \" << static_cast < int32_t > ( partEntry . second ); } return ; } \u8bfb\u53d6\u8fd4\u56de\u503c \u00b6 \u5bf9\u4e8e Get \u63a5\u53e3\uff0c\u7528\u6237\u9700\u8981\u4e00\u4e9b\u64cd\u4f5c\u6765\u83b7\u53d6\u76f8\u5e94\u7684\u8fd4\u56de\u503c\u3002Nebula storage \u662f\u57fa\u4e8e Raft \u7684\u591a\u526f\u672c\uff0c\u6240\u6709\u8bfb\u5199\u64cd\u4f5c\u53ea\u80fd\u53d1\u9001\u7ed9\u5bf9\u5e94 partition \u7684 leader\u3002\u5f53\u4e00\u4e2a rpc \u8bf7\u6c42\u5305\u542b\u4e86\u591a\u4e2a\u8de8 partition \u7684 get \u65f6\uff0cStorage Client \u4f1a\u7ed9\u8bbf\u95ee\u8fd9\u4e9b key \u6240\u5bf9\u5e94\u7684 Partition leader\u3002\u6bcf\u4e2a rpc \u8fd4\u56de\u90fd\u5355\u72ec\u4fdd\u5b58\u5728\u4e00\u4e2a unordered_map \u4e2d\uff0c\u76ee\u524d\u8fd8\u9700\u8981\u7528\u6237\u5728\u8fd9\u4e9b unordered_map \u4e2d\u904d\u5386\u67e5\u627e key \u662f\u5426\u5b58\u5728\u3002\u793a\u4f8b\u5982\u4e0b\uff1a // \u67e5\u627e key \u5bf9\u5e94\u7684 value \u662f\u5426\u5728\u8fd4\u56de\u7ed3\u679c\u4e2d\uff0c\u5982\u679c\u5b58\u5728\uff0c\u5219\u4fdd\u5b58\u5728 value \u4e2d bool found = false ; std :: string value ; // resp.responses()\u4e2d\u662f\u591a\u4e2a storage server \u8fd4\u56de\u7684\u7ed3\u679c for ( const auto & result : resp . responses ()) { // result.values \u5373\u4e3a\u67d0\u4e2a storage server \u8fd4\u56de\u7684 key-value paris auto iter = result . values . find ( key ); if ( iter != result . values . end ()) { value = iter -> second ; found = true ; break ; } }","title":"Key Value API"},{"location":"manual-CN/3.build-develop-and-administration/6.develop-and-interface/kv-interfaces/#kv","text":"","title":"KV \u63a5\u53e3"},{"location":"manual-CN/3.build-develop-and-administration/6.develop-and-interface/kv-interfaces/#_1","text":"Nebula Graph storage \u63d0\u4f9b key-value \u63a5\u53e3\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 StorageClient \u8fdb\u884c kv \u7684\u76f8\u5173\u64cd\u4f5c\uff0c\u8bf7\u6ce8\u610f\u7528\u6237\u4ecd\u7136\u9700\u8981\u901a\u8fc7 console \u6765\u521b\u5efa space\u3002\u76ee\u524d\u652f\u6301\u7684\u63a5\u53e3\u6709 Get \u548c Put\uff0c\u63a5\u53e3\u5982\u4e0b\u3002 folly :: SemiFuture < StorageRpcResponse < storage :: cpp2 :: ExecResponse >> put ( GraphSpaceID space , std :: vector < nebula :: cpp2 :: Pair > values , folly :: EventBase * evb = nullptr ); folly :: SemiFuture < StorageRpcResponse < storage :: cpp2 :: GeneralResponse >> get ( GraphSpaceID space , const std :: vector < std :: string >& keys , folly :: EventBase * evb = nullptr ); \u540e\u7eed\u5c06\u63d0\u4f9b remove\uff0cremoveRange \u4ee5\u53ca scan \u7684\u65b9\u6cd5\u3002 \u4e0b\u9762\u7ed3\u5408\u793a\u4f8b\u8bf4\u660e kv \u63a5\u53e3\u7684\u4f7f\u7528\u65b9\u6cd5\uff1a // Put \u63a5\u53e3 std :: vector < nebula :: cpp2 :: Pair > pairs ; for ( int32_t i = 0 ; i < 1000 ; i ++ ) { auto key = std :: to_string ( folly :: Random :: rand32 ( 1000000000 )); auto value = std :: to_string ( folly :: Random :: rand32 ( 1000000000 )); pairs . emplace_back ( apache :: thrift :: FragileConstructor :: FRAGILE , std :: move ( key ), std :: move ( value )); } // \u901a\u8fc7 StorageClient \u53d1\u9001\u8bf7\u6c42\uff0c\u76f8\u5e94\u7684\u53c2\u6570\u4e3a spaceId\uff0c\u4ee5\u53ca\u5199\u5165\u7684\u952e\u503c\u5bf9 auto future = storageClient -> put ( spaceId , std :: move ( pairs )); // \u83b7\u53d6\u7ed3\u679c auto resp = std :: move ( future ). get (); // Get \u63a5\u53e3 std :: vector < std :: string > keys ; for ( auto & pair : pairs ) { keys . emplace_back ( pair . first ); } // \u901a\u8fc7 StorageClient \u53d1\u9001\u8bf7\u6c42\uff0c\u76f8\u5e94\u7684\u53c2\u6570\u4e3a spaceId\uff0c\u4ee5\u53ca\u8981\u83b7\u53d6\u7684 keys auto future = storageClient -> get ( spaceId , std :: move ( keys )); // \u83b7\u53d6\u7ed3\u679c auto resp = std :: move ( future ). get ()","title":"\u63a5\u53e3\u793a\u4f8b"},{"location":"manual-CN/3.build-develop-and-administration/6.develop-and-interface/kv-interfaces/#_2","text":"\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u68c0\u67e5 rpc \u8fd4\u56de\u7ed3\u679c\u67e5\u770b\u76f8\u5e94\u64cd\u4f5c\u662f\u5426\u6210\u529f\u3002\u6b64\u5916\u7531\u4e8e\u6bcf\u4e2a Nebula Graph storage \u4e2d\u90fd\u5bf9\u6570\u636e\u8fdb\u884c\u4e86\u5206\u7247\uff0c\u56e0\u6b64\u5982\u679c\u5bf9\u5e94\u7684 Partition \u5931\u8d25\u4e86\uff0c\u4e5f\u4f1a\u8fd4\u56de\u6bcf\u4e2a\u5931\u8d25\u7684 Partition \u7684\u9519\u8bef\u7801\u3002\u82e5\u4efb\u610f\u4e00\u4e2a Partition \u5931\u8d25\uff0c\u5219\u6574\u4e2a\u8bf7\u6c42\u5931\u8d25(resp.succeeded()\u4e3a false)\uff0c\u4f46\u662f\u5176\u4ed6\u6210\u529f\u7684 Partition \u4ecd\u7136\u4f1a\u6210\u529f\u5199\u5165\u6216\u8bfb\u53d6\u3002 \u7528\u6237\u53ef\u4ee5\u8fdb\u884c\u91cd\u8bd5\uff0c\u76f4\u81f3\u6240\u6709\u8bf7\u6c42\u90fd\u6210\u529f\u3002\u76ee\u524d StorageClient \u4e0d\u652f\u6301\u81ea\u52a8\u91cd\u8bd5\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u9519\u8bef\u7801\u51b3\u5b9a\u662f\u5426\u8fdb\u884c\u91cd\u8bd5\u3002 // \u5224\u65ad\u8c03\u7528\u662f\u5426\u6210\u529f if ( ! resp . succeeded ()) { LOG ( ERROR ) << \"Operation Failed\" ; return ; } // \u5931\u8d25\u7684 Partition \u4ee5\u53ca\u76f8\u5e94\u7684\u9519\u8bef\u7801 if ( ! resp . failedParts (). empty ()) { for ( const auto & partEntry : resp . failedParts ()) { LOG ( ERROR ) << \"Operation Failed in \" << partEntry . first << \", Code: \" << static_cast < int32_t > ( partEntry . second ); } return ; }","title":"\u5904\u7406\u8fd4\u56de\u7ed3\u679c"},{"location":"manual-CN/3.build-develop-and-administration/6.develop-and-interface/kv-interfaces/#_3","text":"\u5bf9\u4e8e Get \u63a5\u53e3\uff0c\u7528\u6237\u9700\u8981\u4e00\u4e9b\u64cd\u4f5c\u6765\u83b7\u53d6\u76f8\u5e94\u7684\u8fd4\u56de\u503c\u3002Nebula storage \u662f\u57fa\u4e8e Raft \u7684\u591a\u526f\u672c\uff0c\u6240\u6709\u8bfb\u5199\u64cd\u4f5c\u53ea\u80fd\u53d1\u9001\u7ed9\u5bf9\u5e94 partition \u7684 leader\u3002\u5f53\u4e00\u4e2a rpc \u8bf7\u6c42\u5305\u542b\u4e86\u591a\u4e2a\u8de8 partition \u7684 get \u65f6\uff0cStorage Client \u4f1a\u7ed9\u8bbf\u95ee\u8fd9\u4e9b key \u6240\u5bf9\u5e94\u7684 Partition leader\u3002\u6bcf\u4e2a rpc \u8fd4\u56de\u90fd\u5355\u72ec\u4fdd\u5b58\u5728\u4e00\u4e2a unordered_map \u4e2d\uff0c\u76ee\u524d\u8fd8\u9700\u8981\u7528\u6237\u5728\u8fd9\u4e9b unordered_map \u4e2d\u904d\u5386\u67e5\u627e key \u662f\u5426\u5b58\u5728\u3002\u793a\u4f8b\u5982\u4e0b\uff1a // \u67e5\u627e key \u5bf9\u5e94\u7684 value \u662f\u5426\u5728\u8fd4\u56de\u7ed3\u679c\u4e2d\uff0c\u5982\u679c\u5b58\u5728\uff0c\u5219\u4fdd\u5b58\u5728 value \u4e2d bool found = false ; std :: string value ; // resp.responses()\u4e2d\u662f\u591a\u4e2a storage server \u8fd4\u56de\u7684\u7ed3\u679c for ( const auto & result : resp . responses ()) { // result.values \u5373\u4e3a\u67d0\u4e2a storage server \u8fd4\u56de\u7684 key-value paris auto iter = result . values . find ( key ); if ( iter != result . values . end ()) { value = iter -> second ; found = true ; break ; } }","title":"\u8bfb\u53d6\u8fd4\u56de\u503c"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/1.metrics-exposer/","text":"Metrics Exposer \u00b6 \u8bbf\u95ee \u8fd9\u91cc \u3002","title":"Metrics"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/1.metrics-exposer/#metrics_exposer","text":"\u8bbf\u95ee \u8fd9\u91cc \u3002","title":"Metrics Exposer"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/2.meta-metrics/","text":"Meta Metrics \u00b6 \u4ecb\u7ecd \u00b6 \u76ee\u524d\uff0c Nebula Graph \u652f\u6301\u901a\u8fc7 HTTP \u65b9\u5f0f\u6765\u83b7\u53d6 Meta Service \u5c42\u7684\u57fa\u672c\u6027\u80fd\u6307\u6807\u3002 \u6bcf\u4e00\u4e2a\u6027\u80fd\u6307\u6807\u90fd\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff0c\u5206\u522b\u4e3a\u6307\u6807\u540d\u3001\u7edf\u8ba1\u7c7b\u578b\u3001\u65f6\u95f4\u8303\u56f4\u3002 counter_name statistic_type time_range \u6307\u6807\u540d \u00b6 \u6bcf\u4e2a\u6307\u6807\u540d\u90fd\u7531\u670d\u52a1\u540d\u52a0\u6a21\u5757\u540d\u6784\u6210\uff0cmeta \u53ea\u7edf\u8ba1\u5fc3\u8df3\u4fe1\u606f\uff0c\u76ee\u524d\u652f\u6301\u83b7\u53d6\u5982\u4e0b\u63a5\u53e3\uff1a meta_heartbeat_qps meta_heartbeat_error_qps meta_heartbeat_latency \u7edf\u8ba1\u7c7b\u578b \u00b6 \u76ee\u524d\u652f\u6301\u7684\u7edf\u8ba1\u7c7b\u578b\u6709 SUM\u3001COUNT\u3001AVG\u3001RATE \u548c P \u5206\u4f4d\u6570 (P99\uff0cP999\uff0c ... \uff0cP999999)\u3002\u5176\u4e2d\uff1a _qps \u3001 _error_qps \u540e\u7f00\u7684\u6307\u6807\uff0c\u652f\u6301 SUM\u3001COUNT\u3001AVG\u3001RATE\uff0c\u4f46\u4e0d\u652f\u6301 P \u5206\u4f4d\uff1b _latency \u540e\u7f00\u7684\u6307\u6807\uff0c\u652f\u6301 SUM\u3001COUNT\u3001AVG\u3001RATE\uff0c\u4e5f\u652f\u6301 P \u5206\u4f4d\u3002 \u65f6\u95f4\u8303\u56f4 \u00b6 \u65f6\u95f4\u8303\u56f4\u76ee\u524d\u53ea\u652f\u6301\u4e09\u79cd\uff0c\u5206\u522b\u4e3a 60\u3001600\u30013600\uff0c\u5206\u522b\u8868\u793a\u6700\u8fd1\u4e00\u5206\u949f\uff0c\u6700\u8fd1\u5341\u5206\u949f\u548c\u6700\u8fd1\u4e00\u5c0f\u65f6\u3002 \u901a\u8fc7 HTTP \u63a5\u53e3\u83b7\u53d6\u76f8\u5e94\u7684\u6027\u80fd\u6307\u6807 \u00b6 \u4e0b\u9762\u662f\u4e00\u4e9b\u793a\u4f8b\uff1a meta_heartbeat_qps . avg .60 // \u6700\u8fd1\u4e00\u5206\u949f\u5fc3\u8df3\u7684\u5e73\u5747 QPS meta_heartbeat_error_qps . count .60 // \u6700\u8fd1\u4e00\u5206\u949f\u5fc3\u8df3\u7684\u5e73\u5747\u9519\u8bef\u603b\u8ba1\u6570\u91cf meta_heartbeat_latency . avg .60 // \u6700\u8fd1\u4e00\u5206\u949f\u5fc3\u4e2d\u7684\u5e73\u5747\u5ef6\u65f6 \u5047\u8bbe\u672c\u5730\u542f\u52a8\u4e86\u4e00\u4e2a nebula meta service\uff0c\u540c\u65f6\u542f\u52a8\u65f6\u8bbe\u7f6e\u7684 ws_http_port \u7aef\u53e3\u53f7\u4e3a 11000\u3002\u901a\u8fc7 HTTP \u7684 GET \u63a5\u53e3\u53d1\u9001\uff0c\u65b9\u6cd5\u540d\u4e3a get_stats \uff0c\u53c2\u6570\u4e3a stats \u52a0\u5bf9\u5e94\u7684\u6307\u6807\u540d\u5b57\u3002\u4e0b\u9762\u662f\u901a\u8fc7 HTTP \u63a5\u53e3\u83b7\u53d6\u6307\u6807\u7684\u793a\u4f8b\uff1a # \u83b7\u53d6\u4e00\u4e2a\u6307\u6807 curl -G \"http://127.0.0.1:11000/get_stats?stats=meta_heartbeat_qps.avg.60\" # meta_heartbeat_qps.avg.60=580 # \u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6307\u6807 curl -G \"http://127.0.0.1:11000/get_stats?stats=meta_heartbeat_qps.avg.60,meta_heartbeat_error_qps.avg.60\" # meta_heartbeat_qps.avg.60=537 # meta_heartbeat_error_qps.avg.60=579 # \u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6307\u6807\u5e76\u4ee5 json \u683c\u5f0f\u8fd4\u56de curl -G \"http://127.0.0.1:11000/get_stats?stats=meta_heartbeat_qps.avg.60,meta_heartbeat_error_qps.avg.60&returnjson\" # [{\"value\":533,\"name\":\"meta_heartbeat_qps.avg.60\"},{\"value\":574,\"name\":\"meta_heartbeat_error_qps.avg.60\"}] # \u83b7\u53d6\u6240\u6709\u6307\u6807 curl -G \"http://127.0.0.1:11000/get_stats?stats\" # \u6216 curl -G \"http://127.0.0.1:11000/get_stats\"","title":"Meta Metrics"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/2.meta-metrics/#meta_metrics","text":"","title":"Meta Metrics"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/2.meta-metrics/#_1","text":"\u76ee\u524d\uff0c Nebula Graph \u652f\u6301\u901a\u8fc7 HTTP \u65b9\u5f0f\u6765\u83b7\u53d6 Meta Service \u5c42\u7684\u57fa\u672c\u6027\u80fd\u6307\u6807\u3002 \u6bcf\u4e00\u4e2a\u6027\u80fd\u6307\u6807\u90fd\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff0c\u5206\u522b\u4e3a\u6307\u6807\u540d\u3001\u7edf\u8ba1\u7c7b\u578b\u3001\u65f6\u95f4\u8303\u56f4\u3002 counter_name statistic_type time_range","title":"\u4ecb\u7ecd"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/2.meta-metrics/#_2","text":"\u6bcf\u4e2a\u6307\u6807\u540d\u90fd\u7531\u670d\u52a1\u540d\u52a0\u6a21\u5757\u540d\u6784\u6210\uff0cmeta \u53ea\u7edf\u8ba1\u5fc3\u8df3\u4fe1\u606f\uff0c\u76ee\u524d\u652f\u6301\u83b7\u53d6\u5982\u4e0b\u63a5\u53e3\uff1a meta_heartbeat_qps meta_heartbeat_error_qps meta_heartbeat_latency","title":"\u6307\u6807\u540d"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/2.meta-metrics/#_3","text":"\u76ee\u524d\u652f\u6301\u7684\u7edf\u8ba1\u7c7b\u578b\u6709 SUM\u3001COUNT\u3001AVG\u3001RATE \u548c P \u5206\u4f4d\u6570 (P99\uff0cP999\uff0c ... \uff0cP999999)\u3002\u5176\u4e2d\uff1a _qps \u3001 _error_qps \u540e\u7f00\u7684\u6307\u6807\uff0c\u652f\u6301 SUM\u3001COUNT\u3001AVG\u3001RATE\uff0c\u4f46\u4e0d\u652f\u6301 P \u5206\u4f4d\uff1b _latency \u540e\u7f00\u7684\u6307\u6807\uff0c\u652f\u6301 SUM\u3001COUNT\u3001AVG\u3001RATE\uff0c\u4e5f\u652f\u6301 P \u5206\u4f4d\u3002","title":"\u7edf\u8ba1\u7c7b\u578b"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/2.meta-metrics/#_4","text":"\u65f6\u95f4\u8303\u56f4\u76ee\u524d\u53ea\u652f\u6301\u4e09\u79cd\uff0c\u5206\u522b\u4e3a 60\u3001600\u30013600\uff0c\u5206\u522b\u8868\u793a\u6700\u8fd1\u4e00\u5206\u949f\uff0c\u6700\u8fd1\u5341\u5206\u949f\u548c\u6700\u8fd1\u4e00\u5c0f\u65f6\u3002","title":"\u65f6\u95f4\u8303\u56f4"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/2.meta-metrics/#http","text":"\u4e0b\u9762\u662f\u4e00\u4e9b\u793a\u4f8b\uff1a meta_heartbeat_qps . avg .60 // \u6700\u8fd1\u4e00\u5206\u949f\u5fc3\u8df3\u7684\u5e73\u5747 QPS meta_heartbeat_error_qps . count .60 // \u6700\u8fd1\u4e00\u5206\u949f\u5fc3\u8df3\u7684\u5e73\u5747\u9519\u8bef\u603b\u8ba1\u6570\u91cf meta_heartbeat_latency . avg .60 // \u6700\u8fd1\u4e00\u5206\u949f\u5fc3\u4e2d\u7684\u5e73\u5747\u5ef6\u65f6 \u5047\u8bbe\u672c\u5730\u542f\u52a8\u4e86\u4e00\u4e2a nebula meta service\uff0c\u540c\u65f6\u542f\u52a8\u65f6\u8bbe\u7f6e\u7684 ws_http_port \u7aef\u53e3\u53f7\u4e3a 11000\u3002\u901a\u8fc7 HTTP \u7684 GET \u63a5\u53e3\u53d1\u9001\uff0c\u65b9\u6cd5\u540d\u4e3a get_stats \uff0c\u53c2\u6570\u4e3a stats \u52a0\u5bf9\u5e94\u7684\u6307\u6807\u540d\u5b57\u3002\u4e0b\u9762\u662f\u901a\u8fc7 HTTP \u63a5\u53e3\u83b7\u53d6\u6307\u6807\u7684\u793a\u4f8b\uff1a # \u83b7\u53d6\u4e00\u4e2a\u6307\u6807 curl -G \"http://127.0.0.1:11000/get_stats?stats=meta_heartbeat_qps.avg.60\" # meta_heartbeat_qps.avg.60=580 # \u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6307\u6807 curl -G \"http://127.0.0.1:11000/get_stats?stats=meta_heartbeat_qps.avg.60,meta_heartbeat_error_qps.avg.60\" # meta_heartbeat_qps.avg.60=537 # meta_heartbeat_error_qps.avg.60=579 # \u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6307\u6807\u5e76\u4ee5 json \u683c\u5f0f\u8fd4\u56de curl -G \"http://127.0.0.1:11000/get_stats?stats=meta_heartbeat_qps.avg.60,meta_heartbeat_error_qps.avg.60&returnjson\" # [{\"value\":533,\"name\":\"meta_heartbeat_qps.avg.60\"},{\"value\":574,\"name\":\"meta_heartbeat_error_qps.avg.60\"}] # \u83b7\u53d6\u6240\u6709\u6307\u6807 curl -G \"http://127.0.0.1:11000/get_stats?stats\" # \u6216 curl -G \"http://127.0.0.1:11000/get_stats\"","title":"\u901a\u8fc7 HTTP \u63a5\u53e3\u83b7\u53d6\u76f8\u5e94\u7684\u6027\u80fd\u6307\u6807"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/3.storage-metrics/","text":"Storage Metrics \u00b6 \u4ecb\u7ecd \u00b6 \u76ee\u524d\uff0c Nebula Graph \u652f\u6301\u901a\u8fc7 HTTP \u65b9\u5f0f\u6765\u83b7\u53d6 Storage Service \u5c42\u7684\u57fa\u672c\u6027\u80fd\u6307\u6807\u3002 \u6bcf\u4e00\u4e2a\u6027\u80fd\u6307\u6807\u90fd\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff0c\u5206\u522b\u4e3a\u6307\u6807\u540d\u3001\u7edf\u8ba1\u7c7b\u578b\u3001\u65f6\u95f4\u8303\u56f4\u3002 counter_name statistic_type time_range \u4e0b\u9762\u5c06\u5206\u522b\u4ecb\u7ecd\u8fd9\u4e09\u90e8\u5206\u3002 \u6307\u6807\u540d \u00b6 \u6bcf\u4e2a\u6307\u6807\u540d\u90fd\u7531\u670d\u52a1\u540d\u52a0\u6a21\u5757\u540d\u6784\u6210\uff0c\u76ee\u524d\u652f\u6301\u83b7\u53d6\u5982\u4e0b\u63a5\u53e3\uff1a \u83b7\u53d6\u70b9\u7684\u5c5e\u6027 storage_vertex_props \u83b7\u53d6\u8fb9\u7684\u5c5e\u6027 storage_edge_props \u63d2\u5165\u4e00\u4e2a\u70b9 storage_add_vertex \u63d2\u5165\u4e00\u6761\u8fb9 storage_add_edge \u5220\u9664\u4e00\u4e2a\u70b9 storage_del_vertex \u66f4\u65b0\u4e00\u4e2a\u70b9\u7684\u5c5e\u6027 storage_update_vertex \u66f4\u65b0\u4e00\u6761\u8fb9\u7684\u5c5e\u6027 storage_update_edge \u8bfb\u53d6\u4e00\u4e2a\u952e\u503c\u5bf9 storage_get_kv \u5199\u5165\u4e00\u4e2a\u952e\u503c\u5bf9 storage_put_kv \u4ec5\u9650\u5185\u90e8\u4f7f\u7528 storage_get_bound \u6bcf\u4e00\u4e2a\u63a5\u53e3\u90fd\u6709\u4e09\u4e2a\u6027\u80fd\u6307\u6807\uff0c\u5206\u522b\u4e3a\u5ef6\u8fdf(\u5355\u4f4d\u4e3a us)\u3001\u6210\u529f\u7684 QPS\u3001\u53d1\u751f\u9519\u8bef\u7684 QPS\uff0c\u540e\u7f00\u540d\u5982\u4e0b\uff1a _latency _qps _error_qps \u5c06\u63a5\u53e3\u540d\u548c\u76f8\u5e94\u6307\u6807\u8fde\u63a5\u5728\u4e00\u8d77\u5373\u53ef\u83b7\u5f97\u5b8c\u6574\u7684\u6307\u6807\u540d\uff0c\u4f8b\u5982 storage_add_vertex_latency \u3001 storage_add_vertex_qps \u3001 storage_add_vertex_error_qps \u5206\u522b\u4ee3\u8868\u63d2\u5165\u4e00\u4e2a\u70b9\u7684\u5ef6\u8fdf\u3001QPS \u548c\u53d1\u751f\u9519\u8bef\u7684 QPS\u3002 \u7edf\u8ba1\u7c7b\u578b \u00b6 \u76ee\u524d\u652f\u6301\u7684\u7edf\u8ba1\u7c7b\u578b\u6709 SUM\u3001COUNT\u3001AVG\u3001RATE \u548c P \u5206\u4f4d\u6570 (P99\uff0cP999\uff0c ... \uff0cP999999)\u3002\u5176\u4e2d\uff1a _qps \u3001 _error_qps \u540e\u7f00\u7684\u6307\u6807\uff0c\u652f\u6301 SUM\u3001COUNT\u3001AVG\u3001RATE\uff0c\u4f46\u4e0d\u652f\u6301 P \u5206\u4f4d\uff1b _latency \u540e\u7f00\u7684\u6307\u6807\uff0c\u652f\u6301 SUM\u3001COUNT\u3001AVG\u3001RATE\uff0c\u4e5f\u652f\u6301 P \u5206\u4f4d\u3002 \u65f6\u95f4\u8303\u56f4 \u00b6 \u65f6\u95f4\u8303\u56f4\u76ee\u524d\u53ea\u652f\u6301\u4e09\u79cd\uff0c\u5206\u522b\u4e3a 60\u3001600\u30013600\uff0c\u5206\u522b\u8868\u793a\u6700\u8fd1\u4e00\u5206\u949f\u3001\u6700\u8fd1\u5341\u5206\u949f\u548c\u6700\u8fd1\u4e00\u5c0f\u65f6\u3002 \u901a\u8fc7 HTTP \u63a5\u53e3\u83b7\u53d6\u76f8\u5e94\u7684\u6027\u80fd\u6307\u6807 \u00b6 \u6839\u636e\u4e0a\u9762\u7684\u4ecb\u7ecd\uff0c\u5c31\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u5b8c\u6574\u7684\u6307\u6807\u540d\u79f0\u4e86\uff0c\u4e0b\u9762\u662f\u4e00\u4e9b\u793a\u4f8b\uff1a storage_add_vertex_latency . avg .60 // \u6700\u8fd1\u4e00\u5206\u949f\u63d2\u5165\u4e00\u4e2a\u70b9\u7684\u5e73\u5747\u5ef6\u65f6 storage_get_bound_qps . rate .600 // \u6700\u8fd1\u5341\u5206\u949f\u83b7\u53d6\u90bb\u70b9\u7684 QPS storage_update_edge_error_qps . count .3600 // \u6700\u8fd1\u4e00\u5c0f\u65f6\u66f4\u65b0\u4e00\u6761\u8fb9\u53d1\u751f\u9519\u8bef\u7684\u603b\u8ba1\u6570\u91cf \u5047\u8bbe\u672c\u5730\u542f\u52a8\u4e86\u4e00\u4e2a nebula storage service\uff0c\u540c\u65f6\u542f\u52a8\u65f6\u8bbe\u7f6e\u7684 ws_http_port \u7aef\u53e3\u53f7\u4e3a 12000\u3002\u901a\u8fc7 HTTP \u7684 GET \u63a5\u53e3\u53d1\u9001\uff0c\u65b9\u6cd5\u540d\u4e3a get_stats \uff0c\u53c2\u6570\u4e3a stats \u52a0\u5bf9\u5e94\u7684\u6307\u6807\u540d\u5b57\u3002\u4e0b\u9762\u662f\u901a\u8fc7 HTTP \u63a5\u53e3\u83b7\u53d6\u6307\u6807\u7684\u793a\u4f8b\uff1a # \u83b7\u53d6\u4e00\u4e2a\u6307\u6807 curl -G \"http://127.0.0.1:12000/get_stats?stats=storage_vertex_props_qps.rate.60\" # storage_vertex_props_qps.rate.60=2674 # \u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6307\u6807 curl -G \"http://127.0.0.1:12000/get_stats?stats=storage_vertex_props_qps.rate.60,storage_vertex_props_latency.avg.60\" # storage_vertex_props_qps.rate.60=2638 # storage_vertex_props_latency.avg.60=812 # \u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6307\u6807\u5e76\u4ee5 json \u683c\u5f0f\u8fd4\u56de curl -G \"http://127.0.0.1:12000/get_stats?stats=storage_vertex_props_qps.rate.60,storage_vertex_props_latency.avg.60&returnjson\" # [{\"value\":2723,\"name\":\"storage_vertex_props_qps.rate.60\"},{\"value\":804,\"name\":\"storage_vertex_props_latency.avg.60\"}] # \u83b7\u53d6\u6240\u6709\u6307\u6807 curl -G \"http://127.0.0.1:12000/get_stats?stats\" # \u6216 curl -G \"http://127.0.0.1:12000/get_stats\"","title":"Storage Metrics"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/3.storage-metrics/#storage_metrics","text":"","title":"Storage Metrics"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/3.storage-metrics/#_1","text":"\u76ee\u524d\uff0c Nebula Graph \u652f\u6301\u901a\u8fc7 HTTP \u65b9\u5f0f\u6765\u83b7\u53d6 Storage Service \u5c42\u7684\u57fa\u672c\u6027\u80fd\u6307\u6807\u3002 \u6bcf\u4e00\u4e2a\u6027\u80fd\u6307\u6807\u90fd\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff0c\u5206\u522b\u4e3a\u6307\u6807\u540d\u3001\u7edf\u8ba1\u7c7b\u578b\u3001\u65f6\u95f4\u8303\u56f4\u3002 counter_name statistic_type time_range \u4e0b\u9762\u5c06\u5206\u522b\u4ecb\u7ecd\u8fd9\u4e09\u90e8\u5206\u3002","title":"\u4ecb\u7ecd"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/3.storage-metrics/#_2","text":"\u6bcf\u4e2a\u6307\u6807\u540d\u90fd\u7531\u670d\u52a1\u540d\u52a0\u6a21\u5757\u540d\u6784\u6210\uff0c\u76ee\u524d\u652f\u6301\u83b7\u53d6\u5982\u4e0b\u63a5\u53e3\uff1a \u83b7\u53d6\u70b9\u7684\u5c5e\u6027 storage_vertex_props \u83b7\u53d6\u8fb9\u7684\u5c5e\u6027 storage_edge_props \u63d2\u5165\u4e00\u4e2a\u70b9 storage_add_vertex \u63d2\u5165\u4e00\u6761\u8fb9 storage_add_edge \u5220\u9664\u4e00\u4e2a\u70b9 storage_del_vertex \u66f4\u65b0\u4e00\u4e2a\u70b9\u7684\u5c5e\u6027 storage_update_vertex \u66f4\u65b0\u4e00\u6761\u8fb9\u7684\u5c5e\u6027 storage_update_edge \u8bfb\u53d6\u4e00\u4e2a\u952e\u503c\u5bf9 storage_get_kv \u5199\u5165\u4e00\u4e2a\u952e\u503c\u5bf9 storage_put_kv \u4ec5\u9650\u5185\u90e8\u4f7f\u7528 storage_get_bound \u6bcf\u4e00\u4e2a\u63a5\u53e3\u90fd\u6709\u4e09\u4e2a\u6027\u80fd\u6307\u6807\uff0c\u5206\u522b\u4e3a\u5ef6\u8fdf(\u5355\u4f4d\u4e3a us)\u3001\u6210\u529f\u7684 QPS\u3001\u53d1\u751f\u9519\u8bef\u7684 QPS\uff0c\u540e\u7f00\u540d\u5982\u4e0b\uff1a _latency _qps _error_qps \u5c06\u63a5\u53e3\u540d\u548c\u76f8\u5e94\u6307\u6807\u8fde\u63a5\u5728\u4e00\u8d77\u5373\u53ef\u83b7\u5f97\u5b8c\u6574\u7684\u6307\u6807\u540d\uff0c\u4f8b\u5982 storage_add_vertex_latency \u3001 storage_add_vertex_qps \u3001 storage_add_vertex_error_qps \u5206\u522b\u4ee3\u8868\u63d2\u5165\u4e00\u4e2a\u70b9\u7684\u5ef6\u8fdf\u3001QPS \u548c\u53d1\u751f\u9519\u8bef\u7684 QPS\u3002","title":"\u6307\u6807\u540d"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/3.storage-metrics/#_3","text":"\u76ee\u524d\u652f\u6301\u7684\u7edf\u8ba1\u7c7b\u578b\u6709 SUM\u3001COUNT\u3001AVG\u3001RATE \u548c P \u5206\u4f4d\u6570 (P99\uff0cP999\uff0c ... \uff0cP999999)\u3002\u5176\u4e2d\uff1a _qps \u3001 _error_qps \u540e\u7f00\u7684\u6307\u6807\uff0c\u652f\u6301 SUM\u3001COUNT\u3001AVG\u3001RATE\uff0c\u4f46\u4e0d\u652f\u6301 P \u5206\u4f4d\uff1b _latency \u540e\u7f00\u7684\u6307\u6807\uff0c\u652f\u6301 SUM\u3001COUNT\u3001AVG\u3001RATE\uff0c\u4e5f\u652f\u6301 P \u5206\u4f4d\u3002","title":"\u7edf\u8ba1\u7c7b\u578b"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/3.storage-metrics/#_4","text":"\u65f6\u95f4\u8303\u56f4\u76ee\u524d\u53ea\u652f\u6301\u4e09\u79cd\uff0c\u5206\u522b\u4e3a 60\u3001600\u30013600\uff0c\u5206\u522b\u8868\u793a\u6700\u8fd1\u4e00\u5206\u949f\u3001\u6700\u8fd1\u5341\u5206\u949f\u548c\u6700\u8fd1\u4e00\u5c0f\u65f6\u3002","title":"\u65f6\u95f4\u8303\u56f4"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/3.storage-metrics/#http","text":"\u6839\u636e\u4e0a\u9762\u7684\u4ecb\u7ecd\uff0c\u5c31\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u5b8c\u6574\u7684\u6307\u6807\u540d\u79f0\u4e86\uff0c\u4e0b\u9762\u662f\u4e00\u4e9b\u793a\u4f8b\uff1a storage_add_vertex_latency . avg .60 // \u6700\u8fd1\u4e00\u5206\u949f\u63d2\u5165\u4e00\u4e2a\u70b9\u7684\u5e73\u5747\u5ef6\u65f6 storage_get_bound_qps . rate .600 // \u6700\u8fd1\u5341\u5206\u949f\u83b7\u53d6\u90bb\u70b9\u7684 QPS storage_update_edge_error_qps . count .3600 // \u6700\u8fd1\u4e00\u5c0f\u65f6\u66f4\u65b0\u4e00\u6761\u8fb9\u53d1\u751f\u9519\u8bef\u7684\u603b\u8ba1\u6570\u91cf \u5047\u8bbe\u672c\u5730\u542f\u52a8\u4e86\u4e00\u4e2a nebula storage service\uff0c\u540c\u65f6\u542f\u52a8\u65f6\u8bbe\u7f6e\u7684 ws_http_port \u7aef\u53e3\u53f7\u4e3a 12000\u3002\u901a\u8fc7 HTTP \u7684 GET \u63a5\u53e3\u53d1\u9001\uff0c\u65b9\u6cd5\u540d\u4e3a get_stats \uff0c\u53c2\u6570\u4e3a stats \u52a0\u5bf9\u5e94\u7684\u6307\u6807\u540d\u5b57\u3002\u4e0b\u9762\u662f\u901a\u8fc7 HTTP \u63a5\u53e3\u83b7\u53d6\u6307\u6807\u7684\u793a\u4f8b\uff1a # \u83b7\u53d6\u4e00\u4e2a\u6307\u6807 curl -G \"http://127.0.0.1:12000/get_stats?stats=storage_vertex_props_qps.rate.60\" # storage_vertex_props_qps.rate.60=2674 # \u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6307\u6807 curl -G \"http://127.0.0.1:12000/get_stats?stats=storage_vertex_props_qps.rate.60,storage_vertex_props_latency.avg.60\" # storage_vertex_props_qps.rate.60=2638 # storage_vertex_props_latency.avg.60=812 # \u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6307\u6807\u5e76\u4ee5 json \u683c\u5f0f\u8fd4\u56de curl -G \"http://127.0.0.1:12000/get_stats?stats=storage_vertex_props_qps.rate.60,storage_vertex_props_latency.avg.60&returnjson\" # [{\"value\":2723,\"name\":\"storage_vertex_props_qps.rate.60\"},{\"value\":804,\"name\":\"storage_vertex_props_latency.avg.60\"}] # \u83b7\u53d6\u6240\u6709\u6307\u6807 curl -G \"http://127.0.0.1:12000/get_stats?stats\" # \u6216 curl -G \"http://127.0.0.1:12000/get_stats\"","title":"\u901a\u8fc7 HTTP \u63a5\u53e3\u83b7\u53d6\u76f8\u5e94\u7684\u6027\u80fd\u6307\u6807"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/4.graph-metrics/","text":"Graph Metrics \u00b6 \u4ecb\u7ecd \u00b6 \u76ee\u524d\uff0c Nebula Graph \u652f\u6301\u901a\u8fc7 HTTP \u65b9\u5f0f\u6765\u83b7\u53d6 Graph Service \u5c42\u7684\u57fa\u672c\u6027\u80fd\u6307\u6807\u3002 \u6bcf\u4e00\u4e2a\u6027\u80fd\u6307\u6807\u90fd\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff0c\u5206\u522b\u4e3a\u6307\u6807\u540d\u3001\u7edf\u8ba1\u7c7b\u578b\u3001\u65f6\u95f4\u8303\u56f4\u3002 counter_name statistic_type time_range \u6307\u6807\u540d \u00b6 \u6bcf\u4e2a\u6307\u6807\u540d\u90fd\u7531\u670d\u52a1\u540d\u52a0\u6a21\u5757\u540d\u6784\u6210\uff0c\u76ee\u524d\u652f\u6301\u83b7\u53d6\u5982\u4e0b\u63a5\u53e3\uff1a \u901a\u8fc7 storageClient \u53d1\u9001\u7684\u8bf7\u6c42\uff0c\u9700\u8981\u540c\u65f6\u5411\u591a\u4e2a storage \u5e76\u53d1\u591a\u6761\u6d88\u606f\u65f6\uff0c\u6309\u4e00\u6b21\u7edf\u8ba1 graph_storageClient \u901a\u8fc7 metaClient \u53d1\u9001\u7684\u8bf7\u6c42 graph_graph_all \u5ba2\u6237\u7aef\u5411 graph \u53d1\u9001\u7684\u8bf7\u6c42\uff0c\u5f53\u4e00\u6761\u8bf7\u6c42\u5305\u542b\u591a\u6761\u8bed\u53e5\u65f6\uff0c\u6309\u4e00\u6761\u8ba1\u7b97 graph_metaClient \u63d2\u5165\u70b9 graph_insertVertex \u63d2\u5165\u8fb9 graph_insertEdge \u5220\u9664\u70b9 graph_deleteVertex \u5220\u9664\u8fb9 graph_deleteEdge //\u672a\u652f\u6301 \u66f4\u65b0\u70b9\u7684\u5c5e\u6027 graph_updateVertex \u66f4\u65b0\u8fb9\u7684\u5c5e\u6027 graph_updateEdge \u6267\u884c go \u547d\u4ee4 graph_go \u67e5\u627e\u6700\u5c0f\u8def\u5f84\u6216\u8005\u5168\u8def\u5f84 graph_findPath \u83b7\u53d6\u70b9\u5c5e\u6027\uff0c\u4e0d\u7edf\u8ba1\u83b7\u53d6\u70b9\u7684\u603b\u6570\uff0c\u53ea\u7edf\u8ba1\u6267\u884c\u547d\u4ee4\u7684\u6570\u91cf graph_fetchVertex \u83b7\u53d6\u8fb9\u5c5e\u6027\uff0c\u4e0d\u7edf\u8ba1\u8fb9\u7684\u603b\u6570\uff0c\u53ea\u7edf\u8ba1\u6267\u884c\u547d\u4ee4\u7684\u6570\u91cf graph_fetchEdge \u6bcf\u4e00\u4e2a\u63a5\u53e3\u90fd\u6709\u4e09\u4e2a\u6027\u80fd\u6307\u6807\uff0c\u5206\u522b\u4e3a\u5ef6\u8fdf(\u5355\u4f4d\u4e3a us)\u3001\u6210\u529f\u7684 QPS\u3001\u53d1\u751f\u9519\u8bef\u7684 QPS\uff0c\u540e\u7f00\u540d\u5982\u4e0b\uff1a _latency _qps _error_qps \u5c06\u63a5\u53e3\u540d\u548c\u76f8\u5e94\u6307\u6807\u8fde\u63a5\u5728\u4e00\u8d77\u5373\u53ef\u83b7\u5f97\u5b8c\u6574\u7684\u6307\u6807\u540d\uff0c\u4f8b\u5982 graph_insertVertex_latency \u3001 graph_insertVertex_qps \u3001 graph_insertVertex_error_qps \u3001\u5206\u522b\u4ee3\u8868\u63d2\u5165\u4e00\u4e2a\u70b9\u7684\u5ef6\u8fdf\u3001QPS \u548c\u53d1\u751f\u9519\u8bef\u7684 QPS\u3002 \u7edf\u8ba1\u7c7b\u578b \u00b6 \u76ee\u524d\u652f\u6301\u7684\u7edf\u8ba1\u7c7b\u578b\u6709 SUM\u3001COUNT\u3001AVG\u3001RATE \u548c P \u5206\u4f4d\u6570 (P99\uff0cP999\uff0c ... \uff0cP999999)\u3002\u5176\u4e2d\uff1a _qps \u3001 _error_qps \u540e\u7f00\u7684\u6307\u6807\uff0c\u652f\u6301 SUM\u3001COUNT\u3001AVG\u3001RATE\uff0c\u4f46\u4e0d\u652f\u6301 P \u5206\u4f4d\uff1b _latency \u540e\u7f00\u7684\u6307\u6807\uff0c\u652f\u6301 SUM\u3001COUNT\u3001AVG\u3001RATE\uff0c\u4e5f\u652f\u6301 P \u5206\u4f4d\u3002 \u65f6\u95f4\u8303\u56f4 \u00b6 \u65f6\u95f4\u8303\u56f4\u76ee\u524d\u53ea\u652f\u6301\u4e09\u79cd\uff0c\u5206\u522b\u4e3a 60\u3001600\u30013600\uff0c\u5206\u522b\u8868\u793a\u6700\u8fd1\u4e00\u5206\u949f\uff0c\u6700\u8fd1\u5341\u5206\u949f\u548c\u6700\u8fd1\u4e00\u5c0f\u65f6\u3002 \u901a\u8fc7 HTTP \u63a5\u53e3\u83b7\u53d6\u76f8\u5e94\u7684\u6027\u80fd\u6307\u6807 \u00b6 \u6839\u636e\u4e0a\u9762\u7684\u4ecb\u7ecd\uff0c\u5c31\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u5b8c\u6574\u7684\u6307\u6807\u540d\u79f0\u4e86\uff0c\u4e0b\u9762\u662f\u4e00\u4e9b\u793a\u4f8b\uff1a graph_insertVertex_latency . avg .60 // \u6700\u8fd1\u4e00\u5206\u949f\u63d2\u5165\u70b9\u547d\u4ee4\u6267\u884c\u6210\u529f\u7684\u5e73\u5747\u5ef6\u65f6 graph_updateEdge_error_qps . count .3600 // \u6700\u8fd1\u4e00\u5c0f\u65f6\u66f4\u65b0\u8fb9\u547d\u4ee4\u5931\u8d25\u7684\u603b\u8ba1\u6570\u91cf \u5047\u8bbe\u672c\u5730\u542f\u52a8\u4e86\u4e00\u4e2a nebula graph service\uff0c\u540c\u65f6\u542f\u52a8\u65f6\u8bbe\u7f6e\u7684 ws_http_port \u7aef\u53e3\u53f7\u4e3a 13000\u3002\u901a\u8fc7 HTTP \u7684 GET \u63a5\u53e3\u53d1\u9001\uff0c\u65b9\u6cd5\u540d\u4e3a get_stats \uff0c\u53c2\u6570\u4e3a stats \u52a0\u5bf9\u5e94\u7684\u6307\u6807\u540d\u5b57\u3002\u4e0b\u9762\u662f\u901a\u8fc7 HTTP \u63a5\u53e3\u83b7\u53d6\u6307\u6807\u7684\u793a\u4f8b\uff1a # \u83b7\u53d6\u4e00\u4e2a\u6307\u6807 curl -G \"http://127.0.0.1:13000/get_stats?stats=graph_insertVertex_qps.rate.60\" # graph_insertVertex_qps.rate.60=3069 # \u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6307\u6807 curl -G \"http://127.0.0.1:13000/get_stats?stats=graph_insertVertex_qps.rate.60, graph_deleteVertex_latency.avg.60\" # graph_insertVertex_qps.rate.60=3069 # graph_deleteVertex_latency.avg.60=837 # \u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6307\u6807\u5e76\u4ee5 json \u683c\u5f0f\u8fd4\u56de curl -G \"http://127.0.0.1:13000/get_stats?stats=graph_insertVertex_qps.rate.60, graph_deleteVertex_latency.avg.60&returnjson\" # [{\"value\":2373,\"name\":\"graph_insertVertex_qps.rate.60\"},{\"value\":760,\"name\":\"graph_deleteVertex_latency.avg.60\"}] # \u83b7\u53d6\u6240\u6709\u6307\u6807 curl -G \"http://127.0.0.1:13000/get_stats?stats\" # \u6216 curl -G \"http://127.0.0.1:13000/get_stats\"","title":"Graph Metrics"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/4.graph-metrics/#graph_metrics","text":"","title":"Graph Metrics"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/4.graph-metrics/#_1","text":"\u76ee\u524d\uff0c Nebula Graph \u652f\u6301\u901a\u8fc7 HTTP \u65b9\u5f0f\u6765\u83b7\u53d6 Graph Service \u5c42\u7684\u57fa\u672c\u6027\u80fd\u6307\u6807\u3002 \u6bcf\u4e00\u4e2a\u6027\u80fd\u6307\u6807\u90fd\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff0c\u5206\u522b\u4e3a\u6307\u6807\u540d\u3001\u7edf\u8ba1\u7c7b\u578b\u3001\u65f6\u95f4\u8303\u56f4\u3002 counter_name statistic_type time_range","title":"\u4ecb\u7ecd"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/4.graph-metrics/#_2","text":"\u6bcf\u4e2a\u6307\u6807\u540d\u90fd\u7531\u670d\u52a1\u540d\u52a0\u6a21\u5757\u540d\u6784\u6210\uff0c\u76ee\u524d\u652f\u6301\u83b7\u53d6\u5982\u4e0b\u63a5\u53e3\uff1a \u901a\u8fc7 storageClient \u53d1\u9001\u7684\u8bf7\u6c42\uff0c\u9700\u8981\u540c\u65f6\u5411\u591a\u4e2a storage \u5e76\u53d1\u591a\u6761\u6d88\u606f\u65f6\uff0c\u6309\u4e00\u6b21\u7edf\u8ba1 graph_storageClient \u901a\u8fc7 metaClient \u53d1\u9001\u7684\u8bf7\u6c42 graph_graph_all \u5ba2\u6237\u7aef\u5411 graph \u53d1\u9001\u7684\u8bf7\u6c42\uff0c\u5f53\u4e00\u6761\u8bf7\u6c42\u5305\u542b\u591a\u6761\u8bed\u53e5\u65f6\uff0c\u6309\u4e00\u6761\u8ba1\u7b97 graph_metaClient \u63d2\u5165\u70b9 graph_insertVertex \u63d2\u5165\u8fb9 graph_insertEdge \u5220\u9664\u70b9 graph_deleteVertex \u5220\u9664\u8fb9 graph_deleteEdge //\u672a\u652f\u6301 \u66f4\u65b0\u70b9\u7684\u5c5e\u6027 graph_updateVertex \u66f4\u65b0\u8fb9\u7684\u5c5e\u6027 graph_updateEdge \u6267\u884c go \u547d\u4ee4 graph_go \u67e5\u627e\u6700\u5c0f\u8def\u5f84\u6216\u8005\u5168\u8def\u5f84 graph_findPath \u83b7\u53d6\u70b9\u5c5e\u6027\uff0c\u4e0d\u7edf\u8ba1\u83b7\u53d6\u70b9\u7684\u603b\u6570\uff0c\u53ea\u7edf\u8ba1\u6267\u884c\u547d\u4ee4\u7684\u6570\u91cf graph_fetchVertex \u83b7\u53d6\u8fb9\u5c5e\u6027\uff0c\u4e0d\u7edf\u8ba1\u8fb9\u7684\u603b\u6570\uff0c\u53ea\u7edf\u8ba1\u6267\u884c\u547d\u4ee4\u7684\u6570\u91cf graph_fetchEdge \u6bcf\u4e00\u4e2a\u63a5\u53e3\u90fd\u6709\u4e09\u4e2a\u6027\u80fd\u6307\u6807\uff0c\u5206\u522b\u4e3a\u5ef6\u8fdf(\u5355\u4f4d\u4e3a us)\u3001\u6210\u529f\u7684 QPS\u3001\u53d1\u751f\u9519\u8bef\u7684 QPS\uff0c\u540e\u7f00\u540d\u5982\u4e0b\uff1a _latency _qps _error_qps \u5c06\u63a5\u53e3\u540d\u548c\u76f8\u5e94\u6307\u6807\u8fde\u63a5\u5728\u4e00\u8d77\u5373\u53ef\u83b7\u5f97\u5b8c\u6574\u7684\u6307\u6807\u540d\uff0c\u4f8b\u5982 graph_insertVertex_latency \u3001 graph_insertVertex_qps \u3001 graph_insertVertex_error_qps \u3001\u5206\u522b\u4ee3\u8868\u63d2\u5165\u4e00\u4e2a\u70b9\u7684\u5ef6\u8fdf\u3001QPS \u548c\u53d1\u751f\u9519\u8bef\u7684 QPS\u3002","title":"\u6307\u6807\u540d"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/4.graph-metrics/#_3","text":"\u76ee\u524d\u652f\u6301\u7684\u7edf\u8ba1\u7c7b\u578b\u6709 SUM\u3001COUNT\u3001AVG\u3001RATE \u548c P \u5206\u4f4d\u6570 (P99\uff0cP999\uff0c ... \uff0cP999999)\u3002\u5176\u4e2d\uff1a _qps \u3001 _error_qps \u540e\u7f00\u7684\u6307\u6807\uff0c\u652f\u6301 SUM\u3001COUNT\u3001AVG\u3001RATE\uff0c\u4f46\u4e0d\u652f\u6301 P \u5206\u4f4d\uff1b _latency \u540e\u7f00\u7684\u6307\u6807\uff0c\u652f\u6301 SUM\u3001COUNT\u3001AVG\u3001RATE\uff0c\u4e5f\u652f\u6301 P \u5206\u4f4d\u3002","title":"\u7edf\u8ba1\u7c7b\u578b"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/4.graph-metrics/#_4","text":"\u65f6\u95f4\u8303\u56f4\u76ee\u524d\u53ea\u652f\u6301\u4e09\u79cd\uff0c\u5206\u522b\u4e3a 60\u3001600\u30013600\uff0c\u5206\u522b\u8868\u793a\u6700\u8fd1\u4e00\u5206\u949f\uff0c\u6700\u8fd1\u5341\u5206\u949f\u548c\u6700\u8fd1\u4e00\u5c0f\u65f6\u3002","title":"\u65f6\u95f4\u8303\u56f4"},{"location":"manual-CN/3.build-develop-and-administration/7.monitor/4.graph-metrics/#http","text":"\u6839\u636e\u4e0a\u9762\u7684\u4ecb\u7ecd\uff0c\u5c31\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u5b8c\u6574\u7684\u6307\u6807\u540d\u79f0\u4e86\uff0c\u4e0b\u9762\u662f\u4e00\u4e9b\u793a\u4f8b\uff1a graph_insertVertex_latency . avg .60 // \u6700\u8fd1\u4e00\u5206\u949f\u63d2\u5165\u70b9\u547d\u4ee4\u6267\u884c\u6210\u529f\u7684\u5e73\u5747\u5ef6\u65f6 graph_updateEdge_error_qps . count .3600 // \u6700\u8fd1\u4e00\u5c0f\u65f6\u66f4\u65b0\u8fb9\u547d\u4ee4\u5931\u8d25\u7684\u603b\u8ba1\u6570\u91cf \u5047\u8bbe\u672c\u5730\u542f\u52a8\u4e86\u4e00\u4e2a nebula graph service\uff0c\u540c\u65f6\u542f\u52a8\u65f6\u8bbe\u7f6e\u7684 ws_http_port \u7aef\u53e3\u53f7\u4e3a 13000\u3002\u901a\u8fc7 HTTP \u7684 GET \u63a5\u53e3\u53d1\u9001\uff0c\u65b9\u6cd5\u540d\u4e3a get_stats \uff0c\u53c2\u6570\u4e3a stats \u52a0\u5bf9\u5e94\u7684\u6307\u6807\u540d\u5b57\u3002\u4e0b\u9762\u662f\u901a\u8fc7 HTTP \u63a5\u53e3\u83b7\u53d6\u6307\u6807\u7684\u793a\u4f8b\uff1a # \u83b7\u53d6\u4e00\u4e2a\u6307\u6807 curl -G \"http://127.0.0.1:13000/get_stats?stats=graph_insertVertex_qps.rate.60\" # graph_insertVertex_qps.rate.60=3069 # \u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6307\u6807 curl -G \"http://127.0.0.1:13000/get_stats?stats=graph_insertVertex_qps.rate.60, graph_deleteVertex_latency.avg.60\" # graph_insertVertex_qps.rate.60=3069 # graph_deleteVertex_latency.avg.60=837 # \u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6307\u6807\u5e76\u4ee5 json \u683c\u5f0f\u8fd4\u56de curl -G \"http://127.0.0.1:13000/get_stats?stats=graph_insertVertex_qps.rate.60, graph_deleteVertex_latency.avg.60&returnjson\" # [{\"value\":2373,\"name\":\"graph_insertVertex_qps.rate.60\"},{\"value\":760,\"name\":\"graph_deleteVertex_latency.avg.60\"}] # \u83b7\u53d6\u6240\u6709\u6307\u6807 curl -G \"http://127.0.0.1:13000/get_stats?stats\" # \u6216 curl -G \"http://127.0.0.1:13000/get_stats\"","title":"\u901a\u8fc7 HTTP \u63a5\u53e3\u83b7\u53d6\u76f8\u5e94\u7684\u6027\u80fd\u6307\u6807"},{"location":"manual-CN/4.contributions/","text":"\u9762\u5411\u7684\u8bfb\u8005 \u00b6 \u672c\u7ae0\u4ecb\u7ecd\u5982\u4f55\u5411 Nebula Graph \u63d0\u4ea4\u6587\u6863\u548c\u4ee3\u7801\uff0c\u4e3b\u8981\u9762\u5bf9 Nebula Graph \u7684\u5f00\u53d1\u8005","title":"\u9762\u5411\u7684\u8bfb\u8005"},{"location":"manual-CN/4.contributions/#_1","text":"\u672c\u7ae0\u4ecb\u7ecd\u5982\u4f55\u5411 Nebula Graph \u63d0\u4ea4\u6587\u6863\u548c\u4ee3\u7801\uff0c\u4e3b\u8981\u9762\u5bf9 Nebula Graph \u7684\u5f00\u53d1\u8005","title":"\u9762\u5411\u7684\u8bfb\u8005"},{"location":"manual-CN/4.contributions/contribute-to-documentation/","text":"\u8d21\u732e\u6587\u6863 \u00b6 Nebula Graph \u6587\u6863\u5b8c\u5168\u5f00\u6e90\uff0c\u6b22\u8fce\u66f4\u591a\u8d21\u732e\u8005\u5e2e\u52a9\u6539\u8fdb\u6587\u6863\u3002 Nebula Graph \u6587\u6863\u4f7f\u7528 Markdown \u8bed\u8a00\uff0c\u5e76\u53c2\u8003\u4e86 Google \u5f00\u53d1\u8005\u6587\u6863\u98ce\u683c\u6307\u5357 \u8fdb\u884c\u7f16\u5199\u3002 \u5982\u4f55\u8d21\u732e \u00b6 \u8d21\u732e\u6587\u6863\u6709\u591a\u79cd\u65b9\u5f0f\uff1a \u5728 GitHub \u4e0a\u63d0 issue \u3002 Fork \u4ed3\u5e93\uff0c\u5728\u672c\u5730\u5206\u652f\u4e0a\u505a\u66f4\u6539\uff0c\u7136\u540e\u63d0\u4ea4 PR\u3002","title":"\u8d21\u732e\u6587\u6863"},{"location":"manual-CN/4.contributions/contribute-to-documentation/#_1","text":"Nebula Graph \u6587\u6863\u5b8c\u5168\u5f00\u6e90\uff0c\u6b22\u8fce\u66f4\u591a\u8d21\u732e\u8005\u5e2e\u52a9\u6539\u8fdb\u6587\u6863\u3002 Nebula Graph \u6587\u6863\u4f7f\u7528 Markdown \u8bed\u8a00\uff0c\u5e76\u53c2\u8003\u4e86 Google \u5f00\u53d1\u8005\u6587\u6863\u98ce\u683c\u6307\u5357 \u8fdb\u884c\u7f16\u5199\u3002","title":"\u8d21\u732e\u6587\u6863"},{"location":"manual-CN/4.contributions/contribute-to-documentation/#_2","text":"\u8d21\u732e\u6587\u6863\u6709\u591a\u79cd\u65b9\u5f0f\uff1a \u5728 GitHub \u4e0a\u63d0 issue \u3002 Fork \u4ed3\u5e93\uff0c\u5728\u672c\u5730\u5206\u652f\u4e0a\u505a\u66f4\u6539\uff0c\u7136\u540e\u63d0\u4ea4 PR\u3002","title":"\u5982\u4f55\u8d21\u732e"},{"location":"manual-CN/4.contributions/cpp-coding-style/","text":"C++ \u7f16\u7801\u98ce\u683c \u00b6 \u8bf7\u53c2\u8003 Google C++ Style Guide \u3002","title":"C++ \u7f16\u7a0b\u98ce\u683c"},{"location":"manual-CN/4.contributions/cpp-coding-style/#c","text":"\u8bf7\u53c2\u8003 Google C++ Style Guide \u3002","title":"C++ \u7f16\u7801\u98ce\u683c"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/","text":"\u6587\u6863\u98ce\u683c\u6307\u5357 \u00b6 \u76ee\u7684 \u672c\u6307\u5357\u65e8\u5728\u6307\u5bfc\u5f00\u53d1\u4eba\u5458\u7f16\u5199\u6587\u6863\u3002 \u76ee\u6807 \u00b6 \u672c\u6307\u5357\u53ef\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u7edf\u4e00\u6587\u6863\u98ce\u683c\uff0c\u5e76\u63d0\u4f9b\u6587\u6863\u7f16\u5199\u5e2e\u52a9\u3002 \u975e\u76ee\u6807 \u00b6 \u672c\u6307\u5357\u4e0d\u662f\u884c\u4e1a\u6807\u51c6\uff0c\u53ea\u4e3a\u65b9\u4fbf\u6587\u6863\u683c\u5f0f\u7edf\u4e00\u800c\u7528\uff0c\u6ca1\u6709\u7edd\u5bf9\u7684\u5bf9\u9519\u3002 \u672c\u6307\u5357\u4e5f\u5c06\u6301\u7eed\u66f4\u65b0\uff0c\u66f4\u65b0\u540e\u4e4b\u524d\u7684\u6587\u6863\u4e0d\u4f1a\u968f\u4e4b\u66f4\u65b0\u3002\u6211\u4eec\u4f1a\u52aa\u529b\u7ef4\u62a4\u6587\u6863\u98ce\u683c\u7684\u4e00\u81f4\u6027\uff0c\u4f46\u662f\u90e8\u5206\u6587\u6863\u53ef\u80fd\u4e0e\u672c\u6307\u5357\u98ce\u683c\u4e0d\u7b26\u3002\u5982\u6709\u7591\u95ee\uff0c\u8bf7\u4ee5\u672c\u6307\u5357\u4e3a\u51c6\u3002 \u6253\u7834\u5e38\u89c4 \u00b6 Nebula Graph \u4e0d\u4f1a\u5728\u4efb\u4f55\u65f6\u5019\u5f3a\u52a0\u4e0d\u9002\u7528\u884c\u6587\u8bed\u5883\u7684\u6587\u6863\u683c\u5f0f\u3002\u4f46\u662f\u6211\u4eec\u5e0c\u671b\u4fdd\u8bc1\u6587\u6863\u7684\u9ad8\u8d28\u91cf\u3002\u672c\u6307\u5357\u65e8\u5728\u63d0\u9ad8\u6587\u6863\u8d28\u91cf\uff0c\u4fdd\u8bc1\u884c\u6587\u98ce\u683c\u4e00\u81f4\uff0c\u56e0\u6b64\uff0c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6709\u5fc5\u8981\u4e0e\u6211\u4eec\u7684\u6307\u5bfc\u539f\u5219\u6709\u6240\u4e0d\u540c\uff0c\u4ee5\u4f7f\u60a8\u7684\u6587\u6863\u66f4\u597d\u3002 \u884c\u6587\u98ce\u683c\u53ca\u8bed\u6c14 \u00b6 \u5728\u6587\u6863\u4e2d\uff0c\u529b\u6c42\u5bf9\u8bdd\u6027\uff0c\u53cb\u597d\u548c\u53d7\u4eba\u5c0a\u656c\u7684\u8bed\u6c14\uff0c\u800c\u4e0d\u8981\u8fc7\u4e8e\u53e3\u8bed\u5316\u6216\u8f7b\u6d6e\uff1b\u5e94\u968f\u610f\uff0c\u81ea\u7136\uff0c\u5e73\u6613\u8fd1\u4eba\uff0c\u800c\u4e0d\u662f\u547d\u4ee4\u6216\u6025\u8e81\u3002\u5e94\u4f7f\u6587\u6863\u8bfb\u8d77\u6765\u50cf\u4e0e\u4e00\u4e2a\u535a\u5b66\u591a\u624d\u7684\u670b\u53cb\u8c08\u8bdd\uff0c\u786e\u4fdd\u6587\u6863\u5145\u5206\u7406\u89e3\u5f00\u53d1\u4eba\u5458\u7684\u60f3\u6cd5\u3002 \u9700\u8981\u8003\u8651\u7684\u8981\u70b9 \u00b6 \u5982\u679c\u60a8\u5728\u8868\u8fbe\u67d0\u4e9b\u5185\u5bb9\u65f6\u9047\u5230\u9ebb\u70e6\uff0c\u8bf7\u9000\u540e\u4e00\u6b65\u95ee\u81ea\u5df1\uff1a\u201c\u6211\u60f3\u8bf4\u4ec0\u4e48\uff1f\u201d\u901a\u5e38\uff0c\u60a8\u7ed9\u81ea\u5df1\u7684\u7b54\u6848\u63ed\u793a\u4e86\u60a8\u5728\u6587\u6863\u4e2d\u60f3\u8868\u8fbe\u7684\u610f\u601d\u3002 \u5982\u679c\u4e0d\u786e\u5b9a\u8868\u8ff0\u7528\u8bcd\uff0c\u8bf7\u627e\u540c\u4e8b\u5bfb\u6c42\u5e2e\u52a9\u3002 \u5927\u58f0\u6717\u8bfb\u6216\u4ed4\u7ec6\u9605\u8bfb\u6587\u6863\u7684\u67d0\u4e9b\u90e8\u5206\uff0c\u786e\u8ba4\u53e5\u5b50\u662f\u5426\u81ea\u7136\u3002\u6bcf\u4e2a\u53e5\u5b50\u7684\u53d1\u97f3\u90fd\u542c\u8d77\u6765\u5f88\u81ea\u7136\u3002\u5e76\u4e0d\u662f\u6240\u6709\u53e5\u5b50\u90fd\u8981\u81ea\u7136\uff0c\u6bd5\u7adf\u8fd9\u4e9b\u662f\u4e66\u9762\u6587\u4ef6\u3002\u4f46\u662f\uff0c\u5982\u679c\u53e5\u5b50\u5f88\u5c34\u5c2c\u6216\u4ee4\u4eba\u56f0\u60d1\uff0c\u8bf7\u91cd\u65b0\u7ec4\u7ec7\u8bed\u8a00\u3002 \u5728\u53e5\u5b50\u4e4b\u95f4\u4f7f\u7528\u8fc7\u6e21\u3002 \u5373\u4f7f\u5728\u6587\u6863\u884c\u6587\u98ce\u683c\u4e0a\u9047\u5230\u95ee\u9898\uff0c\u4e5f\u8bf7\u786e\u4fdd\u6587\u6863\u660e\u786e\u6e05\u6670\u5730\u4f20\u8fbe\u4e86\u6709\u6548\u4fe1\u606f\uff0c\u8fd9\u662f\u91cd\u4e2d\u4e4b\u91cd\u3002 \u65f6\u6001 \u00b6 \u901a\u5e38\uff0c\u4f7f\u7528\u73b0\u5728\u65f6\u800c\u4e0d\u662f\u5c06\u6765\u65f6\u3002 \u8bfb\u8005\u5c06\u6765\u4f1a\u7f16\u5199\u548c\u8fd0\u884c\u4ee3\u7801\u5e76\u4e0d\u662f\u4f7f\u7528\u5c06\u6765\u65f6\u6001\u7684\u5145\u5206\u7406\u7531\u3002\u8bf7\u575a\u6301\u73b0\u5728\u65f6\u3002 \u94fe\u63a5 \u00b6 \u5728\u7f16\u5199\u94fe\u63a5\u6587\u672c\u65f6\uff0c\u8bf7\u4f7f\u7528\u4e00\u4e2a\u77ed\u8bed\u63cf\u8ff0\u8bfb\u8005\u5728\u70b9\u94fe\u63a5\u540e\u5c06\u770b\u5230\u7684\u5185\u5bb9\u3002\u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u4e24\u79cd\u5f62\u5f0f\u4e4b\u4e00\uff1a \u94fe\u63a5\u9875\u9762\u7684\u51c6\u786e\u6807\u9898\uff0c\u5927\u5199\u4e0e\u6807\u9898\u5927\u5199\u76f8\u540c\u3002 \u94fe\u63a5\u9875\u9762\u7684\u63cf\u8ff0\u3002 \u4e0d\u8981\u5728\u94fe\u63a5\u5185\u5305\u542b\uff1a \u201c\u70b9\u51fb\u6b64\u5904\u201d \u201c\u672c\u6587\u201d \u6587\u6863\u4e2d\u4e0d\u8981\u51fa\u73b0 URL \u94fe\u63a5\u6807\u70b9 \u00b6 \u5982\u679c\u5728\u94fe\u63a5\u4e4b\u524d\u6216\u4e4b\u540e\u6709\u6807\u70b9\u7b26\u53f7\uff0c\u8bf7\u5c3d\u53ef\u80fd\u5c06\u6807\u70b9\u7b26\u53f7\u653e\u5728\u94fe\u63a5\u6807\u7b7e\u4e4b\u5916\u3002\u7279\u522b\u662f\u5c06\u5f15\u53f7\u653e\u5728\u94fe\u63a5\u6807\u7b7e\u4e4b\u5916\u3002 \u6587\u6863\u5185\u5bb9 \u00b6 \u6ce8\u610f\u4e8b\u9879 \u00b6 \u786e\u4fdd\u8bfb\u8005\u4ec5\u4f7f\u7528\u952e\u76d8\u5373\u53ef\u4f7f\u7528\u6587\u6863\uff0c\u800c\u65e0\u9700\u4f7f\u7528\u9f20\u6807\u6216\u89e6\u63a7\u677f\uff0c\u5373\u53ef\u9605\u8bfb\u6587\u6863\u7684\u6240\u6709\u90e8\u5206\uff08\u5305\u62ec\u9009\u9879\u5361\uff0c\u63d0\u4ea4\u8868\u5355\u7684\u6309\u94ae\u548c\u4ea4\u4e92\u5f0f\u5143\u7d20\uff09\u3002 \u4e0d\u8981\u5c06\u989c\u8272\uff0c\u5927\u5c0f\uff0c\u4f4d\u7f6e\u6216\u5176\u4ed6\u89c6\u89c9\u63d0\u793a\u7528\u4f5c\u4f20\u8fbe\u4fe1\u606f\u7684\u4e3b\u8981\u65b9\u5f0f\u3002 \u5982\u679c\u4e00\u5b9a\u8981\u4f7f\u7528\u989c\u8272\uff0c\u56fe\u6807\u6216\u8f6e\u5ed3\u7ebf\u7c97\u7ec6\u6765\u4f20\u8fbe\u72b6\u6001\uff0c\u8fd8\u5e94\u63d0\u4f9b\u8f85\u52a9\u63d0\u793a\uff0c\u4f8b\u5982\u66f4\u6539\u6587\u672c\u6807\u7b7e\u3002 \u8bf7\u4f7f\u7528\u6807\u7b7e\u5173\u8054\u6309\u94ae\u548c\u5176\u4ed6\u5143\u7d20\u7684\u6807\u7b7e\u800c\u975e\u4f4d\u7f6e\u6216\u5f62\u72b6\u3002 \u907f\u514d\u4f7f\u7528\u4e0d\u5fc5\u8981\u7684\u5b57\u4f53\u683c\u5f0f\u3002 \u5982\u679c\u662f\u4e3a\u5305\u542b\u7279\u6b8a\u529f\u80fd\u7684\u4ea7\u54c1\u5199\u6587\u6863\uff0c\u8bf7\u660e\u786e\u8bb0\u5f55\u8fd9\u4e9b\u529f\u80fd\u3002\u4f8b\u5982\uff0c\u201c gcloud\u201d \u547d\u4ee4\u884c\u5de5\u5177\u5305\u62ec\u53ef\u5207\u6362\u7684\u8f85\u52a9\u529f\u80fd\uff0c\u4f8b\u5982\u8fdb\u5ea6\u6761\u767e\u5206\u6bd4\u548c ASCII \u6846\u6e32\u67d3\u3002 \u56fe\u7247 \u00b6 \u8bf7\u4e3a\u56fe\u7247\u63d0\u4f9b\u6587\u5b57\u8bf4\u660e\u3002 \u4e0d\u8981\u5728\u56fe\u50cf\u4e2d\u663e\u793a\u65b0\u4fe1\u606f\uff1b\u59cb\u7ec8\u5728\u56fe\u50cf\u4e0a\u63d0\u4f9b\u7b49\u6548\u7684\u6587\u5b57\u8bf4\u660e\u3002 Use SVG files \u6216 PNG \u56fe\u7247\u3002 \u8bf7\u63d0\u4f9b\u9ad8\u50cf\u7d20\u56fe\u7247 Provide high-resolution images \u3002 \u8868\u683c \u00b6 \u5982\u679c\u8868\u683c\u540c\u65f6\u5305\u542b\u884c\u548c\u5217\u6807\u9898\uff0c\u4f7f\u7528\u4ee5\u4e0b\u6807\u51c6\u6807\u6ce8 scope \u3002 headers \u5c5e\u6027\u3002 \u5f62\u5f0f \u00b6 \u4f7f\u7528 <label> \u5143\u7d20\u6807\u8bb0\u6bcf\u4e2a\u8f93\u5165\u5b57\u6bb5\u3002 \u5c06\u6807\u8bb0\u653e\u5728\u5b57\u6bb5\u4e4b\u5916\u3002 \u5f53\u521b\u5efa\u7528\u4e8e\u8868\u5355\u9a8c\u8bc1\u7684\u9519\u8bef\u6d88\u606f\u65f6\uff0c\u8bf7\u660e\u786e\u8bf4\u660e\u51fa\u4e86\u4ec0\u4e48\u95ee\u9898\u4ee5\u53ca\u5982\u4f55\u89e3\u51b3\u3002\u4f8b\u5982\uff1a\u201c\u540d\u79f0\u662f\u5fc5\u586b\u5b57\u6bb5\u3002\u201d \u89c6\u9891 \u00b6 \u89c6\u9891\u9700\u6dfb\u52a0\u6587\u5b57\u8bf4\u660e\u3002 \u8bf7\u786e\u4fdd\u6587\u5b57\u8bf4\u660e\u53ef\u7ffb\u8bd1\u6210\u5176\u4ed6\u8bed\u8a00\u3002 \u8bed\u8a00\u53ca\u8bed\u6cd5 \u00b6 \u63a8\u8350\u4f7f\u7528\u7b2c\u4e8c\u4eba\u79f0 \u8bf7\u4f7f\u7528\u4e3b\u52a8\u8bed\u6001\u6e05\u6670\u8868\u8ff0\u52a8\u4f5c\u7684\u53d1\u8d77\u4eba\u3002\u8bf7\u4f7f\u7528\u6807\u51c6\u7684\u6807\u70b9\u7b26\u53f7\u3002 \u683c\u5f0f\u3001\u6807\u70b9\u7b26\u53f7\u53ca\u7ec4\u7ec7\u65b9\u5f0f \u00b6 \u6587\u6863\u53ca\u7ae0\u8282\u547d\u540d\u89c1 Use sentence case \u3002 \u6709\u5e8f\u5217\u8868\u89c1 Use numbered lists \u3002 \u5176\u4ed6\u5217\u8868\u89c1 Use bulleted lists \u3002 \u6570\u636e\u76f8\u5173\u89c1 Use description lists \u3002 \u6807\u70b9\u7b26\u53f7\u89c1 Use serial commas \u3002 Put code-related text in code font . Put UI elements in bold . Use unambiguous date formatting .","title":"\u6587\u6863\u98ce\u683c\u6307\u5357"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_1","text":"\u76ee\u7684 \u672c\u6307\u5357\u65e8\u5728\u6307\u5bfc\u5f00\u53d1\u4eba\u5458\u7f16\u5199\u6587\u6863\u3002","title":"\u6587\u6863\u98ce\u683c\u6307\u5357"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_2","text":"\u672c\u6307\u5357\u53ef\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u7edf\u4e00\u6587\u6863\u98ce\u683c\uff0c\u5e76\u63d0\u4f9b\u6587\u6863\u7f16\u5199\u5e2e\u52a9\u3002","title":"\u76ee\u6807"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_3","text":"\u672c\u6307\u5357\u4e0d\u662f\u884c\u4e1a\u6807\u51c6\uff0c\u53ea\u4e3a\u65b9\u4fbf\u6587\u6863\u683c\u5f0f\u7edf\u4e00\u800c\u7528\uff0c\u6ca1\u6709\u7edd\u5bf9\u7684\u5bf9\u9519\u3002 \u672c\u6307\u5357\u4e5f\u5c06\u6301\u7eed\u66f4\u65b0\uff0c\u66f4\u65b0\u540e\u4e4b\u524d\u7684\u6587\u6863\u4e0d\u4f1a\u968f\u4e4b\u66f4\u65b0\u3002\u6211\u4eec\u4f1a\u52aa\u529b\u7ef4\u62a4\u6587\u6863\u98ce\u683c\u7684\u4e00\u81f4\u6027\uff0c\u4f46\u662f\u90e8\u5206\u6587\u6863\u53ef\u80fd\u4e0e\u672c\u6307\u5357\u98ce\u683c\u4e0d\u7b26\u3002\u5982\u6709\u7591\u95ee\uff0c\u8bf7\u4ee5\u672c\u6307\u5357\u4e3a\u51c6\u3002","title":"\u975e\u76ee\u6807"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_4","text":"Nebula Graph \u4e0d\u4f1a\u5728\u4efb\u4f55\u65f6\u5019\u5f3a\u52a0\u4e0d\u9002\u7528\u884c\u6587\u8bed\u5883\u7684\u6587\u6863\u683c\u5f0f\u3002\u4f46\u662f\u6211\u4eec\u5e0c\u671b\u4fdd\u8bc1\u6587\u6863\u7684\u9ad8\u8d28\u91cf\u3002\u672c\u6307\u5357\u65e8\u5728\u63d0\u9ad8\u6587\u6863\u8d28\u91cf\uff0c\u4fdd\u8bc1\u884c\u6587\u98ce\u683c\u4e00\u81f4\uff0c\u56e0\u6b64\uff0c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6709\u5fc5\u8981\u4e0e\u6211\u4eec\u7684\u6307\u5bfc\u539f\u5219\u6709\u6240\u4e0d\u540c\uff0c\u4ee5\u4f7f\u60a8\u7684\u6587\u6863\u66f4\u597d\u3002","title":"\u6253\u7834\u5e38\u89c4"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_5","text":"\u5728\u6587\u6863\u4e2d\uff0c\u529b\u6c42\u5bf9\u8bdd\u6027\uff0c\u53cb\u597d\u548c\u53d7\u4eba\u5c0a\u656c\u7684\u8bed\u6c14\uff0c\u800c\u4e0d\u8981\u8fc7\u4e8e\u53e3\u8bed\u5316\u6216\u8f7b\u6d6e\uff1b\u5e94\u968f\u610f\uff0c\u81ea\u7136\uff0c\u5e73\u6613\u8fd1\u4eba\uff0c\u800c\u4e0d\u662f\u547d\u4ee4\u6216\u6025\u8e81\u3002\u5e94\u4f7f\u6587\u6863\u8bfb\u8d77\u6765\u50cf\u4e0e\u4e00\u4e2a\u535a\u5b66\u591a\u624d\u7684\u670b\u53cb\u8c08\u8bdd\uff0c\u786e\u4fdd\u6587\u6863\u5145\u5206\u7406\u89e3\u5f00\u53d1\u4eba\u5458\u7684\u60f3\u6cd5\u3002","title":"\u884c\u6587\u98ce\u683c\u53ca\u8bed\u6c14"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_6","text":"\u5982\u679c\u60a8\u5728\u8868\u8fbe\u67d0\u4e9b\u5185\u5bb9\u65f6\u9047\u5230\u9ebb\u70e6\uff0c\u8bf7\u9000\u540e\u4e00\u6b65\u95ee\u81ea\u5df1\uff1a\u201c\u6211\u60f3\u8bf4\u4ec0\u4e48\uff1f\u201d\u901a\u5e38\uff0c\u60a8\u7ed9\u81ea\u5df1\u7684\u7b54\u6848\u63ed\u793a\u4e86\u60a8\u5728\u6587\u6863\u4e2d\u60f3\u8868\u8fbe\u7684\u610f\u601d\u3002 \u5982\u679c\u4e0d\u786e\u5b9a\u8868\u8ff0\u7528\u8bcd\uff0c\u8bf7\u627e\u540c\u4e8b\u5bfb\u6c42\u5e2e\u52a9\u3002 \u5927\u58f0\u6717\u8bfb\u6216\u4ed4\u7ec6\u9605\u8bfb\u6587\u6863\u7684\u67d0\u4e9b\u90e8\u5206\uff0c\u786e\u8ba4\u53e5\u5b50\u662f\u5426\u81ea\u7136\u3002\u6bcf\u4e2a\u53e5\u5b50\u7684\u53d1\u97f3\u90fd\u542c\u8d77\u6765\u5f88\u81ea\u7136\u3002\u5e76\u4e0d\u662f\u6240\u6709\u53e5\u5b50\u90fd\u8981\u81ea\u7136\uff0c\u6bd5\u7adf\u8fd9\u4e9b\u662f\u4e66\u9762\u6587\u4ef6\u3002\u4f46\u662f\uff0c\u5982\u679c\u53e5\u5b50\u5f88\u5c34\u5c2c\u6216\u4ee4\u4eba\u56f0\u60d1\uff0c\u8bf7\u91cd\u65b0\u7ec4\u7ec7\u8bed\u8a00\u3002 \u5728\u53e5\u5b50\u4e4b\u95f4\u4f7f\u7528\u8fc7\u6e21\u3002 \u5373\u4f7f\u5728\u6587\u6863\u884c\u6587\u98ce\u683c\u4e0a\u9047\u5230\u95ee\u9898\uff0c\u4e5f\u8bf7\u786e\u4fdd\u6587\u6863\u660e\u786e\u6e05\u6670\u5730\u4f20\u8fbe\u4e86\u6709\u6548\u4fe1\u606f\uff0c\u8fd9\u662f\u91cd\u4e2d\u4e4b\u91cd\u3002","title":"\u9700\u8981\u8003\u8651\u7684\u8981\u70b9"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_7","text":"\u901a\u5e38\uff0c\u4f7f\u7528\u73b0\u5728\u65f6\u800c\u4e0d\u662f\u5c06\u6765\u65f6\u3002 \u8bfb\u8005\u5c06\u6765\u4f1a\u7f16\u5199\u548c\u8fd0\u884c\u4ee3\u7801\u5e76\u4e0d\u662f\u4f7f\u7528\u5c06\u6765\u65f6\u6001\u7684\u5145\u5206\u7406\u7531\u3002\u8bf7\u575a\u6301\u73b0\u5728\u65f6\u3002","title":"\u65f6\u6001"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_8","text":"\u5728\u7f16\u5199\u94fe\u63a5\u6587\u672c\u65f6\uff0c\u8bf7\u4f7f\u7528\u4e00\u4e2a\u77ed\u8bed\u63cf\u8ff0\u8bfb\u8005\u5728\u70b9\u94fe\u63a5\u540e\u5c06\u770b\u5230\u7684\u5185\u5bb9\u3002\u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u4e24\u79cd\u5f62\u5f0f\u4e4b\u4e00\uff1a \u94fe\u63a5\u9875\u9762\u7684\u51c6\u786e\u6807\u9898\uff0c\u5927\u5199\u4e0e\u6807\u9898\u5927\u5199\u76f8\u540c\u3002 \u94fe\u63a5\u9875\u9762\u7684\u63cf\u8ff0\u3002 \u4e0d\u8981\u5728\u94fe\u63a5\u5185\u5305\u542b\uff1a \u201c\u70b9\u51fb\u6b64\u5904\u201d \u201c\u672c\u6587\u201d \u6587\u6863\u4e2d\u4e0d\u8981\u51fa\u73b0 URL","title":"\u94fe\u63a5"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_9","text":"\u5982\u679c\u5728\u94fe\u63a5\u4e4b\u524d\u6216\u4e4b\u540e\u6709\u6807\u70b9\u7b26\u53f7\uff0c\u8bf7\u5c3d\u53ef\u80fd\u5c06\u6807\u70b9\u7b26\u53f7\u653e\u5728\u94fe\u63a5\u6807\u7b7e\u4e4b\u5916\u3002\u7279\u522b\u662f\u5c06\u5f15\u53f7\u653e\u5728\u94fe\u63a5\u6807\u7b7e\u4e4b\u5916\u3002","title":"\u94fe\u63a5\u6807\u70b9"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_10","text":"","title":"\u6587\u6863\u5185\u5bb9"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_11","text":"\u786e\u4fdd\u8bfb\u8005\u4ec5\u4f7f\u7528\u952e\u76d8\u5373\u53ef\u4f7f\u7528\u6587\u6863\uff0c\u800c\u65e0\u9700\u4f7f\u7528\u9f20\u6807\u6216\u89e6\u63a7\u677f\uff0c\u5373\u53ef\u9605\u8bfb\u6587\u6863\u7684\u6240\u6709\u90e8\u5206\uff08\u5305\u62ec\u9009\u9879\u5361\uff0c\u63d0\u4ea4\u8868\u5355\u7684\u6309\u94ae\u548c\u4ea4\u4e92\u5f0f\u5143\u7d20\uff09\u3002 \u4e0d\u8981\u5c06\u989c\u8272\uff0c\u5927\u5c0f\uff0c\u4f4d\u7f6e\u6216\u5176\u4ed6\u89c6\u89c9\u63d0\u793a\u7528\u4f5c\u4f20\u8fbe\u4fe1\u606f\u7684\u4e3b\u8981\u65b9\u5f0f\u3002 \u5982\u679c\u4e00\u5b9a\u8981\u4f7f\u7528\u989c\u8272\uff0c\u56fe\u6807\u6216\u8f6e\u5ed3\u7ebf\u7c97\u7ec6\u6765\u4f20\u8fbe\u72b6\u6001\uff0c\u8fd8\u5e94\u63d0\u4f9b\u8f85\u52a9\u63d0\u793a\uff0c\u4f8b\u5982\u66f4\u6539\u6587\u672c\u6807\u7b7e\u3002 \u8bf7\u4f7f\u7528\u6807\u7b7e\u5173\u8054\u6309\u94ae\u548c\u5176\u4ed6\u5143\u7d20\u7684\u6807\u7b7e\u800c\u975e\u4f4d\u7f6e\u6216\u5f62\u72b6\u3002 \u907f\u514d\u4f7f\u7528\u4e0d\u5fc5\u8981\u7684\u5b57\u4f53\u683c\u5f0f\u3002 \u5982\u679c\u662f\u4e3a\u5305\u542b\u7279\u6b8a\u529f\u80fd\u7684\u4ea7\u54c1\u5199\u6587\u6863\uff0c\u8bf7\u660e\u786e\u8bb0\u5f55\u8fd9\u4e9b\u529f\u80fd\u3002\u4f8b\u5982\uff0c\u201c gcloud\u201d \u547d\u4ee4\u884c\u5de5\u5177\u5305\u62ec\u53ef\u5207\u6362\u7684\u8f85\u52a9\u529f\u80fd\uff0c\u4f8b\u5982\u8fdb\u5ea6\u6761\u767e\u5206\u6bd4\u548c ASCII \u6846\u6e32\u67d3\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_12","text":"\u8bf7\u4e3a\u56fe\u7247\u63d0\u4f9b\u6587\u5b57\u8bf4\u660e\u3002 \u4e0d\u8981\u5728\u56fe\u50cf\u4e2d\u663e\u793a\u65b0\u4fe1\u606f\uff1b\u59cb\u7ec8\u5728\u56fe\u50cf\u4e0a\u63d0\u4f9b\u7b49\u6548\u7684\u6587\u5b57\u8bf4\u660e\u3002 Use SVG files \u6216 PNG \u56fe\u7247\u3002 \u8bf7\u63d0\u4f9b\u9ad8\u50cf\u7d20\u56fe\u7247 Provide high-resolution images \u3002","title":"\u56fe\u7247"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_13","text":"\u5982\u679c\u8868\u683c\u540c\u65f6\u5305\u542b\u884c\u548c\u5217\u6807\u9898\uff0c\u4f7f\u7528\u4ee5\u4e0b\u6807\u51c6\u6807\u6ce8 scope \u3002 headers \u5c5e\u6027\u3002","title":"\u8868\u683c"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_14","text":"\u4f7f\u7528 <label> \u5143\u7d20\u6807\u8bb0\u6bcf\u4e2a\u8f93\u5165\u5b57\u6bb5\u3002 \u5c06\u6807\u8bb0\u653e\u5728\u5b57\u6bb5\u4e4b\u5916\u3002 \u5f53\u521b\u5efa\u7528\u4e8e\u8868\u5355\u9a8c\u8bc1\u7684\u9519\u8bef\u6d88\u606f\u65f6\uff0c\u8bf7\u660e\u786e\u8bf4\u660e\u51fa\u4e86\u4ec0\u4e48\u95ee\u9898\u4ee5\u53ca\u5982\u4f55\u89e3\u51b3\u3002\u4f8b\u5982\uff1a\u201c\u540d\u79f0\u662f\u5fc5\u586b\u5b57\u6bb5\u3002\u201d","title":"\u5f62\u5f0f"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_15","text":"\u89c6\u9891\u9700\u6dfb\u52a0\u6587\u5b57\u8bf4\u660e\u3002 \u8bf7\u786e\u4fdd\u6587\u5b57\u8bf4\u660e\u53ef\u7ffb\u8bd1\u6210\u5176\u4ed6\u8bed\u8a00\u3002","title":"\u89c6\u9891"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_16","text":"\u63a8\u8350\u4f7f\u7528\u7b2c\u4e8c\u4eba\u79f0 \u8bf7\u4f7f\u7528\u4e3b\u52a8\u8bed\u6001\u6e05\u6670\u8868\u8ff0\u52a8\u4f5c\u7684\u53d1\u8d77\u4eba\u3002\u8bf7\u4f7f\u7528\u6807\u51c6\u7684\u6807\u70b9\u7b26\u53f7\u3002","title":"\u8bed\u8a00\u53ca\u8bed\u6cd5"},{"location":"manual-CN/4.contributions/developer-documentation-style-guide/#_17","text":"\u6587\u6863\u53ca\u7ae0\u8282\u547d\u540d\u89c1 Use sentence case \u3002 \u6709\u5e8f\u5217\u8868\u89c1 Use numbered lists \u3002 \u5176\u4ed6\u5217\u8868\u89c1 Use bulleted lists \u3002 \u6570\u636e\u76f8\u5173\u89c1 Use description lists \u3002 \u6807\u70b9\u7b26\u53f7\u89c1 Use serial commas \u3002 Put code-related text in code font . Put UI elements in bold . Use unambiguous date formatting .","title":"\u683c\u5f0f\u3001\u6807\u70b9\u7b26\u53f7\u53ca\u7ec4\u7ec7\u65b9\u5f0f"},{"location":"manual-CN/4.contributions/how-to-contribute/","text":"\u5982\u4f55\u63d0\u4ea4\u4ee3\u7801\u548c\u6587\u6863 \u00b6 Step 1: \u901a\u8fc7 GitHub Fork \u00b6 \u8bbf\u95ee https://github.com/vesoft-inc/nebula \u70b9\u51fb\u53f3\u4e0a\u89d2 Fork \u6309\u94ae\u521b\u5efa\u8fdc\u7a0b\u5206\u652f Step 2: \u5c06\u5206\u652f\u514b\u9686\u5230\u672c\u5730 \u00b6 \u5b9a\u4e49\u672c\u5730\u5de5\u4f5c\u76ee\u5f55\uff1a # \u5b9a\u4e49\u5de5\u4f5c\u76ee\u5f55 working_dir = $HOME /Workspace \u5c06 user \u8bbe\u7f6e\u4e3a GitHub \u8d26\u6237\u540d\uff1a user ={ GitHub\u8d26\u6237\u540d } clone \u4ee3\u7801\uff1a mkdir -p $working_dir cd $working_dir git clone git@github.com: $user /nebula.git # \u6216: git clone https://github.com/$user/nebula.git cd $working_dir /nebula git remote add upstream git@github.com:vesoft-inc/nebula.git # \u6216: git remote add upstream https://github.com/vesoft-inc/nebula.git # \u7531\u4e8e\u6ca1\u6709\u5199\u8bbf\u95ee\u6743\u9650\uff0c\u8bf7\u52ff\u63a8\u9001\u81f3\u4e0a\u6e38\u4e3b\u5206\u652f git remote set-url --push upstream no_push # \u786e\u8ba4\u8fdc\u7a0b\u5206\u652f\u6709\u6548\uff1a # \u6b63\u786e\u7684\u683c\u5f0f\u4e3a\uff1a # origin git@github.com:$(user)/nebula.git (fetch) # origin git@github.com:$(user)/nebula.git (push) # upstream https://github.com/vesoft-inc/nebula (fetch) # upstream no_push (push) git remote -v \u5b9a\u4e49\u9884\u63d0\u4ea4 hook \u00b6 \u8bf7\u5c06 Nebula Graph \u9884\u63d0\u4ea4\u6302\u94a9\u94fe\u63a5\u5230 .git \u76ee\u5f55\u3002 \u6b64\u6302\u94a9\u68c0\u67e5\u63d0\u4ea4\u683c\u5f0f\uff0c\u6784\u5efa\uff0c\u6587\u6863\u751f\u6210\u7b49\u3002 cd $working_dir /nebula/.git/hooks ln -s ../../cpplint/bin/pre-commit.sh . \u6709\u65f6\uff0c\u9884\u63d0\u4ea4\u6302\u94a9\u4e0d\u80fd\u6267\u884c\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u624b\u52a8\u6267\u884c\u3002 cd $working_dir /nebula/.git/hooks chmod +x pre-commit Step 3: \u5206\u652f \u00b6 \u66f4\u65b0\u672c\u5730\u4e3b\u5206\u652f\uff1a cd $working_dir /nebula git fetch upstream git checkout master git rebase upstream/master \u4ece\u4e3b\u5206\u652f\u521b\u5efa\u5e76\u5207\u6362\u5206\u652f\uff1a git checkout -b myfeature \u6ce8\u610f \u7531\u4e8e\u4e00\u4e2a PR \u901a\u5e38\u5305\u542b\u591a\u4e2a commit\uff0c\u5728\u5408\u5e76\u81f3 master \u65f6\u5bb9\u6613\u88ab\u6324\u538b ( squash )\uff0c\u56e0\u6b64\u5efa\u8bae\u521b\u5efa\u4e00\u4e2a\u72ec\u7acb\u7684\u5206\u652f\u8fdb\u884c\u66f4\u6539\u3002\u5408\u5e76\u540e\uff0c\u8fd9\u4e2a\u5206\u652f\u5df2\u65e0\u7528\u5904\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u4e0a\u8ff0 rebase \u547d\u4ee4\u5c06\u672c\u5730 master \u4e0e upstream \u540c\u6b65\u3002\u6b64\u5916\uff0c\u5982\u679c\u76f4\u63a5\u5c06 commit \u63d0\u4ea4\u81f3 master\uff0c\u5219\u9700\u8981 hard reset \u4e3b\u5206\u652f\uff0c\u4f8b\u5982\uff1a git fetch upstream git checkout master git reset --hard upstream/master git push --force origin master Step 4: \u5f00\u53d1 \u00b6 \u4ee3\u7801\u98ce\u683c \u00b6 Nebula Graph \u91c7\u7528 cpplint \u6765\u786e\u4fdd\u5176\u4ee3\u7801\u7b26\u5408 Google \u7684\u4ee3\u7801\u98ce\u683c\u6307\u5357\u3002\u6b64 \u68c0\u67e5\u5668 \u5c06\u5728\u63d0\u4ea4\u4ee3\u7801\u4e4b\u524d\u5b9e\u73b0\u3002 \u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5 \u00b6 \u8bf7\u4e3a\u4f60\u7684\u65b0\u529f\u80fd\u6216 bugfix \u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5\u3002\u5728\u4fee\u6539\u7684\u6a21\u5757\u4ee3\u7801\u76ee\u5f55\u4e0b\u9762\u6709\u4e2a test \u76ee\u5f55\uff0c\u53ef\u4ee5\u5728\u91cc\u9762\u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5\uff0c\u7136\u540e\u7f16\u8bd1\u8fd0\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u63d0\u4ea4\u7684\u4ee3\u7801\u5fc5\u987b\u786e\u4fdd\u6240\u6709\u5355\u5143\u6d4b\u8bd5\u987a\u5229\u901a\u8fc7\u3002 \u8bf7\u5f00\u542f\u5355\u5143\u6d4b\u8bd5\u8fdb\u884c\u6e90\u7801\u7f16\u8bd1 \u00b6 \u8be6\u60c5\u8bf7\u53c2\u8003 \u6e90\u7801\u7f16\u8bd1 \u3002 \u8bf7\u786e\u4fdd\u5df2\u8bbe\u7f6e -DENABLE_TESTING = ON \u542f\u7528\u4e86\u5355\u5143\u6d4b\u8bd5\u7684\u6784\u5efa\u3002 \u8fd0\u884c\u6240\u6709\u5355\u5143\u6d4b\u8bd5 \u00b6 \u5728 nebula \u6839\u76ee\u5f55\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a cd nebula/build ctest -j $( nproc ) \u9a8c\u8bc1 \u00b6 \u66ff\u6362\u4e8c\u8fdb\u5236\u6587\u4ef6 \u7f16\u8bd1\u597d\u7684\u4e09\u4e2a\u670d\u52a1\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u5728 nebula/build/src/daemon/_build/ \u76ee\u5f55\u4e0b\u9762\uff0c\u7f16\u8bd1\u597d\u7684 console \u5728 nebula/build/src/console/_build \u76ee\u5f55\u4e0b\u9762\u3002\u53ef\u4ee5\u628a\u4e8c\u8fdb\u5236\u66ff\u6362\u5230\u5b89\u88c5\u76ee\u5f55 bin \u4e0b\u9762\uff0c\u91cd\u542f\u670d\u52a1\u5e76\u505a\u9a8c\u8bc1\u3002 Step 5: \u4fdd\u6301\u5206\u652f\u540c\u6b65 \u00b6 # \u5f53\u5904\u4e8e myfeature \u5206\u652f\u65f6\uff1a git fetch upstream git rebase upstream/master \u5728\u5176\u4ed6\u534f\u4f5c\u8005\u5c06 PR \u5408\u5e76\u5230\u57fa\u7840\u5206\u652f\u4e4b\u540e\uff0c\u60a8\u9700\u8981\u66f4\u65b0 head \u5206\u652f\u3002 Step 6: Commit \u00b6 \u63d0\u4ea4\u4ee3\u7801\u66f4\u6539 git commit Step 7: Push \u00b6 \u4ee3\u7801\u66f4\u6539\u5b8c\u6210\u6216\u9700\u8981\u5907\u4efd\u4ee3\u7801\u65f6\uff0c\u5c06\u672c\u5730\u4ed3\u5e93\u521b\u5efa\u7684\u5206\u652f push \u5230 GitHub \u7aef\u7684\u8fdc\u7a0b\u4ed3\u5e93\uff1a git push origin myfeature Step 8: \u521b\u5efa pull request \u00b6 \u70b9\u51fb\u6b64\u5904\u8bbf\u95ee fork \u4ed3\u5e93https://github.com/$user/nebula (\u66ff\u6362\u6b64\u5904\u7684 $user \u7528\u6237\u540d)\u3002 \u70b9\u51fb myfeature \u5206\u652f\u65c1\u7684 Compare & pull request \u6309\u94ae\u3002 Step 9: \u4ee3\u7801\u5ba1\u67e5 \u00b6 \u516c\u5f00\u7684 pull request \u81f3\u5c11\u9700\u8981\u4e24\u4eba\u5ba1\u67e5\uff0c\u4ee3\u7801\u5ba1\u67e5\u5305\u62ec\u67e5\u627e bug\uff0c\u5ba1\u67e5\u4ee3\u7801\u98ce\u683c\u7b49\u3002","title":"\u5982\u4f55\u8d21\u732e"},{"location":"manual-CN/4.contributions/how-to-contribute/#_1","text":"","title":"\u5982\u4f55\u63d0\u4ea4\u4ee3\u7801\u548c\u6587\u6863"},{"location":"manual-CN/4.contributions/how-to-contribute/#step_1_github_fork","text":"\u8bbf\u95ee https://github.com/vesoft-inc/nebula \u70b9\u51fb\u53f3\u4e0a\u89d2 Fork \u6309\u94ae\u521b\u5efa\u8fdc\u7a0b\u5206\u652f","title":"Step 1: \u901a\u8fc7 GitHub Fork"},{"location":"manual-CN/4.contributions/how-to-contribute/#step_2","text":"\u5b9a\u4e49\u672c\u5730\u5de5\u4f5c\u76ee\u5f55\uff1a # \u5b9a\u4e49\u5de5\u4f5c\u76ee\u5f55 working_dir = $HOME /Workspace \u5c06 user \u8bbe\u7f6e\u4e3a GitHub \u8d26\u6237\u540d\uff1a user ={ GitHub\u8d26\u6237\u540d } clone \u4ee3\u7801\uff1a mkdir -p $working_dir cd $working_dir git clone git@github.com: $user /nebula.git # \u6216: git clone https://github.com/$user/nebula.git cd $working_dir /nebula git remote add upstream git@github.com:vesoft-inc/nebula.git # \u6216: git remote add upstream https://github.com/vesoft-inc/nebula.git # \u7531\u4e8e\u6ca1\u6709\u5199\u8bbf\u95ee\u6743\u9650\uff0c\u8bf7\u52ff\u63a8\u9001\u81f3\u4e0a\u6e38\u4e3b\u5206\u652f git remote set-url --push upstream no_push # \u786e\u8ba4\u8fdc\u7a0b\u5206\u652f\u6709\u6548\uff1a # \u6b63\u786e\u7684\u683c\u5f0f\u4e3a\uff1a # origin git@github.com:$(user)/nebula.git (fetch) # origin git@github.com:$(user)/nebula.git (push) # upstream https://github.com/vesoft-inc/nebula (fetch) # upstream no_push (push) git remote -v","title":"Step 2: \u5c06\u5206\u652f\u514b\u9686\u5230\u672c\u5730"},{"location":"manual-CN/4.contributions/how-to-contribute/#hook","text":"\u8bf7\u5c06 Nebula Graph \u9884\u63d0\u4ea4\u6302\u94a9\u94fe\u63a5\u5230 .git \u76ee\u5f55\u3002 \u6b64\u6302\u94a9\u68c0\u67e5\u63d0\u4ea4\u683c\u5f0f\uff0c\u6784\u5efa\uff0c\u6587\u6863\u751f\u6210\u7b49\u3002 cd $working_dir /nebula/.git/hooks ln -s ../../cpplint/bin/pre-commit.sh . \u6709\u65f6\uff0c\u9884\u63d0\u4ea4\u6302\u94a9\u4e0d\u80fd\u6267\u884c\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u624b\u52a8\u6267\u884c\u3002 cd $working_dir /nebula/.git/hooks chmod +x pre-commit","title":"\u5b9a\u4e49\u9884\u63d0\u4ea4 hook"},{"location":"manual-CN/4.contributions/how-to-contribute/#step_3","text":"\u66f4\u65b0\u672c\u5730\u4e3b\u5206\u652f\uff1a cd $working_dir /nebula git fetch upstream git checkout master git rebase upstream/master \u4ece\u4e3b\u5206\u652f\u521b\u5efa\u5e76\u5207\u6362\u5206\u652f\uff1a git checkout -b myfeature \u6ce8\u610f \u7531\u4e8e\u4e00\u4e2a PR \u901a\u5e38\u5305\u542b\u591a\u4e2a commit\uff0c\u5728\u5408\u5e76\u81f3 master \u65f6\u5bb9\u6613\u88ab\u6324\u538b ( squash )\uff0c\u56e0\u6b64\u5efa\u8bae\u521b\u5efa\u4e00\u4e2a\u72ec\u7acb\u7684\u5206\u652f\u8fdb\u884c\u66f4\u6539\u3002\u5408\u5e76\u540e\uff0c\u8fd9\u4e2a\u5206\u652f\u5df2\u65e0\u7528\u5904\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u4e0a\u8ff0 rebase \u547d\u4ee4\u5c06\u672c\u5730 master \u4e0e upstream \u540c\u6b65\u3002\u6b64\u5916\uff0c\u5982\u679c\u76f4\u63a5\u5c06 commit \u63d0\u4ea4\u81f3 master\uff0c\u5219\u9700\u8981 hard reset \u4e3b\u5206\u652f\uff0c\u4f8b\u5982\uff1a git fetch upstream git checkout master git reset --hard upstream/master git push --force origin master","title":"Step 3: \u5206\u652f"},{"location":"manual-CN/4.contributions/how-to-contribute/#step_4","text":"","title":"Step 4: \u5f00\u53d1"},{"location":"manual-CN/4.contributions/how-to-contribute/#_2","text":"Nebula Graph \u91c7\u7528 cpplint \u6765\u786e\u4fdd\u5176\u4ee3\u7801\u7b26\u5408 Google \u7684\u4ee3\u7801\u98ce\u683c\u6307\u5357\u3002\u6b64 \u68c0\u67e5\u5668 \u5c06\u5728\u63d0\u4ea4\u4ee3\u7801\u4e4b\u524d\u5b9e\u73b0\u3002","title":"\u4ee3\u7801\u98ce\u683c"},{"location":"manual-CN/4.contributions/how-to-contribute/#_3","text":"\u8bf7\u4e3a\u4f60\u7684\u65b0\u529f\u80fd\u6216 bugfix \u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5\u3002\u5728\u4fee\u6539\u7684\u6a21\u5757\u4ee3\u7801\u76ee\u5f55\u4e0b\u9762\u6709\u4e2a test \u76ee\u5f55\uff0c\u53ef\u4ee5\u5728\u91cc\u9762\u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5\uff0c\u7136\u540e\u7f16\u8bd1\u8fd0\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u63d0\u4ea4\u7684\u4ee3\u7801\u5fc5\u987b\u786e\u4fdd\u6240\u6709\u5355\u5143\u6d4b\u8bd5\u987a\u5229\u901a\u8fc7\u3002","title":"\u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5"},{"location":"manual-CN/4.contributions/how-to-contribute/#_4","text":"\u8be6\u60c5\u8bf7\u53c2\u8003 \u6e90\u7801\u7f16\u8bd1 \u3002 \u8bf7\u786e\u4fdd\u5df2\u8bbe\u7f6e -DENABLE_TESTING = ON \u542f\u7528\u4e86\u5355\u5143\u6d4b\u8bd5\u7684\u6784\u5efa\u3002","title":"\u8bf7\u5f00\u542f\u5355\u5143\u6d4b\u8bd5\u8fdb\u884c\u6e90\u7801\u7f16\u8bd1"},{"location":"manual-CN/4.contributions/how-to-contribute/#_5","text":"\u5728 nebula \u6839\u76ee\u5f55\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a cd nebula/build ctest -j $( nproc )","title":"\u8fd0\u884c\u6240\u6709\u5355\u5143\u6d4b\u8bd5"},{"location":"manual-CN/4.contributions/how-to-contribute/#_6","text":"\u66ff\u6362\u4e8c\u8fdb\u5236\u6587\u4ef6 \u7f16\u8bd1\u597d\u7684\u4e09\u4e2a\u670d\u52a1\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u5728 nebula/build/src/daemon/_build/ \u76ee\u5f55\u4e0b\u9762\uff0c\u7f16\u8bd1\u597d\u7684 console \u5728 nebula/build/src/console/_build \u76ee\u5f55\u4e0b\u9762\u3002\u53ef\u4ee5\u628a\u4e8c\u8fdb\u5236\u66ff\u6362\u5230\u5b89\u88c5\u76ee\u5f55 bin \u4e0b\u9762\uff0c\u91cd\u542f\u670d\u52a1\u5e76\u505a\u9a8c\u8bc1\u3002","title":"\u9a8c\u8bc1"},{"location":"manual-CN/4.contributions/how-to-contribute/#step_5","text":"# \u5f53\u5904\u4e8e myfeature \u5206\u652f\u65f6\uff1a git fetch upstream git rebase upstream/master \u5728\u5176\u4ed6\u534f\u4f5c\u8005\u5c06 PR \u5408\u5e76\u5230\u57fa\u7840\u5206\u652f\u4e4b\u540e\uff0c\u60a8\u9700\u8981\u66f4\u65b0 head \u5206\u652f\u3002","title":"Step 5: \u4fdd\u6301\u5206\u652f\u540c\u6b65"},{"location":"manual-CN/4.contributions/how-to-contribute/#step_6_commit","text":"\u63d0\u4ea4\u4ee3\u7801\u66f4\u6539 git commit","title":"Step 6: Commit"},{"location":"manual-CN/4.contributions/how-to-contribute/#step_7_push","text":"\u4ee3\u7801\u66f4\u6539\u5b8c\u6210\u6216\u9700\u8981\u5907\u4efd\u4ee3\u7801\u65f6\uff0c\u5c06\u672c\u5730\u4ed3\u5e93\u521b\u5efa\u7684\u5206\u652f push \u5230 GitHub \u7aef\u7684\u8fdc\u7a0b\u4ed3\u5e93\uff1a git push origin myfeature","title":"Step 7: Push"},{"location":"manual-CN/4.contributions/how-to-contribute/#step_8_pull_request","text":"\u70b9\u51fb\u6b64\u5904\u8bbf\u95ee fork \u4ed3\u5e93https://github.com/$user/nebula (\u66ff\u6362\u6b64\u5904\u7684 $user \u7528\u6237\u540d)\u3002 \u70b9\u51fb myfeature \u5206\u652f\u65c1\u7684 Compare & pull request \u6309\u94ae\u3002","title":"Step 8: \u521b\u5efa pull request"},{"location":"manual-CN/4.contributions/how-to-contribute/#step_9","text":"\u516c\u5f00\u7684 pull request \u81f3\u5c11\u9700\u8981\u4e24\u4eba\u5ba1\u67e5\uff0c\u4ee3\u7801\u5ba1\u67e5\u5305\u62ec\u67e5\u627e bug\uff0c\u5ba1\u67e5\u4ee3\u7801\u98ce\u683c\u7b49\u3002","title":"Step 9: \u4ee3\u7801\u5ba1\u67e5"},{"location":"manual-CN/4.contributions/pull-request-commit-message-guidelines/","text":"PR \u548c Commit Message \u6307\u5357 \u00b6 \u672c\u6587\u6863\u4ecb\u7ecd\u7684 PR \u548c Commit Message \u6307\u5357\u9002\u7528\u4e8e\u6240\u6709 Nebula Graph \u4ed3\u5e93\u3002 \u6240\u6709\u63d0\u4ea4\u81f3 master \u5206\u652f\u7684 commit \u5747\u5fc5\u987b\u9075\u5faa\u4ee5\u4e0b\u51c6\u5219\u3002 Commit Message \u00b6 <type> ( <scope> ) : <subject> // scope is optional, subject is must <body> // optional <footer> // optional \u672c\u6307\u5357\u53c2\u7167 AngularJS commit \u89c4\u5219 \u3002 <Type> \u63cf\u8ff0 commit \u7c7b\u578b\u3002 <subject> \u662f commit \u7684\u7b80\u77ed\u63cf\u8ff0\u3002 \u5982\u9700\u6dfb\u52a0\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u6dfb\u52a0\u7a7a\u767d\u884c\uff0c\u7136\u540e\u4ee5\u6bb5\u843d\u683c\u5f0f\u8fdb\u884c\u6dfb\u52a0\u3002 Commit \u7c7b\u578b \u00b6 Type Description Feature \u65b0\u529f\u80fd Fix \u4fee\u590d bug Doc \u6587\u6863 Style \u4ee3\u7801\u683c\u5f0f Refactor \u4ee3\u7801\u91cd\u6784 Test \u589e\u52a0\u6d4b\u8bd5 Chore \u6784\u5efa\u8fc7\u7a0b\u6216\u8f85\u52a9\u5de5\u5177\u7684\u53d8\u52a8 Pull Request \u00b6 \u63d0\u4ea4 PR \u65f6\uff0c\u8bf7\u5728\u6807\u9898\u4e2d\u5305\u542b\u6240\u6709\u66f4\u6539\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5e76\u786e\u4fdd\u6807\u9898\u7b80\u6d01\u3002 PR \u6807\u9898\u5fc5\u9700\u7b80\u660e\u6982\u62ec\u66f4\u6539\u4fe1\u606f\u3002 \u5bf9\u4e8e\u663e\u800c\u6613\u89c1\u7684\u7b80\u5355\u66f4\u6539\uff0c\u53ef\u4e0d\u5fc5\u6dfb\u52a0\u63cf\u8ff0\u3002\u5982\u679c PR \u6d89\u53ca\u590d\u6742\u66f4\u6539\uff0c\u8bf7\u5bf9\u66f4\u6539\u8fdb\u884c\u6982\u8ff0\u3002\u5982\u679c PR \u4fee\u590d\u4e86\u76f8\u5173 issue\uff0c\u8bf7\u5173\u8054\u3002 Pull Request \u6a21\u677f \u00b6 What changes were proposed in this pull request? Why are the changes needed? Does this PR introduce any user-facing change? How was this patch tested?","title":"PR and Commit \u4fe1\u606f\u6307\u5357"},{"location":"manual-CN/4.contributions/pull-request-commit-message-guidelines/#pr_commit_message","text":"\u672c\u6587\u6863\u4ecb\u7ecd\u7684 PR \u548c Commit Message \u6307\u5357\u9002\u7528\u4e8e\u6240\u6709 Nebula Graph \u4ed3\u5e93\u3002 \u6240\u6709\u63d0\u4ea4\u81f3 master \u5206\u652f\u7684 commit \u5747\u5fc5\u987b\u9075\u5faa\u4ee5\u4e0b\u51c6\u5219\u3002","title":"PR \u548c Commit Message \u6307\u5357"},{"location":"manual-CN/4.contributions/pull-request-commit-message-guidelines/#commit_message","text":"<type> ( <scope> ) : <subject> // scope is optional, subject is must <body> // optional <footer> // optional \u672c\u6307\u5357\u53c2\u7167 AngularJS commit \u89c4\u5219 \u3002 <Type> \u63cf\u8ff0 commit \u7c7b\u578b\u3002 <subject> \u662f commit \u7684\u7b80\u77ed\u63cf\u8ff0\u3002 \u5982\u9700\u6dfb\u52a0\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u6dfb\u52a0\u7a7a\u767d\u884c\uff0c\u7136\u540e\u4ee5\u6bb5\u843d\u683c\u5f0f\u8fdb\u884c\u6dfb\u52a0\u3002","title":"Commit Message"},{"location":"manual-CN/4.contributions/pull-request-commit-message-guidelines/#commit","text":"Type Description Feature \u65b0\u529f\u80fd Fix \u4fee\u590d bug Doc \u6587\u6863 Style \u4ee3\u7801\u683c\u5f0f Refactor \u4ee3\u7801\u91cd\u6784 Test \u589e\u52a0\u6d4b\u8bd5 Chore \u6784\u5efa\u8fc7\u7a0b\u6216\u8f85\u52a9\u5de5\u5177\u7684\u53d8\u52a8","title":"Commit \u7c7b\u578b"},{"location":"manual-CN/4.contributions/pull-request-commit-message-guidelines/#pull_request","text":"\u63d0\u4ea4 PR \u65f6\uff0c\u8bf7\u5728\u6807\u9898\u4e2d\u5305\u542b\u6240\u6709\u66f4\u6539\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5e76\u786e\u4fdd\u6807\u9898\u7b80\u6d01\u3002 PR \u6807\u9898\u5fc5\u9700\u7b80\u660e\u6982\u62ec\u66f4\u6539\u4fe1\u606f\u3002 \u5bf9\u4e8e\u663e\u800c\u6613\u89c1\u7684\u7b80\u5355\u66f4\u6539\uff0c\u53ef\u4e0d\u5fc5\u6dfb\u52a0\u63cf\u8ff0\u3002\u5982\u679c PR \u6d89\u53ca\u590d\u6742\u66f4\u6539\uff0c\u8bf7\u5bf9\u66f4\u6539\u8fdb\u884c\u6982\u8ff0\u3002\u5982\u679c PR \u4fee\u590d\u4e86\u76f8\u5173 issue\uff0c\u8bf7\u5173\u8054\u3002","title":"Pull Request"},{"location":"manual-CN/4.contributions/pull-request-commit-message-guidelines/#pull_request_1","text":"What changes were proposed in this pull request? Why are the changes needed? Does this PR introduce any user-facing change? How was this patch tested?","title":"Pull Request \u6a21\u677f"},{"location":"manual-CN/5.appendix/cypher-ngql/","text":"Cypher \u548c nGQL \u00b6 \u57fa\u672c\u6982\u5ff5\u5bf9\u6bd4 \u00b6 \u6982\u5ff5\u540d\u79f0 Cypher nGQL vertex, node node vertex edge, relationship relationship edge vertex type label tag edge type relationship type edge type vertex identifier node id generated by default vid edge identifier edge id generated by default src, dst, rank \u56fe\u57fa\u672c\u64cd\u4f5c \u00b6 \u64cd\u4f5c Cypher nGQL \u5217\u51fa\u6240\u6709 labels/tags MATCH (n) RETURN distinct labels(n); call db.labels(); SHOW TAGS \u63d2\u5165\u6307\u5b9a\u7c7b\u578b\u7684\u70b9 CREATE (:Person {age: 16}) INSERT VERTEX <tag_name> (prop_name_list) VALUES <vid> :(prop_value_list) \u63d2\u5165\u6307\u5b9a\u7c7b\u578b\u7684\u8fb9 CREATE (src)-[:LIKES]->(dst) SET rel.prop = V INSERT EDGE <edge_type> ( prop_name_list ) VALUES <src_vid> -> <dst_vid> [ @<rank> ]: ( prop_value_list ) \u5220\u9664\u70b9 MATCH (n) WHERE ID(n) = vid DETACH DELETE n DELETE VERTEX <vid> \u5220\u9664\u8fb9 MATCH ()-[r]->() WHERE ID(r)=edgeID DELETE r DELETE EDGE <edge_type> <src_vid> -> <dst_vid> [ @<rank> ] \u66f4\u65b0\u70b9\u5c5e\u6027 SET n.name = V UPDATE VERTEX <vid> SET <update_columns> \u67e5\u8be2\u6307\u5b9a\u70b9\u7684\u5c5e\u6027 MATCH (n) WHERE ID(n) = vid RETURN properties(n) FETCH PROP ON <tag_name> <vid> \u67e5\u8be2\u6307\u5b9a\u8fb9\u7684\u5c5e\u6027 MATCH (n)-[r]->() WHERE ID(r)=edgeID return properties(r) FETCH PROP ON <edge_type> <src_vid> -> <dst_vid> [ @<rank> ] \u67e5\u8be2\u6307\u5b9a\u70b9\u7684\u67d0\u4e00\u7c7b\u5173\u7cfb MATCH (n)-[r:edge_type]->() WHERE ID(n) = vid GO FROM <vid> OVER <edge_type> \u6307\u5b9a\u70b9\u7684\u67d0\u4e00\u7c7b\u53cd\u5411\u5173\u7cfb MATCH (n)<-[r:edge_type]-() WHERE ID(n) = vid GO FROM <vid> OVER <edge_type> REVERSELY \u6307\u5b9a\u70b9\u67d0\u4e00\u7c7b\u5173\u7cfb\u7b2c N-Hop \u67e5\u8be2 MATCH (n)-[r:edge_type*N]->() WHERE ID(n) = vid return r GO N STEPS FROM <vid> OVER <edge_type> \u4e24\u70b9\u8def\u5f84 MATCH p =(a)-[]->(b) WHERE ID(a) = a_vid AND ID(b) = b_vid RETURN p FIND ALL PATH FROM <a_vid> TO <b_vid> OVER * \u793a\u4f8b\u67e5\u8be2 \u00b6 \u793a\u4f8b\u4f7f\u7528\u4ee5\u4e0b\u6570\u636e: \u63d2\u5165\u6570\u636e # \u63d2\u5165\u70b9 nebula> INSERT VERTEX character(name, age, type) VALUES hash(\"saturn\"):(\"saturn\", 10000, \"titan\"), hash(\"jupiter\"):(\"jupiter\", 5000, \"god\"); # \u63d2\u5165\u8fb9 nebula> INSERT EDGE father() VALUES hash(\"jupiter\")->hash(\"saturn\"):(); // cypher cypher> CREATE (src:character {name:\"saturn\", age: 10000, type:\"titan\"}) > CREATE (dst:character {name:\"jupiter\", age: 5000, type:\"god\"}) > CREATE (src)-[rel:father]->(dst) ``` - \u5220\u9664\u70b9 ```ngql nebula> DELETE VERTEX hash(\"prometheus\"); cypher> MATCH (n:character {name:\"prometheus\"}) > DETACH DELETE n \u66f4\u65b0\u70b9\u7684\u5c5e\u6027 nebula> UPDATE VERTEX hash(\"jesus\") SET character.type = 'titan'; cypher> MATCH (n:character {name:\"jesus\"}) > SET n.type = 'titan' \u67e5\u770b\u70b9\u7684\u5c5e\u6027 nebula> FETCH PROP ON character hash(\"saturn\"); =================================================== | character.name | character.age | character.type | =================================================== | saturn | 10000 | titan | --------------------------------------------------- cypher> MATCH (n:character {name:\"saturn\"}) > RETURN properties(n) \u2552\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2555 \u2502\"properties(n)\" \u2502 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 \u2502{\"name\":\"saturn\",\"type\":\"titan\",\"age\":10000}\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u67e5\u8be2 hercules \u7956\u7236\u7684\u59d3\u540d nebula> GO 2 STEPS FROM hash(\"hercules\") OVER father YIELD $$.character.name; ===================== | $$.character.name | ===================== | saturn | --------------------- cypher> MATCH (src:character{name:\"hercules\"})-[r:father*2]->(dst:character) > RETURN dst.name; \u2552\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2555 \u2502\"dst.name\"\u2502 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 \u2502\"satun\" \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u67e5\u8be2 hercules \u7236\u4eb2\u7684\u59d3\u540d nebula> GO FROM hash(\"hercules\") OVER father YIELD $$.character.name; ===================== | $$.character.name | ===================== | jupiter | --------------------- cypher> MATCH (src:character{name:\"hercules\"})-[r:father]->(dst:character) > RETURN dst.name \u2552\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2555 \u2502\"dst.name\"\u2502 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 \u2502\"jupiter\" \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u67e5\u8be2\u767e\u5c81\u8001\u4eba\u7684\u59d3\u540d nebula> # coming soon cypher> MATCH (src:character) > WHERE src.age > 100 > RETURN src.name \u2552\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2555 \u2502\"src.name\" \u2502 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 \u2502 \"saturn\" \u2502 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502 \"jupiter\" \u2502 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502 \"neptune\" \u2502 \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502 \u2502 \"pluto\" \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u627e\u51fa pluto \u548c\u8c01\u4f4f nebula> GO FROM hash(\"pluto\") OVER lives YIELD lives._dst AS place | GO FROM $-.place OVER lives REVERSELY WHERE \\ > $$.character.name != \"pluto\" YIELD $$.character.name AS cohabitants; =============== | cohabitants | =============== | cerberus | --------------- cypher> MATCH (src:character{name:\"pluto\"})-[r1:lives]->()<-[r2:lives]-(dst:character) > RETURN dst.name \u2552\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2555 \u2502\"dst.name\"\u2502 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 \u2502\"cerberus\"\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u67e5\u8be2 Pluto \u7684\u5144\u5f1f\u4eec\u4ee5\u53ca\u4ed6\u4eec\u7684\u5c45\u4f4f\u5730 nebula> GO FROM hash(\"pluto\") OVER brother YIELD brother._dst AS god | \\ > GO FROM $-.god OVER lives YIELD $^.character.name AS Brother, $$.location.name AS Habitations; ========================= | Brother | Habitations | ========================= | jupiter | sky | ------------------------- | neptune | sea | ------------------------- cypher> MATCH (src:Character{name:\"pluto\"})-[r1:brother]->(bro:Character)-[r2:lives]->(dst) > RETURN bro.name, dst.name \u2552\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2555 \u2502\"bro.name\" \u2502\"dst.name\"\u2502 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 \u2502 \"jupiter\" \u2502 \"sky\" \u2502 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502 \"neptune\" \u2502 \"sea\" \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518","title":"Cypher & nGQL"},{"location":"manual-CN/5.appendix/cypher-ngql/#cypher_ngql","text":"","title":"Cypher \u548c nGQL"},{"location":"manual-CN/5.appendix/cypher-ngql/#_1","text":"\u6982\u5ff5\u540d\u79f0 Cypher nGQL vertex, node node vertex edge, relationship relationship edge vertex type label tag edge type relationship type edge type vertex identifier node id generated by default vid edge identifier edge id generated by default src, dst, rank","title":"\u57fa\u672c\u6982\u5ff5\u5bf9\u6bd4"},{"location":"manual-CN/5.appendix/cypher-ngql/#_2","text":"\u64cd\u4f5c Cypher nGQL \u5217\u51fa\u6240\u6709 labels/tags MATCH (n) RETURN distinct labels(n); call db.labels(); SHOW TAGS \u63d2\u5165\u6307\u5b9a\u7c7b\u578b\u7684\u70b9 CREATE (:Person {age: 16}) INSERT VERTEX <tag_name> (prop_name_list) VALUES <vid> :(prop_value_list) \u63d2\u5165\u6307\u5b9a\u7c7b\u578b\u7684\u8fb9 CREATE (src)-[:LIKES]->(dst) SET rel.prop = V INSERT EDGE <edge_type> ( prop_name_list ) VALUES <src_vid> -> <dst_vid> [ @<rank> ]: ( prop_value_list ) \u5220\u9664\u70b9 MATCH (n) WHERE ID(n) = vid DETACH DELETE n DELETE VERTEX <vid> \u5220\u9664\u8fb9 MATCH ()-[r]->() WHERE ID(r)=edgeID DELETE r DELETE EDGE <edge_type> <src_vid> -> <dst_vid> [ @<rank> ] \u66f4\u65b0\u70b9\u5c5e\u6027 SET n.name = V UPDATE VERTEX <vid> SET <update_columns> \u67e5\u8be2\u6307\u5b9a\u70b9\u7684\u5c5e\u6027 MATCH (n) WHERE ID(n) = vid RETURN properties(n) FETCH PROP ON <tag_name> <vid> \u67e5\u8be2\u6307\u5b9a\u8fb9\u7684\u5c5e\u6027 MATCH (n)-[r]->() WHERE ID(r)=edgeID return properties(r) FETCH PROP ON <edge_type> <src_vid> -> <dst_vid> [ @<rank> ] \u67e5\u8be2\u6307\u5b9a\u70b9\u7684\u67d0\u4e00\u7c7b\u5173\u7cfb MATCH (n)-[r:edge_type]->() WHERE ID(n) = vid GO FROM <vid> OVER <edge_type> \u6307\u5b9a\u70b9\u7684\u67d0\u4e00\u7c7b\u53cd\u5411\u5173\u7cfb MATCH (n)<-[r:edge_type]-() WHERE ID(n) = vid GO FROM <vid> OVER <edge_type> REVERSELY \u6307\u5b9a\u70b9\u67d0\u4e00\u7c7b\u5173\u7cfb\u7b2c N-Hop \u67e5\u8be2 MATCH (n)-[r:edge_type*N]->() WHERE ID(n) = vid return r GO N STEPS FROM <vid> OVER <edge_type> \u4e24\u70b9\u8def\u5f84 MATCH p =(a)-[]->(b) WHERE ID(a) = a_vid AND ID(b) = b_vid RETURN p FIND ALL PATH FROM <a_vid> TO <b_vid> OVER *","title":"\u56fe\u57fa\u672c\u64cd\u4f5c"},{"location":"manual-CN/5.appendix/cypher-ngql/#_3","text":"\u793a\u4f8b\u4f7f\u7528\u4ee5\u4e0b\u6570\u636e: \u63d2\u5165\u6570\u636e # \u63d2\u5165\u70b9 nebula> INSERT VERTEX character(name, age, type) VALUES hash(\"saturn\"):(\"saturn\", 10000, \"titan\"), hash(\"jupiter\"):(\"jupiter\", 5000, \"god\"); # \u63d2\u5165\u8fb9 nebula> INSERT EDGE father() VALUES hash(\"jupiter\")->hash(\"saturn\"):(); // cypher cypher> CREATE (src:character {name:\"saturn\", age: 10000, type:\"titan\"}) > CREATE (dst:character {name:\"jupiter\", age: 5000, type:\"god\"}) > CREATE (src)-[rel:father]->(dst) ``` - \u5220\u9664\u70b9 ```ngql nebula> DELETE VERTEX hash(\"prometheus\"); cypher> MATCH (n:character {name:\"prometheus\"}) > DETACH DELETE n \u66f4\u65b0\u70b9\u7684\u5c5e\u6027 nebula> UPDATE VERTEX hash(\"jesus\") SET character.type = 'titan'; cypher> MATCH (n:character {name:\"jesus\"}) > SET n.type = 'titan' \u67e5\u770b\u70b9\u7684\u5c5e\u6027 nebula> FETCH PROP ON character hash(\"saturn\"); =================================================== | character.name | character.age | character.type | =================================================== | saturn | 10000 | titan | --------------------------------------------------- cypher> MATCH (n:character {name:\"saturn\"}) > RETURN properties(n) \u2552\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2555 \u2502\"properties(n)\" \u2502 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 \u2502{\"name\":\"saturn\",\"type\":\"titan\",\"age\":10000}\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u67e5\u8be2 hercules \u7956\u7236\u7684\u59d3\u540d nebula> GO 2 STEPS FROM hash(\"hercules\") OVER father YIELD $$.character.name; ===================== | $$.character.name | ===================== | saturn | --------------------- cypher> MATCH (src:character{name:\"hercules\"})-[r:father*2]->(dst:character) > RETURN dst.name; \u2552\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2555 \u2502\"dst.name\"\u2502 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 \u2502\"satun\" \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u67e5\u8be2 hercules \u7236\u4eb2\u7684\u59d3\u540d nebula> GO FROM hash(\"hercules\") OVER father YIELD $$.character.name; ===================== | $$.character.name | ===================== | jupiter | --------------------- cypher> MATCH (src:character{name:\"hercules\"})-[r:father]->(dst:character) > RETURN dst.name \u2552\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2555 \u2502\"dst.name\"\u2502 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 \u2502\"jupiter\" \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u67e5\u8be2\u767e\u5c81\u8001\u4eba\u7684\u59d3\u540d nebula> # coming soon cypher> MATCH (src:character) > WHERE src.age > 100 > RETURN src.name \u2552\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2555 \u2502\"src.name\" \u2502 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 \u2502 \"saturn\" \u2502 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502 \"jupiter\" \u2502 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502 \"neptune\" \u2502 \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502 \u2502 \"pluto\" \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u627e\u51fa pluto \u548c\u8c01\u4f4f nebula> GO FROM hash(\"pluto\") OVER lives YIELD lives._dst AS place | GO FROM $-.place OVER lives REVERSELY WHERE \\ > $$.character.name != \"pluto\" YIELD $$.character.name AS cohabitants; =============== | cohabitants | =============== | cerberus | --------------- cypher> MATCH (src:character{name:\"pluto\"})-[r1:lives]->()<-[r2:lives]-(dst:character) > RETURN dst.name \u2552\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2555 \u2502\"dst.name\"\u2502 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 \u2502\"cerberus\"\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u67e5\u8be2 Pluto \u7684\u5144\u5f1f\u4eec\u4ee5\u53ca\u4ed6\u4eec\u7684\u5c45\u4f4f\u5730 nebula> GO FROM hash(\"pluto\") OVER brother YIELD brother._dst AS god | \\ > GO FROM $-.god OVER lives YIELD $^.character.name AS Brother, $$.location.name AS Habitations; ========================= | Brother | Habitations | ========================= | jupiter | sky | ------------------------- | neptune | sea | ------------------------- cypher> MATCH (src:Character{name:\"pluto\"})-[r1:brother]->(bro:Character)-[r2:lives]->(dst) > RETURN bro.name, dst.name \u2552\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2555 \u2502\"bro.name\" \u2502\"dst.name\"\u2502 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 \u2502 \"jupiter\" \u2502 \"sky\" \u2502 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502 \"neptune\" \u2502 \"sea\" \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518","title":"\u793a\u4f8b\u67e5\u8be2"},{"location":"manual-CN/5.appendix/gremlin-ngql/","text":"Gremlin \u548c nGQL \u5bf9\u6bd4 \u00b6 Gremlin \u4ecb\u7ecd \u00b6 Gremlin \u662f Apache ThinkerPop \u6846\u67b6\u4e0b\u7684\u56fe\u904d\u5386\u8bed\u8a00\u3002Gremlin \u53ef\u4ee5\u662f\u58f0\u660e\u6027\u7684\u4e5f\u53ef\u4ee5\u662f\u547d\u4ee4\u6027\u7684\u3002\u867d\u7136 Gremlin \u662f\u57fa\u4e8e Groovy \u7684\uff0c\u4f46\u5177\u6709\u8bb8\u591a\u8bed\u8a00\u53d8\u4f53\uff0c\u5141\u8bb8\u5f00\u53d1\u4eba\u5458\u4ee5 Java\u3001JavaScript\u3001Python\u3001Scala\u3001Clojure \u548c Groovy \u7b49\u8bb8\u591a\u73b0\u4ee3\u7f16\u7a0b\u8bed\u8a00\u539f\u751f\u7f16\u5199 Gremlin \u67e5\u8be2\u3002 nGQL \u4ecb\u7ecd \u00b6 Nebula Graph \u7684\u67e5\u8be2\u8bed\u8a00\u4e3a nGQL \uff0c \u662f\u4e00\u79cd\u7c7b SQL \u7684\u58f0\u660e\u578b\u7684\u6587\u672c\u67e5\u8be2\u8bed\u8a00\u3002\u76f8\u6bd4 SQL\uff0c nGQL \u5177\u6709\u5982\u4e0b\u7279\u70b9\uff1a \u7c7b SQL\uff0c\u6613\u5b66\u6613\u7528 \u53ef\u6269\u5c55 \u5173\u952e\u8bcd\u5927\u5c0f\u5199\u4e0d\u654f\u611f \u652f\u6301\u56fe\u904d\u5386 \u652f\u6301\u6a21\u5f0f\u5339\u914d \u652f\u6301\u805a\u5408\u8fd0\u7b97 \u652f\u6301\u56fe\u8ba1\u7b97 \u652f\u6301\u5206\u5e03\u5f0f\u4e8b\u52a1\uff08\u5f00\u53d1\u4e2d\uff09 \u65e0\u5d4c\u5165\u652f\u6301\u7ec4\u5408\u8bed\u53e5\uff0c\u6613\u4e8e\u9605\u8bfb \u57fa\u672c\u6982\u5ff5\u5bf9\u6bd4 \u00b6 \u540d\u79f0 Gremlin nGQL vertex, node vertex vertex edge, relationship edge edge vertex type label tag edge type label edge type vertex id vid vid edge id eid \u65e0 Gremlin \u548c nGQL \u5747\u4f7f\u7528\u552f\u4e00\u6807\u8bc6\u7b26\u6807\u8bb0\u9876\u70b9\u548c\u8fb9\u3002\u5728 Nebula Graph \u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u6307\u5b9a\u6807\u8bc6\u7b26\u3001\u54c8\u5e0c\u6216 uuid \u51fd\u6570\u81ea\u52a8\u751f\u6210\u6807\u8bc6\u7b26\u3002 \u56fe\u57fa\u672c\u64cd\u4f5c \u00b6 \u540d\u79f0 Gremlin nGQL \u65b0\u5efa\u56fe\u7a7a\u95f4 g = TinkerGraph.open().traversal() CREATE SPACE gods \u67e5\u770b\u70b9\u7c7b\u578b g.V().label() SHOW TAGS \u63d2\u5165\u6307\u5b9a\u7c7b\u578b\u70b9 g.addV(String vertexLabel).property() INSERT VERTEX <tag_name> (prop_name_list) VALUES <vid> :(prop_value_list) \u63d2\u5165\u6307\u5b9a\u7c7b\u578b\u8fb9 g.addE(String edgeLabel).from(v1).to(v2).property() INSERT EDGE <edge_name> ( <prop_name_list> ) VALUES <src_vid> -> <dst_vid> : ( <prop_value_list> ) \u5220\u9664\u70b9 g.V( <vid> ).drop() DELETE VERTEX <vid> \u5220\u9664\u8fb9 g.E( <vid> ).outE( <type> ).where(otherV().is( <vid> ))drop() DELETE EDGE <edge_type> <src_vid> -> <dst_vid> \u66f4\u65b0\u70b9\u5c5e\u6027 g.V( <vid> ).property() UPDATE VERTEX <vid> SET <update_columns> \u67e5\u770b\u6307\u5b9a\u70b9 g.V( <vid> ) FETCH PROP ON <tag_name> <vid> \u67e5\u770b\u6307\u5b9a\u8fb9 g.E( <src_vid> >> <dst_vid> ) FETCH PROP ON <edge_name> <src_vid> -> <dst_vid> \u6cbf\u6307\u5b9a\u70b9\u67e5\u8be2\u6307\u5b9a\u8fb9 g.V( <vid> ).outE( <edge> ) GO FROM <vid> OVER <edge> \u6cbf\u6307\u5b9a\u70b9\u53cd\u5411\u67e5\u8be2\u6307\u5b9a\u8fb9 g.V( <vid> ).in( <edge> ) GO FROM <vid> OVER <edge> REVERSELY \u6cbf\u6307\u5b9a\u70b9\u67e5\u8be2\u6307\u5b9a\u8fb9 N \u8df3 g.V( <vid> ).repeat(out( <edge> )).times(N) GO N STEPS FROM <vid> OVER <edge> \u8fd4\u56de\u6307\u5b9a\u4e24\u70b9\u8def\u5f84 g.V( <vid> ).repeat(out()).until( <vid> ).path() FIND ALL PATH FROM <vid> TO <vid> OVER * \u793a\u4f8b\u67e5\u8be2 \u00b6 \u672c\u8282\u4e2d\u7684\u793a\u4f8b\u4f7f\u7528\u4e86 Janus Graph \u7684\u793a\u4f8b\u56fe The Graphs of Gods \u3002\u8be5\u56fe\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\u3002\u6b64\u5904\u4f7f\u7528 \u5c5e\u6027\u56fe\u6a21\u578b \u63cf\u8ff0\u7f57\u9a6c\u4e07\u795e\u8bdd\u4e2d\u8bf8\u795e\u5173\u7cfb\u3002 \u63d2\u5165\u6570\u636e # \u63d2\u5165\u70b9 nebula> INSERT VERTEX character ( name, age, type ) VALUES hash ( \"saturn\" ) : ( \"saturn\" , 10000 , \"titan\" ) , hash ( \"jupiter\" ) : ( \"jupiter\" , 5000 , \"god\" ) ; gremlin> saturn = g.addV ( \"character\" ) .property ( T.id, 1 ) .property ( 'name' , 'saturn' ) .property ( 'age' , 10000 ) .property ( 'type' , 'titan' ) .next () ; == >v [ 1 ] gremlin> jupiter = g.addV ( \"character\" ) .property ( T.id, 2 ) .property ( 'name' , 'jupiter' ) .property ( 'age' , 5000 ) .property ( 'type' , 'god' ) .next () ; == >v [ 2 ] gremlin> prometheus = g.addV ( \"character\" ) .property ( T.id, 31 ) .property ( 'name' , 'prometheus' ) .property ( 'age' , 1000 ) .property ( 'type' , 'god' ) .next () ; == >v [ 31 ] gremlin> jesus = g.addV ( \"character\" ) .property ( T.id, 32 ) .property ( 'name' , 'jesus' ) .property ( 'age' , 5000 ) .property ( 'type' , 'god' ) .next () ; == >v [ 32 ] # \u63d2\u5165\u8fb9 nebula> INSERT EDGE father () VALUES hash ( \"jupiter\" ) ->hash ( \"saturn\" ) : () ; gremlin> g.addE ( \"father\" ) .from ( jupiter ) .to ( saturn ) .property ( T.id, 13 ) ; == >e [ 13 ][ 2 -father->1 ] \u5220\u9664\u6570\u636e nebula> DELETE VERTEX hash ( \"prometheus\" ) ; gremlin> g.V ( prometheus ) .drop () ; \u66f4\u65b0\u6570\u636e nebula> UPDATE VERTEX hash ( \"jesus\" ) SET character.type = 'titan' ; gremlin> g.V ( jesus ) .property ( 'age' , 6000 ) ; \u67e5\u770b\u6570\u636e nebula> FETCH PROP ON character hash ( \"saturn\" ) ; =================================================== | character.name | character.age | character.type | =================================================== | saturn | 10000 | titan | --------------------------------------------------- gremlin> g.V ( saturn ) .valueMap () ; == > [ name: [ saturn ] ,type: [ titan ] ,age: [ 10000 ]] \u67e5\u8be2 hercules \u7684\u7956\u7236 nebula> LOOKUP ON character WHERE character.name == 'hercules' | \\ -> GO 2 STEPS FROM $- .VertexID OVER father YIELD $$ .character.name ; ===================== | $$ .character.name | ===================== | saturn | --------------------- gremlin> g.V () .hasLabel ( 'character' ) .has ( 'name' , 'hercules' ) .out ( 'father' ) .out ( 'father' ) .values ( 'name' ) ; == >saturn \u67e5\u8be2 hercules \u7684\u7236\u4eb2 nebula> LOOKUP ON character WHERE character.name == 'hercules' | \\ -> GO FROM $- .VertexID OVER father YIELD $$ .character.name ; ===================== | $$ .character.name | ===================== | jupiter | --------------------- gremlin> g.V () .hasLabel ( 'character' ) .has ( 'name' , 'hercules' ) .out ( 'father' ) .values ( 'name' ) ; == >jupiter \u67e5\u8be2\u5e74\u9f84\u5927\u4e8e 100 \u7684\u4eba\u7269 nebula> LOOKUP ON character WHERE character.age > 100 YIELD character.name, character.age ; ========================================================= | VertexID | character.name | character.age | ========================================================= | 6761447489613431910 | pluto | 4000 | --------------------------------------------------------- | -5860788569139907963 | neptune | 4500 | --------------------------------------------------------- | 4863977009196259577 | jupiter | 5000 | --------------------------------------------------------- | -4316810810681305233 | saturn | 10000 | --------------------------------------------------------- gremlin> g.V () .hasLabel ( 'character' ) .has ( 'age' ,gt ( 100 )) .values ( 'name' ) ; == >saturn == >jupiter == >neptune == >pluto \u67e5\u8be2\u548c pluto \u4e00\u8d77\u5c45\u4f4f\u7684\u4eba\u7269 nebula> GO FROM hash ( \"pluto\" ) OVER lives YIELD lives._dst AS place | \\ GO FROM $- .place OVER lives REVERSELY YIELD $$ .character.name AS cohabitants ; =============== | cohabitants | =============== | pluto | --------------- | cerberus | --------------- gremlin> g.V ( pluto ) .out ( 'lives' ) .in ( 'lives' ) .values ( 'name' ) ; == >pluto == >cerberus \u4ece\u4e00\u8d77\u5c45\u4f4f\u7684\u4eba\u7269\u4e2d\u6392\u9664 pluto \u672c\u4eba nebula> GO FROM hash ( \"pluto\" ) OVER lives YIELD lives._dst AS place | GO FROM $- .place OVER lives REVERSELY WHERE \\ $$ .character.name ! = \"pluto\" YIELD $$ .character.name AS cohabitants ; =============== | cohabitants | =============== | cerberus | --------------- gremlin> g.V ( pluto ) .out ( 'lives' ) .in ( 'lives' ) .where ( is ( neq ( pluto ))) .values ( 'name' ) ; == >cerberus Pluto \u7684\u5144\u5f1f\u4eec # where do pluto's brothers live? nebula> GO FROM hash ( \"pluto\" ) OVER brother YIELD brother._dst AS brother | \\ GO FROM $- .brother OVER lives YIELD $$ .location.name ; ==================== | $$ .location.name | ==================== | sky | -------------------- | sea | -------------------- gremlin> g.V ( pluto ) .out ( 'brother' ) .out ( 'lives' ) .values ( 'name' ) ; == >sky == >sea # which brother lives in which place? nebula> GO FROM hash ( \"pluto\" ) OVER brother YIELD brother._dst AS god | \\ GO FROM $- .god OVER lives YIELD $^.character.name AS Brother, $$ .location.name AS Habitations ; ========================= | Brother | Habitations | ========================= | jupiter | sky | ------------------------- | neptune | sea | ------------------------- gremlin> g.V ( pluto ) .out ( 'brother' ) .as ( 'god' ) .out ( 'lives' ) .as ( 'place' ) .select ( 'god' , 'place' ) .by ( 'name' ) ; == > [ god:jupiter, place:sky ] == > [ god:neptune, place:sea ] \u9ad8\u7ea7\u67e5\u8be2 \u00b6 \u56fe\u63a2\u7d22 \u00b6 # gremlin \u7248\u672c gremlin> Gremlin.version () ; == >3.3.5 # \u8fd4\u56de\u6240\u6709\u70b9 gremlin> g.V () ; == >v [ 1 ] == >v [ 2 ] ... nebula> # Coming soon # \u7edf\u8ba1\u70b9\u6570 gremlin> g.V () .count () ; == >12 nebula> # Coming soon # \u6309\u7167\u70b9\u8fb9\u7c7b\u578b\u7edf\u8ba1\u70b9\u8fb9\u4e2a\u6570 gremlin> g.V () .groupCount () .by ( label ) ; == > [ character:9,location:3 ] gremlin> g.E () .groupCount () .by ( label ) ; == > [ mother:1,lives:5,father:2,brother:6,battled:3,pet:1 ] nebula> # Coming soon # \u8fd4\u56de\u6240\u6709\u8fb9 gremlin> g.E () ; == >e [ 13 ][ 2 -father->1 ] == >e [ 14 ][ 2 -lives->3 ] ... nebula> # Coming soon # \u67e5\u8be2\u6240\u6709\u70b9\u7c7b\u578b gremlin> g.V () .label () .dedup () ; == >character == >location nebula> SHOW TAGS ; ================== | ID | Name | ================== | 15 | character | ------------------ | 16 | location | ------------------ # \u67e5\u8be2\u6240\u6709\u8fb9\u7c7b\u578b gremlin> g.E () .label () .dedup () ; == >father == >lives ... nebula> SHOW EDGES ; ================ | ID | Name | ================ | 17 | father | ---------------- | 18 | brother | ---------------- ... # \u67e5\u8be2\u6240\u6709\u9876\u70b9\u7684\u5c5e\u6027 gremlin> g.V () .valueMap () ; == > [ name: [ saturn ] ,type: [ titan ] ,age: [ 10000 ]] == > [ name: [ jupiter ] ,type: [ god ] ,age: [ 5000 ]] ... nebula> # Coming soon # \u67e5\u8be2 character \u9876\u70b9\u5c5e\u6027 gremlin> g.V () .hasLabel ( 'character' ) .valueMap () ; == > [ name: [ saturn ] ,type: [ titan ] ,age: [ 10000 ]] == > [ name: [ jupiter ] ,type: [ god ] ,age: [ 5000 ]] ... \u8fb9\u7684\u904d\u5386 \u00b6 \u540d\u79f0 Gremlin nGQL \u6307\u5b9a\u70b9\u6cbf\u6307\u5b9a\u8fb9\u7684\u51fa\u9876\u70b9 out(\\ ) GO FROM \\ OVER \\ \u6307\u5b9a\u70b9\u6cbf\u6307\u5b9a\u8fb9\u7684\u5165\u9876\u70b9 in(\\ ) GO FROM \\ OVER \\ REVERSELY \u6307\u5b9a\u70b9\u6cbf\u6307\u5b9a\u8fb9\u7684\u53cc\u5411\u9876\u70b9 both(\\ ) GO FROM \\ OVER \\ BIDIRECT # \u8bbf\u95ee\u67d0\u4e2a\u9876\u70b9\u6cbf\u67d0\u6761\u8fb9\u7684 OUT \u65b9\u5411\u90bb\u63a5\u70b9 gremlin> g.V ( jupiter ) .out ( 'brother' ) ; == >v [ 8 ] == >v [ 5 ] nebula> GO FROM hash ( \"jupiter\" ) OVER brother ; ======================== | brother._dst | ======================== | 6761447489613431910 | ------------------------ | -5860788569139907963 | ------------------------ # \u8bbf\u95ee\u67d0\u4e2a\u9876\u70b9\u6cbf\u67d0\u6761\u8fb9\u7684 IN \u65b9\u5411\u90bb\u63a5\u70b9 gremlin> g.V ( jupiter ) .in ( 'brother' ) ; == >v [ 5 ] == >v [ 8 ] nebula> GO FROM hash ( \"jupiter\" ) OVER brother REVERSELY ; ======================= | brother._dst | ======================= | 4863977009196259577 | ----------------------- | 4863977009196259577 | ----------------------- # \u8bbf\u95ee\u67d0\u4e2a\u9876\u70b9\u6cbf\u67d0\u6761\u8fb9\u7684\u53cc\u5411\u90bb\u63a5\u70b9 gremlin> g.V ( jupiter ) .both ( 'brother' ) ; == >v [ 8 ] == >v [ 5 ] == >v [ 5 ] == >v [ 8 ] nebula> GO FROM hash ( \"jupiter\" ) OVER brother BIDIRECT ; ======================= | brother._dst | ======================= | 6761447489613431910 | ------------------------ | -5860788569139907963 | | 4863977009196259577 | ----------------------- | 4863977009196259577 | ----------------------- # 2\u5ea6 out \u67e5\u8be2 gremlin> g.V ( hercules ) .out ( 'father' ) .out ( 'lives' ) ; == >v [ 3 ] nebula> GO FROM hash ( \"hercules\" ) OVER father YIELD father._dst AS id | \\ GO FROM $- .id OVER lives ; ======================== | lives._dst | ======================== | -1121386748834253737 | ------------------------ has \u6761\u4ef6\u8fc7\u6ee4 \u00b6 \u540d\u79f0 Gremlin nGQL \u901a\u8fc7 ID \u6765\u8fc7\u6ee4\u9876\u70b9 hasId(\\ ) FETCH PROP ON \\ \u901a\u8fc7 label \u548c\u5c5e\u6027\u7684\u540d\u5b57\u548c\u503c\u8fc7\u6ee4\u9876\u70b9\u548c\u8fb9 has(\\ , \\ , \\ ) LOOKUP \\ | \\ WHERE \\ # \u67e5\u8be2 ID \u4e3a saturn \u7684\u9876\u70b9 gremlin> g.V () .hasId ( saturn ) ; == >v [ 1 ] nebula> FETCH PROP ON * hash ( \"saturn\" ) ; ========================================================================== | VertexID | character.name | character.age | character.type | ========================================================================== | -4316810810681305233 | saturn | 10000 | titan | -------------------------------------------------------------------------- # \u67e5\u8be2 tag \u4e3a character \u4e14 name \u5c5e\u6027\u503c\u4e3a hercules \u7684\u9876\u70b9 gremlin> g.V () .has ( 'character' , 'name' , 'hercules' ) .valueMap () ; == > [ name: [ hercules ] ,type: [ demigod ] ,age: [ 30 ]] nebula> LOOKUP ON character WHERE character.name == 'hercules' YIELD character.name, character.age, character.type ; ========================================================================= | VertexID | character.name | character.age | character.type | ========================================================================= | 5976696804486077889 | hercules | 30 | demigod | ------------------------------------------------------------------------- \u8fd4\u56de\u7ed3\u679c\u9650\u5236 \u00b6 \u540d\u79f0 Gremlin nGQL \u6307\u5b9a\u8fd4\u56de\u7ed3\u679c\u884c\u6570 limit() LIMIT \u83b7\u53d6\u540e n \u4e2a\u5143\u7d20 tail() ORDER BY \\ DESC LIMIT \u8df3\u8fc7\u524d n \u4e2a\u5143\u7d20 skip() LIMIT \\ # \u67e5\u8be2\u524d\u4e24\u4e2a\u9876\u70b9 gremlin> g.V () .has ( 'character' , 'name' , 'hercules' ) .out ( 'battled' ) .limit ( 2 ) ; == >v [ 9 ] == >v [ 10 ] nebula> GO FROM hash ( 'hercules' ) OVER battled | LIMIT 2 ; ======================= | battled._dst | ======================= | 530133512982221454 | ----------------------- | -695163537569412701 | ----------------------- # \u67e5\u8be2\u6700\u540e\u4e00\u4e2a\u9876\u70b9 gremlin> g.V () .has ( 'character' , 'name' , 'hercules' ) .out ( 'battled' ) .values ( 'name' ) .tail ( 1 ) ; == >cerberus nebula> GO FROM hash ( 'hercules' ) OVER battled YIELD $$ .character.name AS name | ORDER BY name | LIMIT 1 ; ============ | name | ============ | cerberus | ------------ # \u8df3\u8fc7\u7b2c 1 \u4e2a\u5143\u7d20\u5e76\u8fd4\u56de\u4e00\u4e2a\u5143\u7d20 gremlin> g.V () .has ( 'character' , 'name' , 'hercules' ) .out ( 'battled' ) .values ( 'name' ) .skip ( 1 ) .limit ( 1 ) ; == >hydra nebula> GO FROM hash ( 'hercules' ) OVER battled YIELD $$ .character.name AS name | ORDER BY name | LIMIT 1 ,1 ; ========= | name | ========= | hydra | --------- \u8def\u5f84\u67e5\u8be2 \u00b6 \u540d\u79f0 Gremlin nGQL \u6240\u6709\u8def\u5f84 path() FIND ALL PATH \u4e0d\u5305\u542b\u73af\u8def simplePath() \\ \u53ea\u5305\u542b\u73af\u8def cyclicPath() \\ \u6700\u77ed\u8def\u5f84 \\ FIND SHORTEST PATH \u6ce8\u610f\uff1a Nebula Graph \u9700\u8981\u8d77\u59cb\u70b9\u548c\u7ec8\u70b9\u65b9\u53ef\u8fd4\u56de\u8def\u5f84\uff0c Gremlin \u4ec5\u9700\u8981\u8d77\u59cb\u70b9\u3002 # pluto \u9876\u70b9\u5230\u4e0e\u5176\u6709\u76f4\u63a5\u5173\u8054\u7684\u51fa\u8fb9\u9876\u70b9\u7684\u8def\u5f84 gremlin> g.V () .hasLabel ( 'character' ) .has ( 'name' , 'pluto' ) .out () .path () ; == > [ v [ 8 ] ,v [ 12 ]] == > [ v [ 8 ] ,v [ 2 ]] == > [ v [ 8 ] ,v [ 5 ]] == > [ v [ 8 ] ,v [ 11 ]] # \u67e5\u8be2\u70b9 pluto \u5230\u70b9 jupiter \u7684\u6700\u77ed\u8def\u5f84 nebula> LOOKUP ON character WHERE character.name == \"pluto\" YIELD character.name AS name | \\ FIND SHORTEST PATH FROM $- .VertexID TO hash ( \"jupiter\" ) OVER * ; ============================================================ | _path_ | ============================================================ | 6761447489613431910 <brother,0> 4863977009196259577 ------------------------------------------------------------ \u591a\u5ea6\u67e5\u8be2 \u00b6 \u540d\u79f0 Gremlin nGQL \u6307\u5b9a\u91cd\u590d\u6267\u884c\u7684\u8bed\u53e5 repeat() N STEPS \u6307\u5b9a\u91cd\u590d\u6267\u884c\u7684\u6b21\u6570 times() N STEPS \u6307\u5b9a\u5faa\u73af\u7ec8\u6b62\u7684\u6761\u4ef6 until() \\ \u6307\u5b9a\u6536\u96c6\u6570\u636e\u7684\u6761\u4ef6 emit() \\ # \u67e5\u8be2\u70b9 pluto \u51fa\u8fb9\u90bb\u70b9 gremlin> g.V () .hasLabel ( 'character' ) .has ( 'name' , 'pluto' ) .repeat ( out ()) .times ( 1 ) ; == >v [ 12 ] == >v [ 2 ] == >v [ 5 ] == >v [ 11 ] nebula> LOOKUP ON character WHERE character.name == \"pluto\" YIELD character.name AS name | \\ GO FROM $- .VertexID OVER * ; ================================================================================================================ | father._dst | brother._dst | lives._dst | mother._dst | pet._dst | battled._dst | ================================================================================================================ | 0 | -5860788569139907963 | 0 | 0 | 0 | 0 | ---------------------------------------------------------------------------------------------------------------- | 0 | 4863977009196259577 | 0 | 0 | 0 | 0 | ---------------------------------------------------------------------------------------------------------------- | 0 | 0 | -4331657707562925133 | 0 | 0 | 0 | ---------------------------------------------------------------------------------------------------------------- | 0 | 0 | 0 | 0 | 4594048193862126013 | 0 | ---------------------------------------------------------------------------------------------------------------- # \u67e5\u8be2\u9876\u70b9 hercules \u5230\u9876\u70b9 cerberus \u4e4b\u95f4\u7684\u8def\u5f84 # \u5faa\u73af\u7684\u7ec8\u6b62\u6761\u4ef6\u662f\u9047\u5230\u540d\u79f0\u662f cerberus \u7684\u9876\u70b9 gremlin> g.V () .hasLabel ( 'character' ) .has ( 'name' , 'hercules' ) .repeat ( out ()) .until ( has ( 'name' , 'cerberus' )) .path () ; == > [ v [ 6 ] ,v [ 11 ]] == > [ v [ 6 ] ,v [ 2 ] ,v [ 8 ] ,v [ 11 ]] == > [ v [ 6 ] ,v [ 2 ] ,v [ 5 ] ,v [ 8 ] ,v [ 11 ]] ... nebula> # Coming soon # \u67e5\u8be2\u70b9 hercules \u7684\u6240\u6709\u51fa\u8fb9\u53ef\u5230\u8fbe\u70b9\u7684\u8def\u5f84 # \u4e14\u7ec8\u70b9\u5fc5\u987b\u662f character \u7c7b\u578b\u7684\u70b9 gremlin> g.V () .hasLabel ( 'character' ) .has ( 'name' , 'hercules' ) .repeat ( out ()) .emit ( hasLabel ( 'character' )) .path () ; == > [ v [ 6 ] ,v [ 7 ]] == > [ v [ 6 ] ,v [ 2 ]] == > [ v [ 6 ] ,v [ 9 ]] == > [ v [ 6 ] ,v [ 10 ]] ... nebula> # Coming soon # \u67e5\u8be2\u4e24\u9876\u70b9 pluto \u548c saturn \u4e4b\u95f4\u7684\u6700\u77ed\u8def\u5f84 # \u4e14\u6700\u5927\u6df1\u5ea6\u4e3a 3 gremlin> g.V ( 'pluto' ) .repeat ( out () .simplePath ()) .until ( hasId ( 'saturn' ) .and () .loops () .is ( lte ( 3 ))) .hasId ( 'saturn' ) .path () ; nebula> FIND SHORTEST PATH FROM hash ( 'pluto' ) TO hash ( 'saturn' ) OVER * UPTO 3 STEPS ; ================================================================================================= | _path_ | ================================================================================================= | 6761447489613431910 <brother,0> 4863977009196259577 <father,0> -4316810810681305233 ------------------------------------------------------------------------------------------------- \u67e5\u8be2\u7ed3\u679c\u6392\u5e8f \u00b6 \u540d\u79f0 Gremlin nGQL \u5347\u5e8f\u6392\u5217 order().by() ORDER BY \u964d\u5e8f\u6392\u5217 order().by(decr) ORDER BY DESC \u968f\u673a\u6392\u5217 order().by(shuffle) \\ # \u67e5\u8be2 pluto \u7684\u5144\u5f1f\u5e76\u6309\u7167\u5e74\u9f84\u964d\u5e8f\u6392\u5217 gremlin> g.V ( pluto ) .out ( 'brother' ) .order () .by ( 'age' , decr ) .valueMap () ; == > [ name: [ jupiter ] ,type: [ god ] ,age: [ 5000 ]] == > [ name: [ neptune ] ,type: [ god ] ,age: [ 4500 ]] nebula> GO FROM hash ( 'pluto' ) OVER brother YIELD $$ .character.name AS Name, $$ .character.age as Age | ORDER BY Age DESC ; ================== | Name | Age | ================== | jupiter | 5000 | ------------------ | neptune | 4500 | ------------------ Group By \u00b6 \u540d\u79f0 Gremlin nGQL \u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u5206\u7ec4 group().by() GROUP BY \u53bb\u9664\u76f8\u540c\u5143\u7d20 dedup() DISTINCT \u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u5206\u7ec4\u5e76\u7edf\u8ba1 groupCount() GROUP BY COUNT \u6ce8\u610f\uff1a GROUP BY \u51fd\u6570\u53ea\u80fd\u4e0e YIELD \u8bed\u53e5\u4e00\u8d77\u4f7f\u7528\u3002 # \u6839\u636e\u9876\u70b9\u7c7b\u522b\u8fdb\u884c\u5206\u7ec4\u5e76\u7edf\u8ba1\u5404\u4e2a\u7c7b\u522b\u7684\u6570\u91cf gremlin> g.V () .group () .by ( label ) .by ( count ()) ; == > [ character:9,location:3 ] nebula> # Coming soon # \u67e5\u8be2\u70b9 jupiter \u51fa\u8fb9\u90bb\u70b9\uff0c\u4f7f\u7528 name \u5206\u7ec4\u5e76\u7edf\u8ba1 gremlin> g.V ( jupiter ) .out () .group () .by ( 'name' ) .by ( count ()) ; == > [ sky:1,saturn:1,neptune:1,pluto:1 ] nebula> GO FROM hash ( 'jupiter' ) OVER * YIELD $$ .character.name AS Name, $$ .character.age as Age, $$ .location.name | \\ GROUP BY $- .Name YIELD $- .Name, COUNT ( * ) ; ====================== | $- .Name | COUNT ( * ) | ====================== | | 1 | ---------------------- | pluto | 1 | ---------------------- | saturn | 1 | ---------------------- | neptune | 1 | ---------------------- # \u67e5\u627e\u70b9 jupiter \u51fa\u8fb9\u5230\u8fbe\u7684\u70b9\u5e76\u53bb\u91cd gremlin> g.V ( jupiter ) .out () .hasLabel ( 'character' ) .dedup () ; == >v [ 1 ] == >v [ 8 ] == >v [ 5 ] nebula> GO FROM hash ( 'jupiter' ) OVER * YIELD DISTINCT $$ .character.name, $$ .character.age, $$ .location.name ; =========================================================== | $$ .character.name | $$ .character.age | $$ .location.name | =========================================================== | pluto | 4000 | | ----------------------------------------------------------- | neptune | 4500 | | ----------------------------------------------------------- | saturn | 10000 | | ----------------------------------------------------------- | | 0 | sky | ----------------------------------------------------------- where \u6761\u4ef6\u8fc7\u6ee4 \u00b6 \u540d\u79f0 Gremlin nGQL where \u6761\u4ef6\u8fc7\u6ee4 where() WHERE \u8fc7\u6ee4\u6761\u4ef6\u5bf9\u6bd4\uff1a \u540d\u79f0 Gremlin nGQL \u7b49\u4e8e eq(object) == \u4e0d\u7b49\u4e8e neq(object) != \u5c0f\u4e8e lt(number) < \u5c0f\u4e8e\u7b49\u4e8e lte(number) <= \u5927\u4e8e gt(number) > \u5927\u4e8e\u7b49\u4e8e gte(number) >= \u5224\u65ad\u503c\u662f\u5426\u5728\u6307\u5b9a\u7684\u5217\u8868\u4e2d within(objects\u2026\u200b) udf_is_in() gremlin> eq ( 2 ) .test ( 3 ) ; == >false nebula> YIELD 3 == 2 ; ========== | ( 3 == 2 ) | ========== | false | ---------- gremlin> within ( 'a' , 'b' , 'c' ) .test ( 'd' ) ; == >false nebula> YIELD udf_is_in ( 'd' , 'a' , 'b' , 'c' ) ; ====================== | udf_is_in ( d,a,b,c ) | ====================== | false | ---------------------- # \u627e\u51fa pluto \u548c\u8c01\u4f4f\u5e76\u6392\u961f\u4ed6\u672c\u4eba gremlin> g.V ( pluto ) .out ( 'lives' ) .in ( 'lives' ) .where ( is ( neq ( pluto ))) .values ( 'name' ) ; == >cerberus nebula> GO FROM hash ( \"pluto\" ) OVER lives YIELD lives._dst AS place | GO FROM $- .place OVER lives REVERSELY WHERE \\ $$ .character.name ! = \"pluto\" YIELD $$ .character.name AS cohabitants ; =============== | cohabitants | =============== | cerberus | --------------- \u903b\u8f91\u8fd0\u7b97 \u00b6 \u540d\u79f0 Gremlin nGQL Is is() == Not not() != And and() AND Or or() OR # \u67e5\u8be2\u5e74\u9f84\u5927\u4e8e 30 \u7684\u4eba\u7269 gremlin> g.V () .values ( 'age' ) .is ( gte ( 30 )) ; == >10000 == >5000 == >4500 == >30 == >45 == >4000 nebula> LOOKUP ON character WHERE character.age > = 30 YIELD character.age ; ======================================== | VertexID | character.age | ======================================== | -4316810810681305233 | 10000 | ---------------------------------------\u2013 | 4863977009196259577 | 5000 | ---------------------------------------\u2013 | -5860788569139907963 | 4500 | ---------------------------------------\u2013 | 5976696804486077889 | 30 | ---------------------------------------\u2013 | -6780323075177699500 | 45 | ---------------------------------------\u2013 | 6761447489613431910 | 4000 | ---------------------------------------\u2013 # \u67e5\u8be2\u540d\u79f0\u4e3a pluto \u4e14\u5e74\u9f84\u4e3a 4000 \u7684\u4eba\u7269 gremlin> g.V () .has ( 'name' , 'pluto' ) .and () .has ( 'age' ,4000 ) ; == >v [ 8 ] nebula> LOOKUP ON character WHERE character.name == 'pluto' AND character.age == 4000 ; ======================= | VertexID | ======================= | 6761447489613431910 | ----------------------- # \u903b\u8f91\u975e\u7684\u7528\u6cd5 gremlin> g.V () .has ( 'name' , 'pluto' ) .out ( 'brother' ) .not ( values ( 'name' ) .is ( 'neptune' )) .values ( 'name' ) ; == >jupiter nebula> LOOKUP ON character WHERE character.name == 'pluto' YIELD character.name AS name | \\ GO FROM $- .VertexID OVER brother WHERE $$ .character.name ! = 'neptune' YIELD $$ .character.name ; ===================== | $$ .character.name | ===================== | jupiter | --------------------- \u7edf\u8ba1\u8fd0\u7b97 \u00b6 \u540d\u79f0 Gremlin nGQL \u6c42\u548c sum() SUM() \u6700\u5927\u503c max() MAX() \u6700\u5c0f\u503c min() MIN() \u5e73\u5747\u503c mean() AVG() Nebula Graph \u7edf\u8ba1\u8fd0\u7b97\u5fc5\u987b\u540c GROUP BY \u4e00\u8d77\u4f7f\u7528\u3002 # \u8ba1\u7b97\u6240\u6709 character \u7684\u5e74\u9f84\u7684\u603b\u548c gremlin> g.V () .hasLabel ( 'character' ) .values ( 'age' ) .sum () ; == >23595 nebula> # Coming soon # \u8ba1\u7b97\u6240\u6709 character \u7684 brother \u51fa\u8fb9\u6570\u7684\u603b\u548c gremlin> g.V () .hasLabel ( 'character' ) .map ( outE ( 'brother' ) .count ()) .sum () ; == >6 nebula> # Coming soon # \u8fd4\u56de\u6240\u6709 character \u7684\u5e74\u9f84\u4e2d\u7684\u6700\u5927\u503c gremlin> g.V () .hasLabel ( 'character' ) .values ( 'age' ) .max () ; == >10000 nebula> # Coming soon \u8def\u5f84\u9009\u53d6\u4e0e\u8fc7\u6ee4 \u00b6 # \u4ece\u8def\u5f84\u4e2d\u9009\u53d6\u7b2c 1 \u6b65\u548c\u7b2c 3 \u6b65\u7684\u7ed3\u679c\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c gremlin> g.V ( pluto ) .as ( 'a' ) .out () .as ( 'b' ) .out () .as ( 'c' ) .select ( 'a' , 'c' ) ; == > [ a:v [ 8 ] ,c:v [ 3 ]] == > [ a:v [ 8 ] ,c:v [ 1 ]] ... nebula> # Coming soon # \u901a\u8fc7 by() \u6307\u5b9a\u9009\u53d6\u7684\u7ef4\u5ea6 gremlin> g.V ( pluto ) .as ( 'a' ) .out () .as ( 'b' ) .out () .as ( 'c' ) .select ( 'a' , 'c' ) .by ( 'name' ) ; == > [ a:pluto,c:sky ] == > [ a:pluto,c:saturn ] ... nebula> # Coming soon # \u4ece map \u4e2d\u9009\u62e9\u6307\u5b9a key \u7684\u503c gremlin> g.V () .valueMap () .select ( 'name' ) .dedup () ; == > [ saturn ] == > [ jupiter ] ... nebula> # Coming soon \u5206\u652f \u00b6 # \u67e5\u627e\u6240\u6709\u7c7b\u578b\u4e3a 'character' \u7684\u9876\u70b9 # name \u5c5e\u6027\u4e3a 'jupiter' \u7684\u9876\u70b9\u8f93\u51fa\u5176 age \u5c5e\u6027 # \u5426\u5219\u8f93\u51fa\u9876\u70b9\u7684 name \u5c5e\u6027 gremlin> g.V () .hasLabel ( 'character' ) .choose ( values ( 'name' )) .option ( 'jupiter' , values ( 'age' )) .option ( none, values ( 'name' )) ; == >saturn == >5000 == >neptune ... # Lambda gremlin> g.V () .branch { it.get () .value ( 'name' )} .option ( 'jupiter' , values ( 'age' )) .option ( none, values ( 'name' )) ; == >saturn == >5000 ... # Traversal gremlin> g.V () .branch ( values ( 'name' )) .option ( 'jupiter' , values ( 'age' )) .option ( none, values ( 'name' )) ; == >saturn == >5000 # Branch gremlin> g.V () .choose ( has ( 'name' , 'jupiter' ) ,values ( 'age' ) ,values ( 'name' )) ; == >saturn == >5000 # \u57fa\u4e8e if then \u8fdb\u884c\u5206\u7ec4 gremlin> g.V () .hasLabel ( \"character\" ) .groupCount () .by ( values ( \"age\" ) .choose ( is ( lt ( 40 )) ,constant ( \"young\" ) , choose ( is ( lt ( 4500 )) , constant ( \"old\" ) , constant ( \"very old\" )))) ; == > [ young:4,old:2,very old:3 ] Nebula Graph \u5c1a\u65e0\u7c7b\u4f3c\u529f\u80fd\u3002 \u5408\u5e76 \u00b6 coalesce() \u53ef\u4ee5\u63a5\u53d7\u4efb\u610f\u6570\u91cf\u7684\u904d\u5386\u5668\uff08traversal\uff09\uff0c\u6309\u987a\u5e8f\u6267\u884c\uff0c\u5e76\u8fd4\u56de\u7b2c\u4e00\u4e2a\u80fd\u4ea7\u751f\u8f93\u51fa\u7684\u904d\u5386\u5668\u7684\u7ed3\u679c\u3002 optional() \u53ea\u80fd\u63a5\u53d7\u4e00\u4e2a\u904d\u5386\u5668\uff08traversal\uff09\uff0c\u5982\u679c\u8be5\u904d\u5386\u5668\u80fd\u4ea7\u751f\u4e00\u4e2a\u7ed3\u679c\uff0c\u5219\u8fd4\u56de\u8be5\u7ed3\u679c\uff0c\u5426\u5219\u8fd4\u56de\u8c03\u7528 optionalStep \u7684\u5143\u7d20\u672c\u8eab\u3002 union() \u53ef\u4ee5\u63a5\u53d7\u4efb\u610f\u6570\u91cf\u7684\u904d\u5386\u5668\uff0c\u5e76\u80fd\u591f\u5c06\u5404\u4e2a\u904d\u5386\u5668\u7684\u8f93\u51fa\u5408\u5e76\u5230\u4e00\u8d77\u3002 # \u5982\u679c\u7c7b\u578b\u4e3a monster \u5219\u8fd4\u56de\u7c7b\u578b\u5426\u5219\u8fd4\u56de 'Not a monster' gremlin> g.V ( pluto ) .coalesce ( has ( 'type' , 'monster' ) .values ( 'type' ) ,constant ( \"Not a monster\" )) ; == >Not a monster # \u6309\u4f18\u5148\u7ea7\u5bfb\u627e\u5230\u9876\u70b9 jupiter \u7684\u4ee5\u4e0b\u8fb9\u548c\u90bb\u63a5\u70b9\uff0c\u627e\u5230\u4e00\u4e2a\u5c31\u505c\u6b62 # 1\u3001brother \u51fa\u8fb9\u548c\u90bb\u63a5\u70b9 # 2\u3001father \u51fa\u8fb9\u548c\u90bb\u63a5\u70b9 # 3\u3001father \u5165\u8fb9\u548c\u90bb\u63a5\u70b9 gremlin> g.V ( jupiter ) .coalesce ( outE ( 'brother' ) , outE ( 'father' ) , inE ( 'father' )) .inV () .path () .by ( 'name' ) .by ( label ) ; == > [ jupiter,brother,pluto ] == > [ jupiter,brother,neptune ] # \u67e5\u627e\u9876\u70b9 pluto \u7684 father \u51fa\u9876\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u8fd4\u56de pluto \u81ea\u5df1 gremlin> g.V ( pluto ) .optional ( out ( 'father' )) .valueMap () ; == > [ name: [ pluto ] ,type: [ god ] ,age: [ 4000 ]] # \u5bfb\u627e\u9876\u70b9 pluto \u7684\u51fa father \u9876\u70b9\uff0c\u90bb\u63a5 brother \u9876\u70b9\uff0c\u5e76\u5c06\u7ed3\u679c\u5408\u5e76\uff0c\u6700\u540e\u6253\u5370\u51fa\u8def\u5f84 gremlin> g.V ( pluto ) .union ( out ( 'father' ) ,both ( 'brother' )) .path () ; == > [ v [ 8 ] ,v [ 2 ]] == > [ v [ 8 ] ,v [ 5 ]] Nebula Graph \u5c1a\u65e0\u7c7b\u4f3c\u529f\u80fd\u3002 \u7ed3\u679c\u805a\u96c6\u4e0e\u5c55\u5f00 \u00b6 # \u6536\u96c6\u7b2c 1 \u6b65\u7684\u7ed3\u679c\u5230\u96c6\u5408 x \u4e2d # \u6ce8\u610f\uff1a\u4e0d\u5f71\u54cd\u540e\u7eed\u7ed3\u679c gremlin> g.V ( pluto ) .out () .aggregate ( 'x' ) ; == >v [ 12 ] == >v [ 2 ] ... # \u901a\u8fc7 by() \u6307\u5b9a\u805a\u96c6\u7684\u7ef4\u5ea6 gremlin> g.V ( pluto ) .out () .aggregate ( 'x' ) .by ( 'name' ) .cap ( 'x' ) ; == > [ tartarus,jupiter,neptune,cerberus ] # \u67e5\u8be2\u4e0e pluto \u7684\u4e24\u5ea6 OUT \u90bb\u5c45 # \u5e76\u6536\u96c6\u8fd9\u4e9b\u5230 x \u96c6\u5408\u91cc\u9762 # \u6700\u7ec8\u4ee5 name \u5c5e\u6027\u5c55\u793a\u5176\u90bb\u5c45 gremlin> g.V ( pluto ) .out () .aggregate ( 'x' ) .out () .aggregate ( 'x' ) .cap ( 'x' ) .unfold () .values ( 'name' ) ; == >tartarus == >tartarus ... Nebula Graph \u5c1a\u65e0\u7c7b\u4f3c\u529f\u80fd\u3002 \u6a21\u5f0f\u5339\u914d \u00b6 match() \u8bed\u53e5\u4e3a\u56fe\u67e5\u8be2\u63d0\u4f9b\u4e86\u4e00\u79cd\u57fa\u4e8e\u6a21\u5f0f\u5339\u914d\u7684\u65b9\u5f0f\uff0c\u4ee5\u4fbf\u7528\u66f4\u5177\u63cf\u8ff0\u6027\u7684\u65b9\u5f0f\u8fdb\u884c\u56fe\u67e5\u8be2\u3002match()\u8bed\u53e5\u901a\u8fc7\u591a\u4e2a\u6a21\u5f0f\u7247\u6bb5 traversal fragments \u6765\u8fdb\u884c\u6a21\u5f0f\u5339\u914d\u3002\u8fd9\u4e9b traversal fragments \u4e2d\u4f1a\u5b9a\u4e49\u4e00\u4e9b\u53d8\u91cf\uff0c\u53ea\u6709\u6ee1\u8db3\u6240\u6709\u7528\u53d8\u91cf\u8868\u793a\u7684\u7ea6\u675f\u7684\u5bf9\u8c61\u624d\u80fd\u591f\u901a\u8fc7\u3002 # \u5bf9\u6bcf\u4e00\u4e2a\u9876\u70b9\uff0c\u7528\u4ee5\u4e0b\u6a21\u5f0f\u53bb\u5339\u914d\uff0c\u6ee1\u8db3\u5219\u751f\u6210\u4e00\u4e2a map<String, Object>\uff0c\u4e0d\u6ee1\u8db3\u5219\u8fc7\u6ee4\u6389 # \u6a21\u5f0f1\uff1aa \u4e3a\u6cbf father \u51fa\u8fb9\u6307\u5411 jupiter \u7684\u9876\u70b9 # \u6a21\u5f0f2\uff1ab \u5bf9\u5e94\u5f53\u524d\u9876\u70b9 jupiter # \u6a21\u5f0f3\uff1ac \u5bf9\u5e94\u521b\u5efa jupiter \u7684 brother \u5e74\u9f84\u4e3a 4000 \u7684 \u9876\u70b9 gremlin> g.V () .match ( __.as ( 'a' ) .out ( 'father' ) .has ( 'name' , 'jupiter' ) .as ( 'b' ) , __.as ( 'b' ) .in ( 'brother' ) .has ( 'age' , 4000 ) .as ( 'c' )) ; == > [ a:v [ 6 ] ,b:v [ 2 ] ,c:v [ 8 ]] # match() \u8bed\u53e5\u53ef\u4ee5\u4e0e select() \u8bed\u53e5\u914d\u5408\u4f7f\u7528\uff0c\u4ece Map<String, Object> \u4e2d\u9009\u53d6\u90e8\u5206\u7ed3\u679c gremlin> g.V () .match ( __.as ( 'a' ) .out ( 'father' ) .has ( 'name' , 'jupiter' ) .as ( 'b' ) , __.as ( 'b' ) .in ( 'brother' ) .has ( 'age' , 4000 ) .as ( 'c' )) .select ( 'a' , 'c' ) .by ( 'name' ) ; == > [ a:hercules,c:pluto ] # match() \u8bed\u53e5\u53ef\u4ee5\u4e0e where() \u8bed\u53e5\u914d\u5408\u4f7f\u7528\uff0c\u8fc7\u6ee4\u7ed3\u679c gremlin> g.V () .match ( __.as ( 'a' ) .out ( 'father' ) .has ( 'name' , 'jupiter' ) .as ( 'b' ) , __.as ( 'b' ) .in ( 'brother' ) .has ( 'age' , 4000 ) .as ( 'c' )) .where ( 'a' , neq ( 'c' )) .select ( 'a' , 'c' ) .by ( 'name' ) ; == > [ a:hercules,c:pluto ] \u968f\u673a\u8fc7\u6ee4 \u00b6 sample() \u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u4ece\u524d\u4e00\u6b65\u7684\u904d\u5386\u5668\u4e2d\u91c7\u6837\uff08\u968f\u673a\uff09\u51fa\u6700\u591a\u6307\u5b9a\u6570\u76ee\u7684\u7ed3\u679c\u3002 coin() \u5b57\u9762\u610f\u601d\u662f\u629b\u786c\u5e01\u8fc7\u6ee4\uff0c\u63a5\u53d7\u4e00\u4e2a\u6d6e\u70b9\u503c\uff0c\u8be5\u6d6e\u70b9\u503c\u8868\u793a\u786c\u5e01\u51fa\u73b0\u6b63\u9762\u7684\u6982\u7387\u3002 # \u4ece\u6240\u6709\u9876\u70b9\u7684\u51fa\u8fb9\u4e2d\u968f\u673a\u9009\u62e9 2 \u6761 gremlin> g.V () .outE () .sample ( 2 ) ; == >e [ 15 ][ 2 -brother->5 ] == >e [ 18 ][ 5 -brother->2 ] # \u4ece\u6240\u9876\u70b9\u7684 name \u5c5e\u6027\u4e2d\u968f\u673a\u9009\u53d6 3 \u4e2a gremlin> g.V () .values ( 'name' ) .sample ( 3 ) ; == >hercules == >sea == >jupiter # \u4ece\u6240\u6709\u7684 character \u4e2d\u6839\u636e age \u968f\u673a\u9009\u62e9 3 \u4e2a gremlin> g.V () .hasLabel ( 'character' ) .sample ( 3 ) .by ( 'age' ) ; == >v [ 1 ] == >v [ 2 ] == >v [ 6 ] # \u4e0e local \u8054\u5408\u4f7f\u7528\u505a\u968f\u673a\u6f2b\u6e38 # \u4ece\u9876\u70b9 pluto \u51fa\u53d1\u505a 3 \u6b21\u968f\u673a\u6f2b\u6e38 gremlin> g.V ( pluto ) .repeat ( local ( bothE () .sample ( 1 ) .otherV ())) .times ( 3 ) .path () ; == > [ v [ 8 ] ,e [ 26 ][ 8 -brother->5 ] ,v [ 5 ] ,e [ 18 ][ 5 -brother->2 ] ,v [ 2 ] ,e [ 13 ][ 2 -father->1 ] ,v [ 1 ]] # \u6bcf\u4e2a\u9876\u70b9\u6309 0.5 \u7684\u6982\u7387\u8fc7\u6ee4 gremlin> g.V () .coin ( 0 .5 ) ; == >v [ 1 ] == >v [ 2 ] ... # \u8f93\u51fa\u6240\u6709 location \u7c7b\u9876\u70b9\u7684 name \u5c5e\u6027\uff0c\u5426\u5219\u8f93\u51fa not a location gremlin> g.V () .choose ( hasLabel ( 'location' ) , values ( 'name' ) , constant ( 'not a location' )) ; == >not a location == >not a location == >sky ... \u7ed3\u679c\u5b58\u53d6\u53e3\u888b Sack \u00b6 \u5305\u542b\u672c\u5730\u6570\u636e\u7ed3\u6784\u7684\u904d\u5386\u5668\u79f0\u4e3a\u53e3\u888b\u3002 sack() \u5c06\u6570\u636e\u653e\u5165\u53e3\u888b\uff0c\u6216\u8005\u4ece\u53e3\u888b\u53d6\u51fa\u6570\u636e\u3002\u6bcf\u4e2a\u904d\u5386\u5668\u7684\u6bcf\u4e2a\u53e3\u888b\u90fd\u662f\u901a\u8fc7 withSack\uff08\uff09 \u521b\u5efa\u7684\u3002 # \u521b\u5efa\u4e00\u4e2a\u5305\u542b\u5e38\u6570 1 \u7684\u53e3\u888b\uff0c\u5e76\u4e14\u5728\u6700\u7ec8\u53d6\u51fa\u53e3\u888b\u4e2d\u7684\u503c gremlin> g.withSack ( 1 ) .V () .sack () ; == >1 == >1 ... \u904d\u5386\u6805\u680f barrier \u00b6 barrier() \u5728\u67d0\u4e2a\u4f4d\u7f6e\u63d2\u5165\u4e00\u4e2a\u6805\u680f\uff0c\u4ee5\u5f3a\u5236\u8be5\u4f4d\u7f6e\u4e4b\u524d\u7684\u6b65\u9aa4\u5fc5\u987b\u90fd\u6267\u884c\u5b8c\u6210\u624d\u53ef\u4ee5\u7ee7\u7eed\u5f80\u540e\u6267\u884c\u3002 # \u5229\u7528\u9690\u5f0f barrier \u8ba1\u7b97\u7279\u5f81\u5411\u91cf\u4e2d\u5fc3\u6027 # \u5305\u62ec groupCount\u3001cap\uff0c\u6309\u7167\u964d\u5e8f\u6392\u5e8f gremlin> g.V () .repeat ( both () .groupCount ( 'm' )) .times ( 5 ) .cap ( 'm' ) .order ( local ) .by ( values, decr ) ; \u5c40\u90e8\u64cd\u4f5c local \u00b6 \u901a\u8fc7 Gremlin \u8fdb\u884c\u56fe\u904d\u5386\u901a\u5e38\u662f\u5f53\u524d step \u5904\u7406\u524d\u4e00 step \u4f20\u9012\u8fc7\u6765\u7684\u5bf9\u8c61\u6d41\u3002\u5f88\u591a\u64cd\u4f5c\u662f\u9488\u5bf9\u4f20\u9012\u8fc7\u6765\u7684\u5bf9\u8c61\u6d41\u4e2d\u7684\u5168\u90e8\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\uff0c\u4f46\u4e5f\u6709\u5f88\u591a\u65f6\u5019\u9700\u8981\u9488\u5bf9\u5bf9\u8c61\u6d41\u4e2d\u7684\u5355\u4e2a\u5bf9\u8c61\u800c\u975e\u5bf9\u8c61\u6d41\u4e2d\u7684\u5168\u90e8\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\u3002\u8fd9\u79cd\u5bf9\u5355\u4e2a\u5bf9\u8c61\u7684\u5c40\u90e8\u64cd\u4f5c\uff0c\u53ef\u4ee5\u4f7f\u7528 local() \u8bed\u53e5\u5b9e\u73b0\u3002 # \u4e0d\u4f7f\u7528 local() gremlin> g.V () .hasLabel ( 'character' ) .as ( 'character' ) .properties ( 'age' ) .order () .by ( value,decr ) .limit ( 2 ) .value () .as ( 'age' ) .select ( 'character' , 'age' ) .by ( 'name' ) .by () ; == > [ character:saturn,age:10000 ] == > [ character:jupiter,age:5000 ] # \u4f7f\u7528 local() gremlin> g.V () .hasLabel ( 'character' ) .as ( 'character' ) .local ( properties ( 'age' ) .order () .by ( value ) .limit ( 2 )) .value () .as ( 'age' ) .select ( 'character' , 'age' ) .by ( 'name' ) .by () == > [ character:saturn,age:10000 ] == > [ character:jupiter,age:5000 ] == > [ character:neptune,age:4500 ] == > [ character:hercules,age:30 ] ... # \u67e5\u8be2 monster \u7684\u5c5e\u6027 map gremlin> g.V () hasLabel ( 'character' ) .has ( 'type' , 'type' ) .propertyMap () ; == > [ name: [ vp [ name->nemean ]] ,type: [ vp [ type->monster ]] ,age: [ vp [ age->20 ]]] == > [ name: [ vp [ name->hydra ]] ,type: [ vp [ type->monster ]] ,age: [ vp [ age->0 ]]] == > [ name: [ vp [ name->cerberus ]] ,type: [ vp [ type->monster ]] ,age: [ vp [ age->0 ]]] # \u67e5\u8be2 monster \u7684\u5c5e\u6027\u4e2a\u6570 gremlin> g.V () hasLabel ( 'character' ) .has ( 'type' , 'monster' ) .propertyMap () .count ( local ) ; == >3 == >3 == >3 # \u6570\u76ee\u6700\u591a\u7684\u9876\u70b9\u7c7b\u578b\u7684\u9876\u70b9\u6570\u76ee gremlin> g.V () .groupCount () .by ( label ) .select ( values ) .max ( local ) ; == >9 # \u6240\u6709\u9876\u70b9\u7684\u5c5e\u6027\u5217\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5c5e\u6027 gremlin> g.V () .valueMap () .limit ( local, 1 ) ; == > [ name: [ saturn ]] == > [ name: [ jupiter ]] == > [ name: [ sky ]] ... # \u4e0d\u52a0 local gremlin> g.V () .valueMap () .limit ( 1 ) ; == > [ name: [ saturn ] ,type: [ titan ] ,age: [ 10000 ]] # \u6240\u6709\u9876\u70b9\u4f5c\u4e3a\u4e00\u4e2a\u96c6\u5408\uff0c\u4ece\u4e2d\u91c7\u6837 2 \u4e2a gremlin> g.V () .fold () .sample ( local,2 ) ; == > [ v [ 8 ] ,v [ 1 ]] \u6267\u884c\u7edf\u8ba1\u548c\u5206\u6790 \u00b6 Gremlin \u63d0\u4f9b\u4e24\u79cd\u8bed\u53e5\u5bf9\u6267\u884c\u7684\u67e5\u8be2\u8bed\u53e5\u8fdb\u884c\u7edf\u8ba1\u548c\u5206\u6790\uff1a explain() \uff0c\u8be6\u7ec6\u63cf\u8ff0\u539f\u59cb\u7684 Gremlin \u8bed\u53e5\u5728\u7f16\u8bd1\u671f\u662f\u5982\u4f55\u8f6c\u53d8\u4e3a\u6700\u7ec8\u8981\u6267\u884c\u7684 step \u96c6\u5408\u7684 profile() \uff0c\u7edf\u8ba1 Gremlin \u8bed\u53e5\u6267\u884c\u8fc7\u7a0b\u4e2d\u7684\u6bcf\u4e2a step \u6d88\u8017\u7684\u65f6\u95f4\u548c\u901a\u8fc7\u7684\u5bf9\u8c61\u7b49\u7edf\u8ba1\u4fe1\u606f # explain() gremlin> g.V () .hasLabel ( 'character' ) .explain () ; == >Traversal Explanation ========================================================================================== Original Traversal [ GraphStep ( vertex, []) , HasStep ([ ~label.eq ( character )])] ConnectiveStrategy [ D ] [ GraphStep ( vertex, []) , HasStep ([ ~label.eq ( character )])] MatchPredicateStrategy [ O ] [ GraphStep ( vertex, []) , HasStep ([ ~label.eq ( character )])] ... StandardVerificationStrategy [ V ] [ TinkerGraphStep ( vertex, [ ~label.eq ( character )])] Final Traversal [ TinkerGraphStep ( vertex, [ ~label.eq ( character )])] # profile() gremlin> g.V () .out ( 'father' ) .profile () == >Traversal Metrics Step Count Traversers Time ( ms ) % Dur ============================================================================================================= TinkerGraphStep ( vertex, []) 12 12 0 .644 45 .66 VertexStep ( OUT, [ father ] ,vertex ) 2 2 0 .534 37 .83 NoOpBarrierStep ( 2500 ) 2 2 0 .233 16 .51 >TOTAL - - 1 .411 -","title":"Gremlin & nGQL"},{"location":"manual-CN/5.appendix/gremlin-ngql/#gremlin_ngql","text":"","title":"Gremlin \u548c nGQL \u5bf9\u6bd4"},{"location":"manual-CN/5.appendix/gremlin-ngql/#gremlin","text":"Gremlin \u662f Apache ThinkerPop \u6846\u67b6\u4e0b\u7684\u56fe\u904d\u5386\u8bed\u8a00\u3002Gremlin \u53ef\u4ee5\u662f\u58f0\u660e\u6027\u7684\u4e5f\u53ef\u4ee5\u662f\u547d\u4ee4\u6027\u7684\u3002\u867d\u7136 Gremlin \u662f\u57fa\u4e8e Groovy \u7684\uff0c\u4f46\u5177\u6709\u8bb8\u591a\u8bed\u8a00\u53d8\u4f53\uff0c\u5141\u8bb8\u5f00\u53d1\u4eba\u5458\u4ee5 Java\u3001JavaScript\u3001Python\u3001Scala\u3001Clojure \u548c Groovy \u7b49\u8bb8\u591a\u73b0\u4ee3\u7f16\u7a0b\u8bed\u8a00\u539f\u751f\u7f16\u5199 Gremlin \u67e5\u8be2\u3002","title":"Gremlin \u4ecb\u7ecd"},{"location":"manual-CN/5.appendix/gremlin-ngql/#ngql","text":"Nebula Graph \u7684\u67e5\u8be2\u8bed\u8a00\u4e3a nGQL \uff0c \u662f\u4e00\u79cd\u7c7b SQL \u7684\u58f0\u660e\u578b\u7684\u6587\u672c\u67e5\u8be2\u8bed\u8a00\u3002\u76f8\u6bd4 SQL\uff0c nGQL \u5177\u6709\u5982\u4e0b\u7279\u70b9\uff1a \u7c7b SQL\uff0c\u6613\u5b66\u6613\u7528 \u53ef\u6269\u5c55 \u5173\u952e\u8bcd\u5927\u5c0f\u5199\u4e0d\u654f\u611f \u652f\u6301\u56fe\u904d\u5386 \u652f\u6301\u6a21\u5f0f\u5339\u914d \u652f\u6301\u805a\u5408\u8fd0\u7b97 \u652f\u6301\u56fe\u8ba1\u7b97 \u652f\u6301\u5206\u5e03\u5f0f\u4e8b\u52a1\uff08\u5f00\u53d1\u4e2d\uff09 \u65e0\u5d4c\u5165\u652f\u6301\u7ec4\u5408\u8bed\u53e5\uff0c\u6613\u4e8e\u9605\u8bfb","title":"nGQL \u4ecb\u7ecd"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_1","text":"\u540d\u79f0 Gremlin nGQL vertex, node vertex vertex edge, relationship edge edge vertex type label tag edge type label edge type vertex id vid vid edge id eid \u65e0 Gremlin \u548c nGQL \u5747\u4f7f\u7528\u552f\u4e00\u6807\u8bc6\u7b26\u6807\u8bb0\u9876\u70b9\u548c\u8fb9\u3002\u5728 Nebula Graph \u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u6307\u5b9a\u6807\u8bc6\u7b26\u3001\u54c8\u5e0c\u6216 uuid \u51fd\u6570\u81ea\u52a8\u751f\u6210\u6807\u8bc6\u7b26\u3002","title":"\u57fa\u672c\u6982\u5ff5\u5bf9\u6bd4"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_2","text":"\u540d\u79f0 Gremlin nGQL \u65b0\u5efa\u56fe\u7a7a\u95f4 g = TinkerGraph.open().traversal() CREATE SPACE gods \u67e5\u770b\u70b9\u7c7b\u578b g.V().label() SHOW TAGS \u63d2\u5165\u6307\u5b9a\u7c7b\u578b\u70b9 g.addV(String vertexLabel).property() INSERT VERTEX <tag_name> (prop_name_list) VALUES <vid> :(prop_value_list) \u63d2\u5165\u6307\u5b9a\u7c7b\u578b\u8fb9 g.addE(String edgeLabel).from(v1).to(v2).property() INSERT EDGE <edge_name> ( <prop_name_list> ) VALUES <src_vid> -> <dst_vid> : ( <prop_value_list> ) \u5220\u9664\u70b9 g.V( <vid> ).drop() DELETE VERTEX <vid> \u5220\u9664\u8fb9 g.E( <vid> ).outE( <type> ).where(otherV().is( <vid> ))drop() DELETE EDGE <edge_type> <src_vid> -> <dst_vid> \u66f4\u65b0\u70b9\u5c5e\u6027 g.V( <vid> ).property() UPDATE VERTEX <vid> SET <update_columns> \u67e5\u770b\u6307\u5b9a\u70b9 g.V( <vid> ) FETCH PROP ON <tag_name> <vid> \u67e5\u770b\u6307\u5b9a\u8fb9 g.E( <src_vid> >> <dst_vid> ) FETCH PROP ON <edge_name> <src_vid> -> <dst_vid> \u6cbf\u6307\u5b9a\u70b9\u67e5\u8be2\u6307\u5b9a\u8fb9 g.V( <vid> ).outE( <edge> ) GO FROM <vid> OVER <edge> \u6cbf\u6307\u5b9a\u70b9\u53cd\u5411\u67e5\u8be2\u6307\u5b9a\u8fb9 g.V( <vid> ).in( <edge> ) GO FROM <vid> OVER <edge> REVERSELY \u6cbf\u6307\u5b9a\u70b9\u67e5\u8be2\u6307\u5b9a\u8fb9 N \u8df3 g.V( <vid> ).repeat(out( <edge> )).times(N) GO N STEPS FROM <vid> OVER <edge> \u8fd4\u56de\u6307\u5b9a\u4e24\u70b9\u8def\u5f84 g.V( <vid> ).repeat(out()).until( <vid> ).path() FIND ALL PATH FROM <vid> TO <vid> OVER *","title":"\u56fe\u57fa\u672c\u64cd\u4f5c"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_3","text":"\u672c\u8282\u4e2d\u7684\u793a\u4f8b\u4f7f\u7528\u4e86 Janus Graph \u7684\u793a\u4f8b\u56fe The Graphs of Gods \u3002\u8be5\u56fe\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\u3002\u6b64\u5904\u4f7f\u7528 \u5c5e\u6027\u56fe\u6a21\u578b \u63cf\u8ff0\u7f57\u9a6c\u4e07\u795e\u8bdd\u4e2d\u8bf8\u795e\u5173\u7cfb\u3002 \u63d2\u5165\u6570\u636e # \u63d2\u5165\u70b9 nebula> INSERT VERTEX character ( name, age, type ) VALUES hash ( \"saturn\" ) : ( \"saturn\" , 10000 , \"titan\" ) , hash ( \"jupiter\" ) : ( \"jupiter\" , 5000 , \"god\" ) ; gremlin> saturn = g.addV ( \"character\" ) .property ( T.id, 1 ) .property ( 'name' , 'saturn' ) .property ( 'age' , 10000 ) .property ( 'type' , 'titan' ) .next () ; == >v [ 1 ] gremlin> jupiter = g.addV ( \"character\" ) .property ( T.id, 2 ) .property ( 'name' , 'jupiter' ) .property ( 'age' , 5000 ) .property ( 'type' , 'god' ) .next () ; == >v [ 2 ] gremlin> prometheus = g.addV ( \"character\" ) .property ( T.id, 31 ) .property ( 'name' , 'prometheus' ) .property ( 'age' , 1000 ) .property ( 'type' , 'god' ) .next () ; == >v [ 31 ] gremlin> jesus = g.addV ( \"character\" ) .property ( T.id, 32 ) .property ( 'name' , 'jesus' ) .property ( 'age' , 5000 ) .property ( 'type' , 'god' ) .next () ; == >v [ 32 ] # \u63d2\u5165\u8fb9 nebula> INSERT EDGE father () VALUES hash ( \"jupiter\" ) ->hash ( \"saturn\" ) : () ; gremlin> g.addE ( \"father\" ) .from ( jupiter ) .to ( saturn ) .property ( T.id, 13 ) ; == >e [ 13 ][ 2 -father->1 ] \u5220\u9664\u6570\u636e nebula> DELETE VERTEX hash ( \"prometheus\" ) ; gremlin> g.V ( prometheus ) .drop () ; \u66f4\u65b0\u6570\u636e nebula> UPDATE VERTEX hash ( \"jesus\" ) SET character.type = 'titan' ; gremlin> g.V ( jesus ) .property ( 'age' , 6000 ) ; \u67e5\u770b\u6570\u636e nebula> FETCH PROP ON character hash ( \"saturn\" ) ; =================================================== | character.name | character.age | character.type | =================================================== | saturn | 10000 | titan | --------------------------------------------------- gremlin> g.V ( saturn ) .valueMap () ; == > [ name: [ saturn ] ,type: [ titan ] ,age: [ 10000 ]] \u67e5\u8be2 hercules \u7684\u7956\u7236 nebula> LOOKUP ON character WHERE character.name == 'hercules' | \\ -> GO 2 STEPS FROM $- .VertexID OVER father YIELD $$ .character.name ; ===================== | $$ .character.name | ===================== | saturn | --------------------- gremlin> g.V () .hasLabel ( 'character' ) .has ( 'name' , 'hercules' ) .out ( 'father' ) .out ( 'father' ) .values ( 'name' ) ; == >saturn \u67e5\u8be2 hercules \u7684\u7236\u4eb2 nebula> LOOKUP ON character WHERE character.name == 'hercules' | \\ -> GO FROM $- .VertexID OVER father YIELD $$ .character.name ; ===================== | $$ .character.name | ===================== | jupiter | --------------------- gremlin> g.V () .hasLabel ( 'character' ) .has ( 'name' , 'hercules' ) .out ( 'father' ) .values ( 'name' ) ; == >jupiter \u67e5\u8be2\u5e74\u9f84\u5927\u4e8e 100 \u7684\u4eba\u7269 nebula> LOOKUP ON character WHERE character.age > 100 YIELD character.name, character.age ; ========================================================= | VertexID | character.name | character.age | ========================================================= | 6761447489613431910 | pluto | 4000 | --------------------------------------------------------- | -5860788569139907963 | neptune | 4500 | --------------------------------------------------------- | 4863977009196259577 | jupiter | 5000 | --------------------------------------------------------- | -4316810810681305233 | saturn | 10000 | --------------------------------------------------------- gremlin> g.V () .hasLabel ( 'character' ) .has ( 'age' ,gt ( 100 )) .values ( 'name' ) ; == >saturn == >jupiter == >neptune == >pluto \u67e5\u8be2\u548c pluto \u4e00\u8d77\u5c45\u4f4f\u7684\u4eba\u7269 nebula> GO FROM hash ( \"pluto\" ) OVER lives YIELD lives._dst AS place | \\ GO FROM $- .place OVER lives REVERSELY YIELD $$ .character.name AS cohabitants ; =============== | cohabitants | =============== | pluto | --------------- | cerberus | --------------- gremlin> g.V ( pluto ) .out ( 'lives' ) .in ( 'lives' ) .values ( 'name' ) ; == >pluto == >cerberus \u4ece\u4e00\u8d77\u5c45\u4f4f\u7684\u4eba\u7269\u4e2d\u6392\u9664 pluto \u672c\u4eba nebula> GO FROM hash ( \"pluto\" ) OVER lives YIELD lives._dst AS place | GO FROM $- .place OVER lives REVERSELY WHERE \\ $$ .character.name ! = \"pluto\" YIELD $$ .character.name AS cohabitants ; =============== | cohabitants | =============== | cerberus | --------------- gremlin> g.V ( pluto ) .out ( 'lives' ) .in ( 'lives' ) .where ( is ( neq ( pluto ))) .values ( 'name' ) ; == >cerberus Pluto \u7684\u5144\u5f1f\u4eec # where do pluto's brothers live? nebula> GO FROM hash ( \"pluto\" ) OVER brother YIELD brother._dst AS brother | \\ GO FROM $- .brother OVER lives YIELD $$ .location.name ; ==================== | $$ .location.name | ==================== | sky | -------------------- | sea | -------------------- gremlin> g.V ( pluto ) .out ( 'brother' ) .out ( 'lives' ) .values ( 'name' ) ; == >sky == >sea # which brother lives in which place? nebula> GO FROM hash ( \"pluto\" ) OVER brother YIELD brother._dst AS god | \\ GO FROM $- .god OVER lives YIELD $^.character.name AS Brother, $$ .location.name AS Habitations ; ========================= | Brother | Habitations | ========================= | jupiter | sky | ------------------------- | neptune | sea | ------------------------- gremlin> g.V ( pluto ) .out ( 'brother' ) .as ( 'god' ) .out ( 'lives' ) .as ( 'place' ) .select ( 'god' , 'place' ) .by ( 'name' ) ; == > [ god:jupiter, place:sky ] == > [ god:neptune, place:sea ]","title":"\u793a\u4f8b\u67e5\u8be2"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_4","text":"","title":"\u9ad8\u7ea7\u67e5\u8be2"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_5","text":"# gremlin \u7248\u672c gremlin> Gremlin.version () ; == >3.3.5 # \u8fd4\u56de\u6240\u6709\u70b9 gremlin> g.V () ; == >v [ 1 ] == >v [ 2 ] ... nebula> # Coming soon # \u7edf\u8ba1\u70b9\u6570 gremlin> g.V () .count () ; == >12 nebula> # Coming soon # \u6309\u7167\u70b9\u8fb9\u7c7b\u578b\u7edf\u8ba1\u70b9\u8fb9\u4e2a\u6570 gremlin> g.V () .groupCount () .by ( label ) ; == > [ character:9,location:3 ] gremlin> g.E () .groupCount () .by ( label ) ; == > [ mother:1,lives:5,father:2,brother:6,battled:3,pet:1 ] nebula> # Coming soon # \u8fd4\u56de\u6240\u6709\u8fb9 gremlin> g.E () ; == >e [ 13 ][ 2 -father->1 ] == >e [ 14 ][ 2 -lives->3 ] ... nebula> # Coming soon # \u67e5\u8be2\u6240\u6709\u70b9\u7c7b\u578b gremlin> g.V () .label () .dedup () ; == >character == >location nebula> SHOW TAGS ; ================== | ID | Name | ================== | 15 | character | ------------------ | 16 | location | ------------------ # \u67e5\u8be2\u6240\u6709\u8fb9\u7c7b\u578b gremlin> g.E () .label () .dedup () ; == >father == >lives ... nebula> SHOW EDGES ; ================ | ID | Name | ================ | 17 | father | ---------------- | 18 | brother | ---------------- ... # \u67e5\u8be2\u6240\u6709\u9876\u70b9\u7684\u5c5e\u6027 gremlin> g.V () .valueMap () ; == > [ name: [ saturn ] ,type: [ titan ] ,age: [ 10000 ]] == > [ name: [ jupiter ] ,type: [ god ] ,age: [ 5000 ]] ... nebula> # Coming soon # \u67e5\u8be2 character \u9876\u70b9\u5c5e\u6027 gremlin> g.V () .hasLabel ( 'character' ) .valueMap () ; == > [ name: [ saturn ] ,type: [ titan ] ,age: [ 10000 ]] == > [ name: [ jupiter ] ,type: [ god ] ,age: [ 5000 ]] ...","title":"\u56fe\u63a2\u7d22"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_6","text":"\u540d\u79f0 Gremlin nGQL \u6307\u5b9a\u70b9\u6cbf\u6307\u5b9a\u8fb9\u7684\u51fa\u9876\u70b9 out(\\ ) GO FROM \\ OVER \\ \u6307\u5b9a\u70b9\u6cbf\u6307\u5b9a\u8fb9\u7684\u5165\u9876\u70b9 in(\\ ) GO FROM \\ OVER \\ REVERSELY \u6307\u5b9a\u70b9\u6cbf\u6307\u5b9a\u8fb9\u7684\u53cc\u5411\u9876\u70b9 both(\\ ) GO FROM \\ OVER \\ BIDIRECT # \u8bbf\u95ee\u67d0\u4e2a\u9876\u70b9\u6cbf\u67d0\u6761\u8fb9\u7684 OUT \u65b9\u5411\u90bb\u63a5\u70b9 gremlin> g.V ( jupiter ) .out ( 'brother' ) ; == >v [ 8 ] == >v [ 5 ] nebula> GO FROM hash ( \"jupiter\" ) OVER brother ; ======================== | brother._dst | ======================== | 6761447489613431910 | ------------------------ | -5860788569139907963 | ------------------------ # \u8bbf\u95ee\u67d0\u4e2a\u9876\u70b9\u6cbf\u67d0\u6761\u8fb9\u7684 IN \u65b9\u5411\u90bb\u63a5\u70b9 gremlin> g.V ( jupiter ) .in ( 'brother' ) ; == >v [ 5 ] == >v [ 8 ] nebula> GO FROM hash ( \"jupiter\" ) OVER brother REVERSELY ; ======================= | brother._dst | ======================= | 4863977009196259577 | ----------------------- | 4863977009196259577 | ----------------------- # \u8bbf\u95ee\u67d0\u4e2a\u9876\u70b9\u6cbf\u67d0\u6761\u8fb9\u7684\u53cc\u5411\u90bb\u63a5\u70b9 gremlin> g.V ( jupiter ) .both ( 'brother' ) ; == >v [ 8 ] == >v [ 5 ] == >v [ 5 ] == >v [ 8 ] nebula> GO FROM hash ( \"jupiter\" ) OVER brother BIDIRECT ; ======================= | brother._dst | ======================= | 6761447489613431910 | ------------------------ | -5860788569139907963 | | 4863977009196259577 | ----------------------- | 4863977009196259577 | ----------------------- # 2\u5ea6 out \u67e5\u8be2 gremlin> g.V ( hercules ) .out ( 'father' ) .out ( 'lives' ) ; == >v [ 3 ] nebula> GO FROM hash ( \"hercules\" ) OVER father YIELD father._dst AS id | \\ GO FROM $- .id OVER lives ; ======================== | lives._dst | ======================== | -1121386748834253737 | ------------------------","title":"\u8fb9\u7684\u904d\u5386"},{"location":"manual-CN/5.appendix/gremlin-ngql/#has","text":"\u540d\u79f0 Gremlin nGQL \u901a\u8fc7 ID \u6765\u8fc7\u6ee4\u9876\u70b9 hasId(\\ ) FETCH PROP ON \\ \u901a\u8fc7 label \u548c\u5c5e\u6027\u7684\u540d\u5b57\u548c\u503c\u8fc7\u6ee4\u9876\u70b9\u548c\u8fb9 has(\\ , \\ , \\ ) LOOKUP \\ | \\ WHERE \\ # \u67e5\u8be2 ID \u4e3a saturn \u7684\u9876\u70b9 gremlin> g.V () .hasId ( saturn ) ; == >v [ 1 ] nebula> FETCH PROP ON * hash ( \"saturn\" ) ; ========================================================================== | VertexID | character.name | character.age | character.type | ========================================================================== | -4316810810681305233 | saturn | 10000 | titan | -------------------------------------------------------------------------- # \u67e5\u8be2 tag \u4e3a character \u4e14 name \u5c5e\u6027\u503c\u4e3a hercules \u7684\u9876\u70b9 gremlin> g.V () .has ( 'character' , 'name' , 'hercules' ) .valueMap () ; == > [ name: [ hercules ] ,type: [ demigod ] ,age: [ 30 ]] nebula> LOOKUP ON character WHERE character.name == 'hercules' YIELD character.name, character.age, character.type ; ========================================================================= | VertexID | character.name | character.age | character.type | ========================================================================= | 5976696804486077889 | hercules | 30 | demigod | -------------------------------------------------------------------------","title":"has \u6761\u4ef6\u8fc7\u6ee4"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_7","text":"\u540d\u79f0 Gremlin nGQL \u6307\u5b9a\u8fd4\u56de\u7ed3\u679c\u884c\u6570 limit() LIMIT \u83b7\u53d6\u540e n \u4e2a\u5143\u7d20 tail() ORDER BY \\ DESC LIMIT \u8df3\u8fc7\u524d n \u4e2a\u5143\u7d20 skip() LIMIT \\ # \u67e5\u8be2\u524d\u4e24\u4e2a\u9876\u70b9 gremlin> g.V () .has ( 'character' , 'name' , 'hercules' ) .out ( 'battled' ) .limit ( 2 ) ; == >v [ 9 ] == >v [ 10 ] nebula> GO FROM hash ( 'hercules' ) OVER battled | LIMIT 2 ; ======================= | battled._dst | ======================= | 530133512982221454 | ----------------------- | -695163537569412701 | ----------------------- # \u67e5\u8be2\u6700\u540e\u4e00\u4e2a\u9876\u70b9 gremlin> g.V () .has ( 'character' , 'name' , 'hercules' ) .out ( 'battled' ) .values ( 'name' ) .tail ( 1 ) ; == >cerberus nebula> GO FROM hash ( 'hercules' ) OVER battled YIELD $$ .character.name AS name | ORDER BY name | LIMIT 1 ; ============ | name | ============ | cerberus | ------------ # \u8df3\u8fc7\u7b2c 1 \u4e2a\u5143\u7d20\u5e76\u8fd4\u56de\u4e00\u4e2a\u5143\u7d20 gremlin> g.V () .has ( 'character' , 'name' , 'hercules' ) .out ( 'battled' ) .values ( 'name' ) .skip ( 1 ) .limit ( 1 ) ; == >hydra nebula> GO FROM hash ( 'hercules' ) OVER battled YIELD $$ .character.name AS name | ORDER BY name | LIMIT 1 ,1 ; ========= | name | ========= | hydra | ---------","title":"\u8fd4\u56de\u7ed3\u679c\u9650\u5236"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_8","text":"\u540d\u79f0 Gremlin nGQL \u6240\u6709\u8def\u5f84 path() FIND ALL PATH \u4e0d\u5305\u542b\u73af\u8def simplePath() \\ \u53ea\u5305\u542b\u73af\u8def cyclicPath() \\ \u6700\u77ed\u8def\u5f84 \\ FIND SHORTEST PATH \u6ce8\u610f\uff1a Nebula Graph \u9700\u8981\u8d77\u59cb\u70b9\u548c\u7ec8\u70b9\u65b9\u53ef\u8fd4\u56de\u8def\u5f84\uff0c Gremlin \u4ec5\u9700\u8981\u8d77\u59cb\u70b9\u3002 # pluto \u9876\u70b9\u5230\u4e0e\u5176\u6709\u76f4\u63a5\u5173\u8054\u7684\u51fa\u8fb9\u9876\u70b9\u7684\u8def\u5f84 gremlin> g.V () .hasLabel ( 'character' ) .has ( 'name' , 'pluto' ) .out () .path () ; == > [ v [ 8 ] ,v [ 12 ]] == > [ v [ 8 ] ,v [ 2 ]] == > [ v [ 8 ] ,v [ 5 ]] == > [ v [ 8 ] ,v [ 11 ]] # \u67e5\u8be2\u70b9 pluto \u5230\u70b9 jupiter \u7684\u6700\u77ed\u8def\u5f84 nebula> LOOKUP ON character WHERE character.name == \"pluto\" YIELD character.name AS name | \\ FIND SHORTEST PATH FROM $- .VertexID TO hash ( \"jupiter\" ) OVER * ; ============================================================ | _path_ | ============================================================ | 6761447489613431910 <brother,0> 4863977009196259577 ------------------------------------------------------------","title":"\u8def\u5f84\u67e5\u8be2"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_9","text":"\u540d\u79f0 Gremlin nGQL \u6307\u5b9a\u91cd\u590d\u6267\u884c\u7684\u8bed\u53e5 repeat() N STEPS \u6307\u5b9a\u91cd\u590d\u6267\u884c\u7684\u6b21\u6570 times() N STEPS \u6307\u5b9a\u5faa\u73af\u7ec8\u6b62\u7684\u6761\u4ef6 until() \\ \u6307\u5b9a\u6536\u96c6\u6570\u636e\u7684\u6761\u4ef6 emit() \\ # \u67e5\u8be2\u70b9 pluto \u51fa\u8fb9\u90bb\u70b9 gremlin> g.V () .hasLabel ( 'character' ) .has ( 'name' , 'pluto' ) .repeat ( out ()) .times ( 1 ) ; == >v [ 12 ] == >v [ 2 ] == >v [ 5 ] == >v [ 11 ] nebula> LOOKUP ON character WHERE character.name == \"pluto\" YIELD character.name AS name | \\ GO FROM $- .VertexID OVER * ; ================================================================================================================ | father._dst | brother._dst | lives._dst | mother._dst | pet._dst | battled._dst | ================================================================================================================ | 0 | -5860788569139907963 | 0 | 0 | 0 | 0 | ---------------------------------------------------------------------------------------------------------------- | 0 | 4863977009196259577 | 0 | 0 | 0 | 0 | ---------------------------------------------------------------------------------------------------------------- | 0 | 0 | -4331657707562925133 | 0 | 0 | 0 | ---------------------------------------------------------------------------------------------------------------- | 0 | 0 | 0 | 0 | 4594048193862126013 | 0 | ---------------------------------------------------------------------------------------------------------------- # \u67e5\u8be2\u9876\u70b9 hercules \u5230\u9876\u70b9 cerberus \u4e4b\u95f4\u7684\u8def\u5f84 # \u5faa\u73af\u7684\u7ec8\u6b62\u6761\u4ef6\u662f\u9047\u5230\u540d\u79f0\u662f cerberus \u7684\u9876\u70b9 gremlin> g.V () .hasLabel ( 'character' ) .has ( 'name' , 'hercules' ) .repeat ( out ()) .until ( has ( 'name' , 'cerberus' )) .path () ; == > [ v [ 6 ] ,v [ 11 ]] == > [ v [ 6 ] ,v [ 2 ] ,v [ 8 ] ,v [ 11 ]] == > [ v [ 6 ] ,v [ 2 ] ,v [ 5 ] ,v [ 8 ] ,v [ 11 ]] ... nebula> # Coming soon # \u67e5\u8be2\u70b9 hercules \u7684\u6240\u6709\u51fa\u8fb9\u53ef\u5230\u8fbe\u70b9\u7684\u8def\u5f84 # \u4e14\u7ec8\u70b9\u5fc5\u987b\u662f character \u7c7b\u578b\u7684\u70b9 gremlin> g.V () .hasLabel ( 'character' ) .has ( 'name' , 'hercules' ) .repeat ( out ()) .emit ( hasLabel ( 'character' )) .path () ; == > [ v [ 6 ] ,v [ 7 ]] == > [ v [ 6 ] ,v [ 2 ]] == > [ v [ 6 ] ,v [ 9 ]] == > [ v [ 6 ] ,v [ 10 ]] ... nebula> # Coming soon # \u67e5\u8be2\u4e24\u9876\u70b9 pluto \u548c saturn \u4e4b\u95f4\u7684\u6700\u77ed\u8def\u5f84 # \u4e14\u6700\u5927\u6df1\u5ea6\u4e3a 3 gremlin> g.V ( 'pluto' ) .repeat ( out () .simplePath ()) .until ( hasId ( 'saturn' ) .and () .loops () .is ( lte ( 3 ))) .hasId ( 'saturn' ) .path () ; nebula> FIND SHORTEST PATH FROM hash ( 'pluto' ) TO hash ( 'saturn' ) OVER * UPTO 3 STEPS ; ================================================================================================= | _path_ | ================================================================================================= | 6761447489613431910 <brother,0> 4863977009196259577 <father,0> -4316810810681305233 -------------------------------------------------------------------------------------------------","title":"\u591a\u5ea6\u67e5\u8be2"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_10","text":"\u540d\u79f0 Gremlin nGQL \u5347\u5e8f\u6392\u5217 order().by() ORDER BY \u964d\u5e8f\u6392\u5217 order().by(decr) ORDER BY DESC \u968f\u673a\u6392\u5217 order().by(shuffle) \\ # \u67e5\u8be2 pluto \u7684\u5144\u5f1f\u5e76\u6309\u7167\u5e74\u9f84\u964d\u5e8f\u6392\u5217 gremlin> g.V ( pluto ) .out ( 'brother' ) .order () .by ( 'age' , decr ) .valueMap () ; == > [ name: [ jupiter ] ,type: [ god ] ,age: [ 5000 ]] == > [ name: [ neptune ] ,type: [ god ] ,age: [ 4500 ]] nebula> GO FROM hash ( 'pluto' ) OVER brother YIELD $$ .character.name AS Name, $$ .character.age as Age | ORDER BY Age DESC ; ================== | Name | Age | ================== | jupiter | 5000 | ------------------ | neptune | 4500 | ------------------","title":"\u67e5\u8be2\u7ed3\u679c\u6392\u5e8f"},{"location":"manual-CN/5.appendix/gremlin-ngql/#group_by","text":"\u540d\u79f0 Gremlin nGQL \u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u5206\u7ec4 group().by() GROUP BY \u53bb\u9664\u76f8\u540c\u5143\u7d20 dedup() DISTINCT \u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u5206\u7ec4\u5e76\u7edf\u8ba1 groupCount() GROUP BY COUNT \u6ce8\u610f\uff1a GROUP BY \u51fd\u6570\u53ea\u80fd\u4e0e YIELD \u8bed\u53e5\u4e00\u8d77\u4f7f\u7528\u3002 # \u6839\u636e\u9876\u70b9\u7c7b\u522b\u8fdb\u884c\u5206\u7ec4\u5e76\u7edf\u8ba1\u5404\u4e2a\u7c7b\u522b\u7684\u6570\u91cf gremlin> g.V () .group () .by ( label ) .by ( count ()) ; == > [ character:9,location:3 ] nebula> # Coming soon # \u67e5\u8be2\u70b9 jupiter \u51fa\u8fb9\u90bb\u70b9\uff0c\u4f7f\u7528 name \u5206\u7ec4\u5e76\u7edf\u8ba1 gremlin> g.V ( jupiter ) .out () .group () .by ( 'name' ) .by ( count ()) ; == > [ sky:1,saturn:1,neptune:1,pluto:1 ] nebula> GO FROM hash ( 'jupiter' ) OVER * YIELD $$ .character.name AS Name, $$ .character.age as Age, $$ .location.name | \\ GROUP BY $- .Name YIELD $- .Name, COUNT ( * ) ; ====================== | $- .Name | COUNT ( * ) | ====================== | | 1 | ---------------------- | pluto | 1 | ---------------------- | saturn | 1 | ---------------------- | neptune | 1 | ---------------------- # \u67e5\u627e\u70b9 jupiter \u51fa\u8fb9\u5230\u8fbe\u7684\u70b9\u5e76\u53bb\u91cd gremlin> g.V ( jupiter ) .out () .hasLabel ( 'character' ) .dedup () ; == >v [ 1 ] == >v [ 8 ] == >v [ 5 ] nebula> GO FROM hash ( 'jupiter' ) OVER * YIELD DISTINCT $$ .character.name, $$ .character.age, $$ .location.name ; =========================================================== | $$ .character.name | $$ .character.age | $$ .location.name | =========================================================== | pluto | 4000 | | ----------------------------------------------------------- | neptune | 4500 | | ----------------------------------------------------------- | saturn | 10000 | | ----------------------------------------------------------- | | 0 | sky | -----------------------------------------------------------","title":"Group By"},{"location":"manual-CN/5.appendix/gremlin-ngql/#where","text":"\u540d\u79f0 Gremlin nGQL where \u6761\u4ef6\u8fc7\u6ee4 where() WHERE \u8fc7\u6ee4\u6761\u4ef6\u5bf9\u6bd4\uff1a \u540d\u79f0 Gremlin nGQL \u7b49\u4e8e eq(object) == \u4e0d\u7b49\u4e8e neq(object) != \u5c0f\u4e8e lt(number) < \u5c0f\u4e8e\u7b49\u4e8e lte(number) <= \u5927\u4e8e gt(number) > \u5927\u4e8e\u7b49\u4e8e gte(number) >= \u5224\u65ad\u503c\u662f\u5426\u5728\u6307\u5b9a\u7684\u5217\u8868\u4e2d within(objects\u2026\u200b) udf_is_in() gremlin> eq ( 2 ) .test ( 3 ) ; == >false nebula> YIELD 3 == 2 ; ========== | ( 3 == 2 ) | ========== | false | ---------- gremlin> within ( 'a' , 'b' , 'c' ) .test ( 'd' ) ; == >false nebula> YIELD udf_is_in ( 'd' , 'a' , 'b' , 'c' ) ; ====================== | udf_is_in ( d,a,b,c ) | ====================== | false | ---------------------- # \u627e\u51fa pluto \u548c\u8c01\u4f4f\u5e76\u6392\u961f\u4ed6\u672c\u4eba gremlin> g.V ( pluto ) .out ( 'lives' ) .in ( 'lives' ) .where ( is ( neq ( pluto ))) .values ( 'name' ) ; == >cerberus nebula> GO FROM hash ( \"pluto\" ) OVER lives YIELD lives._dst AS place | GO FROM $- .place OVER lives REVERSELY WHERE \\ $$ .character.name ! = \"pluto\" YIELD $$ .character.name AS cohabitants ; =============== | cohabitants | =============== | cerberus | ---------------","title":"where \u6761\u4ef6\u8fc7\u6ee4"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_11","text":"\u540d\u79f0 Gremlin nGQL Is is() == Not not() != And and() AND Or or() OR # \u67e5\u8be2\u5e74\u9f84\u5927\u4e8e 30 \u7684\u4eba\u7269 gremlin> g.V () .values ( 'age' ) .is ( gte ( 30 )) ; == >10000 == >5000 == >4500 == >30 == >45 == >4000 nebula> LOOKUP ON character WHERE character.age > = 30 YIELD character.age ; ======================================== | VertexID | character.age | ======================================== | -4316810810681305233 | 10000 | ---------------------------------------\u2013 | 4863977009196259577 | 5000 | ---------------------------------------\u2013 | -5860788569139907963 | 4500 | ---------------------------------------\u2013 | 5976696804486077889 | 30 | ---------------------------------------\u2013 | -6780323075177699500 | 45 | ---------------------------------------\u2013 | 6761447489613431910 | 4000 | ---------------------------------------\u2013 # \u67e5\u8be2\u540d\u79f0\u4e3a pluto \u4e14\u5e74\u9f84\u4e3a 4000 \u7684\u4eba\u7269 gremlin> g.V () .has ( 'name' , 'pluto' ) .and () .has ( 'age' ,4000 ) ; == >v [ 8 ] nebula> LOOKUP ON character WHERE character.name == 'pluto' AND character.age == 4000 ; ======================= | VertexID | ======================= | 6761447489613431910 | ----------------------- # \u903b\u8f91\u975e\u7684\u7528\u6cd5 gremlin> g.V () .has ( 'name' , 'pluto' ) .out ( 'brother' ) .not ( values ( 'name' ) .is ( 'neptune' )) .values ( 'name' ) ; == >jupiter nebula> LOOKUP ON character WHERE character.name == 'pluto' YIELD character.name AS name | \\ GO FROM $- .VertexID OVER brother WHERE $$ .character.name ! = 'neptune' YIELD $$ .character.name ; ===================== | $$ .character.name | ===================== | jupiter | ---------------------","title":"\u903b\u8f91\u8fd0\u7b97"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_12","text":"\u540d\u79f0 Gremlin nGQL \u6c42\u548c sum() SUM() \u6700\u5927\u503c max() MAX() \u6700\u5c0f\u503c min() MIN() \u5e73\u5747\u503c mean() AVG() Nebula Graph \u7edf\u8ba1\u8fd0\u7b97\u5fc5\u987b\u540c GROUP BY \u4e00\u8d77\u4f7f\u7528\u3002 # \u8ba1\u7b97\u6240\u6709 character \u7684\u5e74\u9f84\u7684\u603b\u548c gremlin> g.V () .hasLabel ( 'character' ) .values ( 'age' ) .sum () ; == >23595 nebula> # Coming soon # \u8ba1\u7b97\u6240\u6709 character \u7684 brother \u51fa\u8fb9\u6570\u7684\u603b\u548c gremlin> g.V () .hasLabel ( 'character' ) .map ( outE ( 'brother' ) .count ()) .sum () ; == >6 nebula> # Coming soon # \u8fd4\u56de\u6240\u6709 character \u7684\u5e74\u9f84\u4e2d\u7684\u6700\u5927\u503c gremlin> g.V () .hasLabel ( 'character' ) .values ( 'age' ) .max () ; == >10000 nebula> # Coming soon","title":"\u7edf\u8ba1\u8fd0\u7b97"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_13","text":"# \u4ece\u8def\u5f84\u4e2d\u9009\u53d6\u7b2c 1 \u6b65\u548c\u7b2c 3 \u6b65\u7684\u7ed3\u679c\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c gremlin> g.V ( pluto ) .as ( 'a' ) .out () .as ( 'b' ) .out () .as ( 'c' ) .select ( 'a' , 'c' ) ; == > [ a:v [ 8 ] ,c:v [ 3 ]] == > [ a:v [ 8 ] ,c:v [ 1 ]] ... nebula> # Coming soon # \u901a\u8fc7 by() \u6307\u5b9a\u9009\u53d6\u7684\u7ef4\u5ea6 gremlin> g.V ( pluto ) .as ( 'a' ) .out () .as ( 'b' ) .out () .as ( 'c' ) .select ( 'a' , 'c' ) .by ( 'name' ) ; == > [ a:pluto,c:sky ] == > [ a:pluto,c:saturn ] ... nebula> # Coming soon # \u4ece map \u4e2d\u9009\u62e9\u6307\u5b9a key \u7684\u503c gremlin> g.V () .valueMap () .select ( 'name' ) .dedup () ; == > [ saturn ] == > [ jupiter ] ... nebula> # Coming soon","title":"\u8def\u5f84\u9009\u53d6\u4e0e\u8fc7\u6ee4"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_14","text":"# \u67e5\u627e\u6240\u6709\u7c7b\u578b\u4e3a 'character' \u7684\u9876\u70b9 # name \u5c5e\u6027\u4e3a 'jupiter' \u7684\u9876\u70b9\u8f93\u51fa\u5176 age \u5c5e\u6027 # \u5426\u5219\u8f93\u51fa\u9876\u70b9\u7684 name \u5c5e\u6027 gremlin> g.V () .hasLabel ( 'character' ) .choose ( values ( 'name' )) .option ( 'jupiter' , values ( 'age' )) .option ( none, values ( 'name' )) ; == >saturn == >5000 == >neptune ... # Lambda gremlin> g.V () .branch { it.get () .value ( 'name' )} .option ( 'jupiter' , values ( 'age' )) .option ( none, values ( 'name' )) ; == >saturn == >5000 ... # Traversal gremlin> g.V () .branch ( values ( 'name' )) .option ( 'jupiter' , values ( 'age' )) .option ( none, values ( 'name' )) ; == >saturn == >5000 # Branch gremlin> g.V () .choose ( has ( 'name' , 'jupiter' ) ,values ( 'age' ) ,values ( 'name' )) ; == >saturn == >5000 # \u57fa\u4e8e if then \u8fdb\u884c\u5206\u7ec4 gremlin> g.V () .hasLabel ( \"character\" ) .groupCount () .by ( values ( \"age\" ) .choose ( is ( lt ( 40 )) ,constant ( \"young\" ) , choose ( is ( lt ( 4500 )) , constant ( \"old\" ) , constant ( \"very old\" )))) ; == > [ young:4,old:2,very old:3 ] Nebula Graph \u5c1a\u65e0\u7c7b\u4f3c\u529f\u80fd\u3002","title":"\u5206\u652f"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_15","text":"coalesce() \u53ef\u4ee5\u63a5\u53d7\u4efb\u610f\u6570\u91cf\u7684\u904d\u5386\u5668\uff08traversal\uff09\uff0c\u6309\u987a\u5e8f\u6267\u884c\uff0c\u5e76\u8fd4\u56de\u7b2c\u4e00\u4e2a\u80fd\u4ea7\u751f\u8f93\u51fa\u7684\u904d\u5386\u5668\u7684\u7ed3\u679c\u3002 optional() \u53ea\u80fd\u63a5\u53d7\u4e00\u4e2a\u904d\u5386\u5668\uff08traversal\uff09\uff0c\u5982\u679c\u8be5\u904d\u5386\u5668\u80fd\u4ea7\u751f\u4e00\u4e2a\u7ed3\u679c\uff0c\u5219\u8fd4\u56de\u8be5\u7ed3\u679c\uff0c\u5426\u5219\u8fd4\u56de\u8c03\u7528 optionalStep \u7684\u5143\u7d20\u672c\u8eab\u3002 union() \u53ef\u4ee5\u63a5\u53d7\u4efb\u610f\u6570\u91cf\u7684\u904d\u5386\u5668\uff0c\u5e76\u80fd\u591f\u5c06\u5404\u4e2a\u904d\u5386\u5668\u7684\u8f93\u51fa\u5408\u5e76\u5230\u4e00\u8d77\u3002 # \u5982\u679c\u7c7b\u578b\u4e3a monster \u5219\u8fd4\u56de\u7c7b\u578b\u5426\u5219\u8fd4\u56de 'Not a monster' gremlin> g.V ( pluto ) .coalesce ( has ( 'type' , 'monster' ) .values ( 'type' ) ,constant ( \"Not a monster\" )) ; == >Not a monster # \u6309\u4f18\u5148\u7ea7\u5bfb\u627e\u5230\u9876\u70b9 jupiter \u7684\u4ee5\u4e0b\u8fb9\u548c\u90bb\u63a5\u70b9\uff0c\u627e\u5230\u4e00\u4e2a\u5c31\u505c\u6b62 # 1\u3001brother \u51fa\u8fb9\u548c\u90bb\u63a5\u70b9 # 2\u3001father \u51fa\u8fb9\u548c\u90bb\u63a5\u70b9 # 3\u3001father \u5165\u8fb9\u548c\u90bb\u63a5\u70b9 gremlin> g.V ( jupiter ) .coalesce ( outE ( 'brother' ) , outE ( 'father' ) , inE ( 'father' )) .inV () .path () .by ( 'name' ) .by ( label ) ; == > [ jupiter,brother,pluto ] == > [ jupiter,brother,neptune ] # \u67e5\u627e\u9876\u70b9 pluto \u7684 father \u51fa\u9876\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u8fd4\u56de pluto \u81ea\u5df1 gremlin> g.V ( pluto ) .optional ( out ( 'father' )) .valueMap () ; == > [ name: [ pluto ] ,type: [ god ] ,age: [ 4000 ]] # \u5bfb\u627e\u9876\u70b9 pluto \u7684\u51fa father \u9876\u70b9\uff0c\u90bb\u63a5 brother \u9876\u70b9\uff0c\u5e76\u5c06\u7ed3\u679c\u5408\u5e76\uff0c\u6700\u540e\u6253\u5370\u51fa\u8def\u5f84 gremlin> g.V ( pluto ) .union ( out ( 'father' ) ,both ( 'brother' )) .path () ; == > [ v [ 8 ] ,v [ 2 ]] == > [ v [ 8 ] ,v [ 5 ]] Nebula Graph \u5c1a\u65e0\u7c7b\u4f3c\u529f\u80fd\u3002","title":"\u5408\u5e76"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_16","text":"# \u6536\u96c6\u7b2c 1 \u6b65\u7684\u7ed3\u679c\u5230\u96c6\u5408 x \u4e2d # \u6ce8\u610f\uff1a\u4e0d\u5f71\u54cd\u540e\u7eed\u7ed3\u679c gremlin> g.V ( pluto ) .out () .aggregate ( 'x' ) ; == >v [ 12 ] == >v [ 2 ] ... # \u901a\u8fc7 by() \u6307\u5b9a\u805a\u96c6\u7684\u7ef4\u5ea6 gremlin> g.V ( pluto ) .out () .aggregate ( 'x' ) .by ( 'name' ) .cap ( 'x' ) ; == > [ tartarus,jupiter,neptune,cerberus ] # \u67e5\u8be2\u4e0e pluto \u7684\u4e24\u5ea6 OUT \u90bb\u5c45 # \u5e76\u6536\u96c6\u8fd9\u4e9b\u5230 x \u96c6\u5408\u91cc\u9762 # \u6700\u7ec8\u4ee5 name \u5c5e\u6027\u5c55\u793a\u5176\u90bb\u5c45 gremlin> g.V ( pluto ) .out () .aggregate ( 'x' ) .out () .aggregate ( 'x' ) .cap ( 'x' ) .unfold () .values ( 'name' ) ; == >tartarus == >tartarus ... Nebula Graph \u5c1a\u65e0\u7c7b\u4f3c\u529f\u80fd\u3002","title":"\u7ed3\u679c\u805a\u96c6\u4e0e\u5c55\u5f00"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_17","text":"match() \u8bed\u53e5\u4e3a\u56fe\u67e5\u8be2\u63d0\u4f9b\u4e86\u4e00\u79cd\u57fa\u4e8e\u6a21\u5f0f\u5339\u914d\u7684\u65b9\u5f0f\uff0c\u4ee5\u4fbf\u7528\u66f4\u5177\u63cf\u8ff0\u6027\u7684\u65b9\u5f0f\u8fdb\u884c\u56fe\u67e5\u8be2\u3002match()\u8bed\u53e5\u901a\u8fc7\u591a\u4e2a\u6a21\u5f0f\u7247\u6bb5 traversal fragments \u6765\u8fdb\u884c\u6a21\u5f0f\u5339\u914d\u3002\u8fd9\u4e9b traversal fragments \u4e2d\u4f1a\u5b9a\u4e49\u4e00\u4e9b\u53d8\u91cf\uff0c\u53ea\u6709\u6ee1\u8db3\u6240\u6709\u7528\u53d8\u91cf\u8868\u793a\u7684\u7ea6\u675f\u7684\u5bf9\u8c61\u624d\u80fd\u591f\u901a\u8fc7\u3002 # \u5bf9\u6bcf\u4e00\u4e2a\u9876\u70b9\uff0c\u7528\u4ee5\u4e0b\u6a21\u5f0f\u53bb\u5339\u914d\uff0c\u6ee1\u8db3\u5219\u751f\u6210\u4e00\u4e2a map<String, Object>\uff0c\u4e0d\u6ee1\u8db3\u5219\u8fc7\u6ee4\u6389 # \u6a21\u5f0f1\uff1aa \u4e3a\u6cbf father \u51fa\u8fb9\u6307\u5411 jupiter \u7684\u9876\u70b9 # \u6a21\u5f0f2\uff1ab \u5bf9\u5e94\u5f53\u524d\u9876\u70b9 jupiter # \u6a21\u5f0f3\uff1ac \u5bf9\u5e94\u521b\u5efa jupiter \u7684 brother \u5e74\u9f84\u4e3a 4000 \u7684 \u9876\u70b9 gremlin> g.V () .match ( __.as ( 'a' ) .out ( 'father' ) .has ( 'name' , 'jupiter' ) .as ( 'b' ) , __.as ( 'b' ) .in ( 'brother' ) .has ( 'age' , 4000 ) .as ( 'c' )) ; == > [ a:v [ 6 ] ,b:v [ 2 ] ,c:v [ 8 ]] # match() \u8bed\u53e5\u53ef\u4ee5\u4e0e select() \u8bed\u53e5\u914d\u5408\u4f7f\u7528\uff0c\u4ece Map<String, Object> \u4e2d\u9009\u53d6\u90e8\u5206\u7ed3\u679c gremlin> g.V () .match ( __.as ( 'a' ) .out ( 'father' ) .has ( 'name' , 'jupiter' ) .as ( 'b' ) , __.as ( 'b' ) .in ( 'brother' ) .has ( 'age' , 4000 ) .as ( 'c' )) .select ( 'a' , 'c' ) .by ( 'name' ) ; == > [ a:hercules,c:pluto ] # match() \u8bed\u53e5\u53ef\u4ee5\u4e0e where() \u8bed\u53e5\u914d\u5408\u4f7f\u7528\uff0c\u8fc7\u6ee4\u7ed3\u679c gremlin> g.V () .match ( __.as ( 'a' ) .out ( 'father' ) .has ( 'name' , 'jupiter' ) .as ( 'b' ) , __.as ( 'b' ) .in ( 'brother' ) .has ( 'age' , 4000 ) .as ( 'c' )) .where ( 'a' , neq ( 'c' )) .select ( 'a' , 'c' ) .by ( 'name' ) ; == > [ a:hercules,c:pluto ]","title":"\u6a21\u5f0f\u5339\u914d"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_18","text":"sample() \u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u4ece\u524d\u4e00\u6b65\u7684\u904d\u5386\u5668\u4e2d\u91c7\u6837\uff08\u968f\u673a\uff09\u51fa\u6700\u591a\u6307\u5b9a\u6570\u76ee\u7684\u7ed3\u679c\u3002 coin() \u5b57\u9762\u610f\u601d\u662f\u629b\u786c\u5e01\u8fc7\u6ee4\uff0c\u63a5\u53d7\u4e00\u4e2a\u6d6e\u70b9\u503c\uff0c\u8be5\u6d6e\u70b9\u503c\u8868\u793a\u786c\u5e01\u51fa\u73b0\u6b63\u9762\u7684\u6982\u7387\u3002 # \u4ece\u6240\u6709\u9876\u70b9\u7684\u51fa\u8fb9\u4e2d\u968f\u673a\u9009\u62e9 2 \u6761 gremlin> g.V () .outE () .sample ( 2 ) ; == >e [ 15 ][ 2 -brother->5 ] == >e [ 18 ][ 5 -brother->2 ] # \u4ece\u6240\u9876\u70b9\u7684 name \u5c5e\u6027\u4e2d\u968f\u673a\u9009\u53d6 3 \u4e2a gremlin> g.V () .values ( 'name' ) .sample ( 3 ) ; == >hercules == >sea == >jupiter # \u4ece\u6240\u6709\u7684 character \u4e2d\u6839\u636e age \u968f\u673a\u9009\u62e9 3 \u4e2a gremlin> g.V () .hasLabel ( 'character' ) .sample ( 3 ) .by ( 'age' ) ; == >v [ 1 ] == >v [ 2 ] == >v [ 6 ] # \u4e0e local \u8054\u5408\u4f7f\u7528\u505a\u968f\u673a\u6f2b\u6e38 # \u4ece\u9876\u70b9 pluto \u51fa\u53d1\u505a 3 \u6b21\u968f\u673a\u6f2b\u6e38 gremlin> g.V ( pluto ) .repeat ( local ( bothE () .sample ( 1 ) .otherV ())) .times ( 3 ) .path () ; == > [ v [ 8 ] ,e [ 26 ][ 8 -brother->5 ] ,v [ 5 ] ,e [ 18 ][ 5 -brother->2 ] ,v [ 2 ] ,e [ 13 ][ 2 -father->1 ] ,v [ 1 ]] # \u6bcf\u4e2a\u9876\u70b9\u6309 0.5 \u7684\u6982\u7387\u8fc7\u6ee4 gremlin> g.V () .coin ( 0 .5 ) ; == >v [ 1 ] == >v [ 2 ] ... # \u8f93\u51fa\u6240\u6709 location \u7c7b\u9876\u70b9\u7684 name \u5c5e\u6027\uff0c\u5426\u5219\u8f93\u51fa not a location gremlin> g.V () .choose ( hasLabel ( 'location' ) , values ( 'name' ) , constant ( 'not a location' )) ; == >not a location == >not a location == >sky ...","title":"\u968f\u673a\u8fc7\u6ee4"},{"location":"manual-CN/5.appendix/gremlin-ngql/#sack","text":"\u5305\u542b\u672c\u5730\u6570\u636e\u7ed3\u6784\u7684\u904d\u5386\u5668\u79f0\u4e3a\u53e3\u888b\u3002 sack() \u5c06\u6570\u636e\u653e\u5165\u53e3\u888b\uff0c\u6216\u8005\u4ece\u53e3\u888b\u53d6\u51fa\u6570\u636e\u3002\u6bcf\u4e2a\u904d\u5386\u5668\u7684\u6bcf\u4e2a\u53e3\u888b\u90fd\u662f\u901a\u8fc7 withSack\uff08\uff09 \u521b\u5efa\u7684\u3002 # \u521b\u5efa\u4e00\u4e2a\u5305\u542b\u5e38\u6570 1 \u7684\u53e3\u888b\uff0c\u5e76\u4e14\u5728\u6700\u7ec8\u53d6\u51fa\u53e3\u888b\u4e2d\u7684\u503c gremlin> g.withSack ( 1 ) .V () .sack () ; == >1 == >1 ...","title":"\u7ed3\u679c\u5b58\u53d6\u53e3\u888b Sack"},{"location":"manual-CN/5.appendix/gremlin-ngql/#barrier","text":"barrier() \u5728\u67d0\u4e2a\u4f4d\u7f6e\u63d2\u5165\u4e00\u4e2a\u6805\u680f\uff0c\u4ee5\u5f3a\u5236\u8be5\u4f4d\u7f6e\u4e4b\u524d\u7684\u6b65\u9aa4\u5fc5\u987b\u90fd\u6267\u884c\u5b8c\u6210\u624d\u53ef\u4ee5\u7ee7\u7eed\u5f80\u540e\u6267\u884c\u3002 # \u5229\u7528\u9690\u5f0f barrier \u8ba1\u7b97\u7279\u5f81\u5411\u91cf\u4e2d\u5fc3\u6027 # \u5305\u62ec groupCount\u3001cap\uff0c\u6309\u7167\u964d\u5e8f\u6392\u5e8f gremlin> g.V () .repeat ( both () .groupCount ( 'm' )) .times ( 5 ) .cap ( 'm' ) .order ( local ) .by ( values, decr ) ;","title":"\u904d\u5386\u6805\u680f barrier"},{"location":"manual-CN/5.appendix/gremlin-ngql/#local","text":"\u901a\u8fc7 Gremlin \u8fdb\u884c\u56fe\u904d\u5386\u901a\u5e38\u662f\u5f53\u524d step \u5904\u7406\u524d\u4e00 step \u4f20\u9012\u8fc7\u6765\u7684\u5bf9\u8c61\u6d41\u3002\u5f88\u591a\u64cd\u4f5c\u662f\u9488\u5bf9\u4f20\u9012\u8fc7\u6765\u7684\u5bf9\u8c61\u6d41\u4e2d\u7684\u5168\u90e8\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\uff0c\u4f46\u4e5f\u6709\u5f88\u591a\u65f6\u5019\u9700\u8981\u9488\u5bf9\u5bf9\u8c61\u6d41\u4e2d\u7684\u5355\u4e2a\u5bf9\u8c61\u800c\u975e\u5bf9\u8c61\u6d41\u4e2d\u7684\u5168\u90e8\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\u3002\u8fd9\u79cd\u5bf9\u5355\u4e2a\u5bf9\u8c61\u7684\u5c40\u90e8\u64cd\u4f5c\uff0c\u53ef\u4ee5\u4f7f\u7528 local() \u8bed\u53e5\u5b9e\u73b0\u3002 # \u4e0d\u4f7f\u7528 local() gremlin> g.V () .hasLabel ( 'character' ) .as ( 'character' ) .properties ( 'age' ) .order () .by ( value,decr ) .limit ( 2 ) .value () .as ( 'age' ) .select ( 'character' , 'age' ) .by ( 'name' ) .by () ; == > [ character:saturn,age:10000 ] == > [ character:jupiter,age:5000 ] # \u4f7f\u7528 local() gremlin> g.V () .hasLabel ( 'character' ) .as ( 'character' ) .local ( properties ( 'age' ) .order () .by ( value ) .limit ( 2 )) .value () .as ( 'age' ) .select ( 'character' , 'age' ) .by ( 'name' ) .by () == > [ character:saturn,age:10000 ] == > [ character:jupiter,age:5000 ] == > [ character:neptune,age:4500 ] == > [ character:hercules,age:30 ] ... # \u67e5\u8be2 monster \u7684\u5c5e\u6027 map gremlin> g.V () hasLabel ( 'character' ) .has ( 'type' , 'type' ) .propertyMap () ; == > [ name: [ vp [ name->nemean ]] ,type: [ vp [ type->monster ]] ,age: [ vp [ age->20 ]]] == > [ name: [ vp [ name->hydra ]] ,type: [ vp [ type->monster ]] ,age: [ vp [ age->0 ]]] == > [ name: [ vp [ name->cerberus ]] ,type: [ vp [ type->monster ]] ,age: [ vp [ age->0 ]]] # \u67e5\u8be2 monster \u7684\u5c5e\u6027\u4e2a\u6570 gremlin> g.V () hasLabel ( 'character' ) .has ( 'type' , 'monster' ) .propertyMap () .count ( local ) ; == >3 == >3 == >3 # \u6570\u76ee\u6700\u591a\u7684\u9876\u70b9\u7c7b\u578b\u7684\u9876\u70b9\u6570\u76ee gremlin> g.V () .groupCount () .by ( label ) .select ( values ) .max ( local ) ; == >9 # \u6240\u6709\u9876\u70b9\u7684\u5c5e\u6027\u5217\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5c5e\u6027 gremlin> g.V () .valueMap () .limit ( local, 1 ) ; == > [ name: [ saturn ]] == > [ name: [ jupiter ]] == > [ name: [ sky ]] ... # \u4e0d\u52a0 local gremlin> g.V () .valueMap () .limit ( 1 ) ; == > [ name: [ saturn ] ,type: [ titan ] ,age: [ 10000 ]] # \u6240\u6709\u9876\u70b9\u4f5c\u4e3a\u4e00\u4e2a\u96c6\u5408\uff0c\u4ece\u4e2d\u91c7\u6837 2 \u4e2a gremlin> g.V () .fold () .sample ( local,2 ) ; == > [ v [ 8 ] ,v [ 1 ]]","title":"\u5c40\u90e8\u64cd\u4f5c local"},{"location":"manual-CN/5.appendix/gremlin-ngql/#_19","text":"Gremlin \u63d0\u4f9b\u4e24\u79cd\u8bed\u53e5\u5bf9\u6267\u884c\u7684\u67e5\u8be2\u8bed\u53e5\u8fdb\u884c\u7edf\u8ba1\u548c\u5206\u6790\uff1a explain() \uff0c\u8be6\u7ec6\u63cf\u8ff0\u539f\u59cb\u7684 Gremlin \u8bed\u53e5\u5728\u7f16\u8bd1\u671f\u662f\u5982\u4f55\u8f6c\u53d8\u4e3a\u6700\u7ec8\u8981\u6267\u884c\u7684 step \u96c6\u5408\u7684 profile() \uff0c\u7edf\u8ba1 Gremlin \u8bed\u53e5\u6267\u884c\u8fc7\u7a0b\u4e2d\u7684\u6bcf\u4e2a step \u6d88\u8017\u7684\u65f6\u95f4\u548c\u901a\u8fc7\u7684\u5bf9\u8c61\u7b49\u7edf\u8ba1\u4fe1\u606f # explain() gremlin> g.V () .hasLabel ( 'character' ) .explain () ; == >Traversal Explanation ========================================================================================== Original Traversal [ GraphStep ( vertex, []) , HasStep ([ ~label.eq ( character )])] ConnectiveStrategy [ D ] [ GraphStep ( vertex, []) , HasStep ([ ~label.eq ( character )])] MatchPredicateStrategy [ O ] [ GraphStep ( vertex, []) , HasStep ([ ~label.eq ( character )])] ... StandardVerificationStrategy [ V ] [ TinkerGraphStep ( vertex, [ ~label.eq ( character )])] Final Traversal [ TinkerGraphStep ( vertex, [ ~label.eq ( character )])] # profile() gremlin> g.V () .out ( 'father' ) .profile () == >Traversal Metrics Step Count Traversers Time ( ms ) % Dur ============================================================================================================= TinkerGraphStep ( vertex, []) 12 12 0 .644 45 .66 VertexStep ( OUT, [ father ] ,vertex ) 2 2 0 .534 37 .83 NoOpBarrierStep ( 2500 ) 2 2 0 .233 16 .51 >TOTAL - - 1 .411 -","title":"\u6267\u884c\u7edf\u8ba1\u548c\u5206\u6790"},{"location":"manual-CN/5.appendix/sql-ngql/","text":"SQL \u548c nGQL \u00b6 \u57fa\u672c\u6982\u5ff5\u5bf9\u6bd4 \u00b6 \u6982\u5ff5\u540d\u79f0 SQL nGQL vertex \\ vertex edge \\ edge vertex type \\ tag edge type \\ edge type vertex identifier \\ vid edge identifier edge id generated by default src, dst, rank column column \\ row row \\ \u8bed\u6cd5\u5bf9\u6bd4 \u00b6 \u6570\u636e\u5b9a\u4e49\u8bed\u8a00\uff08DDL\uff09 \u00b6 \u6570\u636e\u5b9a\u4e49\u8bed\u8a00\uff08DDL\uff09\u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5e93 schema\u3002 DDL \u8bed\u53e5\u53ef\u4ee5\u521b\u5efa\u6216\u4fee\u6539\u6570\u636e\u5e93\u7684\u7ed3\u6784\u3002 \u5bf9\u6bd4\u9879 SQL nGQL \u521b\u5efa\u56fe\u7a7a\u95f4\uff08\u6570\u636e\u5e93\uff09 CREATE DATABASE <database_name> CREATE SPACE <space_name> \u5217\u51fa\u56fe\u7a7a\u95f4\uff08\u6570\u636e\u5e93\uff09 SHOW DATABASES SHOW SPACES \u4f7f\u7528\u56fe\u7a7a\u95f4\uff08\u6570\u636e\u5e93\uff09 USE <database_name> USE <space_name> \u5220\u9664\u56fe\u7a7a\u95f4\uff08\u6570\u636e\u5e93\uff09 DROP DATABASE <database_name> DROP SPACE <space_name> \u4fee\u6539\u56fe\u7a7a\u95f4\uff08\u6570\u636e\u5e93\uff09 ALTER DATABASE <database_name> alter_option \\ \u521b\u5efa tags/edges \\ CREATE TAG | EDGE <tag_name> \u521b\u5efa\u8868 CREATE TABLE <tbl_name> (create_definition,...) \\ \u5217\u51fa\u8868\u5217\u540d SHOW COLUMNS FROM <tbl_name> \\ \u5217\u51fa tags/edges \\ SHOW TAGS | EDGES Describe tags/edge \\ DESCRIBE TAG | EDGE <tag_name | edge_name> \u4fee\u6539 tags/edge \\ ALTER TAG | EDGE <tag_name | edge_name> \u4fee\u6539\u8868 ALTER TABLE <tbl_name> \\ \u7d22\u5f15 \u00b6 \u5bf9\u6bd4\u9879 SQL nGQL \u521b\u5efa\u7d22\u5f15 CREATE INDEX CREATE {TAG | EDGE} INDEX \u5220\u9664\u7d22\u5f15 DROP INDEX DROP {TAG | EDGE} INDEX \u5217\u51fa\u7d22\u5f15 SHOW INDEX FROM SHOW {TAG | EDGE} INDEXES \u91cd\u6784\u7d22\u5f15 ANALYZE TABLE REBUILD {TAG | EDGE} INDEX <index_name> [OFFLINE] \u6570\u636e\u64cd\u4f5c\u8bed\u8a00\uff08DML\uff09 \u00b6 \u6570\u636e\u64cd\u4f5c\u8bed\u8a00\uff08DML\uff09\u7528\u4e8e\u64cd\u4f5c\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u3002 \u5bf9\u6bd4\u9879 SQL nGQL \u63d2\u5165\u6570\u636e INSERT IGNORE INTO <tbl_name> [(col_name [, col_name] ...)] {VALUES | VALUE} [(value_list) [, (value_list)] INSERT VERTEX <tag_name> (prop_name_list[, prop_name_list]) {VALUES | VALUE} vid: (prop_value_list[, prop_value_list]) INSERT EDGE <edge_name> ( <prop_name_list> ) VALUES | VALUE <src_vid> -> <dst_vid> [ @<rank> ] : ( <prop_value_list> ) \u67e5\u8be2\u6570\u636e SELECT GO, FETCH \u66f4\u65b0\u6570\u636e UPDATE <tbl_name> SET field1=new-value1, field2=new-value2 [WHERE Clause] UPDATE VERTEX <vid> SET <update_columns> [WHEN <condition> ] UPDATE EDGE <edge> SET <update_columns> [WHEN <condition> ] \u5220\u9664\u6570\u636e DELETE FROM <tbl_name> [WHERE Clause] DELETE EDGE <edge_type> <vid> -> <vid> [ @<rank> ] [, <vid> -> <vid> ...] DELETE VERTEX <vid_list> \u62fc\u63a5\u6570\u636e JOIN | \u6570\u636e\u67e5\u8be2\u8bed\u8a00\uff08DQL\uff09 \u00b6 \u6570\u636e\u67e5\u8be2\u8bed\u8a00\uff08DQL\uff09\u8bed\u53e5\u7528\u4e8e\u6267\u884c\u6570\u636e\u67e5\u8be2\u3002\u672c\u8282\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 SQL \u8bed\u53e5\u548c nGQL \u8bed\u53e5\u67e5\u8be2\u6570\u636e\u3002 SELECT [ DISTINCT ] select_expr [, select_expr ] ... [ FROM table_references ] [ WHERE where_condition ] [ GROUP BY { col_name | expr | position } ] [ HAVING where_condition ] [ ORDER BY { col_name | expr | position } [ ASC | DESC ]] GO [[ < M > TO ] < N > STEPS ] FROM < node_list > OVER < edge_type_list > [ REVERSELY ] [ BIDIRECT ] [ WHERE where_condition ] [ YIELD [ DISTINCT ] < return_list > ] [ | ORDER BY < expression > [ ASC | DESC ]] [ | LIMIT [ < offset_value > ,] < number_rows > ] [ | GROUP BY { col_name | expr | position } YIELD < col_name > ] < node_list > | < vid > [, < vid > ...] | $ - . id < edge_type_list > edge_type [, edge_type ...] < return_list > < col_name > [ AS < col_alias > ] [, < col_name > [ AS < col_alias > ] ...] \u6570\u636e\u63a7\u5236\u8bed\u8a00\uff08DCL\uff09 \u00b6 \u6570\u636e\u63a7\u5236\u8bed\u8a00\uff08DCL\uff09\u5305\u542b\u8bf8\u5982 GRANT \u548c REVOKE \u4e4b\u7c7b\u7684\u547d\u4ee4\uff0c\u8fd9\u4e9b\u547d\u4ee4\u4e3b\u8981\u7528\u6765\u5904\u7406\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u6743\u9650\uff0c\u5176\u4ed6\u63a7\u4ef6\u3002 \u5bf9\u6bd4\u9879 SQL nGQL \u521b\u5efa\u7528\u6237 CREATE USER CREATE USER \u5220\u9664\u7528\u6237 DROP USER DROP USER \u66f4\u6539\u5bc6\u7801 SET PASSWORD CHANGE PASSWORD \u6388\u4e88\u6743\u9650 GRANT <priv_type> ON [object_type] TO <user> GRANT ROLE <role_type> ON <space> TO <user> \u5220\u9664\u6743\u9650 REVOKE <priv_type> ON [object_type] TO <user> REVOKE ROLE <role_type> ON <space> FROM <user> \u6570\u636e\u6a21\u578b \u00b6 \u67e5\u8be2\u8bed\u53e5\u57fa\u4e8e\u4ee5\u4e0b\u6570\u636e\u6a21\u578b\uff1a MySQL \u00b6 Nebula Graph \u00b6 \u589e\u5220\u6539\u67e5\uff08CRUD\uff09 \u00b6 \u672c\u8282\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 SQL \u548c nGQL \u8bed\u53e5\u521b\u5efa\uff08C\uff09\u3001\u8bfb\u53d6\uff08R\uff09\u3001\u66f4\u65b0\uff08U\uff09\u548c\u5220\u9664\uff08D\uff09\u6570\u636e\u3002 \u63d2\u5165\u6570\u636e \u00b6 mysql > INSERT INTO player VALUES ( 100 , 'Tim Duncan' , 42 ); nebula > INSERT VERTEX player ( name , age ) VALUES 100 : ( 'Tim Duncan' , 42 ); \u67e5\u8be2\u6570\u636e \u00b6 Find the player whose id is 100 and output the name property: mysql > SELECT player . name FROM player WHERE player . id = 100 ; nebula > FETCH PROP ON player 100 YIELD player . name ; \u66f4\u65b0\u6570\u636e \u00b6 mysql > UPDATE player SET name = 'Tim' ; nebula > UPDATE VERTEX 100 SET player . name = \"Tim\" ; \u5220\u9664\u6570\u636e \u00b6 mysql > DELETE FROM player WHERE name = 'Tim' ; nebula > DELETE VERTEX 121 ; nebula > DELETE EDGE follow 100 -> 200 ; \u793a\u4f8b\u67e5\u8be2 \u00b6 \u793a\u4f8b 1 \u00b6 \u8fd4\u56de\u5e74\u9f84\u8d85\u8fc7 36 \u5c81\u7684\u7403\u5458\u3002 mysql > SELECT player . name FROM player WHERE player . age < 36 ; \u4f7f\u7528 nGQL \u67e5\u8be2\u6709\u4e9b\u4e0d\u540c\uff0c\u56e0\u4e3a\u60a8\u5fc5\u987b\u5728\u8fc7\u6ee4\u5c5e\u6027\u4e4b\u524d\u521b\u5efa\u7d22\u5f15\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 \u7d22\u5f15\u6587\u6863 \u3002 nebula> CREATE TAG INDEX player_age ON player(age); nebula> REBUILD TAG INDEX player_age OFFLINE; nebula> LOOKUP ON player WHERE player.age < 36; \u793a\u4f8b 2 \u00b6 \u67e5\u627e\u7403\u5458 Tim Duncan \u5e76\u8fd4\u56de\u4ed6\u6548\u529b\u7684\u6240\u6709\u7403\u961f\u3002 mysql > SELECT a . id , a . name , c . name FROM player a JOIN serve b ON a . id = b . player_id JOIN team c ON c . id = b . team_id WHERE a . name = 'Tim Duncan' ; nebula> CREATE TAG INDEX player_name ON player(name); nebula> REBUILD TAG INDEX player_name OFFLINE; nebula> LOOKUP ON player WHERE player.name == 'Tim Duncan' YIELD player.name AS name | GO FROM $-.VertexID OVER serve YIELD $-.name, $$.team.name; \u793a\u4f8b 3 \u00b6 \u67e5\u627e\u7403\u5458 Tim Duncan \u7684\u961f\u53cb\u3002 mysql > SELECT a . id , a . name , c . name FROM player a JOIN serve b ON a . id = b . player_id JOIN team c ON c . id = b . team_id WHERE c . name IN ( SELECT c . name FROM player a JOIN serve b ON a . id = b . player_id JOIN team c ON c . id = b . team_id WHERE a . name = 'Tim Duncan' ); \u5728 nGQL \u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u7ba1\u9053\u5c06\u4e0a\u4e00\u6761\u8bed\u53e5\u7684\u8f93\u51fa\u4f5c\u4e3a\u4e0b\u4e00\u6761\u8bed\u53e5\u7684\u8f93\u5165\u3002 nebula> GO FROM 100 OVER serve YIELD serve._dst AS Team | GO FROM $-.Team OVER serve REVERSELY YIELD $$.player.name;","title":"SQL & nGQL"},{"location":"manual-CN/5.appendix/sql-ngql/#sql_ngql","text":"","title":"SQL \u548c nGQL"},{"location":"manual-CN/5.appendix/sql-ngql/#_1","text":"\u6982\u5ff5\u540d\u79f0 SQL nGQL vertex \\ vertex edge \\ edge vertex type \\ tag edge type \\ edge type vertex identifier \\ vid edge identifier edge id generated by default src, dst, rank column column \\ row row \\","title":"\u57fa\u672c\u6982\u5ff5\u5bf9\u6bd4"},{"location":"manual-CN/5.appendix/sql-ngql/#_2","text":"","title":"\u8bed\u6cd5\u5bf9\u6bd4"},{"location":"manual-CN/5.appendix/sql-ngql/#ddl","text":"\u6570\u636e\u5b9a\u4e49\u8bed\u8a00\uff08DDL\uff09\u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5e93 schema\u3002 DDL \u8bed\u53e5\u53ef\u4ee5\u521b\u5efa\u6216\u4fee\u6539\u6570\u636e\u5e93\u7684\u7ed3\u6784\u3002 \u5bf9\u6bd4\u9879 SQL nGQL \u521b\u5efa\u56fe\u7a7a\u95f4\uff08\u6570\u636e\u5e93\uff09 CREATE DATABASE <database_name> CREATE SPACE <space_name> \u5217\u51fa\u56fe\u7a7a\u95f4\uff08\u6570\u636e\u5e93\uff09 SHOW DATABASES SHOW SPACES \u4f7f\u7528\u56fe\u7a7a\u95f4\uff08\u6570\u636e\u5e93\uff09 USE <database_name> USE <space_name> \u5220\u9664\u56fe\u7a7a\u95f4\uff08\u6570\u636e\u5e93\uff09 DROP DATABASE <database_name> DROP SPACE <space_name> \u4fee\u6539\u56fe\u7a7a\u95f4\uff08\u6570\u636e\u5e93\uff09 ALTER DATABASE <database_name> alter_option \\ \u521b\u5efa tags/edges \\ CREATE TAG | EDGE <tag_name> \u521b\u5efa\u8868 CREATE TABLE <tbl_name> (create_definition,...) \\ \u5217\u51fa\u8868\u5217\u540d SHOW COLUMNS FROM <tbl_name> \\ \u5217\u51fa tags/edges \\ SHOW TAGS | EDGES Describe tags/edge \\ DESCRIBE TAG | EDGE <tag_name | edge_name> \u4fee\u6539 tags/edge \\ ALTER TAG | EDGE <tag_name | edge_name> \u4fee\u6539\u8868 ALTER TABLE <tbl_name> \\","title":"\u6570\u636e\u5b9a\u4e49\u8bed\u8a00\uff08DDL\uff09"},{"location":"manual-CN/5.appendix/sql-ngql/#_3","text":"\u5bf9\u6bd4\u9879 SQL nGQL \u521b\u5efa\u7d22\u5f15 CREATE INDEX CREATE {TAG | EDGE} INDEX \u5220\u9664\u7d22\u5f15 DROP INDEX DROP {TAG | EDGE} INDEX \u5217\u51fa\u7d22\u5f15 SHOW INDEX FROM SHOW {TAG | EDGE} INDEXES \u91cd\u6784\u7d22\u5f15 ANALYZE TABLE REBUILD {TAG | EDGE} INDEX <index_name> [OFFLINE]","title":"\u7d22\u5f15"},{"location":"manual-CN/5.appendix/sql-ngql/#dml","text":"\u6570\u636e\u64cd\u4f5c\u8bed\u8a00\uff08DML\uff09\u7528\u4e8e\u64cd\u4f5c\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u3002 \u5bf9\u6bd4\u9879 SQL nGQL \u63d2\u5165\u6570\u636e INSERT IGNORE INTO <tbl_name> [(col_name [, col_name] ...)] {VALUES | VALUE} [(value_list) [, (value_list)] INSERT VERTEX <tag_name> (prop_name_list[, prop_name_list]) {VALUES | VALUE} vid: (prop_value_list[, prop_value_list]) INSERT EDGE <edge_name> ( <prop_name_list> ) VALUES | VALUE <src_vid> -> <dst_vid> [ @<rank> ] : ( <prop_value_list> ) \u67e5\u8be2\u6570\u636e SELECT GO, FETCH \u66f4\u65b0\u6570\u636e UPDATE <tbl_name> SET field1=new-value1, field2=new-value2 [WHERE Clause] UPDATE VERTEX <vid> SET <update_columns> [WHEN <condition> ] UPDATE EDGE <edge> SET <update_columns> [WHEN <condition> ] \u5220\u9664\u6570\u636e DELETE FROM <tbl_name> [WHERE Clause] DELETE EDGE <edge_type> <vid> -> <vid> [ @<rank> ] [, <vid> -> <vid> ...] DELETE VERTEX <vid_list> \u62fc\u63a5\u6570\u636e JOIN |","title":"\u6570\u636e\u64cd\u4f5c\u8bed\u8a00\uff08DML\uff09"},{"location":"manual-CN/5.appendix/sql-ngql/#dql","text":"\u6570\u636e\u67e5\u8be2\u8bed\u8a00\uff08DQL\uff09\u8bed\u53e5\u7528\u4e8e\u6267\u884c\u6570\u636e\u67e5\u8be2\u3002\u672c\u8282\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 SQL \u8bed\u53e5\u548c nGQL \u8bed\u53e5\u67e5\u8be2\u6570\u636e\u3002 SELECT [ DISTINCT ] select_expr [, select_expr ] ... [ FROM table_references ] [ WHERE where_condition ] [ GROUP BY { col_name | expr | position } ] [ HAVING where_condition ] [ ORDER BY { col_name | expr | position } [ ASC | DESC ]] GO [[ < M > TO ] < N > STEPS ] FROM < node_list > OVER < edge_type_list > [ REVERSELY ] [ BIDIRECT ] [ WHERE where_condition ] [ YIELD [ DISTINCT ] < return_list > ] [ | ORDER BY < expression > [ ASC | DESC ]] [ | LIMIT [ < offset_value > ,] < number_rows > ] [ | GROUP BY { col_name | expr | position } YIELD < col_name > ] < node_list > | < vid > [, < vid > ...] | $ - . id < edge_type_list > edge_type [, edge_type ...] < return_list > < col_name > [ AS < col_alias > ] [, < col_name > [ AS < col_alias > ] ...]","title":"\u6570\u636e\u67e5\u8be2\u8bed\u8a00\uff08DQL\uff09"},{"location":"manual-CN/5.appendix/sql-ngql/#dcl","text":"\u6570\u636e\u63a7\u5236\u8bed\u8a00\uff08DCL\uff09\u5305\u542b\u8bf8\u5982 GRANT \u548c REVOKE \u4e4b\u7c7b\u7684\u547d\u4ee4\uff0c\u8fd9\u4e9b\u547d\u4ee4\u4e3b\u8981\u7528\u6765\u5904\u7406\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u6743\u9650\uff0c\u5176\u4ed6\u63a7\u4ef6\u3002 \u5bf9\u6bd4\u9879 SQL nGQL \u521b\u5efa\u7528\u6237 CREATE USER CREATE USER \u5220\u9664\u7528\u6237 DROP USER DROP USER \u66f4\u6539\u5bc6\u7801 SET PASSWORD CHANGE PASSWORD \u6388\u4e88\u6743\u9650 GRANT <priv_type> ON [object_type] TO <user> GRANT ROLE <role_type> ON <space> TO <user> \u5220\u9664\u6743\u9650 REVOKE <priv_type> ON [object_type] TO <user> REVOKE ROLE <role_type> ON <space> FROM <user>","title":"\u6570\u636e\u63a7\u5236\u8bed\u8a00\uff08DCL\uff09"},{"location":"manual-CN/5.appendix/sql-ngql/#_4","text":"\u67e5\u8be2\u8bed\u53e5\u57fa\u4e8e\u4ee5\u4e0b\u6570\u636e\u6a21\u578b\uff1a","title":"\u6570\u636e\u6a21\u578b"},{"location":"manual-CN/5.appendix/sql-ngql/#mysql","text":"","title":"MySQL"},{"location":"manual-CN/5.appendix/sql-ngql/#nebula_graph","text":"","title":"Nebula Graph"},{"location":"manual-CN/5.appendix/sql-ngql/#crud","text":"\u672c\u8282\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 SQL \u548c nGQL \u8bed\u53e5\u521b\u5efa\uff08C\uff09\u3001\u8bfb\u53d6\uff08R\uff09\u3001\u66f4\u65b0\uff08U\uff09\u548c\u5220\u9664\uff08D\uff09\u6570\u636e\u3002","title":"\u589e\u5220\u6539\u67e5\uff08CRUD\uff09"},{"location":"manual-CN/5.appendix/sql-ngql/#_5","text":"mysql > INSERT INTO player VALUES ( 100 , 'Tim Duncan' , 42 ); nebula > INSERT VERTEX player ( name , age ) VALUES 100 : ( 'Tim Duncan' , 42 );","title":"\u63d2\u5165\u6570\u636e"},{"location":"manual-CN/5.appendix/sql-ngql/#_6","text":"Find the player whose id is 100 and output the name property: mysql > SELECT player . name FROM player WHERE player . id = 100 ; nebula > FETCH PROP ON player 100 YIELD player . name ;","title":"\u67e5\u8be2\u6570\u636e"},{"location":"manual-CN/5.appendix/sql-ngql/#_7","text":"mysql > UPDATE player SET name = 'Tim' ; nebula > UPDATE VERTEX 100 SET player . name = \"Tim\" ;","title":"\u66f4\u65b0\u6570\u636e"},{"location":"manual-CN/5.appendix/sql-ngql/#_8","text":"mysql > DELETE FROM player WHERE name = 'Tim' ; nebula > DELETE VERTEX 121 ; nebula > DELETE EDGE follow 100 -> 200 ;","title":"\u5220\u9664\u6570\u636e"},{"location":"manual-CN/5.appendix/sql-ngql/#_9","text":"","title":"\u793a\u4f8b\u67e5\u8be2"},{"location":"manual-CN/5.appendix/sql-ngql/#1","text":"\u8fd4\u56de\u5e74\u9f84\u8d85\u8fc7 36 \u5c81\u7684\u7403\u5458\u3002 mysql > SELECT player . name FROM player WHERE player . age < 36 ; \u4f7f\u7528 nGQL \u67e5\u8be2\u6709\u4e9b\u4e0d\u540c\uff0c\u56e0\u4e3a\u60a8\u5fc5\u987b\u5728\u8fc7\u6ee4\u5c5e\u6027\u4e4b\u524d\u521b\u5efa\u7d22\u5f15\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 \u7d22\u5f15\u6587\u6863 \u3002 nebula> CREATE TAG INDEX player_age ON player(age); nebula> REBUILD TAG INDEX player_age OFFLINE; nebula> LOOKUP ON player WHERE player.age < 36;","title":"\u793a\u4f8b 1"},{"location":"manual-CN/5.appendix/sql-ngql/#2","text":"\u67e5\u627e\u7403\u5458 Tim Duncan \u5e76\u8fd4\u56de\u4ed6\u6548\u529b\u7684\u6240\u6709\u7403\u961f\u3002 mysql > SELECT a . id , a . name , c . name FROM player a JOIN serve b ON a . id = b . player_id JOIN team c ON c . id = b . team_id WHERE a . name = 'Tim Duncan' ; nebula> CREATE TAG INDEX player_name ON player(name); nebula> REBUILD TAG INDEX player_name OFFLINE; nebula> LOOKUP ON player WHERE player.name == 'Tim Duncan' YIELD player.name AS name | GO FROM $-.VertexID OVER serve YIELD $-.name, $$.team.name;","title":"\u793a\u4f8b 2"},{"location":"manual-CN/5.appendix/sql-ngql/#3","text":"\u67e5\u627e\u7403\u5458 Tim Duncan \u7684\u961f\u53cb\u3002 mysql > SELECT a . id , a . name , c . name FROM player a JOIN serve b ON a . id = b . player_id JOIN team c ON c . id = b . team_id WHERE c . name IN ( SELECT c . name FROM player a JOIN serve b ON a . id = b . player_id JOIN team c ON c . id = b . team_id WHERE a . name = 'Tim Duncan' ); \u5728 nGQL \u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u7ba1\u9053\u5c06\u4e0a\u4e00\u6761\u8bed\u53e5\u7684\u8f93\u51fa\u4f5c\u4e3a\u4e0b\u4e00\u6761\u8bed\u53e5\u7684\u8f93\u5165\u3002 nebula> GO FROM 100 OVER serve YIELD serve._dst AS Team | GO FROM $-.Team OVER serve REVERSELY YIELD $$.player.name;","title":"\u793a\u4f8b 3"},{"location":"manual-CN/5.appendix/vid-partition/","text":"\u70b9\u6807\u8bc6\u7b26\u548c\u5206\u533a \u00b6 \u672c\u6587\u6863\u63d0\u4f9b\u6709\u5173\u70b9\u6807\u8bc6\u7b26\uff08\u7b80\u79f0 VID \uff09\u548c\u5206\u533a\u7684\u4e00\u4e9b\u4ecb\u7ecd\u3002 \u5728 Nebula Graph \u4e2d\uff0c\u70b9\u662f\u7528\u70b9\u6807\u8bc6\u7b26\uff08\u5373 VID \uff09\u6807\u8bc6\u7684\u3002\u63d2\u5165\u70b9\u65f6\uff0c\u5fc5\u987b\u6307\u5b9a VID \uff08int64\uff09\u3002 VID \u53ef\u4ee5\u7531\u5e94\u7528\u7a0b\u5e8f\u751f\u6210\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 Nebula Graph \u63d0\u4f9b\u7684\u54c8\u5e0c\u51fd\u6570\u751f\u6210\u3002 VID \u5728\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u5fc5\u987b\u552f\u4e00\u3002\u5373\u5728\u540c\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\uff0c\u62e5\u6709\u76f8\u540c VID \u7684\u70b9\u88ab\u5f53\u505a\u540c\u4e00\u4e2a\u70b9\u3002\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e2d\u7684 VID \u5f7c\u6b64\u72ec\u7acb\u3002\u6b64\u5916\uff0c\u4e00\u4e2a VID \u53ef\u4ee5\u62e5\u6709\u591a\u79cd TAG \u3002 \u5411 Nebula Graph \u96c6\u7fa4\u4e2d\u63d2\u5165\u6570\u636e\u65f6\uff0c\u70b9\u548c\u8fb9\u4f1a\u5206\u5e03\u5230\u4e0d\u540c\u7684\u5206\u533a\u4e2d\uff0c\u800c\u8fd9\u4e9b\u5206\u533a\u53c8\u5206\u5e03\u5728\u591a\u53f0\u673a\u5668\u4e0a\u3002\u5e94\u7528\u7a0b\u5e8f\u5982\u679c\u5e0c\u671b\u5c06\u67d0\u4e9b\u70b9\u843d\u5728\u540c\u4e00\u4e2a\u5206\u533a\u4e2d\uff08\u4e5f\u5373\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff09\uff0c\u53ef\u6839\u636e\u4ee5\u4e0b\u516c\u5f0f\u81ea\u884c\u63a7\u5236 VID \u7684\u751f\u6210\u3002 VID \u548c\u5206\u533a\u7684\u5bf9\u5e94\u5173\u7cfb\u4e3a\uff1a VID mod partition_number = partition ID + 1 \u5176\u4e2d\uff0c mod \u662f\u53d6\u6a21\u64cd\u4f5c\u3002 partition_number \u662f VID \u6240\u5904\u56fe\u7a7a\u95f4\u7684\u7684\u5206\u533a\u6570\u91cf\uff0c\u5373 CREATE SPACE \u8bed\u53e5\u4e2d partition_num \u7684\u503c\u3002 partition ID \u5373\u8be5 VID \u6240\u5728\u5206\u533a\u7684 ID\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u6709 100 \u4e2a\u5206\u533a\uff0c\u90a3 VID \u4e3a 1\u300111\u3001101\u30011001 \u7684\u70b9\u5c06\u5b58\u50a8\u5728\u540c\u4e00\u4e2a\u5206\u533a\u4e0a\u3002 \u6b64\u5916\uff0c partition ID \u548c\u673a\u5668\u4e4b\u95f4\u7684\u5bf9\u5e94\u5173\u7cfb\u662f\u968f\u673a\u7684\u3002\u56e0\u6b64\u4e0d\u53ef\u4ee5\u5047\u8bbe\u4efb\u4f55\u4e24\u4e2a\u5206\u533a\u5206\u5e03\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u3002","title":"\u70b9\u6807\u8bc6\u7b26\u548c\u5206\u533a"},{"location":"manual-CN/5.appendix/vid-partition/#_1","text":"\u672c\u6587\u6863\u63d0\u4f9b\u6709\u5173\u70b9\u6807\u8bc6\u7b26\uff08\u7b80\u79f0 VID \uff09\u548c\u5206\u533a\u7684\u4e00\u4e9b\u4ecb\u7ecd\u3002 \u5728 Nebula Graph \u4e2d\uff0c\u70b9\u662f\u7528\u70b9\u6807\u8bc6\u7b26\uff08\u5373 VID \uff09\u6807\u8bc6\u7684\u3002\u63d2\u5165\u70b9\u65f6\uff0c\u5fc5\u987b\u6307\u5b9a VID \uff08int64\uff09\u3002 VID \u53ef\u4ee5\u7531\u5e94\u7528\u7a0b\u5e8f\u751f\u6210\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 Nebula Graph \u63d0\u4f9b\u7684\u54c8\u5e0c\u51fd\u6570\u751f\u6210\u3002 VID \u5728\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u5fc5\u987b\u552f\u4e00\u3002\u5373\u5728\u540c\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\uff0c\u62e5\u6709\u76f8\u540c VID \u7684\u70b9\u88ab\u5f53\u505a\u540c\u4e00\u4e2a\u70b9\u3002\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e2d\u7684 VID \u5f7c\u6b64\u72ec\u7acb\u3002\u6b64\u5916\uff0c\u4e00\u4e2a VID \u53ef\u4ee5\u62e5\u6709\u591a\u79cd TAG \u3002 \u5411 Nebula Graph \u96c6\u7fa4\u4e2d\u63d2\u5165\u6570\u636e\u65f6\uff0c\u70b9\u548c\u8fb9\u4f1a\u5206\u5e03\u5230\u4e0d\u540c\u7684\u5206\u533a\u4e2d\uff0c\u800c\u8fd9\u4e9b\u5206\u533a\u53c8\u5206\u5e03\u5728\u591a\u53f0\u673a\u5668\u4e0a\u3002\u5e94\u7528\u7a0b\u5e8f\u5982\u679c\u5e0c\u671b\u5c06\u67d0\u4e9b\u70b9\u843d\u5728\u540c\u4e00\u4e2a\u5206\u533a\u4e2d\uff08\u4e5f\u5373\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff09\uff0c\u53ef\u6839\u636e\u4ee5\u4e0b\u516c\u5f0f\u81ea\u884c\u63a7\u5236 VID \u7684\u751f\u6210\u3002 VID \u548c\u5206\u533a\u7684\u5bf9\u5e94\u5173\u7cfb\u4e3a\uff1a VID mod partition_number = partition ID + 1 \u5176\u4e2d\uff0c mod \u662f\u53d6\u6a21\u64cd\u4f5c\u3002 partition_number \u662f VID \u6240\u5904\u56fe\u7a7a\u95f4\u7684\u7684\u5206\u533a\u6570\u91cf\uff0c\u5373 CREATE SPACE \u8bed\u53e5\u4e2d partition_num \u7684\u503c\u3002 partition ID \u5373\u8be5 VID \u6240\u5728\u5206\u533a\u7684 ID\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u6709 100 \u4e2a\u5206\u533a\uff0c\u90a3 VID \u4e3a 1\u300111\u3001101\u30011001 \u7684\u70b9\u5c06\u5b58\u50a8\u5728\u540c\u4e00\u4e2a\u5206\u533a\u4e0a\u3002 \u6b64\u5916\uff0c partition ID \u548c\u673a\u5668\u4e4b\u95f4\u7684\u5bf9\u5e94\u5173\u7cfb\u662f\u968f\u673a\u7684\u3002\u56e0\u6b64\u4e0d\u53ef\u4ee5\u5047\u8bbe\u4efb\u4f55\u4e24\u4e2a\u5206\u533a\u5206\u5e03\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u3002","title":"\u70b9\u6807\u8bc6\u7b26\u548c\u5206\u533a"},{"location":"nebula-algorithm/na-ug-compile/","text":"\u7f16\u8bd1 nebula-algorithm \u00b6 \u524d\u63d0\u6761\u4ef6 \u00b6 \u7f16\u8bd1 nebula-algorithm \u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u7f16\u8bd1 Nebula Spark Connector \u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u5207\u6362\u5230 nebula-java/tools/nebula-algorithm \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1\u6253\u5305 nebula-algorithm\u3002 $ cd nebula-java/tools/nebula-algorithm $ mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002 . \u251c\u2500\u2500 README.md \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 main \u2502 \u2514\u2500\u2500 test \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 classes.682519136.timestamp \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 nebula-algorithm-1.x.y-tests.jar \u251c\u2500\u2500 nebula-algorithm-1.x.y.jar \u251c\u2500\u2500 original-nebula-algorithm-1.x.y.jar \u251c\u2500\u2500 test-classes \u2514\u2500\u2500 test-classes.682519136.timestamp \u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 nebula-algorithm-1.x.y.jar \u6587\u4ef6\u3002 \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u5728\u4f7f\u7528 nebula-algorithm \u65f6\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 target/classes/application.conf \u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002\u8be6\u7ec6\u4fe1\u606f\u8bf7\u53c2\u8003 \u4f7f\u7528\u793a\u4f8b \u3002","title":"\u7f16\u8bd1 nebula-algorithm"},{"location":"nebula-algorithm/na-ug-compile/#nebula-algorithm","text":"","title":"\u7f16\u8bd1 nebula-algorithm"},{"location":"nebula-algorithm/na-ug-compile/#_1","text":"\u7f16\u8bd1 nebula-algorithm \u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u7f16\u8bd1 Nebula Spark Connector \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-algorithm/na-ug-compile/#_2","text":"\u5207\u6362\u5230 nebula-java/tools/nebula-algorithm \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1\u6253\u5305 nebula-algorithm\u3002 $ cd nebula-java/tools/nebula-algorithm $ mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002 . \u251c\u2500\u2500 README.md \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 main \u2502 \u2514\u2500\u2500 test \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 classes.682519136.timestamp \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 nebula-algorithm-1.x.y-tests.jar \u251c\u2500\u2500 nebula-algorithm-1.x.y.jar \u251c\u2500\u2500 original-nebula-algorithm-1.x.y.jar \u251c\u2500\u2500 test-classes \u2514\u2500\u2500 test-classes.682519136.timestamp \u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 nebula-algorithm-1.x.y.jar \u6587\u4ef6\u3002 \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-algorithm/na-ug-compile/#_3","text":"\u5728\u4f7f\u7528 nebula-algorithm \u65f6\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 target/classes/application.conf \u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002\u8be6\u7ec6\u4fe1\u606f\u8bf7\u53c2\u8003 \u4f7f\u7528\u793a\u4f8b \u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-algorithm/na-ug-example/","text":"\u4f7f\u7528\u793a\u4f8b \u00b6 \u4e00\u822c\uff0c\u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 nebula-algorithm\uff1a \u53c2\u8003\u914d\u7f6e\u6587\u4ef6\u4fee\u6539 nebula-algorithm \u7684\u914d\u7f6e\u3002 \u8fd0\u884c nebula-algorithm\u3002 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 nebula-algorithm\u3002 \u793a\u4f8b\u73af\u5883 \u00b6 \u4e09\u53f0\u865a\u62df\u673a\uff0c\u914d\u7f6e\u5982\u4e0b\uff1a CPU\uff1aIntel(R) Xeon(R) Platinum 8260M CPU @ 2.30GHz Processors\uff1a32 CPU Cores\uff1a16 \u5185\u5b58\uff1a128 GB \u8f6f\u4ef6\u73af\u5883\uff1a Spark\uff1aspark-2.4.6-bin-hadoop2.7 \u4e09\u4e2a\u8282\u70b9\u96c6\u7fa4 yarn V2.10.0\uff1a\u4e09\u4e2a\u8282\u70b9\u96c6\u7fa4 Nebula Graph V1.2.1\uff1a\u5206\u5e03\u5f0f\u90e8\u7f72\uff0c\u9ed8\u8ba4\u914d\u7f6e \u793a\u4f8b\u6570\u636e \u00b6 \u5728\u672c\u793a\u4f8b\u4e2d\uff0cNebula Graph \u56fe\u7a7a\u95f4\u540d\u79f0\u4e3a algoTest\uff0cSchema \u8981\u7d20\u5982\u4e0b\u8868\u6240\u793a\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027 \u6807\u7b7e PERSON \u65e0 \u8fb9\u7c7b\u578b FRIEND likeness ( double ) \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728\u64cd\u4f5c\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b8c\u6210 nebula-algorithm \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7f16\u8bd1 nebula-algorithm \u3002 Nebula Graph \u6570\u636e\u5e93\u4e2d\u5df2\u7ecf\u6709\u56fe\u6570\u636e\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u5f0f\u5c06\u5176\u4ed6\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u4e2d\uff0c\u4f8b\u5982 Spark Writer \u3002 \u5f53\u524d\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5 Spark \u5e76\u5df2\u542f\u52a8 Spark \u670d\u52a1\u3002 \u7b2c 1 \u6b65. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 \u00b6 \u6839\u636e\u9879\u76ee\u4e2d\u7684 src/main/resources/application.conf \u6587\u4ef6\u4fee\u6539 nebula-algorithm \u914d\u7f6e\u3002 { # Spark \u76f8\u5173\u8bbe\u7f6e spark: { app: { # Spark \u5e94\u7528\u7a0b\u5e8f\u7684\u540d\u79f0\uff0c\u53ef\u9009\u9879\u3002\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u60a8\u5373\u5c06\u8fd0\u884c\u7684\u7b97\u6cd5\u540d\u79f0\uff0c\u4f8b\u5982 PageRank name: PageRank # Spark \u4e2d\u5206\u533a\u6570\u91cf\uff0c\u53ef\u9009\u9879\u3002 partitionNum: 12 } master: local # \u53ef\u9009\u9879\uff0c\u5982\u679c\u8fd9\u91cc\u672a\u8bbe\u7f6e\uff0c\u5219\u5728\u6267\u884c spark-submit spark \u4efb\u52a1\u65f6\u8bbe\u7f6e conf: { driver-memory: 20g executor-memory: 100g executor-cores: 3 cores-max:6 } } # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { # \u5fc5\u9700\u3002Meta \u670d\u52a1\u7684\u4fe1\u606f addresses: \"127.0.0.1:45500\" # \u5982\u679c\u6709\u591a\u4e2a Meta \u670d\u52a1\u590d\u672c\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00 user: root pswd: nebula space: algoTest # \u5fc5\u9700\u3002\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u8bbe\u7f6e\u7684\u5206\u533a\u6570\u91cf\u3002\u5982\u679c\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u672a\u8bbe\u7f6e\u5206\u533a\u6570\uff0c\u5219\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c 100 partitionNumber: 100 # \u5fc5\u9700\u3002Nebula Graph \u7684\u8fb9\u7c7b\u578b\uff0c\u5982\u679c\u6709\u591a\u79cd\u8fb9\u7c7b\u578b\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00 labels: [\"FRIENDS\"] hasWeight: true # \u5982\u679c hasWeight \u914d\u7f6e\u4e3a true\uff0c\u5219\u5fc5\u987b\u914d\u7f6e weightCols\u3002\u6839\u636e labels \u5217\u51fa\u7684\u8fb9\u7c7b\u578b\uff0c\u6309\u987a\u5e8f\u5728 weightCols \u91cc\u8bbe\u7f6e\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u4e00\u79cd\u8fb9\u7c7b\u578b\u4ec5\u5bf9\u5e94\u4e00\u4e2a\u5c5e\u6027 # \u8bf4\u660e\uff1anebula-algorithm \u4ec5\u652f\u6301\u540c\u6784\u56fe\uff0c\u6240\u4ee5\uff0cweightCols \u4e2d\u5217\u51fa\u7684\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u4fdd\u6301\u4e00\u81f4\u800c\u4e14\u5747\u4e3a\u6570\u5b57\u7c7b\u578b weightCols: [\"likeness\"] # \u5982\u679c labels \u91cc\u6709\u591a\u79cd\u8fb9\u7c7b\u578b\uff0c\u5219\u76f8\u5e94\u8bbe\u7f6e\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u5c5e\u6027\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00 } algorithm: { # \u6307\u5b9a\u5373\u5c06\u6267\u884c\u7684\u7b97\u6cd5\uff0c\u53ef\u4ee5\u914d\u7f6e\u4e3a pagerank \u6216 louvain executeAlgo: louvain # \u6307\u5b9a\u7b97\u6cd5\u7ed3\u679c\u7684\u5b58\u50a8\u8def\u5f84 path: /tmp # \u5982\u679c\u9009\u62e9\u7684\u662f PageRank\uff0c\u5219\u914d\u7f6e pagerank \u76f8\u5173\u53c2\u6570 #pagerank: { # maxIter: 20 # resetProb: 0.15 # \u9ed8\u8ba4\u503c\u4e3a 0.15 #} # \u5982\u679c\u9009\u62e9\u7684\u662f louvain\uff0c\u5219\u914d\u7f6e louvain \u76f8\u5173\u53c2\u6570 #louvain: { # maxIter: 20 # internalIter: 10 # tol: 0.5 #} } } \u7b2c 2 \u6b65. \u6267\u884c nebula-algorithm \u00b6 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u63d0\u4ea4 nebula-algorithm \u5e94\u7528\u7a0b\u5e8f\u3002 spark-submit --master \"local\" --class com.vesoft.nebula.tools.algorithm.Main /your-jar-path/nebula-algorithm-1.x.y.jar -p /your-application.conf-path/application.conf \u5176\u4e2d\uff0c --master \uff1a\u6307\u5b9a Spark \u96c6\u7fa4\u4e2dMaster \u8fdb\u7a0b\u7684 URL\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 master-urls \u3002 --class \uff1a\u6307\u5b9a Driver \u4e3b\u7c7b\u3002 \u6307\u5b9a nebula-algorithm JAR \u6587\u4ef6\u7684\u8def\u5f84\uff0cJAR \u6587\u4ef6\u7248\u672c\u53f7\u4ee5\u60a8\u5b9e\u9645\u7f16\u8bd1\u5f97\u5230\u7684 JAR \u6587\u4ef6\u540d\u79f0\u4e3a\u51c6\u3002 -p \uff1aSpark \u914d\u7f6e\u6587\u4ef6\u6587\u4ef6\u8def\u5f84\u3002 \u5176\u4ed6\uff1a\u5982\u679c\u60a8\u672a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e Spark \u7684\u4efb\u52a1\u8d44\u6e90\u5206\u914d\uff08 conf \uff09\u4fe1\u606f\uff0c\u60a8\u53ef\u4ee5\u5728\u8fd9\u4e2a\u547d\u4ee4\u4e2d\u6307\u5b9a\u3002\u4f8b\u5982\uff0c\u672c\u793a\u4f8b\u4e2d\uff0c --driver-memory=20G --executor-memory=100G --executor-cores=3 \u3002 \u6d4b\u8bd5\u7ed3\u679c \u00b6 \u6309\u672c\u793a\u4f8b\u8bbe\u7f6e\u7684 Spark \u4efb\u52a1\u8d44\u6e90\u5206\u914d\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u62e5\u6709\u4e00\u4ebf\u4e2a\u6570\u636e\u7684\u6570\u636e\u96c6\uff1a PageRank \u7684\u6267\u884c\u65f6\u95f4\uff08PageRank \u7b97\u6cd5\u6267\u884c\u65f6\u95f4\uff09\u4e3a 21 \u5206\u949f Louvain \u7684\u6267\u884c\u65f6\u95f4\uff08Reader + Louvain \u7b97\u6cd5\u6267\u884c\u65f6\u95f4\uff09\u4e3a 1.3 \u5c0f\u65f6","title":"\u4f7f\u7528\u793a\u4f8b"},{"location":"nebula-algorithm/na-ug-example/#_1","text":"\u4e00\u822c\uff0c\u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 nebula-algorithm\uff1a \u53c2\u8003\u914d\u7f6e\u6587\u4ef6\u4fee\u6539 nebula-algorithm \u7684\u914d\u7f6e\u3002 \u8fd0\u884c nebula-algorithm\u3002 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 nebula-algorithm\u3002","title":"\u4f7f\u7528\u793a\u4f8b"},{"location":"nebula-algorithm/na-ug-example/#_2","text":"\u4e09\u53f0\u865a\u62df\u673a\uff0c\u914d\u7f6e\u5982\u4e0b\uff1a CPU\uff1aIntel(R) Xeon(R) Platinum 8260M CPU @ 2.30GHz Processors\uff1a32 CPU Cores\uff1a16 \u5185\u5b58\uff1a128 GB \u8f6f\u4ef6\u73af\u5883\uff1a Spark\uff1aspark-2.4.6-bin-hadoop2.7 \u4e09\u4e2a\u8282\u70b9\u96c6\u7fa4 yarn V2.10.0\uff1a\u4e09\u4e2a\u8282\u70b9\u96c6\u7fa4 Nebula Graph V1.2.1\uff1a\u5206\u5e03\u5f0f\u90e8\u7f72\uff0c\u9ed8\u8ba4\u914d\u7f6e","title":"\u793a\u4f8b\u73af\u5883"},{"location":"nebula-algorithm/na-ug-example/#_3","text":"\u5728\u672c\u793a\u4f8b\u4e2d\uff0cNebula Graph \u56fe\u7a7a\u95f4\u540d\u79f0\u4e3a algoTest\uff0cSchema \u8981\u7d20\u5982\u4e0b\u8868\u6240\u793a\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027 \u6807\u7b7e PERSON \u65e0 \u8fb9\u7c7b\u578b FRIEND likeness ( double )","title":"\u793a\u4f8b\u6570\u636e"},{"location":"nebula-algorithm/na-ug-example/#_4","text":"\u5728\u64cd\u4f5c\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b8c\u6210 nebula-algorithm \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7f16\u8bd1 nebula-algorithm \u3002 Nebula Graph \u6570\u636e\u5e93\u4e2d\u5df2\u7ecf\u6709\u56fe\u6570\u636e\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u5f0f\u5c06\u5176\u4ed6\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u4e2d\uff0c\u4f8b\u5982 Spark Writer \u3002 \u5f53\u524d\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5 Spark \u5e76\u5df2\u542f\u52a8 Spark \u670d\u52a1\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-algorithm/na-ug-example/#1","text":"\u6839\u636e\u9879\u76ee\u4e2d\u7684 src/main/resources/application.conf \u6587\u4ef6\u4fee\u6539 nebula-algorithm \u914d\u7f6e\u3002 { # Spark \u76f8\u5173\u8bbe\u7f6e spark: { app: { # Spark \u5e94\u7528\u7a0b\u5e8f\u7684\u540d\u79f0\uff0c\u53ef\u9009\u9879\u3002\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u60a8\u5373\u5c06\u8fd0\u884c\u7684\u7b97\u6cd5\u540d\u79f0\uff0c\u4f8b\u5982 PageRank name: PageRank # Spark \u4e2d\u5206\u533a\u6570\u91cf\uff0c\u53ef\u9009\u9879\u3002 partitionNum: 12 } master: local # \u53ef\u9009\u9879\uff0c\u5982\u679c\u8fd9\u91cc\u672a\u8bbe\u7f6e\uff0c\u5219\u5728\u6267\u884c spark-submit spark \u4efb\u52a1\u65f6\u8bbe\u7f6e conf: { driver-memory: 20g executor-memory: 100g executor-cores: 3 cores-max:6 } } # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { # \u5fc5\u9700\u3002Meta \u670d\u52a1\u7684\u4fe1\u606f addresses: \"127.0.0.1:45500\" # \u5982\u679c\u6709\u591a\u4e2a Meta \u670d\u52a1\u590d\u672c\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00 user: root pswd: nebula space: algoTest # \u5fc5\u9700\u3002\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u8bbe\u7f6e\u7684\u5206\u533a\u6570\u91cf\u3002\u5982\u679c\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u672a\u8bbe\u7f6e\u5206\u533a\u6570\uff0c\u5219\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c 100 partitionNumber: 100 # \u5fc5\u9700\u3002Nebula Graph \u7684\u8fb9\u7c7b\u578b\uff0c\u5982\u679c\u6709\u591a\u79cd\u8fb9\u7c7b\u578b\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00 labels: [\"FRIENDS\"] hasWeight: true # \u5982\u679c hasWeight \u914d\u7f6e\u4e3a true\uff0c\u5219\u5fc5\u987b\u914d\u7f6e weightCols\u3002\u6839\u636e labels \u5217\u51fa\u7684\u8fb9\u7c7b\u578b\uff0c\u6309\u987a\u5e8f\u5728 weightCols \u91cc\u8bbe\u7f6e\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u4e00\u79cd\u8fb9\u7c7b\u578b\u4ec5\u5bf9\u5e94\u4e00\u4e2a\u5c5e\u6027 # \u8bf4\u660e\uff1anebula-algorithm \u4ec5\u652f\u6301\u540c\u6784\u56fe\uff0c\u6240\u4ee5\uff0cweightCols \u4e2d\u5217\u51fa\u7684\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u4fdd\u6301\u4e00\u81f4\u800c\u4e14\u5747\u4e3a\u6570\u5b57\u7c7b\u578b weightCols: [\"likeness\"] # \u5982\u679c labels \u91cc\u6709\u591a\u79cd\u8fb9\u7c7b\u578b\uff0c\u5219\u76f8\u5e94\u8bbe\u7f6e\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u5c5e\u6027\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00 } algorithm: { # \u6307\u5b9a\u5373\u5c06\u6267\u884c\u7684\u7b97\u6cd5\uff0c\u53ef\u4ee5\u914d\u7f6e\u4e3a pagerank \u6216 louvain executeAlgo: louvain # \u6307\u5b9a\u7b97\u6cd5\u7ed3\u679c\u7684\u5b58\u50a8\u8def\u5f84 path: /tmp # \u5982\u679c\u9009\u62e9\u7684\u662f PageRank\uff0c\u5219\u914d\u7f6e pagerank \u76f8\u5173\u53c2\u6570 #pagerank: { # maxIter: 20 # resetProb: 0.15 # \u9ed8\u8ba4\u503c\u4e3a 0.15 #} # \u5982\u679c\u9009\u62e9\u7684\u662f louvain\uff0c\u5219\u914d\u7f6e louvain \u76f8\u5173\u53c2\u6570 #louvain: { # maxIter: 20 # internalIter: 10 # tol: 0.5 #} } }","title":"\u7b2c 1 \u6b65. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6"},{"location":"nebula-algorithm/na-ug-example/#2_nebula-algorithm","text":"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u63d0\u4ea4 nebula-algorithm \u5e94\u7528\u7a0b\u5e8f\u3002 spark-submit --master \"local\" --class com.vesoft.nebula.tools.algorithm.Main /your-jar-path/nebula-algorithm-1.x.y.jar -p /your-application.conf-path/application.conf \u5176\u4e2d\uff0c --master \uff1a\u6307\u5b9a Spark \u96c6\u7fa4\u4e2dMaster \u8fdb\u7a0b\u7684 URL\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 master-urls \u3002 --class \uff1a\u6307\u5b9a Driver \u4e3b\u7c7b\u3002 \u6307\u5b9a nebula-algorithm JAR \u6587\u4ef6\u7684\u8def\u5f84\uff0cJAR \u6587\u4ef6\u7248\u672c\u53f7\u4ee5\u60a8\u5b9e\u9645\u7f16\u8bd1\u5f97\u5230\u7684 JAR \u6587\u4ef6\u540d\u79f0\u4e3a\u51c6\u3002 -p \uff1aSpark \u914d\u7f6e\u6587\u4ef6\u6587\u4ef6\u8def\u5f84\u3002 \u5176\u4ed6\uff1a\u5982\u679c\u60a8\u672a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e Spark \u7684\u4efb\u52a1\u8d44\u6e90\u5206\u914d\uff08 conf \uff09\u4fe1\u606f\uff0c\u60a8\u53ef\u4ee5\u5728\u8fd9\u4e2a\u547d\u4ee4\u4e2d\u6307\u5b9a\u3002\u4f8b\u5982\uff0c\u672c\u793a\u4f8b\u4e2d\uff0c --driver-memory=20G --executor-memory=100G --executor-cores=3 \u3002","title":"\u7b2c 2 \u6b65. \u6267\u884c nebula-algorithm"},{"location":"nebula-algorithm/na-ug-example/#_5","text":"\u6309\u672c\u793a\u4f8b\u8bbe\u7f6e\u7684 Spark \u4efb\u52a1\u8d44\u6e90\u5206\u914d\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u62e5\u6709\u4e00\u4ebf\u4e2a\u6570\u636e\u7684\u6570\u636e\u96c6\uff1a PageRank \u7684\u6267\u884c\u65f6\u95f4\uff08PageRank \u7b97\u6cd5\u6267\u884c\u65f6\u95f4\uff09\u4e3a 21 \u5206\u949f Louvain \u7684\u6267\u884c\u65f6\u95f4\uff08Reader + Louvain \u7b97\u6cd5\u6267\u884c\u65f6\u95f4\uff09\u4e3a 1.3 \u5c0f\u65f6","title":"\u6d4b\u8bd5\u7ed3\u679c"},{"location":"nebula-algorithm/na-ug-limitations/","text":"\u4f7f\u7528\u9650\u5236 \u00b6 nebula-algorithm \u76ee\u524d\u4ec5\u652f\u6301 Nebula Graph v1.x\uff0c\u4e0d\u652f\u6301 Nebula Graph v2.x\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-algorithm/na-ug-limitations/#_1","text":"nebula-algorithm \u76ee\u524d\u4ec5\u652f\u6301 Nebula Graph v1.x\uff0c\u4e0d\u652f\u6301 Nebula Graph v2.x\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-algorithm/na-ug-toc/","text":"nebula-algorithm \u7528\u6237\u624b\u518c \u00b6 \u4ec0\u4e48\u662f nebula-algorithm \u4f7f\u7528\u9650\u5236 \u7f16\u8bd1 nebula-algorithm \u4f7f\u7528\u793a\u4f8b","title":"nebula-algorithm \u7528\u6237\u624b\u518c"},{"location":"nebula-algorithm/na-ug-toc/#nebula-algorithm","text":"\u4ec0\u4e48\u662f nebula-algorithm \u4f7f\u7528\u9650\u5236 \u7f16\u8bd1 nebula-algorithm \u4f7f\u7528\u793a\u4f8b","title":"nebula-algorithm \u7528\u6237\u624b\u518c"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/","text":"\u4ec0\u4e48\u662f nebula-algorithm \u00b6 nebula-algorithm \u662f\u4e00\u6b3e\u57fa\u4e8e GraphX \u7684 Spark \u5e94\u7528\u7a0b\u5e8f\uff0c\u63d0\u4f9b\u4e86 PageRank \u548c Louvain \u793e\u533a\u53d1\u73b0\u7684\u56fe\u8ba1\u7b97\u7b97\u6cd5\u3002\u4f7f\u7528 nebula-algorithm\uff0c\u60a8\u80fd\u4ee5\u63d0\u4ea4 Spark \u4efb\u52a1\u7684\u5f62\u5f0f\u5bf9 Nebula Graph \u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u6267\u884c\u56fe\u8ba1\u7b97\u3002 \u76ee\u524d nebula-algorithm \u4ec5\u63d0\u4f9b\u4e86 PageRank \u548c Louvain \u793e\u533a\u53d1\u73b0\u7b97\u6cd5\u3002\u5982\u679c\u60a8\u6709\u5176\u4ed6\u9700\u6c42\uff0c\u53ef\u4ee5\u53c2\u8003\u672c\u9879\u76ee\uff0c\u7f16\u5199 Spark \u5e94\u7528\u7a0b\u5e8f\u8c03\u7528 GraphX \u81ea\u5e26\u7684\u5176\u4ed6\u56fe\u7b97\u6cd5\uff0c\u5982 LabelPropagation\u3001ConnectedComponent \u7b49\u3002 \u5b9e\u73b0\u65b9\u6cd5 \u00b6 nebula-algorithm \u6839\u636e\u4ee5\u4e0b\u65b9\u5f0f\u5b9e\u73b0\u56fe\u7b97\u6cd5\uff1a \u4ece Nebula Graph \u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u56fe\u6570\u636e\u5e76\u5904\u7406\u6210 DataFrame\u3002 \u5c06 DataFrame \u8f6c\u6362\u4e3a GraphX \u7684\u56fe\u3002 \u8c03\u7528 GraphX \u63d0\u4f9b\u7684\u56fe\u7b97\u6cd5\uff08\u4f8b\u5982 PageRank\uff09\u6216\u8005\u60a8\u81ea\u5df1\u5b9e\u73b0\u7684\u7b97\u6cd5\uff08\u4f8b\u5982 Louvain \u793e\u533a\u53d1\u73b0\uff09\u3002 \u8be6\u7ec6\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 LouvainAlgo.scala \u548c PageRankAlgo.scala \u3002 PageRank \u548c Louvain \u7b80\u4ecb \u00b6 PageRank \u00b6 GraphX \u7684 PageRank \u7b97\u6cd5\u57fa\u4e8e Pregel \u8ba1\u7b97\u6a21\u578b\uff0c\u8be5\u7b97\u6cd5\u6d41\u7a0b\u5305\u62ec 3 \u4e2a\u6b65\u9aa4\uff1a \u4e3a\u56fe\u4e2d\u6bcf\u4e2a\u9876\u70b9\uff08\u5982\u7f51\u9875\uff09\u8bbe\u7f6e\u4e00\u4e2a\u76f8\u540c\u7684\u521d\u59cb PageRank \u503c\u3002 \u7b2c\u4e00\u6b21\u8fed\u4ee3\uff1a\u6cbf\u8fb9\u53d1\u9001\u6d88\u606f\uff0c\u6bcf\u4e2a\u9876\u70b9\u6536\u5230\u6240\u6709\u5173\u8054\u8fb9\u4e0a\u90bb\u63a5\u70b9\uff08Adjacent Node\uff09\u7684\u4fe1\u606f\uff0c\u5f97\u5230\u4e00\u4e2a\u65b0\u7684 PageRank \u503c\uff1b \u7b2c\u4e8c\u6b21\u8fed\u4ee3\uff1a\u7528\u8fd9\u7ec4\u65b0\u7684 PageRank \u6309\u4e0d\u540c\u7b97\u6cd5\u6a21\u5f0f\u5bf9\u5e94\u7684\u516c\u5f0f\u5f62\u6210\u8be5\u9876\u70b9\u65b0\u7684 PageRank\u3002 \u5173\u4e8e PageRank \u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Wikipedia PageRank \u9875\u9762 \u3002 Louvain \u00b6 Louvain \u662f\u57fa\u4e8e\u6a21\u5757\u5ea6\uff08Modularity\uff09\u7684\u793e\u533a\u53d1\u73b0\u7b97\u6cd5\uff0c\u901a\u8fc7\u6a21\u5757\u5ea6\u6765\u8861\u91cf\u4e00\u4e2a\u793e\u533a\u7684\u7d27\u5bc6\u7a0b\u5ea6\uff0c\u5c5e\u4e8e\u56fe\u7684\u805a\u7c7b\u7b97\u6cd5\u3002\u5982\u679c\u4e00\u4e2a\u9876\u70b9\u52a0\u5165\u5230\u67d0\u4e00\u793e\u533a\u4e2d\u4f7f\u8be5\u793e\u533a\u7684\u6a21\u5757\u5ea6\u76f8\u6bd4\u5176\u4ed6\u793e\u533a\u6709\u6700\u5927\u7a0b\u5ea6\u7684\u589e\u52a0\uff0c\u5219\u8be5\u9876\u70b9\u5c31\u5e94\u5f53\u5c5e\u4e8e\u8be5\u793e\u533a\u3002\u5982\u679c\u52a0\u5165\u5176\u5b83\u793e\u533a\u540e\u6ca1\u6709\u4f7f\u5176\u6a21\u5757\u5ea6\u589e\u52a0\uff0c\u5219\u7559\u5728\u81ea\u5df1\u5f53\u524d\u793e\u533a\u4e2d\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003\u8bba\u6587 \u300aFast unfolding of communities in large networks\u300b \u3002 Louvain \u7b97\u6cd5\u5305\u62ec\u4e24\u4e2a\u9636\u6bb5\uff0c\u5176\u6d41\u7a0b\u5c31\u662f\u8fd9\u4e24\u4e2a\u9636\u6bb5\u7684\u8fed\u4ee3\u8fc7\u7a0b\u3002 \u9636\u6bb5\u4e00\uff1a\u4e0d\u65ad\u5730\u904d\u5386\u7f51\u7edc\u56fe\u4e2d\u7684\u9876\u70b9\uff0c\u901a\u8fc7\u6bd4\u8f83\u9876\u70b9\u7ed9\u6bcf\u4e2a\u90bb\u5c45\u793e\u533a\u5e26\u6765\u7684\u6a21\u5757\u5ea6\u7684\u53d8\u5316\uff0c\u5c06\u5355\u4e2a\u9876\u70b9\u52a0\u5165\u5230\u80fd\u591f\u4f7f Modulaity \u6a21\u5757\u5ea6\u6709\u6700\u5927\u589e\u91cf\u7684\u793e\u533a\u4e2d\u3002\u4f8b\u5982\uff0c\u9876\u70b9 v \u5206\u522b\u52a0\u5165\u5230\u793e\u533a A\u3001B\u3001C \u4e2d\uff0c\u4f7f\u5f97\u4e09\u4e2a\u793e\u533a\u7684\u6a21\u5757\u5ea6\u589e\u91cf\u4e3a -1\u30011\u30012\uff0c\u5219\u9876\u70b9 v \u6700\u7ec8\u5e94\u8be5\u52a0\u5165\u5230\u793e\u533a C \u4e2d\u3002 \u9636\u6bb5\u4e8c\uff1a\u5bf9\u7b2c\u4e00\u9636\u6bb5\u8fdb\u884c\u5904\u7406\uff0c\u5c06\u5c5e\u4e8e\u540c\u4e00\u793e\u533a\u7684\u9876\u70b9\u5408\u5e76\u4e3a\u4e00\u4e2a\u5927\u7684\u8d85\u70b9\u91cd\u65b0\u6784\u9020\u7f51\u7edc\u56fe\uff0c\u5373\u4e00\u4e2a\u793e\u533a\u4f5c\u4e3a\u56fe\u7684\u4e00\u4e2a\u65b0\u7684\u9876\u70b9\u3002\u6b64\u65f6\u4e24\u4e2a\u8d85\u70b9\u4e4b\u95f4\u8fb9\u7684\u6743\u91cd\u662f\u4e24\u4e2a\u8d85\u70b9\u5185\u6240\u6709\u539f\u59cb\u9876\u70b9\u4e4b\u95f4\u76f8\u8fde\u7684\u8fb9\u6743\u91cd\u4e4b\u548c\uff0c\u5373\u4e24\u4e2a\u793e\u533a\u4e4b\u95f4\u7684\u8fb9\u6743\u91cd\u4e4b\u548c\u3002 \u6574\u4e2a Louvain \u7b97\u6cd5\u5c31\u662f\u4e0d\u65ad\u8fed\u4ee3\u7b2c\u4e00\u9636\u6bb5\u548c\u7b2c\u4e8c\u9636\u6bb5\uff0c\u76f4\u5230\u7b97\u6cd5\u7a33\u5b9a\uff08\u56fe\u7684\u6a21\u5757\u5ea6\u4e0d\u518d\u53d8\u5316\uff09\u6216\u8005\u5230\u8fbe\u6700\u5927\u8fed\u4ee3\u6b21\u6570\u3002 \u4f7f\u7528\u573a\u666f \u00b6 \u60a8\u53ef\u4ee5\u5c06 PageRank \u7b97\u6cd5\u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u793e\u4ea4\u5e94\u7528\u7684\u76f8\u4f3c\u5ea6\u5185\u5bb9\u63a8\u8350\uff1a\u5728\u5bf9\u5fae\u535a\u3001\u5fae\u4fe1\u7b49\u793e\u4ea4\u5e73\u53f0\u8fdb\u884c\u793e\u4ea4\u7f51\u7edc\u5206\u6790\u65f6\uff0c\u53ef\u4ee5\u57fa\u4e8e PageRank \u7b97\u6cd5\u6839\u636e\u7528\u6237\u901a\u5e38\u6d4f\u89c8\u7684\u4fe1\u606f\u4ee5\u53ca\u505c\u7559\u65f6\u95f4\u5b9e\u73b0\u57fa\u4e8e\u7528\u6237\u7684\u76f8\u4f3c\u5ea6\u7684\u5185\u5bb9\u63a8\u8350\u3002 \u5206\u6790\u7528\u6237\u793e\u4ea4\u5f71\u54cd\u529b\uff1a\u5728\u793e\u4ea4\u7f51\u7edc\u5206\u6790\u65f6\u6839\u636e\u7528\u6237\u7684 PageRank \u503c\u8fdb\u884c\u7528\u6237\u5f71\u54cd\u529b\u5206\u6790\u3002 \u6587\u732e\u91cd\u8981\u6027\u7814\u7a76\uff1a\u6839\u636e\u6587\u732e\u7684 PageRank \u503c\u8bc4\u5224\u8be5\u6587\u732e\u7684\u8d28\u91cf\uff0cPageRank \u7b97\u6cd5\u5c31\u662f\u57fa\u4e8e\u8bc4\u5224\u6587\u732e\u8d28\u91cf\u7684\u60f3\u6cd5\u6765\u5b9e\u73b0\u8bbe\u8ba1\u3002 \u60a8\u53ef\u4ee5\u5c06 Louvain \u7b97\u6cd5\u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u91d1\u878d\u98ce\u63a7\uff1a\u5728\u91d1\u878d\u98ce\u63a7\u573a\u666f\u4e2d\u6839\u636e\u7528\u6237\u884c\u4e3a\u7279\u5f81\u8fdb\u884c\u56e2\u4f19\u8bc6\u522b\u3002 \u793e\u4ea4\u7f51\u7edc\uff1a\u57fa\u4e8e\u7f51\u7edc\u5173\u7cfb\u4e2d\u70b9\u5bf9\uff08\u4e00\u6761\u8fb9\u8fde\u63a5\u7684\u4e24\u4e2a\u9876\u70b9\uff09\u4e4b\u95f4\u5173\u8054\u7684\u5e7f\u5ea6\u548c\u5f3a\u5ea6\u8fdb\u884c\u793e\u4ea4\u7f51\u7edc\u5212\u5206\uff1b\u5bf9\u590d\u6742\u7f51\u7edc\u5206\u6790\u3001\u7535\u8bdd\u7f51\u7edc\u5206\u6790\u4eba\u7fa4\u4e4b\u95f4\u7684\u8054\u7cfb\u5bc6\u5207\u5ea6\u3002 \u63a8\u8350\u7cfb\u7edf\uff1a\u57fa\u4e8e\u7528\u6237\u5174\u8da3\u7231\u597d\u7684\u793e\u533a\u53d1\u73b0\uff0c\u53ef\u4ee5\u6839\u636e\u793e\u533a\u5e76\u7ed3\u5408\u534f\u540c\u8fc7\u6ee4\u7b49\u63a8\u8350\u7b97\u6cd5\u8fdb\u884c\u66f4\u7cbe\u786e\u6709\u6548\u7684\u4e2a\u6027\u5316\u63a8\u8350\u3002","title":"\u4ec0\u4e48\u662f nebula-algorithm"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/#nebula-algorithm","text":"nebula-algorithm \u662f\u4e00\u6b3e\u57fa\u4e8e GraphX \u7684 Spark \u5e94\u7528\u7a0b\u5e8f\uff0c\u63d0\u4f9b\u4e86 PageRank \u548c Louvain \u793e\u533a\u53d1\u73b0\u7684\u56fe\u8ba1\u7b97\u7b97\u6cd5\u3002\u4f7f\u7528 nebula-algorithm\uff0c\u60a8\u80fd\u4ee5\u63d0\u4ea4 Spark \u4efb\u52a1\u7684\u5f62\u5f0f\u5bf9 Nebula Graph \u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u6267\u884c\u56fe\u8ba1\u7b97\u3002 \u76ee\u524d nebula-algorithm \u4ec5\u63d0\u4f9b\u4e86 PageRank \u548c Louvain \u793e\u533a\u53d1\u73b0\u7b97\u6cd5\u3002\u5982\u679c\u60a8\u6709\u5176\u4ed6\u9700\u6c42\uff0c\u53ef\u4ee5\u53c2\u8003\u672c\u9879\u76ee\uff0c\u7f16\u5199 Spark \u5e94\u7528\u7a0b\u5e8f\u8c03\u7528 GraphX \u81ea\u5e26\u7684\u5176\u4ed6\u56fe\u7b97\u6cd5\uff0c\u5982 LabelPropagation\u3001ConnectedComponent \u7b49\u3002","title":"\u4ec0\u4e48\u662f nebula-algorithm"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/#_1","text":"nebula-algorithm \u6839\u636e\u4ee5\u4e0b\u65b9\u5f0f\u5b9e\u73b0\u56fe\u7b97\u6cd5\uff1a \u4ece Nebula Graph \u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u56fe\u6570\u636e\u5e76\u5904\u7406\u6210 DataFrame\u3002 \u5c06 DataFrame \u8f6c\u6362\u4e3a GraphX \u7684\u56fe\u3002 \u8c03\u7528 GraphX \u63d0\u4f9b\u7684\u56fe\u7b97\u6cd5\uff08\u4f8b\u5982 PageRank\uff09\u6216\u8005\u60a8\u81ea\u5df1\u5b9e\u73b0\u7684\u7b97\u6cd5\uff08\u4f8b\u5982 Louvain \u793e\u533a\u53d1\u73b0\uff09\u3002 \u8be6\u7ec6\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 LouvainAlgo.scala \u548c PageRankAlgo.scala \u3002","title":"\u5b9e\u73b0\u65b9\u6cd5"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/#pagerank_louvain","text":"","title":"PageRank \u548c Louvain \u7b80\u4ecb"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/#pagerank","text":"GraphX \u7684 PageRank \u7b97\u6cd5\u57fa\u4e8e Pregel \u8ba1\u7b97\u6a21\u578b\uff0c\u8be5\u7b97\u6cd5\u6d41\u7a0b\u5305\u62ec 3 \u4e2a\u6b65\u9aa4\uff1a \u4e3a\u56fe\u4e2d\u6bcf\u4e2a\u9876\u70b9\uff08\u5982\u7f51\u9875\uff09\u8bbe\u7f6e\u4e00\u4e2a\u76f8\u540c\u7684\u521d\u59cb PageRank \u503c\u3002 \u7b2c\u4e00\u6b21\u8fed\u4ee3\uff1a\u6cbf\u8fb9\u53d1\u9001\u6d88\u606f\uff0c\u6bcf\u4e2a\u9876\u70b9\u6536\u5230\u6240\u6709\u5173\u8054\u8fb9\u4e0a\u90bb\u63a5\u70b9\uff08Adjacent Node\uff09\u7684\u4fe1\u606f\uff0c\u5f97\u5230\u4e00\u4e2a\u65b0\u7684 PageRank \u503c\uff1b \u7b2c\u4e8c\u6b21\u8fed\u4ee3\uff1a\u7528\u8fd9\u7ec4\u65b0\u7684 PageRank \u6309\u4e0d\u540c\u7b97\u6cd5\u6a21\u5f0f\u5bf9\u5e94\u7684\u516c\u5f0f\u5f62\u6210\u8be5\u9876\u70b9\u65b0\u7684 PageRank\u3002 \u5173\u4e8e PageRank \u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Wikipedia PageRank \u9875\u9762 \u3002","title":"PageRank"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/#louvain","text":"Louvain \u662f\u57fa\u4e8e\u6a21\u5757\u5ea6\uff08Modularity\uff09\u7684\u793e\u533a\u53d1\u73b0\u7b97\u6cd5\uff0c\u901a\u8fc7\u6a21\u5757\u5ea6\u6765\u8861\u91cf\u4e00\u4e2a\u793e\u533a\u7684\u7d27\u5bc6\u7a0b\u5ea6\uff0c\u5c5e\u4e8e\u56fe\u7684\u805a\u7c7b\u7b97\u6cd5\u3002\u5982\u679c\u4e00\u4e2a\u9876\u70b9\u52a0\u5165\u5230\u67d0\u4e00\u793e\u533a\u4e2d\u4f7f\u8be5\u793e\u533a\u7684\u6a21\u5757\u5ea6\u76f8\u6bd4\u5176\u4ed6\u793e\u533a\u6709\u6700\u5927\u7a0b\u5ea6\u7684\u589e\u52a0\uff0c\u5219\u8be5\u9876\u70b9\u5c31\u5e94\u5f53\u5c5e\u4e8e\u8be5\u793e\u533a\u3002\u5982\u679c\u52a0\u5165\u5176\u5b83\u793e\u533a\u540e\u6ca1\u6709\u4f7f\u5176\u6a21\u5757\u5ea6\u589e\u52a0\uff0c\u5219\u7559\u5728\u81ea\u5df1\u5f53\u524d\u793e\u533a\u4e2d\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003\u8bba\u6587 \u300aFast unfolding of communities in large networks\u300b \u3002 Louvain \u7b97\u6cd5\u5305\u62ec\u4e24\u4e2a\u9636\u6bb5\uff0c\u5176\u6d41\u7a0b\u5c31\u662f\u8fd9\u4e24\u4e2a\u9636\u6bb5\u7684\u8fed\u4ee3\u8fc7\u7a0b\u3002 \u9636\u6bb5\u4e00\uff1a\u4e0d\u65ad\u5730\u904d\u5386\u7f51\u7edc\u56fe\u4e2d\u7684\u9876\u70b9\uff0c\u901a\u8fc7\u6bd4\u8f83\u9876\u70b9\u7ed9\u6bcf\u4e2a\u90bb\u5c45\u793e\u533a\u5e26\u6765\u7684\u6a21\u5757\u5ea6\u7684\u53d8\u5316\uff0c\u5c06\u5355\u4e2a\u9876\u70b9\u52a0\u5165\u5230\u80fd\u591f\u4f7f Modulaity \u6a21\u5757\u5ea6\u6709\u6700\u5927\u589e\u91cf\u7684\u793e\u533a\u4e2d\u3002\u4f8b\u5982\uff0c\u9876\u70b9 v \u5206\u522b\u52a0\u5165\u5230\u793e\u533a A\u3001B\u3001C \u4e2d\uff0c\u4f7f\u5f97\u4e09\u4e2a\u793e\u533a\u7684\u6a21\u5757\u5ea6\u589e\u91cf\u4e3a -1\u30011\u30012\uff0c\u5219\u9876\u70b9 v \u6700\u7ec8\u5e94\u8be5\u52a0\u5165\u5230\u793e\u533a C \u4e2d\u3002 \u9636\u6bb5\u4e8c\uff1a\u5bf9\u7b2c\u4e00\u9636\u6bb5\u8fdb\u884c\u5904\u7406\uff0c\u5c06\u5c5e\u4e8e\u540c\u4e00\u793e\u533a\u7684\u9876\u70b9\u5408\u5e76\u4e3a\u4e00\u4e2a\u5927\u7684\u8d85\u70b9\u91cd\u65b0\u6784\u9020\u7f51\u7edc\u56fe\uff0c\u5373\u4e00\u4e2a\u793e\u533a\u4f5c\u4e3a\u56fe\u7684\u4e00\u4e2a\u65b0\u7684\u9876\u70b9\u3002\u6b64\u65f6\u4e24\u4e2a\u8d85\u70b9\u4e4b\u95f4\u8fb9\u7684\u6743\u91cd\u662f\u4e24\u4e2a\u8d85\u70b9\u5185\u6240\u6709\u539f\u59cb\u9876\u70b9\u4e4b\u95f4\u76f8\u8fde\u7684\u8fb9\u6743\u91cd\u4e4b\u548c\uff0c\u5373\u4e24\u4e2a\u793e\u533a\u4e4b\u95f4\u7684\u8fb9\u6743\u91cd\u4e4b\u548c\u3002 \u6574\u4e2a Louvain \u7b97\u6cd5\u5c31\u662f\u4e0d\u65ad\u8fed\u4ee3\u7b2c\u4e00\u9636\u6bb5\u548c\u7b2c\u4e8c\u9636\u6bb5\uff0c\u76f4\u5230\u7b97\u6cd5\u7a33\u5b9a\uff08\u56fe\u7684\u6a21\u5757\u5ea6\u4e0d\u518d\u53d8\u5316\uff09\u6216\u8005\u5230\u8fbe\u6700\u5927\u8fed\u4ee3\u6b21\u6570\u3002","title":"Louvain"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/#_2","text":"\u60a8\u53ef\u4ee5\u5c06 PageRank \u7b97\u6cd5\u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u793e\u4ea4\u5e94\u7528\u7684\u76f8\u4f3c\u5ea6\u5185\u5bb9\u63a8\u8350\uff1a\u5728\u5bf9\u5fae\u535a\u3001\u5fae\u4fe1\u7b49\u793e\u4ea4\u5e73\u53f0\u8fdb\u884c\u793e\u4ea4\u7f51\u7edc\u5206\u6790\u65f6\uff0c\u53ef\u4ee5\u57fa\u4e8e PageRank \u7b97\u6cd5\u6839\u636e\u7528\u6237\u901a\u5e38\u6d4f\u89c8\u7684\u4fe1\u606f\u4ee5\u53ca\u505c\u7559\u65f6\u95f4\u5b9e\u73b0\u57fa\u4e8e\u7528\u6237\u7684\u76f8\u4f3c\u5ea6\u7684\u5185\u5bb9\u63a8\u8350\u3002 \u5206\u6790\u7528\u6237\u793e\u4ea4\u5f71\u54cd\u529b\uff1a\u5728\u793e\u4ea4\u7f51\u7edc\u5206\u6790\u65f6\u6839\u636e\u7528\u6237\u7684 PageRank \u503c\u8fdb\u884c\u7528\u6237\u5f71\u54cd\u529b\u5206\u6790\u3002 \u6587\u732e\u91cd\u8981\u6027\u7814\u7a76\uff1a\u6839\u636e\u6587\u732e\u7684 PageRank \u503c\u8bc4\u5224\u8be5\u6587\u732e\u7684\u8d28\u91cf\uff0cPageRank \u7b97\u6cd5\u5c31\u662f\u57fa\u4e8e\u8bc4\u5224\u6587\u732e\u8d28\u91cf\u7684\u60f3\u6cd5\u6765\u5b9e\u73b0\u8bbe\u8ba1\u3002 \u60a8\u53ef\u4ee5\u5c06 Louvain \u7b97\u6cd5\u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u91d1\u878d\u98ce\u63a7\uff1a\u5728\u91d1\u878d\u98ce\u63a7\u573a\u666f\u4e2d\u6839\u636e\u7528\u6237\u884c\u4e3a\u7279\u5f81\u8fdb\u884c\u56e2\u4f19\u8bc6\u522b\u3002 \u793e\u4ea4\u7f51\u7edc\uff1a\u57fa\u4e8e\u7f51\u7edc\u5173\u7cfb\u4e2d\u70b9\u5bf9\uff08\u4e00\u6761\u8fb9\u8fde\u63a5\u7684\u4e24\u4e2a\u9876\u70b9\uff09\u4e4b\u95f4\u5173\u8054\u7684\u5e7f\u5ea6\u548c\u5f3a\u5ea6\u8fdb\u884c\u793e\u4ea4\u7f51\u7edc\u5212\u5206\uff1b\u5bf9\u590d\u6742\u7f51\u7edc\u5206\u6790\u3001\u7535\u8bdd\u7f51\u7edc\u5206\u6790\u4eba\u7fa4\u4e4b\u95f4\u7684\u8054\u7cfb\u5bc6\u5207\u5ea6\u3002 \u63a8\u8350\u7cfb\u7edf\uff1a\u57fa\u4e8e\u7528\u6237\u5174\u8da3\u7231\u597d\u7684\u793e\u533a\u53d1\u73b0\uff0c\u53ef\u4ee5\u6839\u636e\u793e\u533a\u5e76\u7ed3\u5408\u534f\u540c\u8fc7\u6ee4\u7b49\u63a8\u8350\u7b97\u6cd5\u8fdb\u884c\u66f4\u7cbe\u786e\u6709\u6548\u7684\u4e2a\u6027\u5316\u63a8\u8350\u3002","title":"\u4f7f\u7528\u573a\u666f"},{"location":"nebula-exchange/ex-ug-compile/","text":"\u7f16\u8bd1 Exchange \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u7f16\u8bd1 Exchange v1.x\uff1a \u514b\u9686 nebula-java \u6e90\u4ee3\u7801\u3002 git clone -b v1.0 https://github.com/vesoft-inc/nebula-java.git \u5207\u6362\u5230 nebula-java \u76ee\u5f55\uff0c\u5e76\u6253\u5305 Nebula Java 1.x\u3002 cd nebula-java mvn clean install -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u8fdb\u5165 tools/exchange \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1 Exchange v1.x\u3002 cd nebula-java/tools/exchange mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002 \u251c\u2500\u2500 README.md \u251c\u2500\u2500 dependency-reduced-pom.xml \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 scripts \u2502 \u251c\u2500\u2500 README.md \u2502 \u251c\u2500\u2500 mock_data.py \u2502 \u251c\u2500\u2500 pulsar_producer.py \u2502 \u251c\u2500\u2500 requirements.txt \u2502 \u2514\u2500\u2500 verify_nebula.py \u251c\u2500\u2500 src \u2502 \u2514\u2500\u2500 main \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 classes.timestamp \u251c\u2500\u2500 exchange-1.x.y-javadoc.jar \u251c\u2500\u2500 exchange-1.x.y-sources.jar \u251c\u2500\u2500 exchange-1.x.y.jar \u251c\u2500\u2500 generated-test-sources \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 original-exchange-1.x.y.jar \u251c\u2500\u2500 site \u251c\u2500\u2500 test-classes \u2514\u2500\u2500 test-classes.timestamp \u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 exchange-1.x.y.jar \u6587\u4ef6\u3002 \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002 \u5728\u8fc1\u79fb\u6570\u636e\u65f6\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 target/classes/application.conf \u3001 target/classes/server_application.conf \u3001 target/classes/stream_application.conf \u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002","title":"\u7f16\u8bd1 Exchange"},{"location":"nebula-exchange/ex-ug-compile/#exchange","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u7f16\u8bd1 Exchange v1.x\uff1a \u514b\u9686 nebula-java \u6e90\u4ee3\u7801\u3002 git clone -b v1.0 https://github.com/vesoft-inc/nebula-java.git \u5207\u6362\u5230 nebula-java \u76ee\u5f55\uff0c\u5e76\u6253\u5305 Nebula Java 1.x\u3002 cd nebula-java mvn clean install -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u8fdb\u5165 tools/exchange \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1 Exchange v1.x\u3002 cd nebula-java/tools/exchange mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002 \u251c\u2500\u2500 README.md \u251c\u2500\u2500 dependency-reduced-pom.xml \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 scripts \u2502 \u251c\u2500\u2500 README.md \u2502 \u251c\u2500\u2500 mock_data.py \u2502 \u251c\u2500\u2500 pulsar_producer.py \u2502 \u251c\u2500\u2500 requirements.txt \u2502 \u2514\u2500\u2500 verify_nebula.py \u251c\u2500\u2500 src \u2502 \u2514\u2500\u2500 main \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 classes.timestamp \u251c\u2500\u2500 exchange-1.x.y-javadoc.jar \u251c\u2500\u2500 exchange-1.x.y-sources.jar \u251c\u2500\u2500 exchange-1.x.y.jar \u251c\u2500\u2500 generated-test-sources \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 original-exchange-1.x.y.jar \u251c\u2500\u2500 site \u251c\u2500\u2500 test-classes \u2514\u2500\u2500 test-classes.timestamp \u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 exchange-1.x.y.jar \u6587\u4ef6\u3002 \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002 \u5728\u8fc1\u79fb\u6570\u636e\u65f6\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 target/classes/application.conf \u3001 target/classes/server_application.conf \u3001 target/classes/stream_application.conf \u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002","title":"\u7f16\u8bd1 Exchange"},{"location":"nebula-exchange/ex-ug-toc/","text":"Nebula Exchange \u7528\u6237\u624b\u518c \u00b6 \u8ba4\u8bc6 Nebula Exchange \u4ec0\u4e48\u662f Nebula Exchange \u4f7f\u7528\u9650\u5236 \u540d\u8bcd\u89e3\u91ca \u5e38\u89c1\u95ee\u9898 \u7f16\u8bd1 Exchange \u64cd\u4f5c\u6307\u5357 \u5bfc\u5165\u6570\u636e\u6b65\u9aa4 \u64cd\u4f5c\u793a\u4f8b \u5bfc\u5165 Neo4j \u6570\u636e \u5bfc\u5165 CSV \u6587\u4ef6\u6570\u636e \u5bfc\u5165 JSON \u6587\u4ef6\u6570\u636e \u5bfc\u5165 HBase \u6570\u636e[DOC_TO_DO] \u5bfc\u5165 HIVE \u6570\u636e[DOC_TO_DO] \u5bfc\u5165 Kafka \u6570\u636e[DOC_TO_DO] \u5bfc\u5165 MySQL \u6570\u636e[DOC_TO_DO] \u5bfc\u5165 SST \u6587\u4ef6 \u53c2\u6570\u8bf4\u660e Spark \u53c2\u6570 Nebula Graph \u53c2\u6570 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u9519\u8bef\u4fe1\u606f[DOC_TO_DO] * \u672c\u9875\u9762\u6240\u5217 [DOC_TO_DO] \u4ec5\u8868\u793a\u6587\u6863\u5c1a\u672a\u5b8c\u6210\u3002Exchange \u5df2\u7ecf\u5177\u5907\u6587\u6863\u6240\u5217\u6240\u6709\u529f\u80fd\u3002","title":"Nebula Exchange \u7528\u6237\u624b\u518c"},{"location":"nebula-exchange/ex-ug-toc/#nebula_exchange","text":"\u8ba4\u8bc6 Nebula Exchange \u4ec0\u4e48\u662f Nebula Exchange \u4f7f\u7528\u9650\u5236 \u540d\u8bcd\u89e3\u91ca \u5e38\u89c1\u95ee\u9898 \u7f16\u8bd1 Exchange \u64cd\u4f5c\u6307\u5357 \u5bfc\u5165\u6570\u636e\u6b65\u9aa4 \u64cd\u4f5c\u793a\u4f8b \u5bfc\u5165 Neo4j \u6570\u636e \u5bfc\u5165 CSV \u6587\u4ef6\u6570\u636e \u5bfc\u5165 JSON \u6587\u4ef6\u6570\u636e \u5bfc\u5165 HBase \u6570\u636e[DOC_TO_DO] \u5bfc\u5165 HIVE \u6570\u636e[DOC_TO_DO] \u5bfc\u5165 Kafka \u6570\u636e[DOC_TO_DO] \u5bfc\u5165 MySQL \u6570\u636e[DOC_TO_DO] \u5bfc\u5165 SST \u6587\u4ef6 \u53c2\u6570\u8bf4\u660e Spark \u53c2\u6570 Nebula Graph \u53c2\u6570 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u9519\u8bef\u4fe1\u606f[DOC_TO_DO] * \u672c\u9875\u9762\u6240\u5217 [DOC_TO_DO] \u4ec5\u8868\u793a\u6587\u6863\u5c1a\u672a\u5b8c\u6210\u3002Exchange \u5df2\u7ecf\u5177\u5907\u6587\u6863\u6240\u5217\u6240\u6709\u529f\u80fd\u3002","title":"Nebula Exchange \u7528\u6237\u624b\u518c"},{"location":"nebula-exchange/about-exchange/ex-ug-faq/","text":"\u5e38\u89c1\u95ee\u9898 \u00b6 Exchange \u652f\u6301\u54ea\u4e9b\u7248\u672c\u7684 Nebula Graph\uff1f \u60a8\u53ef\u4ee5\u67e5\u770b Exchange \u7684 \u4f7f\u7528\u9650\u5236 \u83b7\u53d6 Exchange \u5bf9 Nebula Graph \u7684\u6700\u65b0\u652f\u6301\u4fe1\u606f\u3002 Exchange \u4e0e Spark Writer \u6709\u4ec0\u4e48\u5173\u7cfb\uff1f Exchange \u662f\u5728 Spark Writer \u57fa\u7840\u4e0a\u5f00\u53d1\u7684 Spark \u5e94\u7528\u7a0b\u5e8f\uff0c\u4e8c\u8005\u5747\u9002\u7528\u4e8e\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u5c06\u96c6\u7fa4\u7684\u6570\u636e\u6279\u91cf\u8fc1\u79fb\u5230 Nebula Graph \u4e2d\uff0c\u4f46\u662f\uff0c\u540e\u671f\u7684\u7ef4\u62a4\u5de5\u4f5c\u5c06\u96c6\u4e2d\u5728 Exchange \u4e0a\u3002\u4e0e Spark Writer \u76f8\u6bd4\uff0cExchange \u6709\u4ee5\u4e0b\u6539\u8fdb\uff1a \u652f\u6301\u66f4\u4e30\u5bcc\u7684\u6570\u636e\u6e90\uff0c\u5982 MySQL\u3001Neo4j\u3001Hive\u3001HBase\u3001Kafka\u3001Pulsar \u7b49\u3002 \u4fee\u590d\u4e86 Spark Writer \u7684\u90e8\u5206\u95ee\u9898\u3002\u4f8b\u5982\uff0cSpark \u8bfb\u53d6 HDFS \u91cc\u7684\u6570\u636e\u65f6\uff0c\u9ed8\u8ba4\u8bfb\u53d6\u5230\u7684\u6e90\u6570\u636e\u5747\u4e3a String \u7c7b\u578b\uff0c\u53ef\u80fd\u4e0e Nebula Graph \u5b9a\u4e49\u7684 Schema \u4e0d\u540c\uff0c\u6240\u4ee5\uff0cExchange \u589e\u52a0\u4e86\u6570\u636e\u7c7b\u578b\u7684\u81ea\u52a8\u5339\u914d\u548c\u7c7b\u578b\u8f6c\u6362\uff0c\u5f53 Nebula Graph \u5b9a\u4e49\u7684 Schema \u4e2d\u6570\u636e\u7c7b\u578b\u4e3a\u975e String \u7c7b\u578b\uff08\u5982 double\uff09\u65f6\uff0cExchange \u4f1a\u5c06 String \u7c7b\u578b\u7684\u6e90\u6570\u636e\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684\u7c7b\u578b\uff08\u5982 double\uff09\u3002","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"nebula-exchange/about-exchange/ex-ug-faq/#_1","text":"Exchange \u652f\u6301\u54ea\u4e9b\u7248\u672c\u7684 Nebula Graph\uff1f \u60a8\u53ef\u4ee5\u67e5\u770b Exchange \u7684 \u4f7f\u7528\u9650\u5236 \u83b7\u53d6 Exchange \u5bf9 Nebula Graph \u7684\u6700\u65b0\u652f\u6301\u4fe1\u606f\u3002 Exchange \u4e0e Spark Writer \u6709\u4ec0\u4e48\u5173\u7cfb\uff1f Exchange \u662f\u5728 Spark Writer \u57fa\u7840\u4e0a\u5f00\u53d1\u7684 Spark \u5e94\u7528\u7a0b\u5e8f\uff0c\u4e8c\u8005\u5747\u9002\u7528\u4e8e\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u5c06\u96c6\u7fa4\u7684\u6570\u636e\u6279\u91cf\u8fc1\u79fb\u5230 Nebula Graph \u4e2d\uff0c\u4f46\u662f\uff0c\u540e\u671f\u7684\u7ef4\u62a4\u5de5\u4f5c\u5c06\u96c6\u4e2d\u5728 Exchange \u4e0a\u3002\u4e0e Spark Writer \u76f8\u6bd4\uff0cExchange \u6709\u4ee5\u4e0b\u6539\u8fdb\uff1a \u652f\u6301\u66f4\u4e30\u5bcc\u7684\u6570\u636e\u6e90\uff0c\u5982 MySQL\u3001Neo4j\u3001Hive\u3001HBase\u3001Kafka\u3001Pulsar \u7b49\u3002 \u4fee\u590d\u4e86 Spark Writer \u7684\u90e8\u5206\u95ee\u9898\u3002\u4f8b\u5982\uff0cSpark \u8bfb\u53d6 HDFS \u91cc\u7684\u6570\u636e\u65f6\uff0c\u9ed8\u8ba4\u8bfb\u53d6\u5230\u7684\u6e90\u6570\u636e\u5747\u4e3a String \u7c7b\u578b\uff0c\u53ef\u80fd\u4e0e Nebula Graph \u5b9a\u4e49\u7684 Schema \u4e0d\u540c\uff0c\u6240\u4ee5\uff0cExchange \u589e\u52a0\u4e86\u6570\u636e\u7c7b\u578b\u7684\u81ea\u52a8\u5339\u914d\u548c\u7c7b\u578b\u8f6c\u6362\uff0c\u5f53 Nebula Graph \u5b9a\u4e49\u7684 Schema \u4e2d\u6570\u636e\u7c7b\u578b\u4e3a\u975e String \u7c7b\u578b\uff08\u5982 double\uff09\u65f6\uff0cExchange \u4f1a\u5c06 String \u7c7b\u578b\u7684\u6e90\u6570\u636e\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684\u7c7b\u578b\uff08\u5982 double\uff09\u3002","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"nebula-exchange/about-exchange/ex-ug-limitations/","text":"\u4f7f\u7528\u9650\u5236 \u00b6 \u672c\u6587\u63cf\u8ff0 Exchange v1.x \u7684\u4e00\u4e9b\u4f7f\u7528\u9650\u5236\u3002 Nebula Graph \u7248\u672c \u00b6 Exchange v1.x \u4ec5\u652f\u6301 Nebula Graph v1.x\u3002\u8bf7\u52ff\u4f7f\u7528\u4f4e\u7248\u672c\u7684Exchange\u5bfc\u5165\u6570\u636e\u81f3\u9ad8\u7248\u672cNebula Graph\u4e2d\uff0c\u4f8b\u5982\u4f7f\u7528Exchange v1.1\u5bfc\u5165\u6570\u636e\u81f3Nebula Graph v1.2.0\u3002 \u5982\u679c\u60a8\u6b63\u5728\u4f7f\u7528 Nebula Graph v2.x\uff0c\u8bf7\u4f7f\u7528 Nebula Exchange v2.x \u3002 \u4f7f\u7528\u73af\u5883 \u00b6 Exchange v1.x \u652f\u6301\u4ee5\u4e0b\u64cd\u4f5c\u7cfb\u7edf\uff1a CentOS 7 macOS \u8bf4\u660e \uff1a\u4ec5 Linux \u7cfb\u7edf\u652f\u6301\u5bfc\u5165 SST \u6587\u4ef6\u3002 \u8f6f\u4ef6\u4f9d\u8d56 \u00b6 \u4e3a\u4fdd\u8bc1 Exchange v1.x \u6b63\u5e38\u5de5\u4f5c\uff0c\u786e\u8ba4\u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\uff1a2.3.0 \u53ca\u4ee5\u4e0a\u7248\u672c Java\uff1a1.8 Scala\uff1a2.10.7\u30012.11.12\u30012.12.10 \u5728\u4ee5\u4e0b\u4f7f\u7528\u573a\u666f\uff0c\u8fd8\u9700\u8981\u90e8\u7f72 Hadoop Distributed File System (HDFS)\uff1a \u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u8fc1\u79fb HDFS \u4e0a\u7684\u6570\u636e \u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u8fc1\u79fb\u6570\u636e","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-exchange/about-exchange/ex-ug-limitations/#_1","text":"\u672c\u6587\u63cf\u8ff0 Exchange v1.x \u7684\u4e00\u4e9b\u4f7f\u7528\u9650\u5236\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-exchange/about-exchange/ex-ug-limitations/#nebula_graph","text":"Exchange v1.x \u4ec5\u652f\u6301 Nebula Graph v1.x\u3002\u8bf7\u52ff\u4f7f\u7528\u4f4e\u7248\u672c\u7684Exchange\u5bfc\u5165\u6570\u636e\u81f3\u9ad8\u7248\u672cNebula Graph\u4e2d\uff0c\u4f8b\u5982\u4f7f\u7528Exchange v1.1\u5bfc\u5165\u6570\u636e\u81f3Nebula Graph v1.2.0\u3002 \u5982\u679c\u60a8\u6b63\u5728\u4f7f\u7528 Nebula Graph v2.x\uff0c\u8bf7\u4f7f\u7528 Nebula Exchange v2.x \u3002","title":"Nebula Graph \u7248\u672c"},{"location":"nebula-exchange/about-exchange/ex-ug-limitations/#_2","text":"Exchange v1.x \u652f\u6301\u4ee5\u4e0b\u64cd\u4f5c\u7cfb\u7edf\uff1a CentOS 7 macOS \u8bf4\u660e \uff1a\u4ec5 Linux \u7cfb\u7edf\u652f\u6301\u5bfc\u5165 SST \u6587\u4ef6\u3002","title":"\u4f7f\u7528\u73af\u5883"},{"location":"nebula-exchange/about-exchange/ex-ug-limitations/#_3","text":"\u4e3a\u4fdd\u8bc1 Exchange v1.x \u6b63\u5e38\u5de5\u4f5c\uff0c\u786e\u8ba4\u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\uff1a2.3.0 \u53ca\u4ee5\u4e0a\u7248\u672c Java\uff1a1.8 Scala\uff1a2.10.7\u30012.11.12\u30012.12.10 \u5728\u4ee5\u4e0b\u4f7f\u7528\u573a\u666f\uff0c\u8fd8\u9700\u8981\u90e8\u7f72 Hadoop Distributed File System (HDFS)\uff1a \u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u8fc1\u79fb HDFS \u4e0a\u7684\u6570\u636e \u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u8fc1\u79fb\u6570\u636e","title":"\u8f6f\u4ef6\u4f9d\u8d56"},{"location":"nebula-exchange/about-exchange/ex-ug-terms/","text":"\u540d\u8bcd\u89e3\u91ca \u00b6 \u672c\u6587\u63cf\u8ff0\u4e86\u60a8\u5728\u4f7f\u7528 Exchange \u65f6\u53ef\u80fd\u9700\u8981\u4e86\u89e3\u7684\u540d\u8bcd\u89e3\u91ca\u3002 Nebula Exchange\uff1a\u5728\u672c\u624b\u518c\u4e2d\u7b80\u79f0\u4e3a Exchange \u6216 Exchange v1.x\uff0c\u4e00\u6b3e\u57fa\u4e8e Apache Spark\u2122 \u7684 Spark \u5e94\u7528\uff0c\u7528\u4e8e\u6279\u91cf\u6570\u636e\u8fc1\u79fb\u3002\u5b83\u652f\u6301\u5c06\u591a\u79cd\u4e0d\u540c\u6765\u6e90\u548c\u683c\u5f0f\u7684\u6570\u636e\u6587\u4ef6\u8f6c\u6362\u4e3a Nebula Graph \u80fd\u8bc6\u522b\u7684\u70b9\u548c\u8fb9\u6570\u636e\uff0c\u518d\u5e76\u53d1\u5bfc\u5165 Nebula Graph\u3002 Aparch Spark\u2122\uff1a\u662f\u4e13\u4e3a\u5927\u89c4\u6a21\u6570\u636e\u5904\u7406\u800c\u8bbe\u8ba1\u7684\u5feb\u901f\u901a\u7528\u7684\u8ba1\u7b97\u5f15\u64ce\uff0c\u662f Apache \u8f6f\u4ef6\u57fa\u91d1\u4f1a\u7684\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\u3002 Driver Program\uff1a\u5728\u672c\u624b\u518c\u4e2d\u7b80\u79f0\u4e3a Driver\uff0c\u662f\u8fd0\u884c\u5e94\u7528\u7684 main \u51fd\u6570\u5e76\u4e14\u65b0\u5efa SparkContext \u5b9e\u4f8b\u7684\u7a0b\u5e8f\u3002","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"nebula-exchange/about-exchange/ex-ug-terms/#_1","text":"\u672c\u6587\u63cf\u8ff0\u4e86\u60a8\u5728\u4f7f\u7528 Exchange \u65f6\u53ef\u80fd\u9700\u8981\u4e86\u89e3\u7684\u540d\u8bcd\u89e3\u91ca\u3002 Nebula Exchange\uff1a\u5728\u672c\u624b\u518c\u4e2d\u7b80\u79f0\u4e3a Exchange \u6216 Exchange v1.x\uff0c\u4e00\u6b3e\u57fa\u4e8e Apache Spark\u2122 \u7684 Spark \u5e94\u7528\uff0c\u7528\u4e8e\u6279\u91cf\u6570\u636e\u8fc1\u79fb\u3002\u5b83\u652f\u6301\u5c06\u591a\u79cd\u4e0d\u540c\u6765\u6e90\u548c\u683c\u5f0f\u7684\u6570\u636e\u6587\u4ef6\u8f6c\u6362\u4e3a Nebula Graph \u80fd\u8bc6\u522b\u7684\u70b9\u548c\u8fb9\u6570\u636e\uff0c\u518d\u5e76\u53d1\u5bfc\u5165 Nebula Graph\u3002 Aparch Spark\u2122\uff1a\u662f\u4e13\u4e3a\u5927\u89c4\u6a21\u6570\u636e\u5904\u7406\u800c\u8bbe\u8ba1\u7684\u5feb\u901f\u901a\u7528\u7684\u8ba1\u7b97\u5f15\u64ce\uff0c\u662f Apache \u8f6f\u4ef6\u57fa\u91d1\u4f1a\u7684\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\u3002 Driver Program\uff1a\u5728\u672c\u624b\u518c\u4e2d\u7b80\u79f0\u4e3a Driver\uff0c\u662f\u8fd0\u884c\u5e94\u7528\u7684 main \u51fd\u6570\u5e76\u4e14\u65b0\u5efa SparkContext \u5b9e\u4f8b\u7684\u7a0b\u5e8f\u3002","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"nebula-exchange/about-exchange/ex-ug-what-is-exchange/","text":"\u4ec0\u4e48\u662f Nebula Exchange \u00b6 Nebula Exchange \uff08\u7b80\u79f0\u4e3a Exchange\uff09\u662f\u4e00\u6b3e Apache Spark\u2122 \u5e94\u7528\uff0c\u7528\u4e8e\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u5c06\u96c6\u7fa4\u4e2d\u7684\u6570\u636e\u6279\u91cf\u8fc1\u79fb\u5230 Nebula Graph \u4e2d\uff0c\u80fd\u652f\u6301\u591a\u79cd\u4e0d\u540c\u683c\u5f0f\u7684\u6279\u5f0f\u6570\u636e\u548c\u6d41\u5f0f\u6570\u636e\u7684\u8fc1\u79fb\u3002 Exchange \u7531 Reader\u3001Processor \u548c Writer \u4e09\u90e8\u5206\u7ec4\u6210\u3002Reader \u8bfb\u53d6\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u8fd4\u56de DataFrame \u540e\uff0cProcessor \u904d\u5386 DataFrame \u7684\u6bcf\u4e00\u884c\uff0c\u6839\u636e\u914d\u7f6e\u6587\u4ef6\u4e2d fields \u7684\u6620\u5c04\u5173\u7cfb\uff0c\u6309\u5217\u540d\u83b7\u53d6\u5bf9\u5e94\u7684\u503c\u3002\u5728\u904d\u5386\u6307\u5b9a\u6279\u5904\u7406\u7684\u884c\u6570\u540e\uff0cWriter \u4f1a\u5c06\u83b7\u53d6\u7684\u6570\u636e\u4e00\u6b21\u6027\u5199\u5165\u5230 Nebula Graph \u4e2d\u3002\u4e0b\u56fe\u63cf\u8ff0\u4e86 Exchange \u5b8c\u6210\u6570\u636e\u8f6c\u6362\u548c\u8fc1\u79fb\u7684\u8fc7\u7a0b\u3002 \u9002\u7528\u573a\u666f \u00b6 Exchange \u53ef\u88ab\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u60a8\u60f3\u5c06\u6765\u81ea Kafka\u3001Pulsar \u5e73\u53f0\u7684\u6d41\u5f0f\u6570\u636e\uff0c\u5982\u65e5\u5fd7\u6587\u4ef6\u3001\u7f51\u8d2d\u6570\u636e\u3001\u6e38\u620f\u5185\u73a9\u5bb6\u6d3b\u52a8\u3001\u793e\u4ea4\u7f51\u7ad9\u4fe1\u606f\u3001\u91d1\u878d\u4ea4\u6613\u5927\u5385\u6216\u5730\u7406\u7a7a\u95f4\u670d\u52a1\uff0c\u4ee5\u53ca\u6765\u81ea\u6570\u636e\u4e2d\u5fc3\u5185\u6240\u8fde\u63a5\u8bbe\u5907\u6216\u4eea\u5668\u7684\u9065\u6d4b\u6570\u636e\u7b49\u8f6c\u5316\u4e3a\u5c5e\u6027\u56fe\u7684\u70b9\u6216\u8fb9\u6570\u636e\uff0c\u5e76\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 \u60a8\u60f3\u4ece\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u5982 MySQL\uff09\u6216\u8005\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff08\u5982 HDFS\uff09\u4e2d\u8bfb\u53d6\u6279\u5f0f\u6570\u636e\uff0c\u5982\u67d0\u4e2a\u65f6\u95f4\u6bb5\u5185\u7684\u6570\u636e\uff0c\u5c06\u5b83\u4eec\u8f6c\u5316\u4e3a\u5c5e\u6027\u56fe\u7684\u70b9\u6216\u8fb9\u6570\u636e\uff0c\u5e76\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 \u60a8\u60f3\u5c06\u5927\u6279\u91cf\u6570\u636e\u751f\u6210 Nebula Graph \u80fd\u8bc6\u522b\u7684 SST \u6587\u4ef6\uff0c\u518d\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 \u4ea7\u54c1\u4f18\u70b9 \u00b6 Exchange \u5177\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a \u9002\u5e94\u6027\u5f3a\uff1a\u652f\u6301\u5c06\u591a\u79cd\u4e0d\u540c\u683c\u5f0f\u6216\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\uff0c\u4fbf\u4e8e\u60a8\u8fc1\u79fb\u6570\u636e\u3002 \u652f\u6301\u5bfc\u5165 SST\uff1a\u652f\u6301\u5c06\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u8f6c\u6362\u4e3a SST \u6587\u4ef6\uff0c\u7528\u4e8e\u6570\u636e\u5bfc\u5165\u3002 \u8bf4\u660e \uff1a\u4ec5 Linux \u7cfb\u7edf\u652f\u6301\u5bfc\u5165 SST \u6587\u4ef6\u3002 \u652f\u6301\u65ad\u70b9\u7eed\u4f20\uff1a\u5bfc\u5165\u6570\u636e\u65f6\u652f\u6301\u65ad\u70b9\u7eed\u4f20\uff0c\u6709\u52a9\u4e8e\u60a8\u8282\u7701\u65f6\u95f4\uff0c\u63d0\u9ad8\u6570\u636e\u5bfc\u5165\u6548\u7387\u3002 \u8bf4\u660e \uff1a\u76ee\u524d\u4ec5\u8fc1\u79fb Neo4j \u6570\u636e\u65f6\u652f\u6301\u65ad\u70b9\u7eed\u4f20\u3002 \u5f02\u6b65\u64cd\u4f5c\uff1a\u4f1a\u5728\u6e90\u6570\u636e\u4e2d\u751f\u6210\u4e00\u6761\u63d2\u5165\u8bed\u53e5\uff0c\u53d1\u9001\u7ed9\u67e5\u8be2\u670d\u52a1\uff0c\u6700\u540e\u518d\u6267\u884c Nebula Graph \u7684\u63d2\u5165\u64cd\u4f5c\u3002 \u7075\u6d3b\u6027\u5f3a\uff1a\u652f\u6301\u540c\u65f6\u5bfc\u5165\u591a\u4e2a\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\uff0c\u4e0d\u540c\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u53ef\u4ee5\u662f\u4e0d\u540c\u7684\u6570\u636e\u6765\u6e90\u6216\u683c\u5f0f\u3002 \u7edf\u8ba1\u529f\u80fd\uff1a\u4f7f\u7528 Apache Spark\u2122 \u4e2d\u7684\u7d2f\u52a0\u5668\u7edf\u8ba1\u63d2\u5165\u64cd\u4f5c\u7684\u6210\u529f\u548c\u5931\u8d25\u6b21\u6570\u3002 \u6613\u4e8e\u4f7f\u7528\uff0c\u5bf9\u7528\u6237\u53cb\u597d\uff1a\u91c7\u7528 HOCON\uff08Human-Optimized Config Object Notation\uff09\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\uff0c\u5177\u6709\u9762\u5411\u5bf9\u8c61\u98ce\u683c\uff0c\u4fbf\u4e8e\u7406\u89e3\u548c\u64cd\u4f5c\u3002 \u6570\u636e\u683c\u5f0f\u548c\u6765\u6e90 \u00b6 Exchange v1.x \u652f\u6301\u5c06\u4ee5\u4e0b\u683c\u5f0f\u6216\u6765\u6e90\u7684\u6570\u636e\u8f6c\u6362\u4e3a Nebula Graph v1.x \u80fd\u8bc6\u522b\u7684\u70b9\u548c\u8fb9\u6570\u636e\uff1a \u5b58\u50a8\u5728 HDFS \u7684\u6570\u636e\uff0c\u5305\u62ec\uff1a Apache Parquet Apache ORC JSON CSV Apache HBase\u2122 \u6570\u636e\u4ed3\u5e93\uff1aHIVE \u56fe\u6570\u636e\u5e93\uff1aNeo4j 2.4.5-M1\u3002\u4ec5 Neo4j \u652f\u6301\u65ad\u70b9\u7eed\u4f20 \u5173\u7cfb\u578b\u6570\u636e\u5e93\uff1aMySQL \u6d41\u5904\u7406\u8f6f\u4ef6\u5e73\u53f0\uff1aApache Kafka\u00ae \u53d1\u5e03/\u8ba2\u9605\u6d88\u606f\u7cfb\u7edf\uff1aApache Pulsar 2.4.5","title":"\u4ec0\u4e48\u662f Nebula Exchange"},{"location":"nebula-exchange/about-exchange/ex-ug-what-is-exchange/#nebula_exchange","text":"Nebula Exchange \uff08\u7b80\u79f0\u4e3a Exchange\uff09\u662f\u4e00\u6b3e Apache Spark\u2122 \u5e94\u7528\uff0c\u7528\u4e8e\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u5c06\u96c6\u7fa4\u4e2d\u7684\u6570\u636e\u6279\u91cf\u8fc1\u79fb\u5230 Nebula Graph \u4e2d\uff0c\u80fd\u652f\u6301\u591a\u79cd\u4e0d\u540c\u683c\u5f0f\u7684\u6279\u5f0f\u6570\u636e\u548c\u6d41\u5f0f\u6570\u636e\u7684\u8fc1\u79fb\u3002 Exchange \u7531 Reader\u3001Processor \u548c Writer \u4e09\u90e8\u5206\u7ec4\u6210\u3002Reader \u8bfb\u53d6\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u8fd4\u56de DataFrame \u540e\uff0cProcessor \u904d\u5386 DataFrame \u7684\u6bcf\u4e00\u884c\uff0c\u6839\u636e\u914d\u7f6e\u6587\u4ef6\u4e2d fields \u7684\u6620\u5c04\u5173\u7cfb\uff0c\u6309\u5217\u540d\u83b7\u53d6\u5bf9\u5e94\u7684\u503c\u3002\u5728\u904d\u5386\u6307\u5b9a\u6279\u5904\u7406\u7684\u884c\u6570\u540e\uff0cWriter \u4f1a\u5c06\u83b7\u53d6\u7684\u6570\u636e\u4e00\u6b21\u6027\u5199\u5165\u5230 Nebula Graph \u4e2d\u3002\u4e0b\u56fe\u63cf\u8ff0\u4e86 Exchange \u5b8c\u6210\u6570\u636e\u8f6c\u6362\u548c\u8fc1\u79fb\u7684\u8fc7\u7a0b\u3002","title":"\u4ec0\u4e48\u662f Nebula Exchange"},{"location":"nebula-exchange/about-exchange/ex-ug-what-is-exchange/#_1","text":"Exchange \u53ef\u88ab\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u60a8\u60f3\u5c06\u6765\u81ea Kafka\u3001Pulsar \u5e73\u53f0\u7684\u6d41\u5f0f\u6570\u636e\uff0c\u5982\u65e5\u5fd7\u6587\u4ef6\u3001\u7f51\u8d2d\u6570\u636e\u3001\u6e38\u620f\u5185\u73a9\u5bb6\u6d3b\u52a8\u3001\u793e\u4ea4\u7f51\u7ad9\u4fe1\u606f\u3001\u91d1\u878d\u4ea4\u6613\u5927\u5385\u6216\u5730\u7406\u7a7a\u95f4\u670d\u52a1\uff0c\u4ee5\u53ca\u6765\u81ea\u6570\u636e\u4e2d\u5fc3\u5185\u6240\u8fde\u63a5\u8bbe\u5907\u6216\u4eea\u5668\u7684\u9065\u6d4b\u6570\u636e\u7b49\u8f6c\u5316\u4e3a\u5c5e\u6027\u56fe\u7684\u70b9\u6216\u8fb9\u6570\u636e\uff0c\u5e76\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 \u60a8\u60f3\u4ece\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u5982 MySQL\uff09\u6216\u8005\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff08\u5982 HDFS\uff09\u4e2d\u8bfb\u53d6\u6279\u5f0f\u6570\u636e\uff0c\u5982\u67d0\u4e2a\u65f6\u95f4\u6bb5\u5185\u7684\u6570\u636e\uff0c\u5c06\u5b83\u4eec\u8f6c\u5316\u4e3a\u5c5e\u6027\u56fe\u7684\u70b9\u6216\u8fb9\u6570\u636e\uff0c\u5e76\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 \u60a8\u60f3\u5c06\u5927\u6279\u91cf\u6570\u636e\u751f\u6210 Nebula Graph \u80fd\u8bc6\u522b\u7684 SST \u6587\u4ef6\uff0c\u518d\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"nebula-exchange/about-exchange/ex-ug-what-is-exchange/#_2","text":"Exchange \u5177\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a \u9002\u5e94\u6027\u5f3a\uff1a\u652f\u6301\u5c06\u591a\u79cd\u4e0d\u540c\u683c\u5f0f\u6216\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\uff0c\u4fbf\u4e8e\u60a8\u8fc1\u79fb\u6570\u636e\u3002 \u652f\u6301\u5bfc\u5165 SST\uff1a\u652f\u6301\u5c06\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u8f6c\u6362\u4e3a SST \u6587\u4ef6\uff0c\u7528\u4e8e\u6570\u636e\u5bfc\u5165\u3002 \u8bf4\u660e \uff1a\u4ec5 Linux \u7cfb\u7edf\u652f\u6301\u5bfc\u5165 SST \u6587\u4ef6\u3002 \u652f\u6301\u65ad\u70b9\u7eed\u4f20\uff1a\u5bfc\u5165\u6570\u636e\u65f6\u652f\u6301\u65ad\u70b9\u7eed\u4f20\uff0c\u6709\u52a9\u4e8e\u60a8\u8282\u7701\u65f6\u95f4\uff0c\u63d0\u9ad8\u6570\u636e\u5bfc\u5165\u6548\u7387\u3002 \u8bf4\u660e \uff1a\u76ee\u524d\u4ec5\u8fc1\u79fb Neo4j \u6570\u636e\u65f6\u652f\u6301\u65ad\u70b9\u7eed\u4f20\u3002 \u5f02\u6b65\u64cd\u4f5c\uff1a\u4f1a\u5728\u6e90\u6570\u636e\u4e2d\u751f\u6210\u4e00\u6761\u63d2\u5165\u8bed\u53e5\uff0c\u53d1\u9001\u7ed9\u67e5\u8be2\u670d\u52a1\uff0c\u6700\u540e\u518d\u6267\u884c Nebula Graph \u7684\u63d2\u5165\u64cd\u4f5c\u3002 \u7075\u6d3b\u6027\u5f3a\uff1a\u652f\u6301\u540c\u65f6\u5bfc\u5165\u591a\u4e2a\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\uff0c\u4e0d\u540c\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u53ef\u4ee5\u662f\u4e0d\u540c\u7684\u6570\u636e\u6765\u6e90\u6216\u683c\u5f0f\u3002 \u7edf\u8ba1\u529f\u80fd\uff1a\u4f7f\u7528 Apache Spark\u2122 \u4e2d\u7684\u7d2f\u52a0\u5668\u7edf\u8ba1\u63d2\u5165\u64cd\u4f5c\u7684\u6210\u529f\u548c\u5931\u8d25\u6b21\u6570\u3002 \u6613\u4e8e\u4f7f\u7528\uff0c\u5bf9\u7528\u6237\u53cb\u597d\uff1a\u91c7\u7528 HOCON\uff08Human-Optimized Config Object Notation\uff09\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\uff0c\u5177\u6709\u9762\u5411\u5bf9\u8c61\u98ce\u683c\uff0c\u4fbf\u4e8e\u7406\u89e3\u548c\u64cd\u4f5c\u3002","title":"\u4ea7\u54c1\u4f18\u70b9"},{"location":"nebula-exchange/about-exchange/ex-ug-what-is-exchange/#_3","text":"Exchange v1.x \u652f\u6301\u5c06\u4ee5\u4e0b\u683c\u5f0f\u6216\u6765\u6e90\u7684\u6570\u636e\u8f6c\u6362\u4e3a Nebula Graph v1.x \u80fd\u8bc6\u522b\u7684\u70b9\u548c\u8fb9\u6570\u636e\uff1a \u5b58\u50a8\u5728 HDFS \u7684\u6570\u636e\uff0c\u5305\u62ec\uff1a Apache Parquet Apache ORC JSON CSV Apache HBase\u2122 \u6570\u636e\u4ed3\u5e93\uff1aHIVE \u56fe\u6570\u636e\u5e93\uff1aNeo4j 2.4.5-M1\u3002\u4ec5 Neo4j \u652f\u6301\u65ad\u70b9\u7eed\u4f20 \u5173\u7cfb\u578b\u6570\u636e\u5e93\uff1aMySQL \u6d41\u5904\u7406\u8f6f\u4ef6\u5e73\u53f0\uff1aApache Kafka\u00ae \u53d1\u5e03/\u8ba2\u9605\u6d88\u606f\u7cfb\u7edf\uff1aApache Pulsar 2.4.5","title":"\u6570\u636e\u683c\u5f0f\u548c\u6765\u6e90"},{"location":"nebula-exchange/parameter-reference/ex-ug-para-import-command/","text":"\u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u00b6 \u5b8c\u6210\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06\u6307\u5b9a\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 $SPARK_HOME /bin/spark-submit --class com.vesoft.nebula.tools.importer.Exchange --master \"local[10]\" target/exchange-1.x.y.jar -c /path/to/conf/application.conf \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4ee5\u60a8\u5b9e\u9645\u7f16\u8bd1\u5f97\u5230\u7684 JAR \u6587\u4ef6\u540d\u79f0\u4e3a\u51c6\u3002 \u4e0b\u8868\u5217\u51fa\u4e86\u547d\u4ee4\u7684\u76f8\u5173\u53c2\u6570\u3002 \u53c2\u6570 \u662f\u5426\u5fc5\u9700 \u9ed8\u8ba4\u503c \u8bf4\u660e --class \u662f \u65e0 \u6307\u5b9a Driver \u4e3b\u7c7b\u3002 --master \u662f \u65e0 \u6307\u5b9a Spark \u96c6\u7fa4\u4e2d Master \u8fdb\u7a0b\u7684 URL\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 master-urls \u3002 -c / --config \u662f \u65e0 \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\u3002 -h / --hive \u5426 false \u6dfb\u52a0\u8fd9\u4e2a\u53c2\u6570\u8868\u793a\u652f\u6301\u4ece HIVE \u4e2d\u5bfc\u5165\u6570\u636e\u3002 -D / --dry \u5426 false \u6dfb\u52a0\u8fd9\u4e2a\u53c2\u6570\u8868\u793a\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u7684\u683c\u5f0f\u662f\u5426\u7b26\u5408\u8981\u6c42\uff0c\u4f46\u4e0d\u4f1a\u6821\u9a8c tags \u548c edges \u7684\u914d\u7f6e\u9879\u662f\u5426\u6b63\u786e\u3002\u6b63\u5f0f\u5bfc\u5165\u6570\u636e\u65f6\u4e0d\u80fd\u6dfb\u52a0\u8fd9\u4e2a\u53c2\u6570\u3002","title":"\u5bfc\u5165\u547d\u4ee4\u53c2\u6570"},{"location":"nebula-exchange/parameter-reference/ex-ug-para-import-command/#_1","text":"\u5b8c\u6210\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06\u6307\u5b9a\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 $SPARK_HOME /bin/spark-submit --class com.vesoft.nebula.tools.importer.Exchange --master \"local[10]\" target/exchange-1.x.y.jar -c /path/to/conf/application.conf \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4ee5\u60a8\u5b9e\u9645\u7f16\u8bd1\u5f97\u5230\u7684 JAR \u6587\u4ef6\u540d\u79f0\u4e3a\u51c6\u3002 \u4e0b\u8868\u5217\u51fa\u4e86\u547d\u4ee4\u7684\u76f8\u5173\u53c2\u6570\u3002 \u53c2\u6570 \u662f\u5426\u5fc5\u9700 \u9ed8\u8ba4\u503c \u8bf4\u660e --class \u662f \u65e0 \u6307\u5b9a Driver \u4e3b\u7c7b\u3002 --master \u662f \u65e0 \u6307\u5b9a Spark \u96c6\u7fa4\u4e2d Master \u8fdb\u7a0b\u7684 URL\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 master-urls \u3002 -c / --config \u662f \u65e0 \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\u3002 -h / --hive \u5426 false \u6dfb\u52a0\u8fd9\u4e2a\u53c2\u6570\u8868\u793a\u652f\u6301\u4ece HIVE \u4e2d\u5bfc\u5165\u6570\u636e\u3002 -D / --dry \u5426 false \u6dfb\u52a0\u8fd9\u4e2a\u53c2\u6570\u8868\u793a\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u7684\u683c\u5f0f\u662f\u5426\u7b26\u5408\u8981\u6c42\uff0c\u4f46\u4e0d\u4f1a\u6821\u9a8c tags \u548c edges \u7684\u914d\u7f6e\u9879\u662f\u5426\u6b63\u786e\u3002\u6b63\u5f0f\u5bfc\u5165\u6570\u636e\u65f6\u4e0d\u80fd\u6dfb\u52a0\u8fd9\u4e2a\u53c2\u6570\u3002","title":"\u5bfc\u5165\u547d\u4ee4\u53c2\u6570"},{"location":"nebula-exchange/parameter-reference/ex-ug-paras-nebulagraph/","text":"Nebula Graph \u76f8\u5173\u53c2\u6570 \u00b6 \u4e0b\u8868\u5217\u51fa\u5728\u4f7f\u7528 Exchange \u5bfc\u5165\u6570\u636e\u65f6\u60a8\u9700\u8981\u8bbe\u7f6e\u7684 Nebula Graph \u76f8\u5173\u53c2\u6570\u3002\u5b9e\u9645\u5e94\u7528\u65f6\u7684\u53c2\u6570\u8bbe\u7f6e\uff0c\u53c2\u8003\u4e0d\u540c\u6765\u6e90\u6570\u636e\u7684 \u64cd\u4f5c\u793a\u4f8b \u3002 \u53c2\u6570 \u9ed8\u8ba4\u503c \u6570\u636e\u7c7b\u578b \u662f\u5426\u5fc5\u9700 \u8bf4\u660e nebula.address.graph \u65e0 list[string] \u662f Nebula Graph \u56fe\u6570\u636e\u5e93 Graph \u670d\u52a1\u7684\u5730\u5740\u5217\u8868\u3002\u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002\u683c\u5f0f\u4e3a \"ip1:port\",\"ip2:port\",\"ip3:port\" \u3002 nebula.address.meta \u65e0 list[string] \u662f Nebula Graph \u56fe\u6570\u636e\u5e93 Meta \u670d\u52a1\u7684\u5730\u5740\u5217\u8868\u3002\u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002\u683c\u5f0f\u4e3a \"ip1:port\",\"ip2:port\",\"ip3:port\" \u3002 nebula.user user string \u662f \u6570\u636e\u5e93\u7528\u6237\u540d\uff0c\u9ed8\u8ba4\u4e3a user \u3002\u5982\u679c Nebula Graph \u542f\u7528\u4e86\u8eab\u4efd\u8ba4\u8bc1\uff1a - \u5982\u679c\u672a\u521b\u5efa\u4e0d\u540c\u7528\u6237\uff0c\u4f7f\u7528 root \u3002 - \u5982\u679c\u5df2\u7ecf\u521b\u5efa\u4e86\u4e0d\u540c\u7684\u7528\u6237\u5e76\u4e14\u5206\u914d\u4e86\u6307\u5b9a\u7a7a\u95f4\u7684\u89d2\u8272\uff0c\u5219\u4f7f\u7528\u5bf9\u8be5\u7a7a\u95f4\u62e5\u6709\u5199\u64cd\u4f5c\u6743\u9650\u7684\u7528\u6237\u3002 nebula.pswd password string \u662f \u6570\u636e\u5e93\u7528\u6237\u540d\u5bf9\u5e94\u7684\u5bc6\u7801\uff0c\u9ed8\u8ba4 user \u7684\u5bc6\u7801\u4e3a password \u3002\u5982\u679c Nebula Graph \u542f\u7528\u4e86\u8eab\u4efd\u8ba4\u8bc1\uff1a - \u4f7f\u7528 root \u65f6\uff0c\u5bc6\u7801\u4e3a nebula \u3002 - \u4f7f\u7528\u5176\u4ed6\u7528\u6237\u8d26\u53f7\u65f6\uff0c\u8bbe\u7f6e\u8d26\u53f7\u5bf9\u5e94\u7684\u5bc6\u7801\u3002 nebula.space \u65e0 string \u662f \u5bfc\u5165\u6570\u636e\u5bf9\u5e94\u7684\u56fe\u7a7a\u95f4\uff08Space\uff09\u540d\u79f0\u3002 nebula.connection.timeout 3000 int \u5426 Thrift \u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a ms\u3002 nebula.connection.retry 3 int \u5426 Thrift \u8fde\u63a5\u91cd\u8bd5\u6b21\u6570\u3002 nebula.execution.retry 3 int \u5426 nGQL \u8bed\u53e5\u6267\u884c\u91cd\u8bd5\u6b21\u6570\u3002 nebula.error.max 32 int \u5426 \u6307\u5b9a\u5bfc\u5165\u8fc7\u7a0b\u4e2d\u7684\u6700\u5927\u5931\u8d25\u6b21\u6570\u3002\u5f53\u5931\u8d25\u6b21\u6570\u8fbe\u5230\u6700\u5927\u503c\u65f6\uff0c\u63d0\u4ea4\u7684 Spark \u4f5c\u4e1a\u5c06\u81ea\u52a8\u505c\u6b62\u3002 nebula.error.output \u65e0 string \u662f \u5728 Nebula Graph \u670d\u52a1\u5668\u4e0a\u6307\u5b9a\u8f93\u51fa\u9519\u8bef\u4fe1\u606f\u7684\u65e5\u5fd7\u8def\u5f84\u3002\u60a8\u53ef\u4ee5\u5728\u8fd9\u4e2a\u6587\u4ef6\u91cc\u67e5\u770b\u53d1\u751f\u7684\u6240\u6709\u9519\u8bef\u4fe1\u606f\u3002","title":"Nebula Graph \u53c2\u6570"},{"location":"nebula-exchange/parameter-reference/ex-ug-paras-nebulagraph/#nebula_graph","text":"\u4e0b\u8868\u5217\u51fa\u5728\u4f7f\u7528 Exchange \u5bfc\u5165\u6570\u636e\u65f6\u60a8\u9700\u8981\u8bbe\u7f6e\u7684 Nebula Graph \u76f8\u5173\u53c2\u6570\u3002\u5b9e\u9645\u5e94\u7528\u65f6\u7684\u53c2\u6570\u8bbe\u7f6e\uff0c\u53c2\u8003\u4e0d\u540c\u6765\u6e90\u6570\u636e\u7684 \u64cd\u4f5c\u793a\u4f8b \u3002 \u53c2\u6570 \u9ed8\u8ba4\u503c \u6570\u636e\u7c7b\u578b \u662f\u5426\u5fc5\u9700 \u8bf4\u660e nebula.address.graph \u65e0 list[string] \u662f Nebula Graph \u56fe\u6570\u636e\u5e93 Graph \u670d\u52a1\u7684\u5730\u5740\u5217\u8868\u3002\u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002\u683c\u5f0f\u4e3a \"ip1:port\",\"ip2:port\",\"ip3:port\" \u3002 nebula.address.meta \u65e0 list[string] \u662f Nebula Graph \u56fe\u6570\u636e\u5e93 Meta \u670d\u52a1\u7684\u5730\u5740\u5217\u8868\u3002\u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002\u683c\u5f0f\u4e3a \"ip1:port\",\"ip2:port\",\"ip3:port\" \u3002 nebula.user user string \u662f \u6570\u636e\u5e93\u7528\u6237\u540d\uff0c\u9ed8\u8ba4\u4e3a user \u3002\u5982\u679c Nebula Graph \u542f\u7528\u4e86\u8eab\u4efd\u8ba4\u8bc1\uff1a - \u5982\u679c\u672a\u521b\u5efa\u4e0d\u540c\u7528\u6237\uff0c\u4f7f\u7528 root \u3002 - \u5982\u679c\u5df2\u7ecf\u521b\u5efa\u4e86\u4e0d\u540c\u7684\u7528\u6237\u5e76\u4e14\u5206\u914d\u4e86\u6307\u5b9a\u7a7a\u95f4\u7684\u89d2\u8272\uff0c\u5219\u4f7f\u7528\u5bf9\u8be5\u7a7a\u95f4\u62e5\u6709\u5199\u64cd\u4f5c\u6743\u9650\u7684\u7528\u6237\u3002 nebula.pswd password string \u662f \u6570\u636e\u5e93\u7528\u6237\u540d\u5bf9\u5e94\u7684\u5bc6\u7801\uff0c\u9ed8\u8ba4 user \u7684\u5bc6\u7801\u4e3a password \u3002\u5982\u679c Nebula Graph \u542f\u7528\u4e86\u8eab\u4efd\u8ba4\u8bc1\uff1a - \u4f7f\u7528 root \u65f6\uff0c\u5bc6\u7801\u4e3a nebula \u3002 - \u4f7f\u7528\u5176\u4ed6\u7528\u6237\u8d26\u53f7\u65f6\uff0c\u8bbe\u7f6e\u8d26\u53f7\u5bf9\u5e94\u7684\u5bc6\u7801\u3002 nebula.space \u65e0 string \u662f \u5bfc\u5165\u6570\u636e\u5bf9\u5e94\u7684\u56fe\u7a7a\u95f4\uff08Space\uff09\u540d\u79f0\u3002 nebula.connection.timeout 3000 int \u5426 Thrift \u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a ms\u3002 nebula.connection.retry 3 int \u5426 Thrift \u8fde\u63a5\u91cd\u8bd5\u6b21\u6570\u3002 nebula.execution.retry 3 int \u5426 nGQL \u8bed\u53e5\u6267\u884c\u91cd\u8bd5\u6b21\u6570\u3002 nebula.error.max 32 int \u5426 \u6307\u5b9a\u5bfc\u5165\u8fc7\u7a0b\u4e2d\u7684\u6700\u5927\u5931\u8d25\u6b21\u6570\u3002\u5f53\u5931\u8d25\u6b21\u6570\u8fbe\u5230\u6700\u5927\u503c\u65f6\uff0c\u63d0\u4ea4\u7684 Spark \u4f5c\u4e1a\u5c06\u81ea\u52a8\u505c\u6b62\u3002 nebula.error.output \u65e0 string \u662f \u5728 Nebula Graph \u670d\u52a1\u5668\u4e0a\u6307\u5b9a\u8f93\u51fa\u9519\u8bef\u4fe1\u606f\u7684\u65e5\u5fd7\u8def\u5f84\u3002\u60a8\u53ef\u4ee5\u5728\u8fd9\u4e2a\u6587\u4ef6\u91cc\u67e5\u770b\u53d1\u751f\u7684\u6240\u6709\u9519\u8bef\u4fe1\u606f\u3002","title":"Nebula Graph \u76f8\u5173\u53c2\u6570"},{"location":"nebula-exchange/parameter-reference/ex-ug-paras-neo4j/","text":"Neo4j \u6570\u636e\u6e90\u76f8\u5173\u53c2\u6570 \u00b6 \u5982\u679c\u8981\u5bfc\u5165\u7684\u6570\u636e\u6765\u6e90\u4e3a Neo4j\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u914d\u7f6e\u4ee5\u4e0b\u53c2\u6570\u3002 \u53c2\u6570 \u9ed8\u8ba4\u503c \u6570\u636e\u7c7b\u578b \u662f\u5426\u5fc5\u9700 \u8bf4\u660e tags.name \u65e0 string \u662f \u8bbe\u7f6e\u4e3a Nebula Graph \u4e2d\u7684\u6807\u7b7e\u540d\u79f0\u3002 tags.type.source \u65e0 string \u662f \u6307\u5b9a\u6807\u7b7e\u6e90\u6570\u636e\u7684\u683c\u5f0f\u3002\u8bbe\u7f6e\u4e3a neo4j \u3002 tags.type.sink \u65e0 string \u662f \u6307\u5b9a\u6807\u7b7e\u6e90\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\u3002\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1a - client \uff1a\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165 - sst \uff1a\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165 tags.server \u65e0 string \u662f \u8bbe\u7f6e Neo4j \u6570\u636e\u5e93\u670d\u52a1\u5668\u5730\u5740\uff0c\u683c\u5f0f\u5fc5\u987b\u4e3a bolt://<IP\u5730\u5740>:7687 \u3002 tags.user \u65e0 string \u662f Neo4j \u6570\u636e\u5e93\u767b\u5f55\u8d26\u53f7\u3002 tags.password \u65e0 string \u662f Neo4j \u6570\u636e\u5e93\u8d26\u53f7\u767b\u5f55\u5bc6\u7801\u3002 tags.encription false string \u5426 \u4f20\u8f93\u662f\u5426\u52a0\u5bc6\uff0c\u9ed8\u8ba4\u503c\u4e3a false \uff0c\u8868\u793a\u4e0d\u52a0\u5bc6\u3002\u8bbe\u7f6e\u4e3a true \u65f6\uff0c\u8868\u793a\u52a0\u5bc6\u3002 tags.database \u65e0 string \u5426 \u8bbe\u7f6e\u6e90\u6570\u636e\u6240\u5728 Neo4j \u6570\u636e\u5e93\u7684\u540d\u79f0\u3002\u5982\u679c\u60a8\u4f7f\u7528 Community Edition Neo4j\uff0c\u4e0d\u652f\u6301\u8fd9\u4e2a\u53c2\u6570\u3002 tags.exec \u65e0 string \u662f \u5199\u5165 Cypher \u8bed\u53e5\uff0c\u4ece Neo4j \u6570\u636e\u5e93\u4e2d\u68c0\u7d22\u6253\u4e86\u67d0\u79cd\u6807\u7b7e\u7684\u70b9\u7684\u5c5e\u6027\uff0c\u5e76\u6307\u5b9a\u522b\u540d\u3002Cypher \u8bed\u53e5\u4e0d\u80fd\u4ee5\u82f1\u6587\u5206\u53f7\uff08 ; \uff09\u7ed3\u5c3e\u3002 \u4f8b\u5982\uff0c\u5199\u5165 Cypher \u8bed\u53e5 match (n:label) return n.neo4j-field-0 as neo4j-field-0, n.neo4j-field-1 as neo4j-field-1 order by (n.neo4j-field-0) \u3002 tags.fields \u65e0 list[string] \u662f \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u4e0e Nebula Graph \u6807\u7b7e\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\u3002\u4ee5\u5217\u8868\u5f62\u5f0f\u5217\u51fa\uff0c\u591a\u4e2a\u5c5e\u6027\u540d\u79f0\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\uff08 , \uff09\u9694\u5f00\u3002\u5217\u51fa\u7684\u5c5e\u6027\u540d\u79f0\u5fc5\u987b\u4e0e tags.exec \u4e2d\u5217\u51fa\u7684\u5c5e\u6027\u540d\u79f0\u4fdd\u6301\u4e00\u81f4\u3002 tags.nebula.fields \u65e0 list[string] \u662f \u6307\u5b9a Nebula Graph Schema \u4e2d\u6807\u7b7e\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\u3002\u4ee5\u5217\u8868\u5f62\u5f0f\u5217\u51fa\u3002\u4e0e tags.fields \u5217\u8868\u4e2d\u7684\u5c5e\u6027\u540d\u79f0\u4e00\u4e00\u5bf9\u5e94\uff0c\u5f62\u6210\u6620\u5c04\u5173\u7cfb\u3002\u591a\u4e2a\u5c5e\u6027\u540d\u79f0\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\uff08 , \uff09\u9694\u5f00\u3002 tags.vertex \u6216\u8005 tags { vertex { field: [name] policy: \"hash\" } } \u65e0 string \u662f \u5c06\u6e90\u6570\u636e\u4e2d\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\u4f5c\u4e3a Nebula Graph \u70b9 VID \u7684\u6765\u6e90\u3002 \u5982\u679c\u5c5e\u6027\u4e3a int \u6216\u8005 long \u7c7b\u578b\uff0c\u4f7f\u7528 tags.vertex: [field name] \u8bbe\u7f6e VID \u5217\u3002 \u5982\u679c\u4e0d\u662f\u4e0a\u8ff0\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 tags.vertex.field \u548c tags.vertex.policy \u5bf9 VID \u8fdb\u884c\u9884\u5904\u7406\u3002\u5176\u4e2d\uff0c tags.vertex.policy \u53ef\u4ee5\u8bbe\u7f6e\u4e3a \"hash\" \u3002 tags.batch 256 int \u662f \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u70b9\u6570\u636e\u91cf\u3002 tags.partition 32 int \u662f Spark \u7684\u5206\u533a\u6570\u91cf\u3002 tags.check_point_path \u65e0 string \u5426 \u8bbe\u7f6e\u4fdd\u5b58\u5bfc\u5165\u8fdb\u5ea6\u4fe1\u606f\u7684\u76ee\u5f55\uff0c\u7528\u4e8e\u65ad\u70b9\u7eed\u4f20\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u8868\u793a\u4e0d\u542f\u7528\u65ad\u70b9\u7eed\u4f20\u3002 edges.name \u65e0 string \u662f \u6307\u5b9a Nebula Graph \u4e2d\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 edges.type.source \u65e0 string \u662f \u6307\u5b9a\u6e90\u6570\u636e\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a neo4j\u3002 edges.type.sink \u65e0 string \u662f \u6307\u5b9a\u8fb9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\u3002\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1a - client \uff1a\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165 - sst \uff1a\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165 edges.server \u65e0 string \u662f \u6307\u5b9a Neo4j \u6570\u636e\u5e93\u670d\u52a1\u5668\u5730\u5740\uff0c\u683c\u5f0f\u5fc5\u987b\u4e3a bolt://<IP\u5730\u5740>:7687 \u3002 edges.user \u65e0 string \u662f \u6307\u5b9a Neo4j \u6570\u636e\u5e93\u767b\u5f55\u8d26\u53f7\u3002 edges.password \u65e0 string \u662f \u6307\u5b9a Neo4j \u6570\u636e\u5e93\u8d26\u53f7\u767b\u5f55\u5bc6\u7801\u3002 edges.exec \u65e0 string \u662f \u5199\u5165 Cypher \u8bed\u53e5\uff0c\u8868\u793a\u4ece Neo4j \u6570\u636e\u5e93\u4e2d\u67e5\u8be2\u5173\u7cfb\u5c5e\u6027\u3002Cypher \u8bed\u53e5\u4e0d\u80fd\u4ee5\u82f1\u6587\u5206\u53f7\uff08 ; \uff09\u7ed3\u5c3e\u3002 \u4f8b\u5982\uff0c\u5199\u5165 Cypher \u8bed\u53e5 match (a:vertex_label)-[r:edge_label]->(b:vertex_label) return a.neo4j-source-field, b.neo4j-target-field, r.neo4j-field-0 as neo4j-field-0, r.neo4j-field-1 as neo4j-field-1 order by id(r) \u3002 edges.fields \u65e0 list[string] \u662f \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u4e0e Nebula Graph \u8fb9\u7c7b\u578b\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\u3002\u4ee5\u5217\u8868\u5f62\u5f0f\u5217\u51fa\uff0c\u591a\u4e2a\u5c5e\u6027\u540d\u79f0\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\uff08 , \uff09\u9694\u5f00\u3002\u5217\u51fa\u7684\u5c5e\u6027\u540d\u79f0\u5fc5\u987b\u4e0e edges.exec \u4e2d\u5217\u51fa\u7684\u5c5e\u6027\u540d\u79f0\u4fdd\u6301\u4e00\u81f4\u3002 edges.nebula.fields \u65e0 list[string] \u662f Nebula Graph Schema \u4e2d\u8fb9\u7c7b\u578b\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\u3002\u4ee5\u5217\u8868\u5f62\u5f0f\u5217\u51fa\uff0c\u4e0e edges.fields \u5217\u8868\u4e2d\u7684\u5c5e\u6027\u540d\u79f0\u4e00\u4e00\u5bf9\u5e94\uff0c\u5f62\u6210\u6620\u5c04\u5173\u7cfb\u3002\u591a\u4e2a\u5c5e\u6027\u540d\u79f0\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\uff08 , \uff09\u9694\u5f00\u3002 edges.source \u6216\u8005 edges: { source: { field: [name] policy: \"hash\" } } \u65e0 string \u5426 \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u67d0\u4e2a\u5c5e\u6027\uff0c\u5c06\u5b83\u7684\u503c\u7528\u4f5c Nebula Graph \u8fb9\u7684\u8d77\u59cb\u70b9 VID\u3002 \u5982\u679c\u662f\u4e0a\u8ff0\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u4f7f\u7528 edges.source = field \u8bbe\u7f6e\u8d77\u59cb\u70b9 VID \u5217\u3002 \u5982\u679c\u4e0d\u662f\u4e0a\u8ff0\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 edges.source.field \u548c edges.source.policy \u5bf9 VID \u8fdb\u884c\u9884\u5904\u7406\uff0c\u5373\u4f7f\u7528 hash() \u51fd\u6570\u5904\u7406\u5c5e\u6027\u540d\u79f0\uff0c\u751f\u6210\u7684\u6570\u503c\u7528\u4f5c VID\u3002\u5176\u4e2d\uff0c edges.source.policy \u53ef\u4ee5\u8bbe\u7f6e\u4e3a \"hash\" \u3002 edges.target \u6216\u8005 edges: { target: { field: [name] policy: \"hash\" } } \u65e0 string \u5426 \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u67d0\u4e2a\u5c5e\u6027\uff0c\u5c06\u5b83\u7684\u503c\u7528\u4f5c Nebula Graph \u8fb9\u7684\u76ee\u6807\u70b9 VID\u3002\u5fc5\u987b\u4e3a int \u6216 long \u7c7b\u578b\u7684\u5c5e\u6027\u3002 \u5982\u679c\u5c5e\u6027\u4e3a int \u6216\u8005 long \u7c7b\u578b\uff0c\u4f7f\u7528 edges.target: [field name] \u8bbe\u7f6e\u76ee\u6807\u70b9 VID \u5217\u3002 \u5982\u679c\u4e0d\u662f\u4e0a\u8ff0\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 edges.target.field \u548c edges.target.policy \u5bf9 VID \u8fdb\u884c\u9884\u5904\u7406\u3002\u5176\u4e2d\uff0c edges.target.policy \u8bbe\u7f6e\u4e3a \"hash\" \u3002 edges.ranking \u65e0 string \u5426 \u5c06\u6e90\u6570\u636e\u4e2d\u67d0\u4e00\u5217\u6570\u636e\u4f5c\u4e3a Nebula Graph \u4e2d\u8fb9\u7684 Rank \u503c\u3002 edges.batch 256 int \u662f \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u8fb9\u6570\u636e\u91cf\u3002 edges.partition 32 int \u662f Spark \u7684\u5206\u533a\u6570\u91cf\u3002 edges.check_point_path \u65e0 string \u5426 \u8bbe\u7f6e\u4fdd\u5b58\u5bfc\u5165\u8fdb\u5ea6\u4fe1\u606f\u7684\u76ee\u5f55\uff0c\u7528\u4e8e\u65ad\u70b9\u7eed\u4f20\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u8868\u793a\u4e0d\u542f\u7528\u65ad\u70b9\u7eed\u4f20\u3002","title":"Neo4j \u6570\u636e\u6e90\u76f8\u5173\u53c2\u6570"},{"location":"nebula-exchange/parameter-reference/ex-ug-paras-neo4j/#neo4j","text":"\u5982\u679c\u8981\u5bfc\u5165\u7684\u6570\u636e\u6765\u6e90\u4e3a Neo4j\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u914d\u7f6e\u4ee5\u4e0b\u53c2\u6570\u3002 \u53c2\u6570 \u9ed8\u8ba4\u503c \u6570\u636e\u7c7b\u578b \u662f\u5426\u5fc5\u9700 \u8bf4\u660e tags.name \u65e0 string \u662f \u8bbe\u7f6e\u4e3a Nebula Graph \u4e2d\u7684\u6807\u7b7e\u540d\u79f0\u3002 tags.type.source \u65e0 string \u662f \u6307\u5b9a\u6807\u7b7e\u6e90\u6570\u636e\u7684\u683c\u5f0f\u3002\u8bbe\u7f6e\u4e3a neo4j \u3002 tags.type.sink \u65e0 string \u662f \u6307\u5b9a\u6807\u7b7e\u6e90\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\u3002\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1a - client \uff1a\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165 - sst \uff1a\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165 tags.server \u65e0 string \u662f \u8bbe\u7f6e Neo4j \u6570\u636e\u5e93\u670d\u52a1\u5668\u5730\u5740\uff0c\u683c\u5f0f\u5fc5\u987b\u4e3a bolt://<IP\u5730\u5740>:7687 \u3002 tags.user \u65e0 string \u662f Neo4j \u6570\u636e\u5e93\u767b\u5f55\u8d26\u53f7\u3002 tags.password \u65e0 string \u662f Neo4j \u6570\u636e\u5e93\u8d26\u53f7\u767b\u5f55\u5bc6\u7801\u3002 tags.encription false string \u5426 \u4f20\u8f93\u662f\u5426\u52a0\u5bc6\uff0c\u9ed8\u8ba4\u503c\u4e3a false \uff0c\u8868\u793a\u4e0d\u52a0\u5bc6\u3002\u8bbe\u7f6e\u4e3a true \u65f6\uff0c\u8868\u793a\u52a0\u5bc6\u3002 tags.database \u65e0 string \u5426 \u8bbe\u7f6e\u6e90\u6570\u636e\u6240\u5728 Neo4j \u6570\u636e\u5e93\u7684\u540d\u79f0\u3002\u5982\u679c\u60a8\u4f7f\u7528 Community Edition Neo4j\uff0c\u4e0d\u652f\u6301\u8fd9\u4e2a\u53c2\u6570\u3002 tags.exec \u65e0 string \u662f \u5199\u5165 Cypher \u8bed\u53e5\uff0c\u4ece Neo4j \u6570\u636e\u5e93\u4e2d\u68c0\u7d22\u6253\u4e86\u67d0\u79cd\u6807\u7b7e\u7684\u70b9\u7684\u5c5e\u6027\uff0c\u5e76\u6307\u5b9a\u522b\u540d\u3002Cypher \u8bed\u53e5\u4e0d\u80fd\u4ee5\u82f1\u6587\u5206\u53f7\uff08 ; \uff09\u7ed3\u5c3e\u3002 \u4f8b\u5982\uff0c\u5199\u5165 Cypher \u8bed\u53e5 match (n:label) return n.neo4j-field-0 as neo4j-field-0, n.neo4j-field-1 as neo4j-field-1 order by (n.neo4j-field-0) \u3002 tags.fields \u65e0 list[string] \u662f \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u4e0e Nebula Graph \u6807\u7b7e\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\u3002\u4ee5\u5217\u8868\u5f62\u5f0f\u5217\u51fa\uff0c\u591a\u4e2a\u5c5e\u6027\u540d\u79f0\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\uff08 , \uff09\u9694\u5f00\u3002\u5217\u51fa\u7684\u5c5e\u6027\u540d\u79f0\u5fc5\u987b\u4e0e tags.exec \u4e2d\u5217\u51fa\u7684\u5c5e\u6027\u540d\u79f0\u4fdd\u6301\u4e00\u81f4\u3002 tags.nebula.fields \u65e0 list[string] \u662f \u6307\u5b9a Nebula Graph Schema \u4e2d\u6807\u7b7e\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\u3002\u4ee5\u5217\u8868\u5f62\u5f0f\u5217\u51fa\u3002\u4e0e tags.fields \u5217\u8868\u4e2d\u7684\u5c5e\u6027\u540d\u79f0\u4e00\u4e00\u5bf9\u5e94\uff0c\u5f62\u6210\u6620\u5c04\u5173\u7cfb\u3002\u591a\u4e2a\u5c5e\u6027\u540d\u79f0\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\uff08 , \uff09\u9694\u5f00\u3002 tags.vertex \u6216\u8005 tags { vertex { field: [name] policy: \"hash\" } } \u65e0 string \u662f \u5c06\u6e90\u6570\u636e\u4e2d\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\u4f5c\u4e3a Nebula Graph \u70b9 VID \u7684\u6765\u6e90\u3002 \u5982\u679c\u5c5e\u6027\u4e3a int \u6216\u8005 long \u7c7b\u578b\uff0c\u4f7f\u7528 tags.vertex: [field name] \u8bbe\u7f6e VID \u5217\u3002 \u5982\u679c\u4e0d\u662f\u4e0a\u8ff0\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 tags.vertex.field \u548c tags.vertex.policy \u5bf9 VID \u8fdb\u884c\u9884\u5904\u7406\u3002\u5176\u4e2d\uff0c tags.vertex.policy \u53ef\u4ee5\u8bbe\u7f6e\u4e3a \"hash\" \u3002 tags.batch 256 int \u662f \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u70b9\u6570\u636e\u91cf\u3002 tags.partition 32 int \u662f Spark \u7684\u5206\u533a\u6570\u91cf\u3002 tags.check_point_path \u65e0 string \u5426 \u8bbe\u7f6e\u4fdd\u5b58\u5bfc\u5165\u8fdb\u5ea6\u4fe1\u606f\u7684\u76ee\u5f55\uff0c\u7528\u4e8e\u65ad\u70b9\u7eed\u4f20\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u8868\u793a\u4e0d\u542f\u7528\u65ad\u70b9\u7eed\u4f20\u3002 edges.name \u65e0 string \u662f \u6307\u5b9a Nebula Graph \u4e2d\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 edges.type.source \u65e0 string \u662f \u6307\u5b9a\u6e90\u6570\u636e\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a neo4j\u3002 edges.type.sink \u65e0 string \u662f \u6307\u5b9a\u8fb9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\u3002\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1a - client \uff1a\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165 - sst \uff1a\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165 edges.server \u65e0 string \u662f \u6307\u5b9a Neo4j \u6570\u636e\u5e93\u670d\u52a1\u5668\u5730\u5740\uff0c\u683c\u5f0f\u5fc5\u987b\u4e3a bolt://<IP\u5730\u5740>:7687 \u3002 edges.user \u65e0 string \u662f \u6307\u5b9a Neo4j \u6570\u636e\u5e93\u767b\u5f55\u8d26\u53f7\u3002 edges.password \u65e0 string \u662f \u6307\u5b9a Neo4j \u6570\u636e\u5e93\u8d26\u53f7\u767b\u5f55\u5bc6\u7801\u3002 edges.exec \u65e0 string \u662f \u5199\u5165 Cypher \u8bed\u53e5\uff0c\u8868\u793a\u4ece Neo4j \u6570\u636e\u5e93\u4e2d\u67e5\u8be2\u5173\u7cfb\u5c5e\u6027\u3002Cypher \u8bed\u53e5\u4e0d\u80fd\u4ee5\u82f1\u6587\u5206\u53f7\uff08 ; \uff09\u7ed3\u5c3e\u3002 \u4f8b\u5982\uff0c\u5199\u5165 Cypher \u8bed\u53e5 match (a:vertex_label)-[r:edge_label]->(b:vertex_label) return a.neo4j-source-field, b.neo4j-target-field, r.neo4j-field-0 as neo4j-field-0, r.neo4j-field-1 as neo4j-field-1 order by id(r) \u3002 edges.fields \u65e0 list[string] \u662f \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u4e0e Nebula Graph \u8fb9\u7c7b\u578b\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\u3002\u4ee5\u5217\u8868\u5f62\u5f0f\u5217\u51fa\uff0c\u591a\u4e2a\u5c5e\u6027\u540d\u79f0\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\uff08 , \uff09\u9694\u5f00\u3002\u5217\u51fa\u7684\u5c5e\u6027\u540d\u79f0\u5fc5\u987b\u4e0e edges.exec \u4e2d\u5217\u51fa\u7684\u5c5e\u6027\u540d\u79f0\u4fdd\u6301\u4e00\u81f4\u3002 edges.nebula.fields \u65e0 list[string] \u662f Nebula Graph Schema \u4e2d\u8fb9\u7c7b\u578b\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\u3002\u4ee5\u5217\u8868\u5f62\u5f0f\u5217\u51fa\uff0c\u4e0e edges.fields \u5217\u8868\u4e2d\u7684\u5c5e\u6027\u540d\u79f0\u4e00\u4e00\u5bf9\u5e94\uff0c\u5f62\u6210\u6620\u5c04\u5173\u7cfb\u3002\u591a\u4e2a\u5c5e\u6027\u540d\u79f0\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\uff08 , \uff09\u9694\u5f00\u3002 edges.source \u6216\u8005 edges: { source: { field: [name] policy: \"hash\" } } \u65e0 string \u5426 \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u67d0\u4e2a\u5c5e\u6027\uff0c\u5c06\u5b83\u7684\u503c\u7528\u4f5c Nebula Graph \u8fb9\u7684\u8d77\u59cb\u70b9 VID\u3002 \u5982\u679c\u662f\u4e0a\u8ff0\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u4f7f\u7528 edges.source = field \u8bbe\u7f6e\u8d77\u59cb\u70b9 VID \u5217\u3002 \u5982\u679c\u4e0d\u662f\u4e0a\u8ff0\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 edges.source.field \u548c edges.source.policy \u5bf9 VID \u8fdb\u884c\u9884\u5904\u7406\uff0c\u5373\u4f7f\u7528 hash() \u51fd\u6570\u5904\u7406\u5c5e\u6027\u540d\u79f0\uff0c\u751f\u6210\u7684\u6570\u503c\u7528\u4f5c VID\u3002\u5176\u4e2d\uff0c edges.source.policy \u53ef\u4ee5\u8bbe\u7f6e\u4e3a \"hash\" \u3002 edges.target \u6216\u8005 edges: { target: { field: [name] policy: \"hash\" } } \u65e0 string \u5426 \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u67d0\u4e2a\u5c5e\u6027\uff0c\u5c06\u5b83\u7684\u503c\u7528\u4f5c Nebula Graph \u8fb9\u7684\u76ee\u6807\u70b9 VID\u3002\u5fc5\u987b\u4e3a int \u6216 long \u7c7b\u578b\u7684\u5c5e\u6027\u3002 \u5982\u679c\u5c5e\u6027\u4e3a int \u6216\u8005 long \u7c7b\u578b\uff0c\u4f7f\u7528 edges.target: [field name] \u8bbe\u7f6e\u76ee\u6807\u70b9 VID \u5217\u3002 \u5982\u679c\u4e0d\u662f\u4e0a\u8ff0\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 edges.target.field \u548c edges.target.policy \u5bf9 VID \u8fdb\u884c\u9884\u5904\u7406\u3002\u5176\u4e2d\uff0c edges.target.policy \u8bbe\u7f6e\u4e3a \"hash\" \u3002 edges.ranking \u65e0 string \u5426 \u5c06\u6e90\u6570\u636e\u4e2d\u67d0\u4e00\u5217\u6570\u636e\u4f5c\u4e3a Nebula Graph \u4e2d\u8fb9\u7684 Rank \u503c\u3002 edges.batch 256 int \u662f \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u8fb9\u6570\u636e\u91cf\u3002 edges.partition 32 int \u662f Spark \u7684\u5206\u533a\u6570\u91cf\u3002 edges.check_point_path \u65e0 string \u5426 \u8bbe\u7f6e\u4fdd\u5b58\u5bfc\u5165\u8fdb\u5ea6\u4fe1\u606f\u7684\u76ee\u5f55\uff0c\u7528\u4e8e\u65ad\u70b9\u7eed\u4f20\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u8868\u793a\u4e0d\u542f\u7528\u65ad\u70b9\u7eed\u4f20\u3002","title":"Neo4j \u6570\u636e\u6e90\u76f8\u5173\u53c2\u6570"},{"location":"nebula-exchange/parameter-reference/ex-ug-paras-spark/","text":"Spark \u53c2\u6570 \u00b6 \u5728\u4f7f\u7528 Exchange \u5bfc\u5165\u6570\u636e\u65f6\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8bbe\u7f6e Spark \u53c2\u6570\uff0c\u8be6\u7ec6\u4fe1\u606f\u7684 Spark \u53c2\u6570\u4fe1\u606f\uff0c\u53c2\u8003 \u300aApache Spark \u6587\u6863\u300b \u3002\u4e0b\u8868\u4ec5\u63d0\u4f9b\u90e8\u5206\u53c2\u6570\u7684\u914d\u7f6e\u8bf4\u660e\u3002\u5b9e\u9645\u5e94\u7528\u65f6\u7684\u53c2\u6570\u8bbe\u7f6e\uff0c\u53c2\u8003\u4e0d\u540c\u6765\u6e90\u6570\u636e\u7684 \u64cd\u4f5c\u793a\u4f8b \u3002 \u53c2\u6570 \u9ed8\u8ba4\u503c \u6570\u636e\u7c7b\u578b \u662f\u5426\u5fc5\u9700 \u8bf4\u660e spark.app.name Spark Writer string \u5426 Spark Driver Program \u540d\u79f0\u3002 spark.driver.cores 1 int \u5426 Driver \u8fdb\u7a0b\u7684\u6838\u6570\uff0c\u4ec5\u9002\u7528\u4e8e\u96c6\u7fa4\u6a21\u5f0f\u3002 spark.driver.maxResultSize 1G string \u5426 \u6bcf\u4e2a Spark \u64cd\u4f5c\uff08\u4f8b\u5982\u6536\u96c6\uff09\u4e2d\u6240\u6709\u5206\u533a\u7684\u5e8f\u5217\u5316\u7ed3\u679c\u7684\u4e0a\u9650\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002\u6700\u5c0f\u503c\u4e3a 1M\uff0c\u8bbe\u4e3a 0 \u5219\u8868\u793a\u65e0\u9650\u5236\u4e0a\u9650\u3002 spark.cores.max \u65e0 int \u5426 \u5f53\u4ee5\u201c\u7c97\u7c92\u5ea6\u201d\u5171\u4eab\u6a21\u5f0f\u5728\u72ec\u7acb\u90e8\u7f72\u96c6\u7fa4\u6216 Mesos \u96c6\u7fa4\u4e0a\u8fd0\u884c\u65f6\uff0c\u8de8\u96c6\u7fa4\uff08\u800c\u975e\u4ece\u6bcf\u53f0\u8ba1\u7b97\u673a\uff09\u8bf7\u6c42\u5e94\u7528\u7a0b\u5e8f\u7684\u6700\u5927 CPU \u6838\u6570\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u5219\u9ed8\u8ba4\u503c\u4e3a Spark \u7684\u72ec\u7acb\u96c6\u7fa4\u7ba1\u7406\u5668\u4e0a\u7684 spark.deploy.defaultCores \u6216 Mesos \u4e0a\u7684 infinite\uff08\u6240\u6709\u53ef\u7528\u7684\u5185\u6838\uff09\u3002","title":"Spark \u53c2\u6570"},{"location":"nebula-exchange/parameter-reference/ex-ug-paras-spark/#spark","text":"\u5728\u4f7f\u7528 Exchange \u5bfc\u5165\u6570\u636e\u65f6\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8bbe\u7f6e Spark \u53c2\u6570\uff0c\u8be6\u7ec6\u4fe1\u606f\u7684 Spark \u53c2\u6570\u4fe1\u606f\uff0c\u53c2\u8003 \u300aApache Spark \u6587\u6863\u300b \u3002\u4e0b\u8868\u4ec5\u63d0\u4f9b\u90e8\u5206\u53c2\u6570\u7684\u914d\u7f6e\u8bf4\u660e\u3002\u5b9e\u9645\u5e94\u7528\u65f6\u7684\u53c2\u6570\u8bbe\u7f6e\uff0c\u53c2\u8003\u4e0d\u540c\u6765\u6e90\u6570\u636e\u7684 \u64cd\u4f5c\u793a\u4f8b \u3002 \u53c2\u6570 \u9ed8\u8ba4\u503c \u6570\u636e\u7c7b\u578b \u662f\u5426\u5fc5\u9700 \u8bf4\u660e spark.app.name Spark Writer string \u5426 Spark Driver Program \u540d\u79f0\u3002 spark.driver.cores 1 int \u5426 Driver \u8fdb\u7a0b\u7684\u6838\u6570\uff0c\u4ec5\u9002\u7528\u4e8e\u96c6\u7fa4\u6a21\u5f0f\u3002 spark.driver.maxResultSize 1G string \u5426 \u6bcf\u4e2a Spark \u64cd\u4f5c\uff08\u4f8b\u5982\u6536\u96c6\uff09\u4e2d\u6240\u6709\u5206\u533a\u7684\u5e8f\u5217\u5316\u7ed3\u679c\u7684\u4e0a\u9650\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002\u6700\u5c0f\u503c\u4e3a 1M\uff0c\u8bbe\u4e3a 0 \u5219\u8868\u793a\u65e0\u9650\u5236\u4e0a\u9650\u3002 spark.cores.max \u65e0 int \u5426 \u5f53\u4ee5\u201c\u7c97\u7c92\u5ea6\u201d\u5171\u4eab\u6a21\u5f0f\u5728\u72ec\u7acb\u90e8\u7f72\u96c6\u7fa4\u6216 Mesos \u96c6\u7fa4\u4e0a\u8fd0\u884c\u65f6\uff0c\u8de8\u96c6\u7fa4\uff08\u800c\u975e\u4ece\u6bcf\u53f0\u8ba1\u7b97\u673a\uff09\u8bf7\u6c42\u5e94\u7528\u7a0b\u5e8f\u7684\u6700\u5927 CPU \u6838\u6570\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u5219\u9ed8\u8ba4\u503c\u4e3a Spark \u7684\u72ec\u7acb\u96c6\u7fa4\u7ba1\u7406\u5668\u4e0a\u7684 spark.deploy.defaultCores \u6216 Mesos \u4e0a\u7684 infinite\uff08\u6240\u6709\u53ef\u7528\u7684\u5185\u6838\uff09\u3002","title":"Spark \u53c2\u6570"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/","text":"\u5bfc\u5165 CSV \u6587\u4ef6\u6570\u636e \u00b6 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Exchange \u5c06\u5b58\u50a8\u5728 HDFS \u4e0a\u7684 CSV \u6587\u4ef6\u6570\u636e\u5bfc\u5165 Nebula Graph\u3002 \u5982\u679c\u60a8\u8981\u5411 Nebula Graph \u5bfc\u5165\u672c\u5730 CSV \u6587\u4ef6\uff0c\u53c2\u8003 CSV \u6587\u4ef6\u5bfc\u5165\u793a\u4f8b \u3002 \u6570\u636e\u96c6 \u00b6 \u672c\u6587\u4ee5\u7f8e\u56fd Stanford Network Analysis Platform (SNAP) \u63d0\u4f9b\u7684 Social Network: MOOC User Action Dataset \u4ee5\u53ca\u7531\u516c\u5f00\u7f51\u7edc\u4e0a\u83b7\u53d6\u7684\u4e0d\u91cd\u590d\u7684 97 \u4e2a\u8bfe\u7a0b\u540d\u79f0\u4f5c\u4e3a\u793a\u4f8b\u6570\u636e\u96c6\uff0c\u5305\u62ec\uff1a \u4e24\u7c7b\u70b9\uff08 user \u548c course \uff09\uff0c\u5171\u8ba1 7,144 \u4e2a\u70b9\u3002 \u4e00\u79cd\u5173\u7cfb\uff08 action \uff09\uff0c\u5171\u8ba1 411,749 \u6761\u8fb9\u3002 \u8be6\u7ec6\u7684\u6570\u636e\u96c6\uff0c\u60a8\u53ef\u4ee5\u4ece nebula-web-docker \u4ed3\u5e93\u4e2d\u4e0b\u8f7d\u3002 \u73af\u5883\u914d\u7f6e \u00b6 \u672c\u6587\u793a\u4f8b\u5728 MacOS \u4e0b\u5b8c\u6210\uff0c\u4ee5\u4e0b\u662f\u76f8\u5173\u7684\u73af\u5883\u914d\u7f6e\u4fe1\u606f\uff1a \u786c\u4ef6\u89c4\u683c\uff1a CPU\uff1a1.7 GHz Quad-Core Intel Core i7 \u5185\u5b58\uff1a16 GB Spark\uff1a2.3.0\uff0c\u5355\u673a\u7248 Hadoop\uff1a2.9.2\uff0c\u4f2a\u5206\u5e03\u5f0f\u90e8\u7f72 Nebula Graph\uff1aV1.2.1\uff0c\u4f7f\u7528 Docker Compose \u90e8\u7f72\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u524d\u63d0\u6761\u4ef6 \u00b6 \u5f00\u59cb\u5bfc\u5165\u6570\u636e\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b8c\u6210 Exchange \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u7f16\u8bd1 Exchange \u3002\u672c\u793a\u4f8b\u4e2d\u4f7f\u7528 Exchange v1.2.1\u3002 \u5df2\u7ecf\u5b89\u88c5 Spark\u3002 \u5df2\u7ecf\u5b89\u88c5\u5e76\u5f00\u542f Hadoop \u670d\u52a1\u3002 \u5df2\u7ecf\u90e8\u7f72\u5e76\u542f\u52a8 Nebula Graph\uff0c\u5e76\u83b7\u53d6\uff1a Graph \u670d\u52a1\u3001Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u4fe1\u606f\u3002 Nebula Graph \u6570\u636e\u5e93\u7684\u62e5\u6709\u5199\u6743\u9650\u7684\u7528\u6237\u540d\u53ca\u5176\u5bc6\u7801\u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\uff08Schema\uff09\u6240\u9700\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3001\u5c5e\u6027\u7b49\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u6b65\u9aa4 1. \u5728 Nebula Graph \u4e2d\u521b\u5efa Schema \u00b6 \u5206\u6790 CSV \u6587\u4ef6\u4e2d\u7684\u6570\u636e\uff0c\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5728 Nebula Graph \u4e2d\u521b\u5efa Schema\uff1a \u786e\u8ba4 Schema \u8981\u7d20\uff1aNebula Graph \u4e2d\u7684 Schema \u8981\u7d20\u5982\u4e0b\u8868\u6240\u793a\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027 \u6807\u7b7e\uff08Tag\uff09 user userId int \u6807\u7b7e\uff08Tag\uff09 course courseId int, courseName string \u8fb9\u7c7b\u578b\uff08Edge Type\uff09 action actionId int, duration double, label bool, feature0 double, feature1 double, feature2 double, feature3 double \u5728 Nebula Graph \u91cc\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4 csv \uff0c\u5e76\u521b\u5efa\u4e00\u4e2a Schema\uff0c\u5982\u4e0b\u6240\u793a\u3002 -- \u521b\u5efa\u56fe\u7a7a\u95f4 CREATE SPACE csv(partition_num=10, replica_factor=1); -- \u9009\u62e9\u56fe\u7a7a\u95f4 csv USE csv; -- \u521b\u5efa\u6807\u7b7e user CREATE TAG user(userId int); -- \u521b\u5efa\u6807\u7b7e course CREATE TAG course(courseId int, courseName string); -- \u521b\u5efa\u8fb9\u7c7b\u578b action CREATE EDGE action (actionId int, duration double, label bool, feature0 double, feature1 double, feature2 double, feature3 double); \u5173\u4e8e Nebula Graph \u6784\u56fe\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u53c2\u8003\u300aNebula Graph Database \u624b\u518c\u300b\u7684 \u5feb\u901f\u5f00\u59cb \u3002 \u6b65\u9aa4 2. \u5904\u7406 CSV \u6587\u4ef6 \u00b6 \u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a CSV \u6587\u4ef6\u5df2\u7ecf\u6839\u636e Schema \u4f5c\u4e86\u5904\u7406\u3002\u8be6\u7ec6\u64cd\u4f5c\u8bf7\u53c2\u8003 Nebula Graph Studio \u5feb\u901f\u5f00\u59cb \u3002 \u8bf4\u660e \uff1aExchange \u652f\u6301\u4e0a\u4f20\u6709\u8868\u5934\u6216\u8005\u65e0\u8868\u5934\u7684 CSV \u6587\u4ef6\u3002 CSV \u6587\u4ef6\u5fc5\u987b\u5b58\u50a8\u5728 HDFS \u4e2d\uff0c\u5e76\u5df2\u83b7\u53d6\u6587\u4ef6\u5b58\u50a8\u8def\u5f84\u3002 \u6b65\u9aa4 3. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 \u00b6 \u5b8c\u6210 Exchange \u7f16\u8bd1\u540e\uff0c\u8fdb\u5165 nebula-java/tools/exchange \u76ee\u5f55\uff0c\u6839\u636e target/classes/application.conf \u6587\u4ef6\u4fee\u6539 CSV \u6570\u636e\u6e90\u76f8\u5173\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u6587\u4ef6\u88ab\u91cd\u547d\u540d\u4e3a csv_application.conf \u3002\u4ee5\u4e0b\u4ec5\u8be6\u7ec6\u8bf4\u660e\u70b9\u548c\u8fb9\u6570\u636e\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u672c\u6b21\u793a\u4f8b\u4e2d\u672a\u4f7f\u7528\u7684\u914d\u7f6e\u9879\u5df2\u88ab\u6ce8\u91ca\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u914d\u7f6e\u8bf4\u660e\u3002Spark \u548c Nebula Graph \u76f8\u5173\u914d\u7f6e\uff0c\u53c2\u8003 Spark \u53c2\u6570 \u548c Nebula Graph \u53c2\u6570 \u3002 { # Spark \u76f8\u5173\u914d\u7f6e spark: { app: { name: Spark Writer } driver: { cores: 1 maxResultSize: 1G } cores { max: 16 } } # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { address:{ # \u4ee5\u4e0b\u4e3a Nebula Graph \u7684 Graph \u670d\u52a1\u548c Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3 # \u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u683c\u5f0f\u4e3a \"ip1:port\",\"ip2:port\",\"ip3:port\" # \u4e0d\u540c\u5730\u5740\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7 (,) \u9694\u5f00 graph:[\"127.0.0.1:3699\"] meta:[\"127.0.0.1:45500\"] } # \u586b\u5199\u7684\u8d26\u53f7\u5fc5\u987b\u62e5\u6709 Nebula Graph \u76f8\u5e94\u56fe\u7a7a\u95f4\u7684\u5199\u6570\u636e\u6743\u9650 user: user pswd: password # \u586b\u5199 Nebula Graph \u4e2d\u9700\u8981\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0 space: csv connection { timeout: 3000 retry: 3 } execution { retry: 3 } error: { max: 32 output: /tmp/errors } rate: { limit: 1024 timeout: 1000 } } # \u5904\u7406\u6807\u7b7e tags: [ # \u8bbe\u7f6e\u6807\u7b7e course \u76f8\u5173\u4fe1\u606f { # Nebula Graph \u4e2d\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0\u3002 name: course type: { # \u6307\u5b9a\u6570\u636e\u6e90\u6587\u4ef6\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a csv\u3002 source: csv # \u6307\u5b9a\u70b9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # CSV \u6587\u4ef6\u6240\u5728\u7684 HDFS \u8def\u5f84\uff0cString \u7c7b\u578b\uff0c\u5fc5\u987b\u4ee5 hdfs:// \u5f00\u5934\u3002 path: \"hdfs://namenode_ip:port/path/to/course.csv\" # \u5982\u679c CSV \u6587\u4ef6\u91cc\u4e0d\u5e26\u8868\u5934\uff0c\u5219\u5199\u5165 [_c0, _c1, _c2, ... _cn]\uff0c # \u8868\u793a CSV \u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5217\u540d\uff0c\u4f5c\u4e3a course \u5404\u5c5e\u6027\u503c\u6765\u6e90\u3002 # \u5982\u679c CSV \u6587\u4ef6\u91cc\u6709\u8868\u5934\uff0c\u5219\u5199\u5165\u5404\u5217\u540d\u3002 # fields \u4e0e nebula.fields \u7684\u987a\u5e8f\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\u3002 fields: [_c0, _c1] # \u8bbe\u7f6e Nebula Graph \u4e2d\u4e0e CSV \u6587\u4ef6\u5404\u5217\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\uff0c # fields \u4e0e nebula.fields \u7684\u987a\u5e8f\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\u3002 nebula.fields: [courseId, courseName] # Exchange 1.2.1 \u6dfb\u52a0\u4e86 csv.fields \u53c2\u6570\uff1a # \u5982\u679c\u914d\u7f6e\u4e86 csv.fields\uff0c\u65e0\u8bba CSV \u6587\u4ef6\u662f\u5426\u6709\u8868\u5934\uff0c # fields \u7684\u914d\u7f6e\u5fc5\u987b\u4e0e csv.fields \u7684\u914d\u7f6e\u4fdd\u6301\u4e00\u81f4\u3002 # csv.fields: [courseId, courseName] # \u6307\u5b9a CSV \u4e2d\u7684\u67d0\u4e00\u5217\u6570\u636e\u4e3a Nebula Graph \u4e2d\u70b9 VID \u7684\u6765\u6e90\u3002 # vertex.field \u7684\u503c\u5fc5\u987b\u4e0e\u4e0a\u8ff0 fields \u6216\u8005 csv.fields \u4e2d\u7684\u5217\u540d\u4fdd\u6301\u4e00\u81f4\u3002 # \u5982\u679c\u6570\u636e\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u6dfb\u52a0 vertex.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 vertex: { field: _c1, policy: \"hash\" } # \u6807\u660e\u6570\u636e\u6e90\u4e2d\u6570\u636e\u5206\u9694\u65b9\u5f0f\uff0c\u9ed8\u8ba4\u4e3a\u82f1\u6587\u9017\u53f7\uff08,\uff09\u3002 separator: \",\" # \u5982\u679c CSV \u6587\u4ef6\u4e2d\u6709\u8868\u5934\uff0cheader \u8bbe\u7f6e\u4e3a true\u3002 # \u5982\u679c CSV \u6587\u4ef6\u4e2d\u6ca1\u6709\u8868\u5934\uff0cheader \u8bbe\u7f6e\u4e3a false\uff08\u9ed8\u8ba4\u503c\uff09\u3002 header: false # \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u6700\u5927\u70b9\u6570\u636e\u91cf\u3002 batch: 256 # Spark \u5206\u533a\u6570\u91cf partition: 32 # isImplicit \u7684\u8bbe\u7f6e\u8bf4\u660e\u53c2\u8003\uff1ahttps://github.com/vesoft-inc/nebula-java/ # blob/v1.0/tools/exchange/src/main/resources/application.conf isImplicit: true } # \u8bbe\u7f6e\u6807\u7b7e user \u76f8\u5173\u4fe1\u606f { name: user type: { source: csv sink: client } path: \"hdfs://namenode_ip:port/path/to/user.csv\" # Exchange 1.2.1 \u6dfb\u52a0\u4e86 csv.fields \u53c2\u6570 # \u5982\u679c CSV \u6587\u4ef6\u91cc\u4e0d\u5e26\u8868\u5934\uff0c\u4f46\u662f\u914d\u7f6e\u4e86 csv.fields\uff0c # \u5219 fields \u7684\u914d\u7f6e\u5fc5\u987b\u4e0e csv.fields \u4fdd\u6301\u4e00\u81f4\uff0c # Exchange \u4f1a\u5c06 csv.fields \u91cc\u7684\u8bbe\u7f6e\u4f5c\u4e3a\u8868\u5934\u3002 # fields \u4e0e nebula.fields \u7684\u987a\u5e8f\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\u3002 fields: [userId] # \u8bbe\u7f6e Nebula Graph \u4e2d\u4e0e CSV \u6587\u4ef6\u5404\u5217\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\uff0c # \u5fc5\u987b\u4e0e fields \u6216\u8005 csv.fields \u7684\u987a\u5e8f\u4e00\u4e00\u5bf9\u5e94\u3002 nebula.fields: [userId] # \u5982\u679c\u914d\u7f6e\u4e86 csv.fields\uff0c\u65e0\u8bba CSV \u6587\u4ef6\u662f\u5426\u6709\u8868\u5934\uff0c # \u5747\u4ee5\u8fd9\u4e2a\u53c2\u6570\u6307\u5b9a\u7684\u540d\u79f0\u4f5c\u4e3a\u8868\u5934\uff0c # fields \u7684\u914d\u7f6e\u5fc5\u987b\u4e0e csv.fields \u7684\u914d\u7f6e\u4fdd\u6301\u4e00\u81f4\uff0c # \u540c\u65f6\uff0cvertex \u7684\u8bbe\u7f6e\u5fc5\u987b\u4e0e csv.fields \u7684\u8bbe\u7f6e\u76f8\u540c\u3002 csv.fields: [userId] # vertex \u7684\u503c\u5fc5\u987b\u4e0e fields \u6216\u8005 csv.fields \u4e2d\u76f8\u5e94\u7684\u5217\u540d\u4fdd\u6301\u4e00\u81f4\u3002 vertex: userId separator: \",\" header: false batch: 256 partition: 32 # isImplicit \u8bbe\u7f6e\u8bf4\u660e\uff0c\u8be6\u89c1 https://github.com/vesoft-inc/nebula-java/blob # /v1.0/tools/exchange/src/main/resources/application.conf isImplicit: true } ] # \u5904\u7406\u8fb9\u6570\u636e edges: [ # \u8bbe\u7f6e\u8fb9\u7c7b\u578b action \u76f8\u5173\u4fe1\u606f { # Nebula Graph \u4e2d\u5bf9\u5e94\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 name: action type: { # \u6307\u5b9a\u6570\u636e\u6e90\u6587\u4ef6\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a csv\u3002 source: csv # \u6307\u5b9a\u8fb9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # \u6307\u5b9a CSV \u6587\u4ef6\u6240\u5728\u7684 HDFS \u8def\u5f84\uff0cString \u7c7b\u578b\uff0c\u5fc5\u987b\u4ee5 hdfs:// \u5f00\u5934\u3002 path: \"hdfs://namenode_ip:port/path/to/actions.csv\" # \u5982\u679c CSV \u6587\u4ef6\u91cc\u4e0d\u5e26\u8868\u5934\uff0c # \u5219\u5199\u5165 [_c0, _c1, _c2, ... _cn]\uff0c # \u4f9d\u6b21\u8868\u793a CSV \u6587\u4ef6\u4e2d\u5404\u6570\u636e\u5217\uff0c\u4f5c\u4e3a action \u5404\u5c5e\u6027\u503c\u6765\u6e90\u3002 # \u5982\u679c CSV \u6587\u4ef6\u91cc\u6709\u8868\u5934\uff0c\u5219\u5199\u5165\u5404\u5217\u540d\u3002 # fields \u4e0e nebula.fields \u7684\u987a\u5e8f\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\u3002 fields: [_c0, _c3, _c4, _c5, _c6, _c7, _c8] # Nebula Graph \u4e2d action \u7684\u5c5e\u6027\u540d\u79f0\uff0c\u5fc5\u987b\u4e0e fields \u91cc\u7684\u5217\u987a\u5e8f\u4e00\u4e00\u5bf9\u5e94\u3002 nebula.fields: [actionId, duration, feature0, feature1, feature2, feature3, label] # Exchange 1.2.1 \u6dfb\u52a0\u4e86 csv.fields \u53c2\u6570\uff1a # \u5982\u679c\u914d\u7f6e\u4e86 csv.fields\uff0c\u65e0\u8bba CSV \u6587\u4ef6\u662f\u5426\u6709\u8868\u5934\uff0c # \u5747\u4ee5\u8fd9\u4e2a\u53c2\u6570\u6307\u5b9a\u7684\u540d\u79f0\u4f5c\u4e3a\u8868\u5934\uff0c # fields \u7684\u914d\u7f6e\u5fc5\u987b\u4e0e csv.fields \u7684\u914d\u7f6e\u4fdd\u6301\u4e00\u81f4\u3002 # csv.fields: [actionId, duration, feature0, feature1, feature2, feature3, label] # \u8fb9\u8d77\u70b9\u548c\u8fb9\u7ec8\u70b9 VID \u6570\u636e\u6765\u6e90\uff0c # \u5982\u679c\u4e0d\u662f int \u7c7b\u578b\u6570\u636e\uff0c\u5219\u6dfb\u52a0 policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 source: _c1 target: { field: _c2 policy: \"hash\" } # \u6807\u660e\u6570\u636e\u6e90\u4e2d\u6570\u636e\u5206\u9694\u65b9\u5f0f\uff0c\u9ed8\u8ba4\u4e3a\u82f1\u6587\u9017\u53f7\uff08,\uff09\u3002 separator: \",\" # \u5982\u679c CSV \u6587\u4ef6\u4e2d\u6709\u8868\u5934\uff0cheader \u8bbe\u7f6e\u4e3a true\u3002 # \u5982\u679c CSV \u6587\u4ef6\u4e2d\u6ca1\u6709\u8868\u5934\uff0cheader \u8bbe\u7f6e\u4e3a false\uff08\u9ed8\u8ba4\uff09\u3002 header: false # \u5355\u6b21\u5411 Nebula Graph \u5199\u5165\u7684\u6700\u5927\u8fb9\u6570\u636e\u91cf\u3002 batch: 256 # \u8bbe\u7f6e Spark \u5206\u533a\u6570\u91cf\u3002 partition: 32 isImplicit: true } ] # \u5982\u679c\u8fd8\u6709\u5176\u4ed6\u8fb9\uff0c\u518d\u6dfb\u52a0\u5176\u4ed6\u8fb9\u7c7b\u578b\u76f8\u5173\u7684\u8bbe\u7f6e\u3002 } \u6b65\u9aa4 4. \uff08\u53ef\u9009\uff09\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e \u00b6 \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u662f\u5426\u6b63\u786e\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local\" --class com.vesoft.nebula.tools.importer.Exchange /path/to/exchange-1.2.1.jar -c /path/to/conf/csv_application.conf -D \u6b65\u9aa4 5. \u5411 Nebula Graph \u5bfc\u5165\u6570\u636e \u00b6 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06 CSV \u6587\u4ef6\u6570\u636e\u5bfc\u5165\u5230 Nebula Graph \u4e2d\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local\" --class com.vesoft.nebula.tools.importer.Exchange /path/to/exchange-1.2.1.jar -c /path/to/conf/csv_application.conf \u6b65\u9aa4 6. \uff08\u53ef\u9009\uff09\u9a8c\u8bc1\u6570\u636e \u00b6 \u60a8\u53ef\u4ee5\u5728 Nebula Graph \u5ba2\u6237\u7aef\uff08\u4f8b\u5982 Nebula Graph Studio\uff09\u91cc\u6267\u884c\u8bed\u53e5\uff0c\u786e\u8ba4\u6570\u636e\u662f\u5426\u5df2\u5bfc\u5165\uff0c\u4f8b\u5982\uff1a GO FROM 1 OVER action; \u5982\u679c\u8fd4\u56de\u8fb9\u7ec8\u70b9\uff08 action._dst \uff09\u5373\u8868\u660e\u6570\u636e\u5df2\u5bfc\u5165\u3002 \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 db_dump \u5de5\u5177\u7edf\u8ba1\u6570\u636e\u662f\u5426\u5df2\u7ecf\u5168\u90e8\u5bfc\u5165\u3002\u8be6\u7ec6\u7684\u4f7f\u7528\u4fe1\u606f\u53c2\u8003 Dump Tool \u3002 \u6b65\u9aa4 7. \uff08\u53ef\u9009\uff09\u5728 Nebula Graph \u4e2d\u91cd\u6784\u7d22\u5f15 \u00b6 \u5bfc\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 Nebula Graph \u4e2d\u91cd\u65b0\u521b\u5efa\u5e76\u91cd\u6784\u7d22\u5f15\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300aNebula Graph Database \u624b\u518c\u300b \u3002","title":"\u5bfc\u5165 CSV \u6587\u4ef6\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/#csv","text":"\u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Exchange \u5c06\u5b58\u50a8\u5728 HDFS \u4e0a\u7684 CSV \u6587\u4ef6\u6570\u636e\u5bfc\u5165 Nebula Graph\u3002 \u5982\u679c\u60a8\u8981\u5411 Nebula Graph \u5bfc\u5165\u672c\u5730 CSV \u6587\u4ef6\uff0c\u53c2\u8003 CSV \u6587\u4ef6\u5bfc\u5165\u793a\u4f8b \u3002","title":"\u5bfc\u5165 CSV \u6587\u4ef6\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/#_1","text":"\u672c\u6587\u4ee5\u7f8e\u56fd Stanford Network Analysis Platform (SNAP) \u63d0\u4f9b\u7684 Social Network: MOOC User Action Dataset \u4ee5\u53ca\u7531\u516c\u5f00\u7f51\u7edc\u4e0a\u83b7\u53d6\u7684\u4e0d\u91cd\u590d\u7684 97 \u4e2a\u8bfe\u7a0b\u540d\u79f0\u4f5c\u4e3a\u793a\u4f8b\u6570\u636e\u96c6\uff0c\u5305\u62ec\uff1a \u4e24\u7c7b\u70b9\uff08 user \u548c course \uff09\uff0c\u5171\u8ba1 7,144 \u4e2a\u70b9\u3002 \u4e00\u79cd\u5173\u7cfb\uff08 action \uff09\uff0c\u5171\u8ba1 411,749 \u6761\u8fb9\u3002 \u8be6\u7ec6\u7684\u6570\u636e\u96c6\uff0c\u60a8\u53ef\u4ee5\u4ece nebula-web-docker \u4ed3\u5e93\u4e2d\u4e0b\u8f7d\u3002","title":"\u6570\u636e\u96c6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/#_2","text":"\u672c\u6587\u793a\u4f8b\u5728 MacOS \u4e0b\u5b8c\u6210\uff0c\u4ee5\u4e0b\u662f\u76f8\u5173\u7684\u73af\u5883\u914d\u7f6e\u4fe1\u606f\uff1a \u786c\u4ef6\u89c4\u683c\uff1a CPU\uff1a1.7 GHz Quad-Core Intel Core i7 \u5185\u5b58\uff1a16 GB Spark\uff1a2.3.0\uff0c\u5355\u673a\u7248 Hadoop\uff1a2.9.2\uff0c\u4f2a\u5206\u5e03\u5f0f\u90e8\u7f72 Nebula Graph\uff1aV1.2.1\uff0c\u4f7f\u7528 Docker Compose \u90e8\u7f72\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph","title":"\u73af\u5883\u914d\u7f6e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/#_3","text":"\u5f00\u59cb\u5bfc\u5165\u6570\u636e\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b8c\u6210 Exchange \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u7f16\u8bd1 Exchange \u3002\u672c\u793a\u4f8b\u4e2d\u4f7f\u7528 Exchange v1.2.1\u3002 \u5df2\u7ecf\u5b89\u88c5 Spark\u3002 \u5df2\u7ecf\u5b89\u88c5\u5e76\u5f00\u542f Hadoop \u670d\u52a1\u3002 \u5df2\u7ecf\u90e8\u7f72\u5e76\u542f\u52a8 Nebula Graph\uff0c\u5e76\u83b7\u53d6\uff1a Graph \u670d\u52a1\u3001Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u4fe1\u606f\u3002 Nebula Graph \u6570\u636e\u5e93\u7684\u62e5\u6709\u5199\u6743\u9650\u7684\u7528\u6237\u540d\u53ca\u5176\u5bc6\u7801\u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\uff08Schema\uff09\u6240\u9700\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3001\u5c5e\u6027\u7b49\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/#_4","text":"","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/#1_nebula_graph_schema","text":"\u5206\u6790 CSV \u6587\u4ef6\u4e2d\u7684\u6570\u636e\uff0c\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5728 Nebula Graph \u4e2d\u521b\u5efa Schema\uff1a \u786e\u8ba4 Schema \u8981\u7d20\uff1aNebula Graph \u4e2d\u7684 Schema \u8981\u7d20\u5982\u4e0b\u8868\u6240\u793a\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027 \u6807\u7b7e\uff08Tag\uff09 user userId int \u6807\u7b7e\uff08Tag\uff09 course courseId int, courseName string \u8fb9\u7c7b\u578b\uff08Edge Type\uff09 action actionId int, duration double, label bool, feature0 double, feature1 double, feature2 double, feature3 double \u5728 Nebula Graph \u91cc\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4 csv \uff0c\u5e76\u521b\u5efa\u4e00\u4e2a Schema\uff0c\u5982\u4e0b\u6240\u793a\u3002 -- \u521b\u5efa\u56fe\u7a7a\u95f4 CREATE SPACE csv(partition_num=10, replica_factor=1); -- \u9009\u62e9\u56fe\u7a7a\u95f4 csv USE csv; -- \u521b\u5efa\u6807\u7b7e user CREATE TAG user(userId int); -- \u521b\u5efa\u6807\u7b7e course CREATE TAG course(courseId int, courseName string); -- \u521b\u5efa\u8fb9\u7c7b\u578b action CREATE EDGE action (actionId int, duration double, label bool, feature0 double, feature1 double, feature2 double, feature3 double); \u5173\u4e8e Nebula Graph \u6784\u56fe\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u53c2\u8003\u300aNebula Graph Database \u624b\u518c\u300b\u7684 \u5feb\u901f\u5f00\u59cb \u3002","title":"\u6b65\u9aa4 1. \u5728 Nebula Graph \u4e2d\u521b\u5efa Schema"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/#2_csv","text":"\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a CSV \u6587\u4ef6\u5df2\u7ecf\u6839\u636e Schema \u4f5c\u4e86\u5904\u7406\u3002\u8be6\u7ec6\u64cd\u4f5c\u8bf7\u53c2\u8003 Nebula Graph Studio \u5feb\u901f\u5f00\u59cb \u3002 \u8bf4\u660e \uff1aExchange \u652f\u6301\u4e0a\u4f20\u6709\u8868\u5934\u6216\u8005\u65e0\u8868\u5934\u7684 CSV \u6587\u4ef6\u3002 CSV \u6587\u4ef6\u5fc5\u987b\u5b58\u50a8\u5728 HDFS \u4e2d\uff0c\u5e76\u5df2\u83b7\u53d6\u6587\u4ef6\u5b58\u50a8\u8def\u5f84\u3002","title":"\u6b65\u9aa4 2. \u5904\u7406 CSV \u6587\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/#3","text":"\u5b8c\u6210 Exchange \u7f16\u8bd1\u540e\uff0c\u8fdb\u5165 nebula-java/tools/exchange \u76ee\u5f55\uff0c\u6839\u636e target/classes/application.conf \u6587\u4ef6\u4fee\u6539 CSV \u6570\u636e\u6e90\u76f8\u5173\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u6587\u4ef6\u88ab\u91cd\u547d\u540d\u4e3a csv_application.conf \u3002\u4ee5\u4e0b\u4ec5\u8be6\u7ec6\u8bf4\u660e\u70b9\u548c\u8fb9\u6570\u636e\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u672c\u6b21\u793a\u4f8b\u4e2d\u672a\u4f7f\u7528\u7684\u914d\u7f6e\u9879\u5df2\u88ab\u6ce8\u91ca\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u914d\u7f6e\u8bf4\u660e\u3002Spark \u548c Nebula Graph \u76f8\u5173\u914d\u7f6e\uff0c\u53c2\u8003 Spark \u53c2\u6570 \u548c Nebula Graph \u53c2\u6570 \u3002 { # Spark \u76f8\u5173\u914d\u7f6e spark: { app: { name: Spark Writer } driver: { cores: 1 maxResultSize: 1G } cores { max: 16 } } # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { address:{ # \u4ee5\u4e0b\u4e3a Nebula Graph \u7684 Graph \u670d\u52a1\u548c Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3 # \u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u683c\u5f0f\u4e3a \"ip1:port\",\"ip2:port\",\"ip3:port\" # \u4e0d\u540c\u5730\u5740\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7 (,) \u9694\u5f00 graph:[\"127.0.0.1:3699\"] meta:[\"127.0.0.1:45500\"] } # \u586b\u5199\u7684\u8d26\u53f7\u5fc5\u987b\u62e5\u6709 Nebula Graph \u76f8\u5e94\u56fe\u7a7a\u95f4\u7684\u5199\u6570\u636e\u6743\u9650 user: user pswd: password # \u586b\u5199 Nebula Graph \u4e2d\u9700\u8981\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0 space: csv connection { timeout: 3000 retry: 3 } execution { retry: 3 } error: { max: 32 output: /tmp/errors } rate: { limit: 1024 timeout: 1000 } } # \u5904\u7406\u6807\u7b7e tags: [ # \u8bbe\u7f6e\u6807\u7b7e course \u76f8\u5173\u4fe1\u606f { # Nebula Graph \u4e2d\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0\u3002 name: course type: { # \u6307\u5b9a\u6570\u636e\u6e90\u6587\u4ef6\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a csv\u3002 source: csv # \u6307\u5b9a\u70b9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # CSV \u6587\u4ef6\u6240\u5728\u7684 HDFS \u8def\u5f84\uff0cString \u7c7b\u578b\uff0c\u5fc5\u987b\u4ee5 hdfs:// \u5f00\u5934\u3002 path: \"hdfs://namenode_ip:port/path/to/course.csv\" # \u5982\u679c CSV \u6587\u4ef6\u91cc\u4e0d\u5e26\u8868\u5934\uff0c\u5219\u5199\u5165 [_c0, _c1, _c2, ... _cn]\uff0c # \u8868\u793a CSV \u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5217\u540d\uff0c\u4f5c\u4e3a course \u5404\u5c5e\u6027\u503c\u6765\u6e90\u3002 # \u5982\u679c CSV \u6587\u4ef6\u91cc\u6709\u8868\u5934\uff0c\u5219\u5199\u5165\u5404\u5217\u540d\u3002 # fields \u4e0e nebula.fields \u7684\u987a\u5e8f\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\u3002 fields: [_c0, _c1] # \u8bbe\u7f6e Nebula Graph \u4e2d\u4e0e CSV \u6587\u4ef6\u5404\u5217\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\uff0c # fields \u4e0e nebula.fields \u7684\u987a\u5e8f\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\u3002 nebula.fields: [courseId, courseName] # Exchange 1.2.1 \u6dfb\u52a0\u4e86 csv.fields \u53c2\u6570\uff1a # \u5982\u679c\u914d\u7f6e\u4e86 csv.fields\uff0c\u65e0\u8bba CSV \u6587\u4ef6\u662f\u5426\u6709\u8868\u5934\uff0c # fields \u7684\u914d\u7f6e\u5fc5\u987b\u4e0e csv.fields \u7684\u914d\u7f6e\u4fdd\u6301\u4e00\u81f4\u3002 # csv.fields: [courseId, courseName] # \u6307\u5b9a CSV \u4e2d\u7684\u67d0\u4e00\u5217\u6570\u636e\u4e3a Nebula Graph \u4e2d\u70b9 VID \u7684\u6765\u6e90\u3002 # vertex.field \u7684\u503c\u5fc5\u987b\u4e0e\u4e0a\u8ff0 fields \u6216\u8005 csv.fields \u4e2d\u7684\u5217\u540d\u4fdd\u6301\u4e00\u81f4\u3002 # \u5982\u679c\u6570\u636e\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u6dfb\u52a0 vertex.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 vertex: { field: _c1, policy: \"hash\" } # \u6807\u660e\u6570\u636e\u6e90\u4e2d\u6570\u636e\u5206\u9694\u65b9\u5f0f\uff0c\u9ed8\u8ba4\u4e3a\u82f1\u6587\u9017\u53f7\uff08,\uff09\u3002 separator: \",\" # \u5982\u679c CSV \u6587\u4ef6\u4e2d\u6709\u8868\u5934\uff0cheader \u8bbe\u7f6e\u4e3a true\u3002 # \u5982\u679c CSV \u6587\u4ef6\u4e2d\u6ca1\u6709\u8868\u5934\uff0cheader \u8bbe\u7f6e\u4e3a false\uff08\u9ed8\u8ba4\u503c\uff09\u3002 header: false # \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u6700\u5927\u70b9\u6570\u636e\u91cf\u3002 batch: 256 # Spark \u5206\u533a\u6570\u91cf partition: 32 # isImplicit \u7684\u8bbe\u7f6e\u8bf4\u660e\u53c2\u8003\uff1ahttps://github.com/vesoft-inc/nebula-java/ # blob/v1.0/tools/exchange/src/main/resources/application.conf isImplicit: true } # \u8bbe\u7f6e\u6807\u7b7e user \u76f8\u5173\u4fe1\u606f { name: user type: { source: csv sink: client } path: \"hdfs://namenode_ip:port/path/to/user.csv\" # Exchange 1.2.1 \u6dfb\u52a0\u4e86 csv.fields \u53c2\u6570 # \u5982\u679c CSV \u6587\u4ef6\u91cc\u4e0d\u5e26\u8868\u5934\uff0c\u4f46\u662f\u914d\u7f6e\u4e86 csv.fields\uff0c # \u5219 fields \u7684\u914d\u7f6e\u5fc5\u987b\u4e0e csv.fields \u4fdd\u6301\u4e00\u81f4\uff0c # Exchange \u4f1a\u5c06 csv.fields \u91cc\u7684\u8bbe\u7f6e\u4f5c\u4e3a\u8868\u5934\u3002 # fields \u4e0e nebula.fields \u7684\u987a\u5e8f\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\u3002 fields: [userId] # \u8bbe\u7f6e Nebula Graph \u4e2d\u4e0e CSV \u6587\u4ef6\u5404\u5217\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\uff0c # \u5fc5\u987b\u4e0e fields \u6216\u8005 csv.fields \u7684\u987a\u5e8f\u4e00\u4e00\u5bf9\u5e94\u3002 nebula.fields: [userId] # \u5982\u679c\u914d\u7f6e\u4e86 csv.fields\uff0c\u65e0\u8bba CSV \u6587\u4ef6\u662f\u5426\u6709\u8868\u5934\uff0c # \u5747\u4ee5\u8fd9\u4e2a\u53c2\u6570\u6307\u5b9a\u7684\u540d\u79f0\u4f5c\u4e3a\u8868\u5934\uff0c # fields \u7684\u914d\u7f6e\u5fc5\u987b\u4e0e csv.fields \u7684\u914d\u7f6e\u4fdd\u6301\u4e00\u81f4\uff0c # \u540c\u65f6\uff0cvertex \u7684\u8bbe\u7f6e\u5fc5\u987b\u4e0e csv.fields \u7684\u8bbe\u7f6e\u76f8\u540c\u3002 csv.fields: [userId] # vertex \u7684\u503c\u5fc5\u987b\u4e0e fields \u6216\u8005 csv.fields \u4e2d\u76f8\u5e94\u7684\u5217\u540d\u4fdd\u6301\u4e00\u81f4\u3002 vertex: userId separator: \",\" header: false batch: 256 partition: 32 # isImplicit \u8bbe\u7f6e\u8bf4\u660e\uff0c\u8be6\u89c1 https://github.com/vesoft-inc/nebula-java/blob # /v1.0/tools/exchange/src/main/resources/application.conf isImplicit: true } ] # \u5904\u7406\u8fb9\u6570\u636e edges: [ # \u8bbe\u7f6e\u8fb9\u7c7b\u578b action \u76f8\u5173\u4fe1\u606f { # Nebula Graph \u4e2d\u5bf9\u5e94\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 name: action type: { # \u6307\u5b9a\u6570\u636e\u6e90\u6587\u4ef6\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a csv\u3002 source: csv # \u6307\u5b9a\u8fb9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # \u6307\u5b9a CSV \u6587\u4ef6\u6240\u5728\u7684 HDFS \u8def\u5f84\uff0cString \u7c7b\u578b\uff0c\u5fc5\u987b\u4ee5 hdfs:// \u5f00\u5934\u3002 path: \"hdfs://namenode_ip:port/path/to/actions.csv\" # \u5982\u679c CSV \u6587\u4ef6\u91cc\u4e0d\u5e26\u8868\u5934\uff0c # \u5219\u5199\u5165 [_c0, _c1, _c2, ... _cn]\uff0c # \u4f9d\u6b21\u8868\u793a CSV \u6587\u4ef6\u4e2d\u5404\u6570\u636e\u5217\uff0c\u4f5c\u4e3a action \u5404\u5c5e\u6027\u503c\u6765\u6e90\u3002 # \u5982\u679c CSV \u6587\u4ef6\u91cc\u6709\u8868\u5934\uff0c\u5219\u5199\u5165\u5404\u5217\u540d\u3002 # fields \u4e0e nebula.fields \u7684\u987a\u5e8f\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\u3002 fields: [_c0, _c3, _c4, _c5, _c6, _c7, _c8] # Nebula Graph \u4e2d action \u7684\u5c5e\u6027\u540d\u79f0\uff0c\u5fc5\u987b\u4e0e fields \u91cc\u7684\u5217\u987a\u5e8f\u4e00\u4e00\u5bf9\u5e94\u3002 nebula.fields: [actionId, duration, feature0, feature1, feature2, feature3, label] # Exchange 1.2.1 \u6dfb\u52a0\u4e86 csv.fields \u53c2\u6570\uff1a # \u5982\u679c\u914d\u7f6e\u4e86 csv.fields\uff0c\u65e0\u8bba CSV \u6587\u4ef6\u662f\u5426\u6709\u8868\u5934\uff0c # \u5747\u4ee5\u8fd9\u4e2a\u53c2\u6570\u6307\u5b9a\u7684\u540d\u79f0\u4f5c\u4e3a\u8868\u5934\uff0c # fields \u7684\u914d\u7f6e\u5fc5\u987b\u4e0e csv.fields \u7684\u914d\u7f6e\u4fdd\u6301\u4e00\u81f4\u3002 # csv.fields: [actionId, duration, feature0, feature1, feature2, feature3, label] # \u8fb9\u8d77\u70b9\u548c\u8fb9\u7ec8\u70b9 VID \u6570\u636e\u6765\u6e90\uff0c # \u5982\u679c\u4e0d\u662f int \u7c7b\u578b\u6570\u636e\uff0c\u5219\u6dfb\u52a0 policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 source: _c1 target: { field: _c2 policy: \"hash\" } # \u6807\u660e\u6570\u636e\u6e90\u4e2d\u6570\u636e\u5206\u9694\u65b9\u5f0f\uff0c\u9ed8\u8ba4\u4e3a\u82f1\u6587\u9017\u53f7\uff08,\uff09\u3002 separator: \",\" # \u5982\u679c CSV \u6587\u4ef6\u4e2d\u6709\u8868\u5934\uff0cheader \u8bbe\u7f6e\u4e3a true\u3002 # \u5982\u679c CSV \u6587\u4ef6\u4e2d\u6ca1\u6709\u8868\u5934\uff0cheader \u8bbe\u7f6e\u4e3a false\uff08\u9ed8\u8ba4\uff09\u3002 header: false # \u5355\u6b21\u5411 Nebula Graph \u5199\u5165\u7684\u6700\u5927\u8fb9\u6570\u636e\u91cf\u3002 batch: 256 # \u8bbe\u7f6e Spark \u5206\u533a\u6570\u91cf\u3002 partition: 32 isImplicit: true } ] # \u5982\u679c\u8fd8\u6709\u5176\u4ed6\u8fb9\uff0c\u518d\u6dfb\u52a0\u5176\u4ed6\u8fb9\u7c7b\u578b\u76f8\u5173\u7684\u8bbe\u7f6e\u3002 }","title":"\u6b65\u9aa4 3. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/#4","text":"\u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u662f\u5426\u6b63\u786e\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local\" --class com.vesoft.nebula.tools.importer.Exchange /path/to/exchange-1.2.1.jar -c /path/to/conf/csv_application.conf -D","title":"\u6b65\u9aa4 4. \uff08\u53ef\u9009\uff09\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/#5_nebula_graph","text":"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06 CSV \u6587\u4ef6\u6570\u636e\u5bfc\u5165\u5230 Nebula Graph \u4e2d\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local\" --class com.vesoft.nebula.tools.importer.Exchange /path/to/exchange-1.2.1.jar -c /path/to/conf/csv_application.conf","title":"\u6b65\u9aa4 5. \u5411 Nebula Graph \u5bfc\u5165\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/#6","text":"\u60a8\u53ef\u4ee5\u5728 Nebula Graph \u5ba2\u6237\u7aef\uff08\u4f8b\u5982 Nebula Graph Studio\uff09\u91cc\u6267\u884c\u8bed\u53e5\uff0c\u786e\u8ba4\u6570\u636e\u662f\u5426\u5df2\u5bfc\u5165\uff0c\u4f8b\u5982\uff1a GO FROM 1 OVER action; \u5982\u679c\u8fd4\u56de\u8fb9\u7ec8\u70b9\uff08 action._dst \uff09\u5373\u8868\u660e\u6570\u636e\u5df2\u5bfc\u5165\u3002 \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 db_dump \u5de5\u5177\u7edf\u8ba1\u6570\u636e\u662f\u5426\u5df2\u7ecf\u5168\u90e8\u5bfc\u5165\u3002\u8be6\u7ec6\u7684\u4f7f\u7528\u4fe1\u606f\u53c2\u8003 Dump Tool \u3002","title":"\u6b65\u9aa4 6. \uff08\u53ef\u9009\uff09\u9a8c\u8bc1\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-csv/#7_nebula_graph","text":"\u5bfc\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 Nebula Graph \u4e2d\u91cd\u65b0\u521b\u5efa\u5e76\u91cd\u6784\u7d22\u5f15\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300aNebula Graph Database \u624b\u518c\u300b \u3002","title":"\u6b65\u9aa4 7. \uff08\u53ef\u9009\uff09\u5728 Nebula Graph \u4e2d\u91cd\u6784\u7d22\u5f15"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/","text":"\u5bfc\u5165 Neo4j \u6570\u636e \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528 Exchange \u5c06 Neo4j \u6570\u636e\u79bb\u7ebf\u6279\u91cf\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 \u5b9e\u73b0\u65b9\u6cd5 \u00b6 Exchange \u4f7f\u7528 Neo4j Driver 4.0.1 \u5b9e\u73b0\u5bf9 Neo4j \u6570\u636e\u7684\u8bfb\u53d6\u3002\u6267\u884c\u6279\u91cf\u5bfc\u51fa\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5199\u5165\u9488\u5bf9\u6807\u7b7e\uff08label\uff09\u548c\u5173\u7cfb\u7c7b\u578b\uff08Relationship Type\uff09\u81ea\u52a8\u6267\u884c\u7684 Cypher \u8bed\u53e5\uff0c\u4ee5\u53ca Spark \u5206\u533a\u6570\uff0c\u63d0\u9ad8\u6570\u636e\u5bfc\u51fa\u6027\u80fd\u3002 Exchange \u8bfb\u53d6 Neo4j \u6570\u636e\u65f6\u9700\u8981\u5b8c\u6210\u4ee5\u4e0b\u5de5\u4f5c\uff1a Exchange \u4e2d\u7684 Reader \u4f1a\u5c06\u914d\u7f6e\u6587\u4ef6\u4e2d exec \u90e8\u5206\u7684 Cypher RETURN \u8bed\u53e5\u540e\u9762\u7684\u8bed\u53e5\u66ff\u6362\u4e3a COUNT(*) \uff0c\u5e76\u6267\u884c\u8fd9\u4e2a\u8bed\u53e5\uff0c\u4ece\u800c\u83b7\u53d6\u6570\u636e\u603b\u91cf\uff0c\u518d\u6839\u636e Spark \u5206\u533a\u6570\u91cf\u8ba1\u7b97\u6bcf\u4e2a\u5206\u533a\u7684\u8d77\u59cb\u504f\u79fb\u91cf\u548c\u5927\u5c0f\u3002 \uff08\u53ef\u9009\uff09\u5982\u679c\u7528\u6237\u914d\u7f6e\u4e86 check_point_path \u76ee\u5f55\uff0cReader \u4f1a\u8bfb\u53d6\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u3002\u5982\u679c\u5f53\u524d\u5904\u4e8e\u7eed\u4f20\u7684\u72b6\u6001\uff0cReader \u4f1a\u8ba1\u7b97\u6bcf\u4e2a Spark \u5206\u533a\u5e94\u8be5\u6709\u7684\u504f\u79fb\u91cf\u548c\u5927\u5c0f\u3002 \u5728\u6bcf\u4e2a Spark \u5206\u533a\u91cc\uff0cExchange \u4e2d\u7684 Reader \u4f1a\u5728 Cypher \u8bed\u53e5\u540e\u9762\u6dfb\u52a0\u4e0d\u540c\u7684 SKIP \u548c LIMIT \u8bed\u53e5\uff0c\u8c03\u7528 Neo4j Driver \u5e76\u884c\u6267\u884c\uff0c\u5c06\u6570\u636e\u5206\u5e03\u5230\u4e0d\u540c\u7684 Spark \u5206\u533a\u4e2d\u3002 Reader \u6700\u540e\u5c06\u8fd4\u56de\u7684\u6570\u636e\u5904\u7406\u6210 DataFrame\u3002 \u81f3\u6b64\uff0cExchange \u5373\u5b8c\u6210\u4e86\u5bf9 Neo4j \u6570\u636e\u7684\u5bfc\u51fa\u3002\u4e4b\u540e\uff0c\u6570\u636e\u88ab\u5e76\u884c\u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u4e2d\u3002 \u6574\u4e2a\u8fc7\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Exchange \u5c06 Neo4j \u7684\u6570\u636e\u6279\u91cf\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 \u8bf4\u660e \uff1a\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u8fc1\u79fb\u6570\u636e\u3002\u60a8\u4e5f\u80fd\u901a\u8fc7 SST \u6587\u4ef6\u5c06 Neo4j \u7684\u6570\u636e\u6279\u91cf\u8f6c\u5165 Nebula Graph \u6570\u636e\u5e93\uff0c\u5177\u4f53\u64cd\u4f5c\u57fa\u672c\u76f8\u540c\uff0c\u4ec5\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u6709\u5dee\u5f02\uff0c\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u5bfc\u5165 SST \u6587\u4ef6 \u3002 \u793a\u4f8b\u573a\u666f \u00b6 \u5047\u8bbe\u60a8\u5728 Neo4j \u6570\u636e\u5e93\u91cc\u6709\u4e00\u4e2a\u56fe\u6570\u636e\u96c6\uff0c\u9700\u8981\u4f7f\u7528 Exchange \u5c06\u6570\u636e\u8fc1\u79fb\u5230 Nebula Graph \u6570\u636e\u5e93\u4e2d\u3002 \u73af\u5883\u914d\u7f6e \u00b6 \u4ee5\u4e0b\u4e3a\u672c\u793a\u4f8b\u4e2d\u7684\u73af\u5883\u914d\u7f6e\u4fe1\u606f\uff1a \u670d\u52a1\u5668\u89c4\u683c\uff1a CPU\uff1aIntel(R) Xeon(R) CPU E5-2697 v3 @ 2.60GHz CPU \u5185\u6838\u6570\uff1a14 \u5185\u5b58\uff1a251 GB Spark\uff1a\u5355\u673a\u7248\uff0c2.4.6 pre-build for Hadoop 2.7 Neo4j\uff1a3.5.20 Community Edition Nebula Graph 1.2.1\uff0c\u4f7f\u7528 Docker Compose \u90e8\u7f72\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u6570\u636e\u96c6\u4fe1\u606f \u00b6 Neo4j \u7684\u6570\u636e\u96c6\u4fe1\u606f\u5982\u4e0b\uff1a \u4e24\u79cd\u6807\u7b7e\uff08\u6b64\u5904\u547d\u540d\u4e3a tagA \u548c tagB\uff09\uff0c\u5171\u8ba1 100 \u4e07\u4e2a\u8282\u70b9\uff08node\uff09\u3002 \u4e00\u79cd\u8fde\u63a5\u4e0a\u8ff0\u4e24\u7c7b\u70b9\u7684\u5173\u7cfb\u7c7b\u578b\uff08Relationship Type\uff0c\u6b64\u5904\u547d\u540d\u4e3a edgeAB\uff09\uff0c\u5171\u8ba1 1000 \u4e07\u6761\u5173\u7cfb\u8fb9\uff08Relationship\uff09\u3002 \u4e0a\u8ff0\u4e09\u8005\u5206\u522b\u62e5\u6709\u5982\u4e0b\u8868\u6240\u793a\u7684\u5c5e\u6027\u3002 \u8981\u7d20\u540d\u79f0 \u5c5e\u6027 idInt \u5c5e\u6027 idString \u5c5e\u6027 tboolean \u5c5e\u6027 tdouble tagA int string bool double tagB int string bool double edgeAB int string bool double \u6570\u636e\u5e93\u4fe1\u606f \u00b6 \u5728\u672c\u793a\u4f8b\u4e2d Neo4j \u6570\u636e\u5e93\u548c Nebula Graph \u6570\u636e\u5e93\u7684\u4fe1\u606f\u5982\u4e0b\uff1a Neo4j \u6570\u636e\u5e93\uff1a \u670d\u52a1\u5668\u5730\u5740\u53ca\u7aef\u53e3\u4e3a\uff1a bolt://127.0.0.1:7687 \u7528\u6237\u540d\uff1a neo4j \u5bc6\u7801\uff1a neo4j Nebula Graph \u6570\u636e\u5e93\uff1a \u670d\u52a1\u5668\u5730\u5740\u53ca\u7aef\u53e3\u4e3a\uff1a 127.0.0.1:3699 \u7528\u6237\u540d\uff1a\u672c\u793a\u4f8b\u4e2d Nebula Graph \u6570\u636e\u5e93\u6ca1\u6709\u542f\u7528\u8eab\u4efd\u8ba4\u8bc1\uff0c\u6240\u4ee5\uff0c\u7528\u6237\u540d\u4e3a user \u5bc6\u7801\uff1a password \u524d\u63d0\u6761\u4ef6 \u00b6 \u5f00\u59cb\u8fc1\u79fb\u6570\u636e\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u4fdd\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b8c\u6210 Exchange \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u7f16\u8bd1 Exchange \u3002 \u5df2\u7ecf\u5b89\u88c5\u4e86 Spark\u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\u6240\u9700\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3001\u5c5e\u6027\u7b49\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u6b65\u9aa4 1. \u5728 Nebula Graph \u4e2d\u6784\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\uff08Schema\uff09 \u00b6 \u6839\u636e\u793a\u4f8b\u573a\u666f\uff0c\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5b8c\u6210 Nebula Graph \u6784\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\uff1a \u786e\u8ba4\u56fe\u6570\u636e\u6a21\u5f0f\u8981\u7d20\uff1aNeo4j \u4e2d\u7684\u6807\u7b7e\u548c\u5173\u7cfb\u7c7b\u578b\u53ca\u5176\u5c5e\u6027\u4e0e Nebula Graph \u4e2d\u7684\u6570\u636e\u6a21\u5f0f\u8981\u7d20\u5bf9\u5e94\u5173\u7cfb\u5982\u4e0b\u8868\u6240\u793a\u3002 Neo4j \u8981\u7d20 Nebula Graph \u8981\u7d20 \u8981\u7d20\u540d\u79f0 Node Tag tagA \u548c tagB Relationship Type Edge Type edgAB \u786e\u8ba4 Nebula Graph \u9700\u8981\u7684\u5206\u533a\u6570\u91cf\uff1a\u5168\u96c6\u7fa4\u786c\u76d8\u6570\u91cf * \uff082 \u81f3 10\uff09\u3002\u672c\u793a\u4f8b\u4e2d\u5047\u8bbe\u4e3a 10\u3002 \u786e\u8ba4 Nebula Graph \u9700\u8981\u7684\u526f\u672c\u6570\u91cf\u3002\u672c\u793a\u4f8b\u4e2d\u5047\u8bbe\u4e3a 1\u3002 \u5728 Nebula Graph \u91cc\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4 test \uff0c\u5e76\u521b\u5efa\u4e00\u4e2a\u56fe\u6570\u636e\u6a21\u5f0f\uff0c\u5982\u4e0b\u6240\u793a\u3002 -- \u521b\u5efa\u56fe\u7a7a\u95f4\uff0c\u672c\u793a\u4f8b\u4e2d\u5047\u8bbe\u53ea\u9700\u8981\u4e00\u4e2a\u526f\u672c nebula> CREATE SPACE test(partition_num=10, replica_factor=1); -- \u9009\u62e9\u56fe\u7a7a\u95f4 test nebula> USE test; -- \u521b\u5efa\u6807\u7b7e tagA nebula> CREATE TAG tagA(idInt int, idString string, tboolean bool, tdouble double); -- \u521b\u5efa\u6807\u7b7e tagB nebula> CREATE TAG tagB(idInt int, idString string, tboolean bool, tdouble double); -- \u521b\u5efa\u8fb9\u7c7b\u578b edgeAB nebula> CREATE EDGE edgeAB(idInt int, idString string, tboolean bool, tdouble double); \u5173\u4e8e Nebula Graph \u6784\u56fe\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u53c2\u8003\u300aNebula Graph Database \u624b\u518c\u300b\u7684 \u5feb\u901f\u5f00\u59cb \u3002 \u6b65\u9aa4 2. \u914d\u7f6e\u6e90\u6570\u636e \u00b6 \u4e3a\u4e86\u63d0\u9ad8 Neo4j \u6570\u636e\u7684\u5bfc\u51fa\u901f\u5ea6\uff0c\u5728 Neo4j \u6570\u636e\u5e93\u4e2d\u4e3a tagA \u548c tagB \u7684 idInt \u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Neo4j \u7528\u6237\u624b\u518c\u3002 \u6b65\u9aa4 3. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 \u00b6 \u5b8c\u6210 Exchange \u7f16\u8bd1\u540e\uff0c\u8fdb\u5165 nebula-java/tools/exchange \u76ee\u5f55\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 target/classes/server_application.conf \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u6587\u4ef6\u88ab\u91cd\u547d\u540d\u4e3a neo4j_application.conf \u3002\u4ee5\u4e0b\u4ec5\u8be6\u7ec6\u8bf4\u660e\u70b9\u548c\u8fb9\u6570\u636e\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u672c\u6b21\u793a\u4f8b\u4e2d\u672a\u4f7f\u7528\u7684\u914d\u7f6e\u9879\u5df2\u88ab\u6ce8\u91ca\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u914d\u7f6e\u8bf4\u660e\u3002Spark \u548c Nebula Graph \u76f8\u5173\u914d\u7f6e\uff0c\u53c2\u8003 Spark \u53c2\u6570 \u3001 Nebula Graph \u53c2\u6570 \u3002 { # Spark \u76f8\u5173\u914d\u7f6e spark: { app: { name: Spark Writer } driver: { cores: 1 maxResultSize: 1G } cores { max: 16 } } # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { address:{ # \u4ee5\u4e0b\u4e3a Nebula Graph \u7684 Graph \u670d\u52a1\u548c Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u3002 # \u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u683c\u5f0f\u4e3a \"ip1:port\",\"ip2:port\",\"ip3:port\"\u3002 # \u4e0d\u540c\u5730\u5740\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7 (,) \u9694\u5f00\u3002 graph:[\"127.0.0.1:3699\"] meta:[\"127.0.0.1:45500\"] } # \u586b\u5199\u7684\u8d26\u53f7\u5fc5\u987b\u62e5\u6709 Nebula Graph \u76f8\u5e94\u56fe\u7a7a\u95f4\u7684\u5199\u6570\u636e\u6743\u9650\u3002 user: user pswd: password # \u586b\u5199 Nebula Graph \u4e2d\u9700\u8981\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 space: test connection { timeout: 3000 retry: 3 } execution { retry: 3 } error: { max: 32 output: /tmp/errors } rate: { limit: 64M timeout: 1000 } } # \u5904\u7406\u70b9\u6570\u636e tags: [ # \u8bbe\u7f6e\u6807\u7b7e\u76f8\u5173\u4fe1\u606f { name: tagA # \u8bbe\u7f6e Neo4j \u6570\u636e\u5e93\u670d\u52a1\u5668\u5730\u5740\uff0cString \u7c7b\u578b\uff0c\u683c\u5f0f\u5fc5\u987b\u4e3a \"bolt://ip:port\"\u3002 server: \"bolt://127.0.0.1:7687\" # Neo4j \u6570\u636e\u5e93\u767b\u5f55\u8d26\u53f7\u548c\u5bc6\u7801\u3002 user: neo4j password: neo4j # \u4f20\u8f93\u662f\u5426\u52a0\u5bc6\uff0c\u9ed8\u8ba4\u503c\u4e3a false\uff0c\u8868\u793a\u4e0d\u52a0\u5bc6\uff1b\u8bbe\u7f6e\u4e3a true \u65f6\uff0c\u8868\u793a\u52a0\u5bc6\u3002 encryption: false # \u8bbe\u7f6e\u6e90\u6570\u636e\u6240\u5728 Neo4j \u6570\u636e\u5e93\u7684\u540d\u79f0\u3002\u5982\u679c\u60a8\u4f7f\u7528 Community Edition Neo4j\uff0c\u4e0d\u652f\u6301\u8fd9\u4e2a\u53c2\u6570\u3002 # database: graph.db type: { # \u6307\u5b9a\u6570\u636e\u6765\u6e90\uff0c\u8bbe\u7f6e\u4e3a neo4j\u3002 source: neo4j # \u6307\u5b9a\u70b9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # \u6307\u5b9a Nebula Graph Schema \u4e2d\u6807\u7b7e\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u4ee5\u5217\u8868\u5f62\u5f0f\u5217\u51fa\uff0c # \u4e0e tags.fields \u5217\u8868\u4e2d\u7684\u5c5e\u6027\u540d\u79f0\u4e00\u4e00\u5bf9\u5e94\uff0c\u5f62\u6210\u6620\u5c04\u5173\u7cfb\uff0c # \u591a\u4e2a\u5c5e\u6027\u540d\u79f0\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00\u3002 nebula.fields: [idInt, idString, tdouble, tboolean] # \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u4e0e Nebula Graph \u6807\u7b7e\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\uff0c # \u4ee5\u5217\u8868\u5f62\u5f0f\u5217\u51fa\uff0c\u591a\u4e2a\u5c5e\u6027\u540d\u79f0\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00\uff0c # \u5217\u51fa\u7684\u5c5e\u6027\u540d\u79f0\u5fc5\u987b\u4e0e exec \u4e2d\u5217\u51fa\u7684\u5c5e\u6027\u540d\u79f0\u4fdd\u6301\u4e00\u81f4\u3002 fields : [idInt, idString, tdouble, tboolean] # \u5c06\u6e90\u6570\u636e\u4e2d\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\u4f5c\u4e3a Nebula Graph \u70b9 VID \u7684\u6765\u6e90\uff0c # \u5982\u679c\u5c5e\u6027\u4e3a int \u6216\u8005 long \u7c7b\u578b\uff0c\u4f7f\u7528 vertex \u8bbe\u7f6e VID \u5217\u3002 vertex: idInt # \u5982\u679c\u6570\u636e\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u6dfb\u52a0 vertex.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 # vertex { # field: name # policy: \"hash\" #} # Spark \u7684\u5206\u533a\u6570\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a 32\u3002 partition: 10 # \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u70b9\u6570\u636e\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a 256\u3002 batch: 2000 # \u8bbe\u7f6e\u4fdd\u5b58\u5bfc\u5165\u8fdb\u5ea6\u4fe1\u606f\u7684\u76ee\u5f55\uff0c\u7528\u4e8e\u65ad\u70b9\u7eed\u4f20\uff0c # \u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u8868\u793a\u4e0d\u542f\u7528\u65ad\u70b9\u7eed\u4f20\u3002 check_point_path: \"file:///tmp/test\" # \u5199\u5165 Cypher \u8bed\u53e5\uff0c\u4ece Neo4j \u6570\u636e\u5e93\u4e2d\u68c0\u7d22\u6253\u4e86\u67d0\u79cd\u6807\u7b7e\u7684\u70b9\u7684\u5c5e\u6027\uff0c\u5e76\u6307\u5b9a\u522b\u540d # Cypher \u8bed\u53e5\u4e0d\u80fd\u4ee5\u82f1\u6587\u5206\u53f7\uff08`;`\uff09\u7ed3\u5c3e\u3002 exec: \"match (n:tagA) return n.idInt as idInt, n.idString as idString, n.tdouble as tdouble, n.tboolean as tboolean order by n.idInt\" } # \u5982\u679c\u6709\u591a\u4e2a\u6807\u7b7e\uff0c\u5219\u53c2\u8003\u4ee5\u4e0a\u8bf4\u660e\u6dfb\u52a0\u66f4\u591a\u7684\u6807\u7b7e\u76f8\u5173\u4fe1\u606f\u3002 ] # \u5904\u7406\u8fb9\u6570\u636e edges: [ { # \u6307\u5b9a Nebula Graph \u4e2d\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 name: edgeAB type: { # \u6307\u5b9a\u6570\u636e\u6765\u6e90\uff0c\u8bbe\u7f6e\u4e3a neo4j\u3002 source: neo4j # \u6307\u5b9a\u8fb9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # \u8bbe\u7f6e Neo4j \u6570\u636e\u5e93\u7684\u4fe1\u606f\uff0c\u5305\u62ec IP \u5730\u5740\u3001\u7aef\u53e3\u3001\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 server: \"bolt://127.0.0.1:7687\" user: neo4j password: neo4j # \u5199\u5165 Cypher \u8bed\u53e5\uff0c\u8868\u793a\u4ece Neo4j \u6570\u636e\u5e93\u4e2d\u67e5\u8be2\u5173\u7cfb\u5c5e\u6027\u3002 # Cypher \u8bed\u53e5\u4e0d\u80fd\u4ee5\u82f1\u6587\u5206\u53f7\uff08`;`\uff09\u7ed3\u5c3e\u3002 exec: \"match (a:tagA)-[r:edgeAB]->(b:tagB) return a.idInt, b.idInt, r.idInt as idInt, r.idString as idString, r.tdouble as tdouble, r.tboolean as tboolean order by id(r)\" # \u5728 fields \u91cc\u6307\u5b9a Neo4j \u4e2d\u5173\u7cfb\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u5176\u5bf9\u5e94\u7684 value # \u4f1a\u4f5c\u4e3a Nebula Graph \u4e2d edgeAB \u7684\u5c5e\u6027\uff08nebula.fields\uff09\u503c\u6765\u6e90 # fields \u548c nebula.fields \u91cc\u7684\u914d\u7f6e\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94 # \u5982\u679c\u9700\u8981\u6307\u5b9a\u591a\u4e2a\u5217\u540d\u79f0\uff0c\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00 fields: [r.idInt, r.idString, r.tdouble, r.tboolean] nebula.fields: [idInt, idString, tdboule, tboolean] # \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\u4f5c\u4e3a Nebula Graph \u8fb9\u7684\u8d77\u59cb\u70b9 VID\u3002 # \u5982\u679c\u5c5e\u6027\u4e3a `int` \u6216\u8005 `long` \u7c7b\u578b\uff0c\u4f7f\u7528 source.field \u8bbe\u7f6e\u8d77\u59cb\u70b9 VID \u5217 # source.field: field_name # \u5982\u679c\u4e0d\u662f\u4e0a\u8ff0\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u5219\u6dfb\u52a0 source.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 source: { field: a.idInt policy: \"hash\" } # \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\u4f5c\u4e3a Nebula Graph \u8fb9\u7684\u7ec8\u70b9 VID\u3002 # \u5982\u679c\u5c5e\u6027\u4e3a `int` \u6216\u8005 `long` \u7c7b\u578b\uff0c\u4f7f\u7528 target.field \u8bbe\u7f6e\u7ec8\u70b9 VID \u5217 # target.field: field_name # \u5982\u679c\u4e0d\u662f\u4e0a\u8ff0\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u5219\u6dfb\u52a0 target.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 target: { field: b.idInt policy: \"hash\" } # \u5c06\u6e90\u6570\u636e\u4e2d\u67d0\u4e00\u5217\u6570\u636e\u4f5c\u4e3a Nebula Graph \u4e2d\u8fb9\u7684 Rank \u503c\u6765\u6e90\u3002 ranking: idInt # Spark \u7684\u5206\u533a\u6570\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a 32\u3002 # \u4e3a\u51cf\u8f7b Neo4j \u7684\u6392\u5e8f\u538b\u529b\uff0c\u5c06 partition \u8bbe\u7f6e\u4e3a 1 partition: 1 # \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u70b9\u6570\u636e\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a 256 batch: 1000 # \u8bbe\u7f6e\u4fdd\u5b58\u5bfc\u5165\u8fdb\u5ea6\u4fe1\u606f\u7684\u76ee\u5f55\uff0c\u7528\u4e8e\u65ad\u70b9\u7eed\u4f20\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u8868\u793a\u4e0d\u542f\u7528\u65ad\u70b9\u7eed\u4f20\u3002 check_point_path: /tmp/test } ] } exec \u914d\u7f6e\u8bf4\u660e \u00b6 \u5728\u914d\u7f6e\u6e90\u6570\u636e\u7684 tags.exec \u6216\u8005 edges.exec \u53c2\u6570\u65f6\uff0c\u9700\u8981\u5199\u5165 Cypher \u67e5\u8be2\u8bed\u53e5\u3002\u4e3a\u4e86\u4fdd\u8bc1\u6bcf\u6b21\u67e5\u8be2\u7ed3\u679c\u6392\u5e8f\u4e00\u81f4\uff0c\u5e76\u4e14\u4e3a\u4e86\u9632\u6b62\u5728\u5bfc\u5165\u65f6\u4e22\u5931\u6570\u636e\uff0c\u5f3a\u70c8\u5efa\u8bae\u60a8\u5728 Cypher \u67e5\u8be2\u8bed\u53e5\u4e2d\u52a0\u5165 ORDER BY \u5b50\u53e5\uff0c\u540c\u65f6\uff0c\u4e3a\u4e86\u63d0\u9ad8\u6570\u636e\u5bfc\u5165\u6548\u7387\uff0c\u6700\u597d\u9009\u53d6\u6709\u7d22\u5f15\u7684\u5c5e\u6027\u4f5c\u4e3a\u6392\u5e8f\u7684\u5c5e\u6027\u3002\u5982\u679c\u6ca1\u6709\u7d22\u5f15\uff0c\u60a8\u4e5f\u53ef\u4ee5\u89c2\u5bdf\u9ed8\u8ba4\u7684\u6392\u5e8f\uff0c\u9009\u62e9\u5408\u9002\u7684\u5c5e\u6027\u7528\u4e8e\u6392\u5e8f\uff0c\u4ee5\u63d0\u9ad8\u6548\u7387\u3002\u5982\u679c\u9ed8\u8ba4\u7684\u6392\u5e8f\u627e\u4e0d\u5230\u89c4\u5f8b\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u70b9\u6216\u5173\u7cfb\u7684 ID \u8fdb\u884c\u6392\u5e8f\uff0c\u5e76\u4e14\u5c06 partition \u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u5c3d\u91cf\u5c0f\u7684\u503c\uff0c\u51cf\u8f7b Neo4j \u7684\u6392\u5e8f\u538b\u529b\u3002 \u8bf4\u660e \uff1a\u4f7f\u7528 ORDER BY \u5b50\u53e5\u4f1a\u5ef6\u957f\u6570\u636e\u5bfc\u5165\u7684\u65f6\u95f4\u3002 \u53e6\u5916\uff0cExchange \u9700\u8981\u5728\u4e0d\u540c Spark \u5206\u533a\u6267\u884c\u4e0d\u540c SKIP \u548c LIMIT \u7684 Cypher \u8bed\u53e5\uff0c\u6240\u4ee5\uff0c\u5728 tags.exec \u548c edges.exec \u5bf9\u5e94\u7684 Cypher \u8bed\u53e5\u4e2d\u4e0d\u80fd\u542b\u6709 SKIP \u548c LIMIT \u5b50\u53e5\u3002 tags.vertex \u6216 edges.vertex \u914d\u7f6e\u8bf4\u660e \u00b6 Nebula Graph \u5728\u521b\u5efa\u70b9\u548c\u8fb9\u65f6\u4f1a\u5c06 ID \u4f5c\u4e3a\u552f\u4e00\u4e3b\u952e\uff0c\u5982\u679c\u4e3b\u952e\u5df2\u5b58\u5728\u5219\u4f1a\u8986\u76d6\u8be5\u4e3b\u952e\u4e2d\u7684\u6570\u636e\u3002\u6240\u4ee5\uff0c\u5047\u5982\u5c06\u67d0\u4e2a Neo4j \u5c5e\u6027\u503c\u4f5c\u4e3a Nebula Graph \u7684 ID\uff0c\u800c\u8fd9\u4e2a\u5c5e\u6027\u503c\u5728 Neo4j \u4e2d\u662f\u6709\u91cd\u590d\u7684\uff0c\u5c31\u4f1a\u5bfc\u81f4\u201c\u91cd\u590d ID\u201d\uff0c\u5b83\u4eec\u5bf9\u5e94\u7684\u6570\u636e\u6709\u4e14\u53ea\u6709\u4e00\u6761\u4f1a\u5b58\u5165 Nebula Graph \u4e2d\uff0c\u5176\u5b83\u7684\u5219\u4f1a\u88ab\u8986\u76d6\u6389\u3002\u7531\u4e8e\u6570\u636e\u5bfc\u5165\u8fc7\u7a0b\u662f\u5e76\u53d1\u5730\u5f80 Nebula Graph \u4e2d\u5199\u6570\u636e\uff0c\u6700\u7ec8\u4fdd\u5b58\u7684\u6570\u636e\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u662f Neo4j \u4e2d\u6700\u65b0\u7684\u6570\u636e\u3002 check_point_path \u914d\u7f6e\u8bf4\u660e \u00b6 \u5982\u679c\u542f\u7528\u4e86\u65ad\u70b9\u7eed\u4f20\u529f\u80fd\uff0c\u4e3a\u907f\u514d\u6570\u636e\u4e22\u5931\uff0c\u5728\u65ad\u70b9\u548c\u7eed\u4f20\u4e4b\u95f4\uff0c\u6570\u636e\u5e93\u4e0d\u5e94\u8be5\u6539\u53d8\u72b6\u6001\uff0c\u4f8b\u5982\u4e0d\u80fd\u6dfb\u52a0\u6570\u636e\u6216\u5220\u9664\u6570\u636e\uff0c\u540c\u65f6\uff0c\u4e0d\u80fd\u66f4\u6539 partition \u6570\u91cf\u914d\u7f6e\u3002 \u6b65\u9aa4 4. \uff08\u53ef\u9009\uff09\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e \u00b6 \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u662f\u5426\u6b63\u786e\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local[10]\" --class com.vesoft.nebula.tools.importer.Exchange target/exchange-1.x.y.jar -c /path/to/conf/neo4j_application.conf -D \u6b65\u9aa4 5. \u5411 Nebula Graph \u5bfc\u5165\u6570\u636e \u00b6 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4f7f\u7528 Exchange \u5c06 Neo4j \u7684\u6570\u636e\u8fc1\u79fb\u5230 Nebula Graph \u4e2d\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local[10]\" --class com.vesoft.nebula.tools.importer.Exchange target/exchange-1.x.y.jar -c /path/to/conf/neo4j_application.conf \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4ee5\u60a8\u5b9e\u9645\u7f16\u8bd1\u5f97\u5230\u7684 JAR \u6587\u4ef6\u540d\u79f0\u4e3a\u51c6\u3002 \u6b65\u9aa4 6. \uff08\u53ef\u9009\uff09\u9a8c\u8bc1\u6570\u636e \u00b6 \u60a8\u53ef\u4ee5\u5728 Nebula Graph \u5ba2\u6237\u7aef\uff08\u4f8b\u5982 Nebula Graph Studio\uff09\u91cc\u6267\u884c\u8bed\u53e5\uff0c\u786e\u8ba4\u6570\u636e\u662f\u5426\u5df2\u5bfc\u5165\uff0c\u4f8b\u5982\uff1a GO FROM <tagA_VID> OVER edgeAB; \u5982\u679c\u8fd4\u56de\u8fb9\u7ec8\u70b9\uff08 edgeAB._dst \uff09\u5373\u8868\u660e\u6570\u636e\u5df2\u5bfc\u5165\u3002 \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 db_dump \u5de5\u5177\u7edf\u8ba1\u6570\u636e\u662f\u5426\u5df2\u7ecf\u5168\u90e8\u5bfc\u5165\u3002\u8be6\u7ec6\u7684\u4f7f\u7528\u4fe1\u606f\u53c2\u8003 Dump Tool \u3002 \u6b65\u9aa4 7. \uff08\u53ef\u9009\uff09\u5728 Nebula Graph \u4e2d\u91cd\u6784\u7d22\u5f15 \u00b6 Exchange \u5bfc\u5165\u6570\u636e\u65f6\uff0c\u5e76\u4e0d\u4f1a\u5bfc\u5165 Neo4j \u6570\u636e\u5e93\u4e2d\u7684\u7d22\u5f15\uff0c\u6240\u4ee5\uff0c\u5bfc\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 Nebula Graph \u4e2d\u91cd\u65b0\u521b\u5efa\u5e76\u91cd\u6784\u7d22\u5f15\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300aNebula Graph Database \u624b\u518c\u300b \u3002 \u6027\u80fd\u8bf4\u660e \u00b6 \u4ee5\u4e0b\u4e3a\u5355\u6b21\u6d4b\u8bd5\u6570\u636e\uff0c\u4ec5\u4f9b\u53c2\u8003\u3002\u6d4b\u8bd5\u6027\u80fd\u5982\u4e0b\uff1a \u5bfc\u5165 100 \u4e07\u4e2a\u70b9\uff0c\u8017\u65f6 9 s \u5bfc\u5165 1,000 \u4e07\u6761\u8fb9\uff0c\u8017\u65f6 43 s \u603b\u8017\u65f6\uff1a52 s \u9644\u5f55\uff1aNeo4j 3.5 Community \u548c Nebula Graph 1.2.1 \u5bf9\u6bd4 \u00b6 Neo4j \u548c Nebula Graph \u5728\u7cfb\u7edf\u67b6\u6784\u3001\u6570\u636e\u6a21\u578b\u548c\u8bbf\u95ee\u65b9\u5f0f\u4e0a\u90fd\u6709\u4e00\u4e9b\u5dee\u5f02\uff0c\u90e8\u5206\u5dee\u5f02\u53ef\u80fd\u4f1a\u5bf9\u60a8\u4f7f\u7528 Exchange \u8fc1\u79fb\u6570\u636e\u4ea7\u751f\u5f71\u54cd\u3002\u4e0b\u8868\u5217\u51fa\u4e86\u5e38\u89c1\u7684\u5f02\u540c\u3002 \u5bf9\u6bd4\u9879 Neo4j 3.5 Conmunity Nebula Graph 1.2.1 \u5bf9\u4f7f\u7528 Exchange \u7684\u5f71\u54cd \u7cfb\u7edf\u67b6\u6784 \u5206\u5e03\u5f0f \u4ec5 Enterprise \u652f\u6301 \u652f\u6301 \u65e0 \u6570\u636e\u5206\u7247 \u4e0d\u652f\u6301 \u652f\u6301 \u65e0 \u5f00\u6e90\u534f\u8bae AGPL Apache 2.0 \u65e0 \u5f00\u53d1\u8bed\u8a00 Java C++ \u65e0 \u9ad8\u53ef\u7528 \u4e0d\u652f\u6301 \u652f\u6301 \u65e0 \u6570\u636e\u6a21\u578b \u5c5e\u6027\u56fe \u662f \u662f \u65e0 Schema Schema optional \u6216\u8005 Schema free \u5f3a Schema \u5fc5\u987b\u5728 Nebula Graph \u4e2d\u4e8b\u5148\u521b\u5efaSchema Neo4j \u4e2d\u7684 Schema \u5fc5\u987b\u4e0e Nebula Graph \u7684\u4fdd\u6301\u4e00\u81f4 \u70b9\u7c7b\u578b/\u8fb9\u7c7b\u578b Label\uff08\u53ef\u4ee5\u6ca1\u6709 Label\uff0cLabel \u4e0d\u51b3\u5b9a\u5c5e\u6027 Schema\uff09 Tag/EdgeType\uff08\u5fc5\u987b\u81f3\u5c11\u6709\u4e00\u4e2a Tag\uff0c\u5e76\u4e14\u4e0e Schema \u5bf9\u5e94\uff09 \u65e0 \u70b9 ID/\u552f\u4e00\u4e3b\u952e \u70b9\u5141\u8bb8\u65e0\u4e3b\u952e\uff08\u4f1a\u6709\u591a\u6761\u91cd\u590d\u8bb0\u5f55\uff09\u3002\u7531\u5185\u7f6e id() \u6807\u8bc6\uff0c\u6216\u8005\u7531\u7ea6\u675f\u6765\u4fdd\u8bc1\u4e3b\u952e\u552f\u4e00\u3002 \u70b9\u5fc5\u987b\u6709\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u79f0\u4e3a VID\u3002VID \u7531\u5e94\u7528\u7a0b\u5e8f\u751f\u6210\u3002 \u4e3b\u952e\u76f8\u540c\u7684\u91cd\u590d\u8bb0\u5f55\u53ea\u4fdd\u7559\u6700\u65b0\u7684\u4e00\u4efd\u3002 \u5c5e\u6027\u7d22\u5f15 \u652f\u6301 \u652f\u6301 \u65e0\u6cd5\u5bfc\u5165\u7d22\u5f15\uff0c\u5fc5\u987b\u5728\u5bfc\u5165\u540e\u518d\u91cd\u65b0\u521b\u5efa\u3002 \u7ea6\u675f\uff08Constrains\uff09 \u652f\u6301 \u4e0d\u652f\u6301 \u4e0d\u4f1a\u5bfc\u5165\u7ea6\u675f\u3002 \u4e8b\u52a1 \u652f\u6301 \u4e0d\u652f\u6301 \u65e0 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b \u5217\u51fa\u6240\u6709 labels \u6216 tags MATCH (n) RETURN distinct labels(n); call db.labels(); SHOW TAGS; \u65e0 \u63d2\u5165\u6307\u5b9a\u7c7b\u578b\u7684\u70b9 CREATE (:Person {age: 16}) INSERT VERTEX <tag_name> (prop_name_list) VALUES <vid>:(prop_value_list) \u65e0 \u66f4\u65b0\u70b9\u5c5e\u6027 SET n.name = V UPDATE VERTEX <vid> SET <update_columns> \u65e0 \u67e5\u8be2\u6307\u5b9a\u70b9\u7684\u5c5e\u6027 MATCH (n) WHERE ID(n) = vid RETURN properties(n) FETCH PROP ON <tag_name> <vid> \u65e0 \u67e5\u8be2\u6307\u5b9a\u70b9\u7684\u67d0\u4e00\u7c7b\u5173\u7cfb MATCH (n)-[r:edge_type]->() WHERE ID(n) = vid GO FROM <vid> OVER <edge_type> \u65e0 \u4e24\u70b9\u8def\u5f84 MATCH p =(a)-[]->(b) WHERE ID(a) = a_vid AND ID(b) = b_vid RETURN p FIND ALL PATH FROM <a_vid> TO <b_vid> OVER * \u65e0","title":"\u5bfc\u5165 Neo4j \u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#neo4j","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528 Exchange \u5c06 Neo4j \u6570\u636e\u79bb\u7ebf\u6279\u91cf\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u3002","title":"\u5bfc\u5165 Neo4j \u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#_1","text":"Exchange \u4f7f\u7528 Neo4j Driver 4.0.1 \u5b9e\u73b0\u5bf9 Neo4j \u6570\u636e\u7684\u8bfb\u53d6\u3002\u6267\u884c\u6279\u91cf\u5bfc\u51fa\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5199\u5165\u9488\u5bf9\u6807\u7b7e\uff08label\uff09\u548c\u5173\u7cfb\u7c7b\u578b\uff08Relationship Type\uff09\u81ea\u52a8\u6267\u884c\u7684 Cypher \u8bed\u53e5\uff0c\u4ee5\u53ca Spark \u5206\u533a\u6570\uff0c\u63d0\u9ad8\u6570\u636e\u5bfc\u51fa\u6027\u80fd\u3002 Exchange \u8bfb\u53d6 Neo4j \u6570\u636e\u65f6\u9700\u8981\u5b8c\u6210\u4ee5\u4e0b\u5de5\u4f5c\uff1a Exchange \u4e2d\u7684 Reader \u4f1a\u5c06\u914d\u7f6e\u6587\u4ef6\u4e2d exec \u90e8\u5206\u7684 Cypher RETURN \u8bed\u53e5\u540e\u9762\u7684\u8bed\u53e5\u66ff\u6362\u4e3a COUNT(*) \uff0c\u5e76\u6267\u884c\u8fd9\u4e2a\u8bed\u53e5\uff0c\u4ece\u800c\u83b7\u53d6\u6570\u636e\u603b\u91cf\uff0c\u518d\u6839\u636e Spark \u5206\u533a\u6570\u91cf\u8ba1\u7b97\u6bcf\u4e2a\u5206\u533a\u7684\u8d77\u59cb\u504f\u79fb\u91cf\u548c\u5927\u5c0f\u3002 \uff08\u53ef\u9009\uff09\u5982\u679c\u7528\u6237\u914d\u7f6e\u4e86 check_point_path \u76ee\u5f55\uff0cReader \u4f1a\u8bfb\u53d6\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u3002\u5982\u679c\u5f53\u524d\u5904\u4e8e\u7eed\u4f20\u7684\u72b6\u6001\uff0cReader \u4f1a\u8ba1\u7b97\u6bcf\u4e2a Spark \u5206\u533a\u5e94\u8be5\u6709\u7684\u504f\u79fb\u91cf\u548c\u5927\u5c0f\u3002 \u5728\u6bcf\u4e2a Spark \u5206\u533a\u91cc\uff0cExchange \u4e2d\u7684 Reader \u4f1a\u5728 Cypher \u8bed\u53e5\u540e\u9762\u6dfb\u52a0\u4e0d\u540c\u7684 SKIP \u548c LIMIT \u8bed\u53e5\uff0c\u8c03\u7528 Neo4j Driver \u5e76\u884c\u6267\u884c\uff0c\u5c06\u6570\u636e\u5206\u5e03\u5230\u4e0d\u540c\u7684 Spark \u5206\u533a\u4e2d\u3002 Reader \u6700\u540e\u5c06\u8fd4\u56de\u7684\u6570\u636e\u5904\u7406\u6210 DataFrame\u3002 \u81f3\u6b64\uff0cExchange \u5373\u5b8c\u6210\u4e86\u5bf9 Neo4j \u6570\u636e\u7684\u5bfc\u51fa\u3002\u4e4b\u540e\uff0c\u6570\u636e\u88ab\u5e76\u884c\u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u4e2d\u3002 \u6574\u4e2a\u8fc7\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Exchange \u5c06 Neo4j \u7684\u6570\u636e\u6279\u91cf\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 \u8bf4\u660e \uff1a\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u8fc1\u79fb\u6570\u636e\u3002\u60a8\u4e5f\u80fd\u901a\u8fc7 SST \u6587\u4ef6\u5c06 Neo4j \u7684\u6570\u636e\u6279\u91cf\u8f6c\u5165 Nebula Graph \u6570\u636e\u5e93\uff0c\u5177\u4f53\u64cd\u4f5c\u57fa\u672c\u76f8\u540c\uff0c\u4ec5\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u6709\u5dee\u5f02\uff0c\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u5bfc\u5165 SST \u6587\u4ef6 \u3002","title":"\u5b9e\u73b0\u65b9\u6cd5"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#_2","text":"\u5047\u8bbe\u60a8\u5728 Neo4j \u6570\u636e\u5e93\u91cc\u6709\u4e00\u4e2a\u56fe\u6570\u636e\u96c6\uff0c\u9700\u8981\u4f7f\u7528 Exchange \u5c06\u6570\u636e\u8fc1\u79fb\u5230 Nebula Graph \u6570\u636e\u5e93\u4e2d\u3002","title":"\u793a\u4f8b\u573a\u666f"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#_3","text":"\u4ee5\u4e0b\u4e3a\u672c\u793a\u4f8b\u4e2d\u7684\u73af\u5883\u914d\u7f6e\u4fe1\u606f\uff1a \u670d\u52a1\u5668\u89c4\u683c\uff1a CPU\uff1aIntel(R) Xeon(R) CPU E5-2697 v3 @ 2.60GHz CPU \u5185\u6838\u6570\uff1a14 \u5185\u5b58\uff1a251 GB Spark\uff1a\u5355\u673a\u7248\uff0c2.4.6 pre-build for Hadoop 2.7 Neo4j\uff1a3.5.20 Community Edition Nebula Graph 1.2.1\uff0c\u4f7f\u7528 Docker Compose \u90e8\u7f72\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph","title":"\u73af\u5883\u914d\u7f6e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#_4","text":"Neo4j \u7684\u6570\u636e\u96c6\u4fe1\u606f\u5982\u4e0b\uff1a \u4e24\u79cd\u6807\u7b7e\uff08\u6b64\u5904\u547d\u540d\u4e3a tagA \u548c tagB\uff09\uff0c\u5171\u8ba1 100 \u4e07\u4e2a\u8282\u70b9\uff08node\uff09\u3002 \u4e00\u79cd\u8fde\u63a5\u4e0a\u8ff0\u4e24\u7c7b\u70b9\u7684\u5173\u7cfb\u7c7b\u578b\uff08Relationship Type\uff0c\u6b64\u5904\u547d\u540d\u4e3a edgeAB\uff09\uff0c\u5171\u8ba1 1000 \u4e07\u6761\u5173\u7cfb\u8fb9\uff08Relationship\uff09\u3002 \u4e0a\u8ff0\u4e09\u8005\u5206\u522b\u62e5\u6709\u5982\u4e0b\u8868\u6240\u793a\u7684\u5c5e\u6027\u3002 \u8981\u7d20\u540d\u79f0 \u5c5e\u6027 idInt \u5c5e\u6027 idString \u5c5e\u6027 tboolean \u5c5e\u6027 tdouble tagA int string bool double tagB int string bool double edgeAB int string bool double","title":"\u6570\u636e\u96c6\u4fe1\u606f"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#_5","text":"\u5728\u672c\u793a\u4f8b\u4e2d Neo4j \u6570\u636e\u5e93\u548c Nebula Graph \u6570\u636e\u5e93\u7684\u4fe1\u606f\u5982\u4e0b\uff1a Neo4j \u6570\u636e\u5e93\uff1a \u670d\u52a1\u5668\u5730\u5740\u53ca\u7aef\u53e3\u4e3a\uff1a bolt://127.0.0.1:7687 \u7528\u6237\u540d\uff1a neo4j \u5bc6\u7801\uff1a neo4j Nebula Graph \u6570\u636e\u5e93\uff1a \u670d\u52a1\u5668\u5730\u5740\u53ca\u7aef\u53e3\u4e3a\uff1a 127.0.0.1:3699 \u7528\u6237\u540d\uff1a\u672c\u793a\u4f8b\u4e2d Nebula Graph \u6570\u636e\u5e93\u6ca1\u6709\u542f\u7528\u8eab\u4efd\u8ba4\u8bc1\uff0c\u6240\u4ee5\uff0c\u7528\u6237\u540d\u4e3a user \u5bc6\u7801\uff1a password","title":"\u6570\u636e\u5e93\u4fe1\u606f"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#_6","text":"\u5f00\u59cb\u8fc1\u79fb\u6570\u636e\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u4fdd\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b8c\u6210 Exchange \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u7f16\u8bd1 Exchange \u3002 \u5df2\u7ecf\u5b89\u88c5\u4e86 Spark\u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\u6240\u9700\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3001\u5c5e\u6027\u7b49\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#_7","text":"","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#1_nebula_graph_schema","text":"\u6839\u636e\u793a\u4f8b\u573a\u666f\uff0c\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5b8c\u6210 Nebula Graph \u6784\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\uff1a \u786e\u8ba4\u56fe\u6570\u636e\u6a21\u5f0f\u8981\u7d20\uff1aNeo4j \u4e2d\u7684\u6807\u7b7e\u548c\u5173\u7cfb\u7c7b\u578b\u53ca\u5176\u5c5e\u6027\u4e0e Nebula Graph \u4e2d\u7684\u6570\u636e\u6a21\u5f0f\u8981\u7d20\u5bf9\u5e94\u5173\u7cfb\u5982\u4e0b\u8868\u6240\u793a\u3002 Neo4j \u8981\u7d20 Nebula Graph \u8981\u7d20 \u8981\u7d20\u540d\u79f0 Node Tag tagA \u548c tagB Relationship Type Edge Type edgAB \u786e\u8ba4 Nebula Graph \u9700\u8981\u7684\u5206\u533a\u6570\u91cf\uff1a\u5168\u96c6\u7fa4\u786c\u76d8\u6570\u91cf * \uff082 \u81f3 10\uff09\u3002\u672c\u793a\u4f8b\u4e2d\u5047\u8bbe\u4e3a 10\u3002 \u786e\u8ba4 Nebula Graph \u9700\u8981\u7684\u526f\u672c\u6570\u91cf\u3002\u672c\u793a\u4f8b\u4e2d\u5047\u8bbe\u4e3a 1\u3002 \u5728 Nebula Graph \u91cc\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4 test \uff0c\u5e76\u521b\u5efa\u4e00\u4e2a\u56fe\u6570\u636e\u6a21\u5f0f\uff0c\u5982\u4e0b\u6240\u793a\u3002 -- \u521b\u5efa\u56fe\u7a7a\u95f4\uff0c\u672c\u793a\u4f8b\u4e2d\u5047\u8bbe\u53ea\u9700\u8981\u4e00\u4e2a\u526f\u672c nebula> CREATE SPACE test(partition_num=10, replica_factor=1); -- \u9009\u62e9\u56fe\u7a7a\u95f4 test nebula> USE test; -- \u521b\u5efa\u6807\u7b7e tagA nebula> CREATE TAG tagA(idInt int, idString string, tboolean bool, tdouble double); -- \u521b\u5efa\u6807\u7b7e tagB nebula> CREATE TAG tagB(idInt int, idString string, tboolean bool, tdouble double); -- \u521b\u5efa\u8fb9\u7c7b\u578b edgeAB nebula> CREATE EDGE edgeAB(idInt int, idString string, tboolean bool, tdouble double); \u5173\u4e8e Nebula Graph \u6784\u56fe\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u53c2\u8003\u300aNebula Graph Database \u624b\u518c\u300b\u7684 \u5feb\u901f\u5f00\u59cb \u3002","title":"\u6b65\u9aa4 1. \u5728 Nebula Graph \u4e2d\u6784\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\uff08Schema\uff09"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#2","text":"\u4e3a\u4e86\u63d0\u9ad8 Neo4j \u6570\u636e\u7684\u5bfc\u51fa\u901f\u5ea6\uff0c\u5728 Neo4j \u6570\u636e\u5e93\u4e2d\u4e3a tagA \u548c tagB \u7684 idInt \u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Neo4j \u7528\u6237\u624b\u518c\u3002","title":"\u6b65\u9aa4 2. \u914d\u7f6e\u6e90\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#3","text":"\u5b8c\u6210 Exchange \u7f16\u8bd1\u540e\uff0c\u8fdb\u5165 nebula-java/tools/exchange \u76ee\u5f55\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 target/classes/server_application.conf \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u6587\u4ef6\u88ab\u91cd\u547d\u540d\u4e3a neo4j_application.conf \u3002\u4ee5\u4e0b\u4ec5\u8be6\u7ec6\u8bf4\u660e\u70b9\u548c\u8fb9\u6570\u636e\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u672c\u6b21\u793a\u4f8b\u4e2d\u672a\u4f7f\u7528\u7684\u914d\u7f6e\u9879\u5df2\u88ab\u6ce8\u91ca\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u914d\u7f6e\u8bf4\u660e\u3002Spark \u548c Nebula Graph \u76f8\u5173\u914d\u7f6e\uff0c\u53c2\u8003 Spark \u53c2\u6570 \u3001 Nebula Graph \u53c2\u6570 \u3002 { # Spark \u76f8\u5173\u914d\u7f6e spark: { app: { name: Spark Writer } driver: { cores: 1 maxResultSize: 1G } cores { max: 16 } } # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { address:{ # \u4ee5\u4e0b\u4e3a Nebula Graph \u7684 Graph \u670d\u52a1\u548c Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u3002 # \u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u683c\u5f0f\u4e3a \"ip1:port\",\"ip2:port\",\"ip3:port\"\u3002 # \u4e0d\u540c\u5730\u5740\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7 (,) \u9694\u5f00\u3002 graph:[\"127.0.0.1:3699\"] meta:[\"127.0.0.1:45500\"] } # \u586b\u5199\u7684\u8d26\u53f7\u5fc5\u987b\u62e5\u6709 Nebula Graph \u76f8\u5e94\u56fe\u7a7a\u95f4\u7684\u5199\u6570\u636e\u6743\u9650\u3002 user: user pswd: password # \u586b\u5199 Nebula Graph \u4e2d\u9700\u8981\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 space: test connection { timeout: 3000 retry: 3 } execution { retry: 3 } error: { max: 32 output: /tmp/errors } rate: { limit: 64M timeout: 1000 } } # \u5904\u7406\u70b9\u6570\u636e tags: [ # \u8bbe\u7f6e\u6807\u7b7e\u76f8\u5173\u4fe1\u606f { name: tagA # \u8bbe\u7f6e Neo4j \u6570\u636e\u5e93\u670d\u52a1\u5668\u5730\u5740\uff0cString \u7c7b\u578b\uff0c\u683c\u5f0f\u5fc5\u987b\u4e3a \"bolt://ip:port\"\u3002 server: \"bolt://127.0.0.1:7687\" # Neo4j \u6570\u636e\u5e93\u767b\u5f55\u8d26\u53f7\u548c\u5bc6\u7801\u3002 user: neo4j password: neo4j # \u4f20\u8f93\u662f\u5426\u52a0\u5bc6\uff0c\u9ed8\u8ba4\u503c\u4e3a false\uff0c\u8868\u793a\u4e0d\u52a0\u5bc6\uff1b\u8bbe\u7f6e\u4e3a true \u65f6\uff0c\u8868\u793a\u52a0\u5bc6\u3002 encryption: false # \u8bbe\u7f6e\u6e90\u6570\u636e\u6240\u5728 Neo4j \u6570\u636e\u5e93\u7684\u540d\u79f0\u3002\u5982\u679c\u60a8\u4f7f\u7528 Community Edition Neo4j\uff0c\u4e0d\u652f\u6301\u8fd9\u4e2a\u53c2\u6570\u3002 # database: graph.db type: { # \u6307\u5b9a\u6570\u636e\u6765\u6e90\uff0c\u8bbe\u7f6e\u4e3a neo4j\u3002 source: neo4j # \u6307\u5b9a\u70b9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # \u6307\u5b9a Nebula Graph Schema \u4e2d\u6807\u7b7e\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u4ee5\u5217\u8868\u5f62\u5f0f\u5217\u51fa\uff0c # \u4e0e tags.fields \u5217\u8868\u4e2d\u7684\u5c5e\u6027\u540d\u79f0\u4e00\u4e00\u5bf9\u5e94\uff0c\u5f62\u6210\u6620\u5c04\u5173\u7cfb\uff0c # \u591a\u4e2a\u5c5e\u6027\u540d\u79f0\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00\u3002 nebula.fields: [idInt, idString, tdouble, tboolean] # \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u4e0e Nebula Graph \u6807\u7b7e\u5bf9\u5e94\u7684\u5c5e\u6027\u540d\u79f0\uff0c # \u4ee5\u5217\u8868\u5f62\u5f0f\u5217\u51fa\uff0c\u591a\u4e2a\u5c5e\u6027\u540d\u79f0\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00\uff0c # \u5217\u51fa\u7684\u5c5e\u6027\u540d\u79f0\u5fc5\u987b\u4e0e exec \u4e2d\u5217\u51fa\u7684\u5c5e\u6027\u540d\u79f0\u4fdd\u6301\u4e00\u81f4\u3002 fields : [idInt, idString, tdouble, tboolean] # \u5c06\u6e90\u6570\u636e\u4e2d\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\u4f5c\u4e3a Nebula Graph \u70b9 VID \u7684\u6765\u6e90\uff0c # \u5982\u679c\u5c5e\u6027\u4e3a int \u6216\u8005 long \u7c7b\u578b\uff0c\u4f7f\u7528 vertex \u8bbe\u7f6e VID \u5217\u3002 vertex: idInt # \u5982\u679c\u6570\u636e\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u6dfb\u52a0 vertex.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 # vertex { # field: name # policy: \"hash\" #} # Spark \u7684\u5206\u533a\u6570\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a 32\u3002 partition: 10 # \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u70b9\u6570\u636e\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a 256\u3002 batch: 2000 # \u8bbe\u7f6e\u4fdd\u5b58\u5bfc\u5165\u8fdb\u5ea6\u4fe1\u606f\u7684\u76ee\u5f55\uff0c\u7528\u4e8e\u65ad\u70b9\u7eed\u4f20\uff0c # \u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u8868\u793a\u4e0d\u542f\u7528\u65ad\u70b9\u7eed\u4f20\u3002 check_point_path: \"file:///tmp/test\" # \u5199\u5165 Cypher \u8bed\u53e5\uff0c\u4ece Neo4j \u6570\u636e\u5e93\u4e2d\u68c0\u7d22\u6253\u4e86\u67d0\u79cd\u6807\u7b7e\u7684\u70b9\u7684\u5c5e\u6027\uff0c\u5e76\u6307\u5b9a\u522b\u540d # Cypher \u8bed\u53e5\u4e0d\u80fd\u4ee5\u82f1\u6587\u5206\u53f7\uff08`;`\uff09\u7ed3\u5c3e\u3002 exec: \"match (n:tagA) return n.idInt as idInt, n.idString as idString, n.tdouble as tdouble, n.tboolean as tboolean order by n.idInt\" } # \u5982\u679c\u6709\u591a\u4e2a\u6807\u7b7e\uff0c\u5219\u53c2\u8003\u4ee5\u4e0a\u8bf4\u660e\u6dfb\u52a0\u66f4\u591a\u7684\u6807\u7b7e\u76f8\u5173\u4fe1\u606f\u3002 ] # \u5904\u7406\u8fb9\u6570\u636e edges: [ { # \u6307\u5b9a Nebula Graph \u4e2d\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 name: edgeAB type: { # \u6307\u5b9a\u6570\u636e\u6765\u6e90\uff0c\u8bbe\u7f6e\u4e3a neo4j\u3002 source: neo4j # \u6307\u5b9a\u8fb9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # \u8bbe\u7f6e Neo4j \u6570\u636e\u5e93\u7684\u4fe1\u606f\uff0c\u5305\u62ec IP \u5730\u5740\u3001\u7aef\u53e3\u3001\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 server: \"bolt://127.0.0.1:7687\" user: neo4j password: neo4j # \u5199\u5165 Cypher \u8bed\u53e5\uff0c\u8868\u793a\u4ece Neo4j \u6570\u636e\u5e93\u4e2d\u67e5\u8be2\u5173\u7cfb\u5c5e\u6027\u3002 # Cypher \u8bed\u53e5\u4e0d\u80fd\u4ee5\u82f1\u6587\u5206\u53f7\uff08`;`\uff09\u7ed3\u5c3e\u3002 exec: \"match (a:tagA)-[r:edgeAB]->(b:tagB) return a.idInt, b.idInt, r.idInt as idInt, r.idString as idString, r.tdouble as tdouble, r.tboolean as tboolean order by id(r)\" # \u5728 fields \u91cc\u6307\u5b9a Neo4j \u4e2d\u5173\u7cfb\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u5176\u5bf9\u5e94\u7684 value # \u4f1a\u4f5c\u4e3a Nebula Graph \u4e2d edgeAB \u7684\u5c5e\u6027\uff08nebula.fields\uff09\u503c\u6765\u6e90 # fields \u548c nebula.fields \u91cc\u7684\u914d\u7f6e\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94 # \u5982\u679c\u9700\u8981\u6307\u5b9a\u591a\u4e2a\u5217\u540d\u79f0\uff0c\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00 fields: [r.idInt, r.idString, r.tdouble, r.tboolean] nebula.fields: [idInt, idString, tdboule, tboolean] # \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\u4f5c\u4e3a Nebula Graph \u8fb9\u7684\u8d77\u59cb\u70b9 VID\u3002 # \u5982\u679c\u5c5e\u6027\u4e3a `int` \u6216\u8005 `long` \u7c7b\u578b\uff0c\u4f7f\u7528 source.field \u8bbe\u7f6e\u8d77\u59cb\u70b9 VID \u5217 # source.field: field_name # \u5982\u679c\u4e0d\u662f\u4e0a\u8ff0\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u5219\u6dfb\u52a0 source.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 source: { field: a.idInt policy: \"hash\" } # \u6307\u5b9a\u6e90\u6570\u636e\u4e2d\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\u4f5c\u4e3a Nebula Graph \u8fb9\u7684\u7ec8\u70b9 VID\u3002 # \u5982\u679c\u5c5e\u6027\u4e3a `int` \u6216\u8005 `long` \u7c7b\u578b\uff0c\u4f7f\u7528 target.field \u8bbe\u7f6e\u7ec8\u70b9 VID \u5217 # target.field: field_name # \u5982\u679c\u4e0d\u662f\u4e0a\u8ff0\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u5219\u6dfb\u52a0 target.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 target: { field: b.idInt policy: \"hash\" } # \u5c06\u6e90\u6570\u636e\u4e2d\u67d0\u4e00\u5217\u6570\u636e\u4f5c\u4e3a Nebula Graph \u4e2d\u8fb9\u7684 Rank \u503c\u6765\u6e90\u3002 ranking: idInt # Spark \u7684\u5206\u533a\u6570\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a 32\u3002 # \u4e3a\u51cf\u8f7b Neo4j \u7684\u6392\u5e8f\u538b\u529b\uff0c\u5c06 partition \u8bbe\u7f6e\u4e3a 1 partition: 1 # \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u70b9\u6570\u636e\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a 256 batch: 1000 # \u8bbe\u7f6e\u4fdd\u5b58\u5bfc\u5165\u8fdb\u5ea6\u4fe1\u606f\u7684\u76ee\u5f55\uff0c\u7528\u4e8e\u65ad\u70b9\u7eed\u4f20\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u8868\u793a\u4e0d\u542f\u7528\u65ad\u70b9\u7eed\u4f20\u3002 check_point_path: /tmp/test } ] }","title":"\u6b65\u9aa4 3. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#exec","text":"\u5728\u914d\u7f6e\u6e90\u6570\u636e\u7684 tags.exec \u6216\u8005 edges.exec \u53c2\u6570\u65f6\uff0c\u9700\u8981\u5199\u5165 Cypher \u67e5\u8be2\u8bed\u53e5\u3002\u4e3a\u4e86\u4fdd\u8bc1\u6bcf\u6b21\u67e5\u8be2\u7ed3\u679c\u6392\u5e8f\u4e00\u81f4\uff0c\u5e76\u4e14\u4e3a\u4e86\u9632\u6b62\u5728\u5bfc\u5165\u65f6\u4e22\u5931\u6570\u636e\uff0c\u5f3a\u70c8\u5efa\u8bae\u60a8\u5728 Cypher \u67e5\u8be2\u8bed\u53e5\u4e2d\u52a0\u5165 ORDER BY \u5b50\u53e5\uff0c\u540c\u65f6\uff0c\u4e3a\u4e86\u63d0\u9ad8\u6570\u636e\u5bfc\u5165\u6548\u7387\uff0c\u6700\u597d\u9009\u53d6\u6709\u7d22\u5f15\u7684\u5c5e\u6027\u4f5c\u4e3a\u6392\u5e8f\u7684\u5c5e\u6027\u3002\u5982\u679c\u6ca1\u6709\u7d22\u5f15\uff0c\u60a8\u4e5f\u53ef\u4ee5\u89c2\u5bdf\u9ed8\u8ba4\u7684\u6392\u5e8f\uff0c\u9009\u62e9\u5408\u9002\u7684\u5c5e\u6027\u7528\u4e8e\u6392\u5e8f\uff0c\u4ee5\u63d0\u9ad8\u6548\u7387\u3002\u5982\u679c\u9ed8\u8ba4\u7684\u6392\u5e8f\u627e\u4e0d\u5230\u89c4\u5f8b\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u70b9\u6216\u5173\u7cfb\u7684 ID \u8fdb\u884c\u6392\u5e8f\uff0c\u5e76\u4e14\u5c06 partition \u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u5c3d\u91cf\u5c0f\u7684\u503c\uff0c\u51cf\u8f7b Neo4j \u7684\u6392\u5e8f\u538b\u529b\u3002 \u8bf4\u660e \uff1a\u4f7f\u7528 ORDER BY \u5b50\u53e5\u4f1a\u5ef6\u957f\u6570\u636e\u5bfc\u5165\u7684\u65f6\u95f4\u3002 \u53e6\u5916\uff0cExchange \u9700\u8981\u5728\u4e0d\u540c Spark \u5206\u533a\u6267\u884c\u4e0d\u540c SKIP \u548c LIMIT \u7684 Cypher \u8bed\u53e5\uff0c\u6240\u4ee5\uff0c\u5728 tags.exec \u548c edges.exec \u5bf9\u5e94\u7684 Cypher \u8bed\u53e5\u4e2d\u4e0d\u80fd\u542b\u6709 SKIP \u548c LIMIT \u5b50\u53e5\u3002","title":"exec \u914d\u7f6e\u8bf4\u660e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#tagsvertex_edgesvertex","text":"Nebula Graph \u5728\u521b\u5efa\u70b9\u548c\u8fb9\u65f6\u4f1a\u5c06 ID \u4f5c\u4e3a\u552f\u4e00\u4e3b\u952e\uff0c\u5982\u679c\u4e3b\u952e\u5df2\u5b58\u5728\u5219\u4f1a\u8986\u76d6\u8be5\u4e3b\u952e\u4e2d\u7684\u6570\u636e\u3002\u6240\u4ee5\uff0c\u5047\u5982\u5c06\u67d0\u4e2a Neo4j \u5c5e\u6027\u503c\u4f5c\u4e3a Nebula Graph \u7684 ID\uff0c\u800c\u8fd9\u4e2a\u5c5e\u6027\u503c\u5728 Neo4j \u4e2d\u662f\u6709\u91cd\u590d\u7684\uff0c\u5c31\u4f1a\u5bfc\u81f4\u201c\u91cd\u590d ID\u201d\uff0c\u5b83\u4eec\u5bf9\u5e94\u7684\u6570\u636e\u6709\u4e14\u53ea\u6709\u4e00\u6761\u4f1a\u5b58\u5165 Nebula Graph \u4e2d\uff0c\u5176\u5b83\u7684\u5219\u4f1a\u88ab\u8986\u76d6\u6389\u3002\u7531\u4e8e\u6570\u636e\u5bfc\u5165\u8fc7\u7a0b\u662f\u5e76\u53d1\u5730\u5f80 Nebula Graph \u4e2d\u5199\u6570\u636e\uff0c\u6700\u7ec8\u4fdd\u5b58\u7684\u6570\u636e\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u662f Neo4j \u4e2d\u6700\u65b0\u7684\u6570\u636e\u3002","title":"tags.vertex \u6216 edges.vertex \u914d\u7f6e\u8bf4\u660e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#check_point_path","text":"\u5982\u679c\u542f\u7528\u4e86\u65ad\u70b9\u7eed\u4f20\u529f\u80fd\uff0c\u4e3a\u907f\u514d\u6570\u636e\u4e22\u5931\uff0c\u5728\u65ad\u70b9\u548c\u7eed\u4f20\u4e4b\u95f4\uff0c\u6570\u636e\u5e93\u4e0d\u5e94\u8be5\u6539\u53d8\u72b6\u6001\uff0c\u4f8b\u5982\u4e0d\u80fd\u6dfb\u52a0\u6570\u636e\u6216\u5220\u9664\u6570\u636e\uff0c\u540c\u65f6\uff0c\u4e0d\u80fd\u66f4\u6539 partition \u6570\u91cf\u914d\u7f6e\u3002","title":"check_point_path \u914d\u7f6e\u8bf4\u660e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#4","text":"\u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u662f\u5426\u6b63\u786e\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local[10]\" --class com.vesoft.nebula.tools.importer.Exchange target/exchange-1.x.y.jar -c /path/to/conf/neo4j_application.conf -D","title":"\u6b65\u9aa4 4. \uff08\u53ef\u9009\uff09\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#5_nebula_graph","text":"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4f7f\u7528 Exchange \u5c06 Neo4j \u7684\u6570\u636e\u8fc1\u79fb\u5230 Nebula Graph \u4e2d\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local[10]\" --class com.vesoft.nebula.tools.importer.Exchange target/exchange-1.x.y.jar -c /path/to/conf/neo4j_application.conf \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4ee5\u60a8\u5b9e\u9645\u7f16\u8bd1\u5f97\u5230\u7684 JAR \u6587\u4ef6\u540d\u79f0\u4e3a\u51c6\u3002","title":"\u6b65\u9aa4 5. \u5411 Nebula Graph \u5bfc\u5165\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#6","text":"\u60a8\u53ef\u4ee5\u5728 Nebula Graph \u5ba2\u6237\u7aef\uff08\u4f8b\u5982 Nebula Graph Studio\uff09\u91cc\u6267\u884c\u8bed\u53e5\uff0c\u786e\u8ba4\u6570\u636e\u662f\u5426\u5df2\u5bfc\u5165\uff0c\u4f8b\u5982\uff1a GO FROM <tagA_VID> OVER edgeAB; \u5982\u679c\u8fd4\u56de\u8fb9\u7ec8\u70b9\uff08 edgeAB._dst \uff09\u5373\u8868\u660e\u6570\u636e\u5df2\u5bfc\u5165\u3002 \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 db_dump \u5de5\u5177\u7edf\u8ba1\u6570\u636e\u662f\u5426\u5df2\u7ecf\u5168\u90e8\u5bfc\u5165\u3002\u8be6\u7ec6\u7684\u4f7f\u7528\u4fe1\u606f\u53c2\u8003 Dump Tool \u3002","title":"\u6b65\u9aa4 6. \uff08\u53ef\u9009\uff09\u9a8c\u8bc1\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#7_nebula_graph","text":"Exchange \u5bfc\u5165\u6570\u636e\u65f6\uff0c\u5e76\u4e0d\u4f1a\u5bfc\u5165 Neo4j \u6570\u636e\u5e93\u4e2d\u7684\u7d22\u5f15\uff0c\u6240\u4ee5\uff0c\u5bfc\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 Nebula Graph \u4e2d\u91cd\u65b0\u521b\u5efa\u5e76\u91cd\u6784\u7d22\u5f15\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300aNebula Graph Database \u624b\u518c\u300b \u3002","title":"\u6b65\u9aa4 7. \uff08\u53ef\u9009\uff09\u5728 Nebula Graph \u4e2d\u91cd\u6784\u7d22\u5f15"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#_8","text":"\u4ee5\u4e0b\u4e3a\u5355\u6b21\u6d4b\u8bd5\u6570\u636e\uff0c\u4ec5\u4f9b\u53c2\u8003\u3002\u6d4b\u8bd5\u6027\u80fd\u5982\u4e0b\uff1a \u5bfc\u5165 100 \u4e07\u4e2a\u70b9\uff0c\u8017\u65f6 9 s \u5bfc\u5165 1,000 \u4e07\u6761\u8fb9\uff0c\u8017\u65f6 43 s \u603b\u8017\u65f6\uff1a52 s","title":"\u6027\u80fd\u8bf4\u660e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-from-neo4j/#neo4j_35_community_nebula_graph_121","text":"Neo4j \u548c Nebula Graph \u5728\u7cfb\u7edf\u67b6\u6784\u3001\u6570\u636e\u6a21\u578b\u548c\u8bbf\u95ee\u65b9\u5f0f\u4e0a\u90fd\u6709\u4e00\u4e9b\u5dee\u5f02\uff0c\u90e8\u5206\u5dee\u5f02\u53ef\u80fd\u4f1a\u5bf9\u60a8\u4f7f\u7528 Exchange \u8fc1\u79fb\u6570\u636e\u4ea7\u751f\u5f71\u54cd\u3002\u4e0b\u8868\u5217\u51fa\u4e86\u5e38\u89c1\u7684\u5f02\u540c\u3002 \u5bf9\u6bd4\u9879 Neo4j 3.5 Conmunity Nebula Graph 1.2.1 \u5bf9\u4f7f\u7528 Exchange \u7684\u5f71\u54cd \u7cfb\u7edf\u67b6\u6784 \u5206\u5e03\u5f0f \u4ec5 Enterprise \u652f\u6301 \u652f\u6301 \u65e0 \u6570\u636e\u5206\u7247 \u4e0d\u652f\u6301 \u652f\u6301 \u65e0 \u5f00\u6e90\u534f\u8bae AGPL Apache 2.0 \u65e0 \u5f00\u53d1\u8bed\u8a00 Java C++ \u65e0 \u9ad8\u53ef\u7528 \u4e0d\u652f\u6301 \u652f\u6301 \u65e0 \u6570\u636e\u6a21\u578b \u5c5e\u6027\u56fe \u662f \u662f \u65e0 Schema Schema optional \u6216\u8005 Schema free \u5f3a Schema \u5fc5\u987b\u5728 Nebula Graph \u4e2d\u4e8b\u5148\u521b\u5efaSchema Neo4j \u4e2d\u7684 Schema \u5fc5\u987b\u4e0e Nebula Graph \u7684\u4fdd\u6301\u4e00\u81f4 \u70b9\u7c7b\u578b/\u8fb9\u7c7b\u578b Label\uff08\u53ef\u4ee5\u6ca1\u6709 Label\uff0cLabel \u4e0d\u51b3\u5b9a\u5c5e\u6027 Schema\uff09 Tag/EdgeType\uff08\u5fc5\u987b\u81f3\u5c11\u6709\u4e00\u4e2a Tag\uff0c\u5e76\u4e14\u4e0e Schema \u5bf9\u5e94\uff09 \u65e0 \u70b9 ID/\u552f\u4e00\u4e3b\u952e \u70b9\u5141\u8bb8\u65e0\u4e3b\u952e\uff08\u4f1a\u6709\u591a\u6761\u91cd\u590d\u8bb0\u5f55\uff09\u3002\u7531\u5185\u7f6e id() \u6807\u8bc6\uff0c\u6216\u8005\u7531\u7ea6\u675f\u6765\u4fdd\u8bc1\u4e3b\u952e\u552f\u4e00\u3002 \u70b9\u5fc5\u987b\u6709\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u79f0\u4e3a VID\u3002VID \u7531\u5e94\u7528\u7a0b\u5e8f\u751f\u6210\u3002 \u4e3b\u952e\u76f8\u540c\u7684\u91cd\u590d\u8bb0\u5f55\u53ea\u4fdd\u7559\u6700\u65b0\u7684\u4e00\u4efd\u3002 \u5c5e\u6027\u7d22\u5f15 \u652f\u6301 \u652f\u6301 \u65e0\u6cd5\u5bfc\u5165\u7d22\u5f15\uff0c\u5fc5\u987b\u5728\u5bfc\u5165\u540e\u518d\u91cd\u65b0\u521b\u5efa\u3002 \u7ea6\u675f\uff08Constrains\uff09 \u652f\u6301 \u4e0d\u652f\u6301 \u4e0d\u4f1a\u5bfc\u5165\u7ea6\u675f\u3002 \u4e8b\u52a1 \u652f\u6301 \u4e0d\u652f\u6301 \u65e0 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b \u5217\u51fa\u6240\u6709 labels \u6216 tags MATCH (n) RETURN distinct labels(n); call db.labels(); SHOW TAGS; \u65e0 \u63d2\u5165\u6307\u5b9a\u7c7b\u578b\u7684\u70b9 CREATE (:Person {age: 16}) INSERT VERTEX <tag_name> (prop_name_list) VALUES <vid>:(prop_value_list) \u65e0 \u66f4\u65b0\u70b9\u5c5e\u6027 SET n.name = V UPDATE VERTEX <vid> SET <update_columns> \u65e0 \u67e5\u8be2\u6307\u5b9a\u70b9\u7684\u5c5e\u6027 MATCH (n) WHERE ID(n) = vid RETURN properties(n) FETCH PROP ON <tag_name> <vid> \u65e0 \u67e5\u8be2\u6307\u5b9a\u70b9\u7684\u67d0\u4e00\u7c7b\u5173\u7cfb MATCH (n)-[r:edge_type]->() WHERE ID(n) = vid GO FROM <vid> OVER <edge_type> \u65e0 \u4e24\u70b9\u8def\u5f84 MATCH p =(a)-[]->(b) WHERE ID(a) = a_vid AND ID(b) = b_vid RETURN p FIND ALL PATH FROM <a_vid> TO <b_vid> OVER * \u65e0","title":"\u9644\u5f55\uff1aNeo4j 3.5 Community \u548c Nebula Graph  1.2.1 \u5bf9\u6bd4"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/","text":"\u5bfc\u5165 HIVE \u6570\u636e \u00b6 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Exchange \u5c06\u5b58\u50a8\u5728 HIVE \u7684\u6570\u636e\u5bfc\u5165 Nebula Graph\u3002 \u6570\u636e\u96c6 \u00b6 \u672c\u6587\u4ee5\u7f8e\u56fd Stanford Network Analysis Platform (SNAP) \u63d0\u4f9b\u7684 Social Network: MOOC User Action Dataset \u4ee5\u53ca\u7531\u516c\u5f00\u7f51\u7edc\u4e0a\u83b7\u53d6\u7684\u4e0d\u91cd\u590d\u7684 97 \u4e2a\u8bfe\u7a0b\u540d\u79f0\u4f5c\u4e3a\u793a\u4f8b\u6570\u636e\u96c6\uff0c\u5305\u62ec\uff1a \u4e24\u7c7b\u70b9\uff08 user \u548c course \uff09\uff0c\u5171\u8ba1 7,144 \u4e2a\u70b9\u3002 \u4e00\u79cd\u5173\u7cfb\uff08 action \uff09\uff0c\u5171\u8ba1 411,749 \u6761\u8fb9\u3002 \u8be6\u7ec6\u7684\u6570\u636e\u96c6\uff0c\u60a8\u53ef\u4ee5\u4ece nebula-web-docker \u4ed3\u5e93\u4e2d\u4e0b\u8f7d\u3002 \u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u8be5\u6570\u636e\u96c6\u5df2\u7ecf\u5b58\u5165 HIVE \u4e2d\u540d\u4e3a mooc \u7684\u6570\u636e\u5e93\u4e2d\uff0c\u4ee5 users \u3001 courses \u548c actions \u4e09\u4e2a\u8868\u5b58\u50a8\u4e86\u6240\u6709\u70b9\u548c\u8fb9\u7684\u4fe1\u606f\u3002\u4ee5\u4e0b\u4e3a\u5404\u4e2a\u8868\u7684\u7ed3\u6784\u3002 scala > sql ( \"describe mooc.users\" ). show + --------+---------+-------+ | col_name | data_type | comment | + --------+---------+-------+ | userid | bigint | null | + --------+---------+-------+ scala > sql ( \"describe mooc.courses\" ). show + ----------+---------+-------+ | col_name | data_type | comment | + ----------+---------+-------+ | courseid | bigint | null | | coursename | string | null | + ----------+---------+-------+ scala > sql ( \"describe mooc.actions\" ). show + --------+---------+-------+ | col_name | data_type | comment | + --------+---------+-------+ | actionid | bigint | null | | srcid | bigint | null | | dstid | string | null | | duration | double | null | | feature0 | double | null | | feature1 | double | null | | feature2 | double | null | | feature3 | double | null | | label | boolean | null | + --------+---------+-------+ \u8bf4\u660e \uff1aHive \u7684 bigint \u4e0e Nebula Graph \u7684 int \u5bf9\u5e94\u3002 \u73af\u5883\u914d\u7f6e \u00b6 \u672c\u6587\u793a\u4f8b\u5728 MacOS \u4e0b\u5b8c\u6210\uff0c\u4ee5\u4e0b\u662f\u76f8\u5173\u7684\u73af\u5883\u914d\u7f6e\u4fe1\u606f\uff1a \u786c\u4ef6\u89c4\u683c\uff1a CPU\uff1a1.7 GHz Quad-Core Intel Core i7 \u5185\u5b58\uff1a16 GB Spark\uff1a2.4.7\uff0c\u5355\u673a\u7248 Hadoop\uff1a2.9.2\uff0c\u4f2a\u5206\u5e03\u5f0f\u90e8\u7f72 HIVE\uff1a2.3.7\uff0cHive Metastore \u6570\u636e\u5e93\u4e3a MySQL 8.0.22 Nebula Graph\uff1aV1.2.0\uff0c\u4f7f\u7528 Docker Compose \u90e8\u7f72\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u524d\u63d0\u6761\u4ef6 \u00b6 \u5f00\u59cb\u5bfc\u5165\u6570\u636e\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b8c\u6210 Exchange \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u7f16\u8bd1 Exchange \u3002\u672c\u793a\u4f8b\u4e2d\u4f7f\u7528 Exchange v1.2.1\u3002 \u5df2\u7ecf\u5b89\u88c5 Spark\u3002 \u5df2\u7ecf\u5b89\u88c5\u5e76\u5f00\u542f Hadoop \u670d\u52a1\uff0c\u5e76\u5df2\u542f\u52a8 Hive Metastore \u6570\u636e\u5e93\uff08\u672c\u793a\u4f8b\u4e2d\u4e3a MySQL\uff09\u3002 \u5df2\u7ecf\u90e8\u7f72\u5e76\u542f\u52a8 Nebula Graph\uff0c\u5e76\u83b7\u53d6\uff1a Graph \u670d\u52a1\u3001Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u4fe1\u606f\u3002 Nebula Graph \u6570\u636e\u5e93\u7684\u62e5\u6709\u5199\u6743\u9650\u7684\u7528\u6237\u540d\u53ca\u5176\u5bc6\u7801\u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\uff08Schema\uff09\u6240\u9700\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3001\u5c5e\u6027\u7b49\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u6b65\u9aa4 1. \u5728 Nebula Graph \u4e2d\u521b\u5efa Schema \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u5728 Nebula Graph \u4e2d\u521b\u5efa Schema\uff1a \u786e\u8ba4 Schema \u8981\u7d20\uff1aNebula Graph \u4e2d\u7684 Schema \u8981\u7d20\u5982\u4e0b\u8868\u6240\u793a\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027 \u6807\u7b7e\uff08Tag\uff09 user userId int \u6807\u7b7e\uff08Tag\uff09 course courseId int, courseName string \u8fb9\u7c7b\u578b\uff08Edge Type\uff09 action actionId int, duration double, label bool, feature0 double, feature1 double, feature2 double, feature3 double \u5728 Nebula Graph \u91cc\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4 hive \uff0c\u5e76\u521b\u5efa\u4e00\u4e2a Schema\uff0c\u5982\u4e0b\u6240\u793a\u3002 -- \u521b\u5efa\u56fe\u7a7a\u95f4 CREATE SPACE hive(partition_num=10, replica_factor=1); -- \u9009\u62e9\u56fe\u7a7a\u95f4 hive USE hive; -- \u521b\u5efa\u6807\u7b7e user CREATE TAG user(userId int); -- \u521b\u5efa\u6807\u7b7e course CREATE TAG course(courseId int, courseName string); -- \u521b\u5efa\u8fb9\u7c7b\u578b action CREATE EDGE action (actionId int, duration double, label bool, feature0 double, feature1 double, feature2 double, feature3 double); \u5173\u4e8e Nebula Graph \u6784\u56fe\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u53c2\u8003\u300aNebula Graph Database \u624b\u518c\u300b\u7684 \u5feb\u901f\u5f00\u59cb \u3002 \u6b65\u9aa4 2. \u4f7f\u7528 Spark SQL \u786e\u8ba4 HIVE SQL \u8bed\u53e5 \u00b6 \u542f\u52a8 spark-shell \u73af\u5883\u540e\uff0c\u4f9d\u6b21\u8fd0\u884c\u4ee5\u4e0b\u8bed\u53e5\uff0c\u786e\u8ba4 Spark \u80fd\u8bfb\u53d6 HIVE \u4e2d\u7684\u6570\u636e\u3002 scala > sql ( \"select userid from mooc.users\" ). show scala > sql ( \"select courseid, coursename from mooc.courses\" ). show scala > sql ( \"select actionid, srcid, dstid, duration, feature0, feature1, feature2, feature3, label from mooc.actions\" ). show \u4ee5\u4e0b\u4e3a mooc.actions \u8868\u4e2d\u8bfb\u51fa\u7684\u7ed3\u679c\u3002 +--------+-----+--------------------+--------+------------+------------+-----------+-----------+-----+ | actionid | srcid | dstid | duration | feature0 | feature1 | feature2 | feature3 | label | +--------+-----+--------------------+--------+------------+------------+-----------+-----------+-----+ | 0 | 0 | Environmental Dis ... | 0.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 1 | 0 | History of Ecology | 6.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 2 | 0 | Women in Islam | 41.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 3 | 0 | History of Ecology | 49.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 4 | 0 | Women in Islam | 51.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 5 | 0 | Legacies of the A ... | 55.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 6 | 0 | ITP Core 2 | 59.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 7 | 0 | The Research Pape ... | 62.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 8 | 0 | Neurobiology | 65.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 9 | 0 | Wikipedia | 113.0 |- 0.319991479 |- 0.435701433 | 1.108826104 | 12.77723482 | false | | 10 | 0 | Media History and ... | 226.0 |- 0.319991479 |- 0.435701433 | 0.607804941 | 149.4512115 | false | | 11 | 0 | WIKISOO | 974.0 |- 0.319991479 |- 0.435701433 | 1.108826104 | 3.344522776 | false | | 12 | 0 | Environmental Dis ... | 1000.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 13 | 0 | WIKISOO | 1172.0 |- 0.319991479 |- 0.435701433 | 1.108826104 | 1.136866766 | false | | 14 | 0 | Women in Islam | 1182.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 15 | 0 | History of Ecology | 1185.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 16 | 0 | Human Development ... | 1687.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 17 | 1 | Human Development ... | 7262.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 18 | 1 | History of Ecology | 7266.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 19 | 1 | Women in Islam | 7273.0 |- 0.319991479 |- 0.435701433 | 0.607804941 | 0.936170765 | false | +--------+-----+--------------------+--------+------------+------------+-----------+-----------+-----+ only showing top 20 rows \u6b65\u9aa4 3. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 \u00b6 \u5b8c\u6210 Exchange \u7f16\u8bd1\u540e\uff0c\u8fdb\u5165 nebula-java/tools/exchange \u76ee\u5f55\uff0c\u6839\u636e target/classes/application.conf \u6587\u4ef6\u4fee\u6539 HIVE \u6570\u636e\u6e90\u76f8\u5173\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u6587\u4ef6\u88ab\u91cd\u547d\u540d\u4e3a hive_application.conf \u3002\u4ee5\u4e0b\u4ec5\u8be6\u7ec6\u8bf4\u660e\u70b9\u548c\u8fb9\u6570\u636e\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u672c\u6b21\u793a\u4f8b\u4e2d\u672a\u4f7f\u7528\u7684\u914d\u7f6e\u9879\u5df2\u88ab\u6ce8\u91ca\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u914d\u7f6e\u8bf4\u660e\u3002Spark \u548c Nebula Graph \u76f8\u5173\u914d\u7f6e\uff0c\u53c2\u8003 Spark \u53c2\u6570 \u548c Nebula Graph \u53c2\u6570 \u3002 { # Spark \u76f8\u5173\u914d\u7f6e spark: { app: { name: Spark Writer } driver: { cores: 1 maxResultSize: 1G } cores { max: 16 } } # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { address:{ # \u4ee5\u4e0b\u4e3a Nebula Graph \u7684 Graph \u670d\u52a1\u548c Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3 # \u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u683c\u5f0f\u4e3a \"ip1:port\",\"ip2:port\",\"ip3:port\" # \u4e0d\u540c\u5730\u5740\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7 (,) \u9694\u5f00 graph:[\"127.0.0.1:3699\"] meta:[\"127.0.0.1:45500\"] } # \u586b\u5199\u7684\u8d26\u53f7\u5fc5\u987b\u62e5\u6709 Nebula Graph \u76f8\u5e94\u56fe\u7a7a\u95f4\u7684\u5199\u6570\u636e\u6743\u9650 user: user pswd: password # \u586b\u5199 Nebula Graph \u4e2d\u9700\u8981\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0 space: hive connection { timeout: 3000 retry: 3 } execution { retry: 3 } error: { max: 32 output: /tmp/errors } rate: { limit: 1024 timeout: 1000 } } # \u5904\u7406\u6807\u7b7e tags: [ # \u8bbe\u7f6e\u6807\u7b7e\u76f8\u5173\u4fe1\u606f { # Nebula Graph \u4e2d\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0\u3002 name: user type: { # \u6307\u5b9a\u6570\u636e\u6e90\u6587\u4ef6\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a hive\u3002 source: hive # \u6307\u5b9a\u70b9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # \u8bbe\u7f6e\u8bfb\u53d6\u6570\u636e\u5e93 mooc \u4e2d users \u8868\u6570\u636e\u7684 SQL \u8bed\u53e5 exec: \"select userid from mooc.users\" # \u5728 fields \u91cc\u6307\u5b9a users \u8868\u4e2d\u7684\u5217\u540d\u79f0\uff0c\u5176\u5bf9\u5e94\u7684 value # \u4f1a\u4f5c\u4e3a Nebula Graph \u4e2d\u6307\u5b9a\u5c5e\u6027 userId (nebula.fields) \u7684\u6570\u636e\u6e90 # fields \u548c nebula.fields \u91cc\u7684\u914d\u7f6e\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94 # \u5982\u679c\u9700\u8981\u6307\u5b9a\u591a\u4e2a\u5217\u540d\u79f0\uff0c\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00 fields: [userid] nebula.fields: [userId] # \u6307\u5b9a\u8868\u4e2d\u67d0\u4e00\u5217\u6570\u636e\u4e3a Nebula Graph \u4e2d\u70b9 VID \u7684\u6765\u6e90\u3002 # vertex.field \u7684\u503c\u5fc5\u987b\u4e0e\u4e0a\u8ff0 fields \u4e2d\u7684\u5217\u540d\u4fdd\u6301\u4e00\u81f4\u3002 # \u5982\u679c\u6570\u636e\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u6dfb\u52a0 vertex.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\uff0c\u53c2\u8003\u4ee5\u4e0b course \u6807\u7b7e\u7684\u8bbe\u7f6e\u3002 vertex: userid # \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u6700\u5927\u70b9\u6570\u636e\u91cf\u3002 batch: 256 # Spark \u5206\u533a\u6570\u91cf partition: 32 # isImplicit \u7684\u8bbe\u7f6e\u8bf4\u660e\u53c2\u8003\uff1ahttps://github.com/vesoft-inc/nebula-java/ # blob/v1.0/tools/exchange/src/main/resources/application.conf isImplicit: true } { name: course type: { source: hive sink: client } exec: \"select courseid, coursename from mooc.courses\" fields: [courseid, coursename] nebula.fields: [courseId, courseName] # \u6307\u5b9a\u8868\u4e2d\u67d0\u4e00\u5217\u6570\u636e\u4e3a Nebula Graph \u4e2d\u70b9 VID \u7684\u6765\u6e90\u3002 # vertex.field \u7684\u503c\u5fc5\u987b\u4e0e\u4e0a\u8ff0 fields \u4e2d\u7684\u5217\u540d\u4fdd\u6301\u4e00\u81f4\u3002 # \u5982\u679c\u6570\u636e\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u6dfb\u52a0 vertex.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 vertex: { field: coursename policy: \"hash\" } batch: 256 partition: 32 isImplicit: true } ] # \u5904\u7406\u8fb9\u6570\u636e edges: [ # \u8bbe\u7f6e\u8fb9\u7c7b\u578b action \u76f8\u5173\u4fe1\u606f { # Nebula Graph \u4e2d\u5bf9\u5e94\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 name: action type: { # \u6307\u5b9a\u6570\u636e\u6e90\u6587\u4ef6\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a hive\u3002 source: hive # \u6307\u5b9a\u8fb9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # \u8bbe\u7f6e\u8bfb\u53d6\u6570\u636e\u5e93 mooc \u4e2d actions \u8868\u6570\u636e\u7684 SQL \u8bed\u53e5 exec: \"select actionid, srcid, dstid, duration, feature0, feature1, feature2, feature3, label from mooc.actions\" # \u5728 fields \u91cc\u6307\u5b9a actions \u8868\u4e2d\u7684\u5217\u540d\u79f0\uff0c\u5176\u5bf9\u5e94\u7684 value # \u4f1a\u4f5c\u4e3a Nebula Graph \u4e2d action \u7684\u5c5e\u6027\uff08nebula.fields\uff09\u503c\u6765\u6e90 # fields \u548c nebula.fields \u91cc\u7684\u914d\u7f6e\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94 # \u5982\u679c\u9700\u8981\u6307\u5b9a\u591a\u4e2a\u5217\u540d\u79f0\uff0c\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00 fields: [actionid, duration, feature0, feature1, feature2, feature3, label] nebula.fields: [actionId, duration, feature0, feature1, feature2, feature3, label] # \u5728 source \u91cc\uff0c\u5c06 actions \u8868\u4e2d\u67d0\u4e00\u5217\u4f5c\u4e3a\u8fb9\u8d77\u70b9\u6570\u636e\u6e90 # \u5728 target \u91cc\uff0c\u5c06 actions \u8868\u4e2d\u67d0\u4e00\u5217\u4f5c\u4e3a\u8fb9\u7ec8\u70b9\u6570\u636e\u6e90 # \u5982\u679c\u6570\u636e\u6e90\u662f int \u6216 long \u7c7b\u578b\uff0c\u76f4\u63a5\u6307\u5b9a\u5217\u540d # \u5982\u679c\u6570\u636e\u6e90\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u6dfb\u52a0 vertex.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\" source: srcid target: { field: dstid policy: \"hash\" } # \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u6700\u5927\u70b9\u6570\u636e\u91cf\u3002 batch: 256 # Spark \u5206\u533a\u6570\u91cf partition: 32 } ] } \u6b65\u9aa4 4. \uff08\u53ef\u9009\uff09\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e \u00b6 \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u662f\u5426\u6b63\u786e\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local\" --class com.vesoft.nebula.tools.importer.Exchange /path/to/exchange-1.2.1.jar -c /path/to/conf/hive_application.conf -h -D \u6b65\u9aa4 5. \u5411 Nebula Graph \u5bfc\u5165\u6570\u636e \u00b6 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06 HIVE \u4e2d\u7684\u6570\u636e\u5bfc\u5165\u5230 Nebula Graph \u4e2d\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local\" --class com.vesoft.nebula.tools.importer.Exchange /path/to/exchange-1.2.1.jar -c /path/to/conf/hive_application.conf -h \u6b65\u9aa4 6. \uff08\u53ef\u9009\uff09\u9a8c\u8bc1\u6570\u636e \u00b6 \u60a8\u53ef\u4ee5\u5728 Nebula Graph \u5ba2\u6237\u7aef\uff08\u4f8b\u5982 Nebula Graph Studio\uff09\u91cc\u6267\u884c\u8bed\u53e5\uff0c\u786e\u8ba4\u6570\u636e\u662f\u5426\u5df2\u5bfc\u5165\uff0c\u4f8b\u5982\uff1a GO FROM 1 OVER action; \u5982\u679c\u8fd4\u56de\u8fb9\u7ec8\u70b9\uff08 action._dst \uff09\u5373\u8868\u660e\u6570\u636e\u5df2\u5bfc\u5165\u3002 \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 db_dump \u5de5\u5177\u7edf\u8ba1\u6570\u636e\u662f\u5426\u5df2\u7ecf\u5168\u90e8\u5bfc\u5165\u3002\u8be6\u7ec6\u7684\u4f7f\u7528\u4fe1\u606f\u53c2\u8003 Dump Tool \u3002 \u6b65\u9aa4 7. \uff08\u53ef\u9009\uff09\u5728 Nebula Graph \u4e2d\u91cd\u6784\u7d22\u5f15 \u00b6 \u5bfc\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 Nebula Graph \u4e2d\u91cd\u65b0\u521b\u5efa\u5e76\u91cd\u6784\u7d22\u5f15\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300aNebula Graph Database \u624b\u518c\u300b \u3002","title":"\u5bfc\u5165 HIVE \u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/#hive","text":"\u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Exchange \u5c06\u5b58\u50a8\u5728 HIVE \u7684\u6570\u636e\u5bfc\u5165 Nebula Graph\u3002","title":"\u5bfc\u5165 HIVE \u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/#_1","text":"\u672c\u6587\u4ee5\u7f8e\u56fd Stanford Network Analysis Platform (SNAP) \u63d0\u4f9b\u7684 Social Network: MOOC User Action Dataset \u4ee5\u53ca\u7531\u516c\u5f00\u7f51\u7edc\u4e0a\u83b7\u53d6\u7684\u4e0d\u91cd\u590d\u7684 97 \u4e2a\u8bfe\u7a0b\u540d\u79f0\u4f5c\u4e3a\u793a\u4f8b\u6570\u636e\u96c6\uff0c\u5305\u62ec\uff1a \u4e24\u7c7b\u70b9\uff08 user \u548c course \uff09\uff0c\u5171\u8ba1 7,144 \u4e2a\u70b9\u3002 \u4e00\u79cd\u5173\u7cfb\uff08 action \uff09\uff0c\u5171\u8ba1 411,749 \u6761\u8fb9\u3002 \u8be6\u7ec6\u7684\u6570\u636e\u96c6\uff0c\u60a8\u53ef\u4ee5\u4ece nebula-web-docker \u4ed3\u5e93\u4e2d\u4e0b\u8f7d\u3002 \u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u8be5\u6570\u636e\u96c6\u5df2\u7ecf\u5b58\u5165 HIVE \u4e2d\u540d\u4e3a mooc \u7684\u6570\u636e\u5e93\u4e2d\uff0c\u4ee5 users \u3001 courses \u548c actions \u4e09\u4e2a\u8868\u5b58\u50a8\u4e86\u6240\u6709\u70b9\u548c\u8fb9\u7684\u4fe1\u606f\u3002\u4ee5\u4e0b\u4e3a\u5404\u4e2a\u8868\u7684\u7ed3\u6784\u3002 scala > sql ( \"describe mooc.users\" ). show + --------+---------+-------+ | col_name | data_type | comment | + --------+---------+-------+ | userid | bigint | null | + --------+---------+-------+ scala > sql ( \"describe mooc.courses\" ). show + ----------+---------+-------+ | col_name | data_type | comment | + ----------+---------+-------+ | courseid | bigint | null | | coursename | string | null | + ----------+---------+-------+ scala > sql ( \"describe mooc.actions\" ). show + --------+---------+-------+ | col_name | data_type | comment | + --------+---------+-------+ | actionid | bigint | null | | srcid | bigint | null | | dstid | string | null | | duration | double | null | | feature0 | double | null | | feature1 | double | null | | feature2 | double | null | | feature3 | double | null | | label | boolean | null | + --------+---------+-------+ \u8bf4\u660e \uff1aHive \u7684 bigint \u4e0e Nebula Graph \u7684 int \u5bf9\u5e94\u3002","title":"\u6570\u636e\u96c6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/#_2","text":"\u672c\u6587\u793a\u4f8b\u5728 MacOS \u4e0b\u5b8c\u6210\uff0c\u4ee5\u4e0b\u662f\u76f8\u5173\u7684\u73af\u5883\u914d\u7f6e\u4fe1\u606f\uff1a \u786c\u4ef6\u89c4\u683c\uff1a CPU\uff1a1.7 GHz Quad-Core Intel Core i7 \u5185\u5b58\uff1a16 GB Spark\uff1a2.4.7\uff0c\u5355\u673a\u7248 Hadoop\uff1a2.9.2\uff0c\u4f2a\u5206\u5e03\u5f0f\u90e8\u7f72 HIVE\uff1a2.3.7\uff0cHive Metastore \u6570\u636e\u5e93\u4e3a MySQL 8.0.22 Nebula Graph\uff1aV1.2.0\uff0c\u4f7f\u7528 Docker Compose \u90e8\u7f72\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph","title":"\u73af\u5883\u914d\u7f6e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/#_3","text":"\u5f00\u59cb\u5bfc\u5165\u6570\u636e\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b8c\u6210 Exchange \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u7f16\u8bd1 Exchange \u3002\u672c\u793a\u4f8b\u4e2d\u4f7f\u7528 Exchange v1.2.1\u3002 \u5df2\u7ecf\u5b89\u88c5 Spark\u3002 \u5df2\u7ecf\u5b89\u88c5\u5e76\u5f00\u542f Hadoop \u670d\u52a1\uff0c\u5e76\u5df2\u542f\u52a8 Hive Metastore \u6570\u636e\u5e93\uff08\u672c\u793a\u4f8b\u4e2d\u4e3a MySQL\uff09\u3002 \u5df2\u7ecf\u90e8\u7f72\u5e76\u542f\u52a8 Nebula Graph\uff0c\u5e76\u83b7\u53d6\uff1a Graph \u670d\u52a1\u3001Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u4fe1\u606f\u3002 Nebula Graph \u6570\u636e\u5e93\u7684\u62e5\u6709\u5199\u6743\u9650\u7684\u7528\u6237\u540d\u53ca\u5176\u5bc6\u7801\u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\uff08Schema\uff09\u6240\u9700\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3001\u5c5e\u6027\u7b49\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/#_4","text":"","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/#1_nebula_graph_schema","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5728 Nebula Graph \u4e2d\u521b\u5efa Schema\uff1a \u786e\u8ba4 Schema \u8981\u7d20\uff1aNebula Graph \u4e2d\u7684 Schema \u8981\u7d20\u5982\u4e0b\u8868\u6240\u793a\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027 \u6807\u7b7e\uff08Tag\uff09 user userId int \u6807\u7b7e\uff08Tag\uff09 course courseId int, courseName string \u8fb9\u7c7b\u578b\uff08Edge Type\uff09 action actionId int, duration double, label bool, feature0 double, feature1 double, feature2 double, feature3 double \u5728 Nebula Graph \u91cc\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4 hive \uff0c\u5e76\u521b\u5efa\u4e00\u4e2a Schema\uff0c\u5982\u4e0b\u6240\u793a\u3002 -- \u521b\u5efa\u56fe\u7a7a\u95f4 CREATE SPACE hive(partition_num=10, replica_factor=1); -- \u9009\u62e9\u56fe\u7a7a\u95f4 hive USE hive; -- \u521b\u5efa\u6807\u7b7e user CREATE TAG user(userId int); -- \u521b\u5efa\u6807\u7b7e course CREATE TAG course(courseId int, courseName string); -- \u521b\u5efa\u8fb9\u7c7b\u578b action CREATE EDGE action (actionId int, duration double, label bool, feature0 double, feature1 double, feature2 double, feature3 double); \u5173\u4e8e Nebula Graph \u6784\u56fe\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u53c2\u8003\u300aNebula Graph Database \u624b\u518c\u300b\u7684 \u5feb\u901f\u5f00\u59cb \u3002","title":"\u6b65\u9aa4 1. \u5728 Nebula Graph \u4e2d\u521b\u5efa Schema"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/#2_spark_sql_hive_sql","text":"\u542f\u52a8 spark-shell \u73af\u5883\u540e\uff0c\u4f9d\u6b21\u8fd0\u884c\u4ee5\u4e0b\u8bed\u53e5\uff0c\u786e\u8ba4 Spark \u80fd\u8bfb\u53d6 HIVE \u4e2d\u7684\u6570\u636e\u3002 scala > sql ( \"select userid from mooc.users\" ). show scala > sql ( \"select courseid, coursename from mooc.courses\" ). show scala > sql ( \"select actionid, srcid, dstid, duration, feature0, feature1, feature2, feature3, label from mooc.actions\" ). show \u4ee5\u4e0b\u4e3a mooc.actions \u8868\u4e2d\u8bfb\u51fa\u7684\u7ed3\u679c\u3002 +--------+-----+--------------------+--------+------------+------------+-----------+-----------+-----+ | actionid | srcid | dstid | duration | feature0 | feature1 | feature2 | feature3 | label | +--------+-----+--------------------+--------+------------+------------+-----------+-----------+-----+ | 0 | 0 | Environmental Dis ... | 0.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 1 | 0 | History of Ecology | 6.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 2 | 0 | Women in Islam | 41.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 3 | 0 | History of Ecology | 49.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 4 | 0 | Women in Islam | 51.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 5 | 0 | Legacies of the A ... | 55.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 6 | 0 | ITP Core 2 | 59.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 7 | 0 | The Research Pape ... | 62.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 8 | 0 | Neurobiology | 65.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 9 | 0 | Wikipedia | 113.0 |- 0.319991479 |- 0.435701433 | 1.108826104 | 12.77723482 | false | | 10 | 0 | Media History and ... | 226.0 |- 0.319991479 |- 0.435701433 | 0.607804941 | 149.4512115 | false | | 11 | 0 | WIKISOO | 974.0 |- 0.319991479 |- 0.435701433 | 1.108826104 | 3.344522776 | false | | 12 | 0 | Environmental Dis ... | 1000.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 13 | 0 | WIKISOO | 1172.0 |- 0.319991479 |- 0.435701433 | 1.108826104 | 1.136866766 | false | | 14 | 0 | Women in Islam | 1182.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 15 | 0 | History of Ecology | 1185.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 16 | 0 | Human Development ... | 1687.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 17 | 1 | Human Development ... | 7262.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 18 | 1 | History of Ecology | 7266.0 |- 0.319991479 |- 0.435701433 | 0.106783779 |- 0.06730924 | false | | 19 | 1 | Women in Islam | 7273.0 |- 0.319991479 |- 0.435701433 | 0.607804941 | 0.936170765 | false | +--------+-----+--------------------+--------+------------+------------+-----------+-----------+-----+ only showing top 20 rows","title":"\u6b65\u9aa4 2. \u4f7f\u7528 Spark SQL \u786e\u8ba4 HIVE SQL \u8bed\u53e5"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/#3","text":"\u5b8c\u6210 Exchange \u7f16\u8bd1\u540e\uff0c\u8fdb\u5165 nebula-java/tools/exchange \u76ee\u5f55\uff0c\u6839\u636e target/classes/application.conf \u6587\u4ef6\u4fee\u6539 HIVE \u6570\u636e\u6e90\u76f8\u5173\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u6587\u4ef6\u88ab\u91cd\u547d\u540d\u4e3a hive_application.conf \u3002\u4ee5\u4e0b\u4ec5\u8be6\u7ec6\u8bf4\u660e\u70b9\u548c\u8fb9\u6570\u636e\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u672c\u6b21\u793a\u4f8b\u4e2d\u672a\u4f7f\u7528\u7684\u914d\u7f6e\u9879\u5df2\u88ab\u6ce8\u91ca\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u914d\u7f6e\u8bf4\u660e\u3002Spark \u548c Nebula Graph \u76f8\u5173\u914d\u7f6e\uff0c\u53c2\u8003 Spark \u53c2\u6570 \u548c Nebula Graph \u53c2\u6570 \u3002 { # Spark \u76f8\u5173\u914d\u7f6e spark: { app: { name: Spark Writer } driver: { cores: 1 maxResultSize: 1G } cores { max: 16 } } # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { address:{ # \u4ee5\u4e0b\u4e3a Nebula Graph \u7684 Graph \u670d\u52a1\u548c Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3 # \u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u683c\u5f0f\u4e3a \"ip1:port\",\"ip2:port\",\"ip3:port\" # \u4e0d\u540c\u5730\u5740\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7 (,) \u9694\u5f00 graph:[\"127.0.0.1:3699\"] meta:[\"127.0.0.1:45500\"] } # \u586b\u5199\u7684\u8d26\u53f7\u5fc5\u987b\u62e5\u6709 Nebula Graph \u76f8\u5e94\u56fe\u7a7a\u95f4\u7684\u5199\u6570\u636e\u6743\u9650 user: user pswd: password # \u586b\u5199 Nebula Graph \u4e2d\u9700\u8981\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0 space: hive connection { timeout: 3000 retry: 3 } execution { retry: 3 } error: { max: 32 output: /tmp/errors } rate: { limit: 1024 timeout: 1000 } } # \u5904\u7406\u6807\u7b7e tags: [ # \u8bbe\u7f6e\u6807\u7b7e\u76f8\u5173\u4fe1\u606f { # Nebula Graph \u4e2d\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0\u3002 name: user type: { # \u6307\u5b9a\u6570\u636e\u6e90\u6587\u4ef6\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a hive\u3002 source: hive # \u6307\u5b9a\u70b9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # \u8bbe\u7f6e\u8bfb\u53d6\u6570\u636e\u5e93 mooc \u4e2d users \u8868\u6570\u636e\u7684 SQL \u8bed\u53e5 exec: \"select userid from mooc.users\" # \u5728 fields \u91cc\u6307\u5b9a users \u8868\u4e2d\u7684\u5217\u540d\u79f0\uff0c\u5176\u5bf9\u5e94\u7684 value # \u4f1a\u4f5c\u4e3a Nebula Graph \u4e2d\u6307\u5b9a\u5c5e\u6027 userId (nebula.fields) \u7684\u6570\u636e\u6e90 # fields \u548c nebula.fields \u91cc\u7684\u914d\u7f6e\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94 # \u5982\u679c\u9700\u8981\u6307\u5b9a\u591a\u4e2a\u5217\u540d\u79f0\uff0c\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00 fields: [userid] nebula.fields: [userId] # \u6307\u5b9a\u8868\u4e2d\u67d0\u4e00\u5217\u6570\u636e\u4e3a Nebula Graph \u4e2d\u70b9 VID \u7684\u6765\u6e90\u3002 # vertex.field \u7684\u503c\u5fc5\u987b\u4e0e\u4e0a\u8ff0 fields \u4e2d\u7684\u5217\u540d\u4fdd\u6301\u4e00\u81f4\u3002 # \u5982\u679c\u6570\u636e\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u6dfb\u52a0 vertex.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\uff0c\u53c2\u8003\u4ee5\u4e0b course \u6807\u7b7e\u7684\u8bbe\u7f6e\u3002 vertex: userid # \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u6700\u5927\u70b9\u6570\u636e\u91cf\u3002 batch: 256 # Spark \u5206\u533a\u6570\u91cf partition: 32 # isImplicit \u7684\u8bbe\u7f6e\u8bf4\u660e\u53c2\u8003\uff1ahttps://github.com/vesoft-inc/nebula-java/ # blob/v1.0/tools/exchange/src/main/resources/application.conf isImplicit: true } { name: course type: { source: hive sink: client } exec: \"select courseid, coursename from mooc.courses\" fields: [courseid, coursename] nebula.fields: [courseId, courseName] # \u6307\u5b9a\u8868\u4e2d\u67d0\u4e00\u5217\u6570\u636e\u4e3a Nebula Graph \u4e2d\u70b9 VID \u7684\u6765\u6e90\u3002 # vertex.field \u7684\u503c\u5fc5\u987b\u4e0e\u4e0a\u8ff0 fields \u4e2d\u7684\u5217\u540d\u4fdd\u6301\u4e00\u81f4\u3002 # \u5982\u679c\u6570\u636e\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u6dfb\u52a0 vertex.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 vertex: { field: coursename policy: \"hash\" } batch: 256 partition: 32 isImplicit: true } ] # \u5904\u7406\u8fb9\u6570\u636e edges: [ # \u8bbe\u7f6e\u8fb9\u7c7b\u578b action \u76f8\u5173\u4fe1\u606f { # Nebula Graph \u4e2d\u5bf9\u5e94\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 name: action type: { # \u6307\u5b9a\u6570\u636e\u6e90\u6587\u4ef6\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a hive\u3002 source: hive # \u6307\u5b9a\u8fb9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # \u8bbe\u7f6e\u8bfb\u53d6\u6570\u636e\u5e93 mooc \u4e2d actions \u8868\u6570\u636e\u7684 SQL \u8bed\u53e5 exec: \"select actionid, srcid, dstid, duration, feature0, feature1, feature2, feature3, label from mooc.actions\" # \u5728 fields \u91cc\u6307\u5b9a actions \u8868\u4e2d\u7684\u5217\u540d\u79f0\uff0c\u5176\u5bf9\u5e94\u7684 value # \u4f1a\u4f5c\u4e3a Nebula Graph \u4e2d action \u7684\u5c5e\u6027\uff08nebula.fields\uff09\u503c\u6765\u6e90 # fields \u548c nebula.fields \u91cc\u7684\u914d\u7f6e\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94 # \u5982\u679c\u9700\u8981\u6307\u5b9a\u591a\u4e2a\u5217\u540d\u79f0\uff0c\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00 fields: [actionid, duration, feature0, feature1, feature2, feature3, label] nebula.fields: [actionId, duration, feature0, feature1, feature2, feature3, label] # \u5728 source \u91cc\uff0c\u5c06 actions \u8868\u4e2d\u67d0\u4e00\u5217\u4f5c\u4e3a\u8fb9\u8d77\u70b9\u6570\u636e\u6e90 # \u5728 target \u91cc\uff0c\u5c06 actions \u8868\u4e2d\u67d0\u4e00\u5217\u4f5c\u4e3a\u8fb9\u7ec8\u70b9\u6570\u636e\u6e90 # \u5982\u679c\u6570\u636e\u6e90\u662f int \u6216 long \u7c7b\u578b\uff0c\u76f4\u63a5\u6307\u5b9a\u5217\u540d # \u5982\u679c\u6570\u636e\u6e90\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u6dfb\u52a0 vertex.policy \u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\" source: srcid target: { field: dstid policy: \"hash\" } # \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u6700\u5927\u70b9\u6570\u636e\u91cf\u3002 batch: 256 # Spark \u5206\u533a\u6570\u91cf partition: 32 } ] }","title":"\u6b65\u9aa4 3. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/#4","text":"\u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u662f\u5426\u6b63\u786e\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local\" --class com.vesoft.nebula.tools.importer.Exchange /path/to/exchange-1.2.1.jar -c /path/to/conf/hive_application.conf -h -D","title":"\u6b65\u9aa4 4. \uff08\u53ef\u9009\uff09\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/#5_nebula_graph","text":"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06 HIVE \u4e2d\u7684\u6570\u636e\u5bfc\u5165\u5230 Nebula Graph \u4e2d\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local\" --class com.vesoft.nebula.tools.importer.Exchange /path/to/exchange-1.2.1.jar -c /path/to/conf/hive_application.conf -h","title":"\u6b65\u9aa4 5. \u5411 Nebula Graph \u5bfc\u5165\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/#6","text":"\u60a8\u53ef\u4ee5\u5728 Nebula Graph \u5ba2\u6237\u7aef\uff08\u4f8b\u5982 Nebula Graph Studio\uff09\u91cc\u6267\u884c\u8bed\u53e5\uff0c\u786e\u8ba4\u6570\u636e\u662f\u5426\u5df2\u5bfc\u5165\uff0c\u4f8b\u5982\uff1a GO FROM 1 OVER action; \u5982\u679c\u8fd4\u56de\u8fb9\u7ec8\u70b9\uff08 action._dst \uff09\u5373\u8868\u660e\u6570\u636e\u5df2\u5bfc\u5165\u3002 \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 db_dump \u5de5\u5177\u7edf\u8ba1\u6570\u636e\u662f\u5426\u5df2\u7ecf\u5168\u90e8\u5bfc\u5165\u3002\u8be6\u7ec6\u7684\u4f7f\u7528\u4fe1\u606f\u53c2\u8003 Dump Tool \u3002","title":"\u6b65\u9aa4 6. \uff08\u53ef\u9009\uff09\u9a8c\u8bc1\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-hive/#7_nebula_graph","text":"\u5bfc\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 Nebula Graph \u4e2d\u91cd\u65b0\u521b\u5efa\u5e76\u91cd\u6784\u7d22\u5f15\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300aNebula Graph Database \u624b\u518c\u300b \u3002","title":"\u6b65\u9aa4 7. \uff08\u53ef\u9009\uff09\u5728 Nebula Graph \u4e2d\u91cd\u6784\u7d22\u5f15"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/","text":"\u5bfc\u5165 JSON \u6587\u4ef6\u6570\u636e \u00b6 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Exchange \u5c06\u5b58\u50a8\u5728 HDFS \u4e0a\u7684 JSON \u6587\u4ef6\u6570\u636e\u5bfc\u5165 Nebula Graph\u3002 \u6570\u636e\u96c6 \u00b6 \u672c\u793a\u4f8b\u6240\u7528 JSON \u6587\u4ef6\uff08test.json\uff09\u7ed3\u6784\u4e3a\uff1a {\"source\":int, \"target\":int, \"likeness\":double} \uff0c\u8868\u793a source \u4e0e target \u4e4b\u95f4\u4e00\u79cd like \u5173\u7cfb\u3002\u5171\u8ba1 21,645 \u6761\u6570\u636e\u3002 \u4ee5\u4e0b\u4e3a\u90e8\u5206\u793a\u4f8b\u6570\u636e\uff1a { \"source\" : 53802643 , \"target\" : 87847387 , \"likeness\" : 0.34 } { \"source\" : 29509860 , \"target\" : 57501950 , \"likeness\" : 0.40 } { \"source\" : 97319348 , \"target\" : 50240344 , \"likeness\" : 0.77 } { \"source\" : 94295709 , \"target\" : 8189720 , \"likeness\" : 0.82 } { \"source\" : 78707720 , \"target\" : 53874070 , \"likeness\" : 0.98 } { \"source\" : 23399562 , \"target\" : 20136097 , \"likeness\" : 0.47 } \u73af\u5883\u914d\u7f6e \u00b6 \u672c\u6587\u793a\u4f8b\u5728 MacOS \u4e0b\u5b8c\u6210\uff0c\u4ee5\u4e0b\u662f\u76f8\u5173\u7684\u73af\u5883\u914d\u7f6e\u4fe1\u606f\uff1a \u786c\u4ef6\u89c4\u683c\uff1a CPU\uff1a1.7 GHz Quad-Core Intel Core i7 \u5185\u5b58\uff1a16 GB Spark\uff1a2.3.0\uff0c\u5355\u673a\u7248 Hadoop\uff1a2.9.2\uff0c\u4f2a\u5206\u5e03\u5f0f\u90e8\u7f72 Nebula Graph\uff1aV1.2.1\uff0c\u4f7f\u7528 Docker Compose \u90e8\u7f72\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u524d\u63d0\u6761\u4ef6 \u00b6 \u5f00\u59cb\u8fc1\u79fb\u6570\u636e\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b8c\u6210 Exchange \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u7f16\u8bd1 Exchange \u3002\u672c\u793a\u4f8b\u4e2d\u4f7f\u7528 Exchange v1.0.1\u3002 \u5df2\u7ecf\u5b89\u88c5 Spark\u3002 \u5df2\u7ecf\u5b89\u88c5\u5e76\u5f00\u542f Hadoop \u670d\u52a1\u3002 \u5df2\u7ecf\u90e8\u7f72\u5e76\u542f\u52a8 Nebula Graph\uff0c\u5e76\u83b7\u53d6\uff1a Graph \u670d\u52a1\u3001Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u4fe1\u606f\u3002 Nebula Graph \u6570\u636e\u5e93\u7684\u62e5\u6709\u5199\u6743\u9650\u7684\u7528\u6237\u540d\u53ca\u5176\u5bc6\u7801\u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\uff08Schema\uff09\u6240\u9700\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3001\u5c5e\u6027\u7b49\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u6b65\u9aa4 1. \u5728 Nebula Graph \u4e2d\u521b\u5efa Schema \u00b6 \u5206\u6790 JSON \u6587\u4ef6\u4e2d\u7684\u6570\u636e\uff0c\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5728 Nebula Graph \u4e2d\u521b\u5efa Schema\uff1a \u786e\u8ba4 Schema \u8981\u7d20\uff1aNebula Graph \u4e2d\u7684 Schema \u8981\u7d20\u5982\u4e0b\u8868\u6240\u793a\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027 \u6807\u7b7e\uff08Tag\uff09 source srcId int \u6807\u7b7e\uff08Tag\uff09 target dstId int \u8fb9\u7c7b\u578b\uff08Edge Type\uff09 like likeness double \u5728 Nebula Graph \u91cc\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4 json \uff0c\u5e76\u521b\u5efa\u4e00\u4e2a Schema\uff0c\u5982\u4e0b\u6240\u793a\u3002 -- \u521b\u5efa\u56fe\u7a7a\u95f4 CREATE SPACE json (partition_num=10, replica_factor=1); -- \u9009\u62e9\u56fe\u7a7a\u95f4 json USE json; -- \u521b\u5efa\u6807\u7b7e source CREATE TAG source (srcId int); -- \u521b\u5efa\u6807\u7b7e target CREATE TAG target (dstId int); -- \u521b\u5efa\u8fb9\u7c7b\u578b like CREATE EDGE like (likeness double); \u5173\u4e8e Nebula Graph \u6784\u56fe\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u53c2\u8003\u300aNebula Graph Database \u624b\u518c\u300b\u7684 \u5feb\u901f\u5f00\u59cb \u3002 \u6b65\u9aa4 2. \u5904\u7406 JSON \u6587\u4ef6 \u00b6 \u5206\u522b\u521b\u5efa\u70b9\u548c\u8fb9\u6570\u636e JSON \u6587\u4ef6\u3002\u540c\u65f6\uff0cJSON \u6587\u4ef6\u5fc5\u987b\u5b58\u50a8\u5728 HDFS \u91cc\uff0c\u5e76\u83b7\u53d6\u6587\u4ef6\u5b58\u50a8\u8def\u5f84\u3002 \u8bf4\u660e \uff1a\u672c\u793a\u4f8b\u4e2d\u4ec5\u4f7f\u7528\u4e00\u4e2a JSON \u6587\u4ef6\u540c\u65f6\u5199\u5165\u70b9\u548c\u8fb9\u6570\u636e\uff0c\u5176\u4e2d\uff0c\u8868\u793a source \u548c target \u7684\u90e8\u5206\u70b9\u6570\u636e\u662f\u91cd\u590d\u7684\uff0c\u6240\u4ee5\uff0c\u5728\u5199\u5165\u6570\u636e\u65f6\uff0c\u8fd9\u4e9b\u70b9\u4f1a\u88ab\u91cd\u590d\u5199\u5165\u3002\u5411 Nebula Graph \u63d2\u5165\u70b9\u6216\u8fb9\u65f6\uff0c\u5141\u8bb8\u91cd\u590d\u63d2\u5165\uff0c\u4f46\u662f\u6700\u540e\u8bfb\u53d6\u65f6\u4ee5\u6700\u540e\u4e00\u6b21\u5199\u5165\u7684\u6570\u636e\u4e3a\u51c6\uff0c\u6240\u4ee5\uff0c\u5e76\u4e0d\u5f71\u54cd\u4f7f\u7528\u3002\u5728\u5b9e\u9645\u4f7f\u7528\u65f6\uff0c\u6700\u597d\u5206\u522b\u521b\u5efa\u70b9\u548c\u8fb9\u6570\u636e\u6587\u4ef6\uff0c\u63d0\u9ad8\u6570\u636e\u5199\u5165\u901f\u5ea6\u3002 \u6b65\u9aa4 3. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 \u00b6 \u5b8c\u6210 Exchange \u7f16\u8bd1\u540e\uff0c\u8fdb\u5165 nebula-java/tools/exchange \u76ee\u5f55\uff0c\u6839\u636e target/classes/application.conf \u6587\u4ef6\u4fee\u6539 \u679c\u65ad \u6570\u636e\u6e90\u76f8\u5173\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u6587\u4ef6\u88ab\u91cd\u547d\u540d\u4e3a json_application.conf \u3002\u4ee5\u4e0b\u914d\u7f6e\u6587\u4ef6\u4e2d\u63d0\u4f9b\u4e86 JSON \u6e90\u6570\u636e\u6240\u6709\u914d\u7f6e\u9879\u3002\u672c\u6b21\u793a\u4f8b\u4e2d\u672a\u4f7f\u7528\u7684\u914d\u7f6e\u9879\u5df2\u88ab\u6ce8\u91ca\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u914d\u7f6e\u8bf4\u660e\u3002Spark \u548c Nebula Graph \u76f8\u5173\u914d\u7f6e\uff0c\u53c2\u8003 Spark \u53c2\u6570 \u548c Nebula Graph \u53c2\u6570 \u3002 { # Spark \u76f8\u5173\u914d\u7f6e spark: { app: { name: Spark Writer } driver: { cores: 1 maxResultSize: 1G } cores { max: 16 } } # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { address:{ # \u4ee5\u4e0b\u4e3a Nebula Graph \u7684 Graph \u670d\u52a1\u548c Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3 # \u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u683c\u5f0f\u4e3a \"ip1:port\",\"ip2:port\",\"ip3:port\" # \u4e0d\u540c\u5730\u5740\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7 (,) \u9694\u5f00 graph:[\"127.0.0.1:3699\"] meta:[\"127.0.0.1:45500\"] } # \u586b\u5199\u7684\u8d26\u53f7\u5fc5\u987b\u62e5\u6709 Nebula Graph \u76f8\u5e94\u56fe\u7a7a\u95f4\u7684\u5199\u6570\u636e\u6743\u9650 user: user pswd: password # \u586b\u5199 Nebula Graph \u4e2d\u9700\u8981\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0 space: json connection { timeout: 3000 retry: 3 } execution { retry: 3 } error: { max: 32 output: /tmp/errors } rate: { limit: 1024 timeout: 1000 } } # \u5904\u7406\u6807\u7b7e tags: [ # \u8bbe\u7f6e\u6807\u7b7e source \u76f8\u5173\u4fe1\u606f { # \u8bbe\u7f6e\u4e3a Nebula Graph \u4e2d\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0 name: source type: { # \u6307\u5b9a\u6570\u636e\u6e90\u6587\u4ef6\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a json\u3002 source: json # \u6307\u5b9a\u6807\u7b7e\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\u3002 sink: client } # JSON \u6587\u4ef6\u6240\u5728\u7684 HDFS \u8def\u5f84\uff0cString \u7c7b\u578b\uff0c\u5fc5\u987b\u4ee5 hdfs:// \u5f00\u5934\u3002 path: \"hdfs://namenode_ip:port/path/to/test.json\" # \u5728 fields \u91cc\u6307\u5b9a JSON \u6587\u4ef6\u4e2d key \u540d\u79f0\uff0c\u5176\u5bf9\u5e94\u7684 value # \u4f1a\u4f5c\u4e3a Nebula Graph \u4e2d\u6307\u5b9a\u5c5e\u6027 srcId \u7684\u6570\u636e\u6e90 # \u5982\u679c\u9700\u8981\u6307\u5b9a\u591a\u4e2a\u503c\uff0c\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00 fields: [\"source\"] nebula.fields: [\"srcId\"] # \u5c06 JSON \u6587\u4ef6\u4e2d\u67d0\u4e2a key \u5bf9\u5e94\u7684\u503c\u4f5c\u4e3a Nebula Graph \u4e2d\u70b9 VID \u7684\u6765\u6e90 # \u5982\u679c VID \u6e90\u6570\u636e\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u4f7f\u7528\u4ee5\u4e0b\u5185\u5bb9\u6765\u4ee3\u66ff vertex \u7684\u8bbe\u7f6e\uff0c\u5728\u5176\u4e2d\u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 # vertex: { # field: key_name_in_json # policy: \"hash\" # } vertex: source batch: 256 partition: 32 # isImplicit \u8bbe\u7f6e\u8bf4\u660e\uff0c\u8be6\u89c1 https://github.com/vesoft-inc/ # nebula-java/blob/v1.0/tools/exchange/src/main/resources/ # application.conf isImplicit: true } # \u8bbe\u7f6e\u6807\u7b7e target \u76f8\u5173\u4fe1\u606f { name: target type: { source: json sink: client } path: \"hdfs://namenode_ip:port/path/to/test.json\" fields: [\"target\"] nebula.fields: [\"dstId\"] vertex: \"target\" batch: 256 partition: 32 isImplicit: true } # \u5982\u679c\u8fd8\u6709\u5176\u4ed6\u6807\u7b7e\uff0c\u53c2\u8003\u4ee5\u4e0a\u914d\u7f6e\u6dfb\u52a0 ] # \u5904\u7406\u8fb9\u6570\u636e edges: [ # \u8bbe\u7f6e\u8fb9\u7c7b\u578b like \u76f8\u5173\u4fe1\u606f { # Nebula Graph \u4e2d\u5bf9\u5e94\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 name: like type: { # \u6307\u5b9a\u6570\u636e\u6e90\u6587\u4ef6\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a json\u3002 source: json # \u6307\u5b9a\u8fb9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # \u6307\u5b9a JSON \u6587\u4ef6\u6240\u5728\u7684 HDFS \u8def\u5f84\uff0cString \u7c7b\u578b\uff0c\u5fc5\u987b\u4ee5 hdfs:// \u5f00\u5934\u3002 path: \"hdfs://namenode_ip:port/path/to/test.json\" # \u5728 fields \u91cc\u6307\u5b9a JSON \u6587\u4ef6\u4e2d key \u540d\u79f0\uff0c\u5176\u5bf9\u5e94\u7684 value # \u4f1a\u4f5c\u4e3a Nebula Graph \u4e2d\u6307\u5b9a\u5c5e\u6027 likeness \u7684\u6570\u636e\u6e90 # \u5982\u679c\u9700\u8981\u6307\u5b9a\u591a\u4e2a\u503c\uff0c\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00 fields: [\"likeness\"] nebula.fields: [\"likeness\"] # \u5c06 JSON \u6587\u4ef6\u4e2d\u67d0\u4e24\u4e2a key \u5bf9\u5e94\u7684\u503c\u4f5c\u4e3a Nebula Graph \u4e2d\u8fb9\u8d77\u70b9\u548c\u8fb9\u7ec8\u70b9 VID \u7684\u6765\u6e90 # \u5982\u679c VID \u6e90\u6570\u636e\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u4f7f\u7528\u4ee5\u4e0b\u5185\u5bb9\u6765\u4ee3\u66ff source # \u548c/\u6216 target \u7684\u8bbe\u7f6e\uff0c\u5728\u5176\u4e2d\u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 # source: { # field: key_name_in_json # policy: \"hash\" # } # target: { # field: key_name_in_json # policy: \"hash\" # } source: \"source\" target: \"target\" batch: 256 partition: 32 isImplicit: true } # \u5982\u679c\u8fd8\u6709\u5176\u4ed6\u8fb9\u7c7b\u578b\uff0c\u53c2\u8003\u4ee5\u4e0a\u914d\u7f6e\u6dfb\u52a0 ] } \u6b65\u9aa4 4. \uff08\u53ef\u9009\uff09\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e \u00b6 \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u662f\u5426\u6b63\u786e\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local\" --class com.vesoft.nebula.tools.importer.Exchange /path/to/exchange-1.0.1.jar -c /path/to/conf/json_application.conf -D \u6b65\u9aa4 5. \u5411 Nebula Graph \u5bfc\u5165\u6570\u636e \u00b6 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06 JSON \u6587\u4ef6\u6570\u636e\u5bfc\u5165 Nebula Graph \u4e2d\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local\" --class com.vesoft.nebula.tools.importer.Exchange /path/to/exchange-1.0.1.jar -c /path/to/conf/json_application.conf \u6b65\u9aa4 6. \uff08\u53ef\u9009\uff09\u9a8c\u8bc1\u6570\u636e \u00b6 \u60a8\u53ef\u4ee5\u5728 Nebula Graph \u5ba2\u6237\u7aef\uff08\u4f8b\u5982 Nebula Graph Studio\uff09\u91cc\u6267\u884c\u8bed\u53e5\uff0c\u786e\u8ba4\u6570\u636e\u662f\u5426\u5df2\u5bfc\u5165\uff0c\u4f8b\u5982\uff1a GO FROM 53802643 OVER like; \u5982\u679c\u8fd4\u56de\u8fb9\u7ec8\u70b9\uff08 like._dst \uff09\u5373\u8868\u660e\u6570\u636e\u5df2\u5bfc\u5165\u3002 \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 db_dump \u5de5\u5177\u7edf\u8ba1\u6570\u636e\u662f\u5426\u5df2\u7ecf\u5168\u90e8\u5bfc\u5165\u3002\u8be6\u7ec6\u7684\u4f7f\u7528\u4fe1\u606f\u53c2\u8003 Dump Tool \u3002 \u6b65\u9aa4 7. \uff08\u53ef\u9009\uff09\u5728 Nebula Graph \u4e2d\u91cd\u6784\u7d22\u5f15 \u00b6 \u5bfc\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 Nebula Graph \u4e2d\u91cd\u65b0\u521b\u5efa\u5e76\u91cd\u6784\u7d22\u5f15\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300aNebula Graph Database \u624b\u518c\u300b \u3002","title":"\u5bfc\u5165 JSON \u6587\u4ef6\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/#json","text":"\u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Exchange \u5c06\u5b58\u50a8\u5728 HDFS \u4e0a\u7684 JSON \u6587\u4ef6\u6570\u636e\u5bfc\u5165 Nebula Graph\u3002","title":"\u5bfc\u5165 JSON \u6587\u4ef6\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/#_1","text":"\u672c\u793a\u4f8b\u6240\u7528 JSON \u6587\u4ef6\uff08test.json\uff09\u7ed3\u6784\u4e3a\uff1a {\"source\":int, \"target\":int, \"likeness\":double} \uff0c\u8868\u793a source \u4e0e target \u4e4b\u95f4\u4e00\u79cd like \u5173\u7cfb\u3002\u5171\u8ba1 21,645 \u6761\u6570\u636e\u3002 \u4ee5\u4e0b\u4e3a\u90e8\u5206\u793a\u4f8b\u6570\u636e\uff1a { \"source\" : 53802643 , \"target\" : 87847387 , \"likeness\" : 0.34 } { \"source\" : 29509860 , \"target\" : 57501950 , \"likeness\" : 0.40 } { \"source\" : 97319348 , \"target\" : 50240344 , \"likeness\" : 0.77 } { \"source\" : 94295709 , \"target\" : 8189720 , \"likeness\" : 0.82 } { \"source\" : 78707720 , \"target\" : 53874070 , \"likeness\" : 0.98 } { \"source\" : 23399562 , \"target\" : 20136097 , \"likeness\" : 0.47 }","title":"\u6570\u636e\u96c6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/#_2","text":"\u672c\u6587\u793a\u4f8b\u5728 MacOS \u4e0b\u5b8c\u6210\uff0c\u4ee5\u4e0b\u662f\u76f8\u5173\u7684\u73af\u5883\u914d\u7f6e\u4fe1\u606f\uff1a \u786c\u4ef6\u89c4\u683c\uff1a CPU\uff1a1.7 GHz Quad-Core Intel Core i7 \u5185\u5b58\uff1a16 GB Spark\uff1a2.3.0\uff0c\u5355\u673a\u7248 Hadoop\uff1a2.9.2\uff0c\u4f2a\u5206\u5e03\u5f0f\u90e8\u7f72 Nebula Graph\uff1aV1.2.1\uff0c\u4f7f\u7528 Docker Compose \u90e8\u7f72\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph","title":"\u73af\u5883\u914d\u7f6e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/#_3","text":"\u5f00\u59cb\u8fc1\u79fb\u6570\u636e\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b8c\u6210 Exchange \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u7f16\u8bd1 Exchange \u3002\u672c\u793a\u4f8b\u4e2d\u4f7f\u7528 Exchange v1.0.1\u3002 \u5df2\u7ecf\u5b89\u88c5 Spark\u3002 \u5df2\u7ecf\u5b89\u88c5\u5e76\u5f00\u542f Hadoop \u670d\u52a1\u3002 \u5df2\u7ecf\u90e8\u7f72\u5e76\u542f\u52a8 Nebula Graph\uff0c\u5e76\u83b7\u53d6\uff1a Graph \u670d\u52a1\u3001Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u4fe1\u606f\u3002 Nebula Graph \u6570\u636e\u5e93\u7684\u62e5\u6709\u5199\u6743\u9650\u7684\u7528\u6237\u540d\u53ca\u5176\u5bc6\u7801\u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\uff08Schema\uff09\u6240\u9700\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3001\u5c5e\u6027\u7b49\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/#_4","text":"","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/#1_nebula_graph_schema","text":"\u5206\u6790 JSON \u6587\u4ef6\u4e2d\u7684\u6570\u636e\uff0c\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5728 Nebula Graph \u4e2d\u521b\u5efa Schema\uff1a \u786e\u8ba4 Schema \u8981\u7d20\uff1aNebula Graph \u4e2d\u7684 Schema \u8981\u7d20\u5982\u4e0b\u8868\u6240\u793a\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027 \u6807\u7b7e\uff08Tag\uff09 source srcId int \u6807\u7b7e\uff08Tag\uff09 target dstId int \u8fb9\u7c7b\u578b\uff08Edge Type\uff09 like likeness double \u5728 Nebula Graph \u91cc\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4 json \uff0c\u5e76\u521b\u5efa\u4e00\u4e2a Schema\uff0c\u5982\u4e0b\u6240\u793a\u3002 -- \u521b\u5efa\u56fe\u7a7a\u95f4 CREATE SPACE json (partition_num=10, replica_factor=1); -- \u9009\u62e9\u56fe\u7a7a\u95f4 json USE json; -- \u521b\u5efa\u6807\u7b7e source CREATE TAG source (srcId int); -- \u521b\u5efa\u6807\u7b7e target CREATE TAG target (dstId int); -- \u521b\u5efa\u8fb9\u7c7b\u578b like CREATE EDGE like (likeness double); \u5173\u4e8e Nebula Graph \u6784\u56fe\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u53c2\u8003\u300aNebula Graph Database \u624b\u518c\u300b\u7684 \u5feb\u901f\u5f00\u59cb \u3002","title":"\u6b65\u9aa4 1. \u5728 Nebula Graph \u4e2d\u521b\u5efa Schema"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/#2_json","text":"\u5206\u522b\u521b\u5efa\u70b9\u548c\u8fb9\u6570\u636e JSON \u6587\u4ef6\u3002\u540c\u65f6\uff0cJSON \u6587\u4ef6\u5fc5\u987b\u5b58\u50a8\u5728 HDFS \u91cc\uff0c\u5e76\u83b7\u53d6\u6587\u4ef6\u5b58\u50a8\u8def\u5f84\u3002 \u8bf4\u660e \uff1a\u672c\u793a\u4f8b\u4e2d\u4ec5\u4f7f\u7528\u4e00\u4e2a JSON \u6587\u4ef6\u540c\u65f6\u5199\u5165\u70b9\u548c\u8fb9\u6570\u636e\uff0c\u5176\u4e2d\uff0c\u8868\u793a source \u548c target \u7684\u90e8\u5206\u70b9\u6570\u636e\u662f\u91cd\u590d\u7684\uff0c\u6240\u4ee5\uff0c\u5728\u5199\u5165\u6570\u636e\u65f6\uff0c\u8fd9\u4e9b\u70b9\u4f1a\u88ab\u91cd\u590d\u5199\u5165\u3002\u5411 Nebula Graph \u63d2\u5165\u70b9\u6216\u8fb9\u65f6\uff0c\u5141\u8bb8\u91cd\u590d\u63d2\u5165\uff0c\u4f46\u662f\u6700\u540e\u8bfb\u53d6\u65f6\u4ee5\u6700\u540e\u4e00\u6b21\u5199\u5165\u7684\u6570\u636e\u4e3a\u51c6\uff0c\u6240\u4ee5\uff0c\u5e76\u4e0d\u5f71\u54cd\u4f7f\u7528\u3002\u5728\u5b9e\u9645\u4f7f\u7528\u65f6\uff0c\u6700\u597d\u5206\u522b\u521b\u5efa\u70b9\u548c\u8fb9\u6570\u636e\u6587\u4ef6\uff0c\u63d0\u9ad8\u6570\u636e\u5199\u5165\u901f\u5ea6\u3002","title":"\u6b65\u9aa4 2. \u5904\u7406 JSON \u6587\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/#3","text":"\u5b8c\u6210 Exchange \u7f16\u8bd1\u540e\uff0c\u8fdb\u5165 nebula-java/tools/exchange \u76ee\u5f55\uff0c\u6839\u636e target/classes/application.conf \u6587\u4ef6\u4fee\u6539 \u679c\u65ad \u6570\u636e\u6e90\u76f8\u5173\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u6587\u4ef6\u88ab\u91cd\u547d\u540d\u4e3a json_application.conf \u3002\u4ee5\u4e0b\u914d\u7f6e\u6587\u4ef6\u4e2d\u63d0\u4f9b\u4e86 JSON \u6e90\u6570\u636e\u6240\u6709\u914d\u7f6e\u9879\u3002\u672c\u6b21\u793a\u4f8b\u4e2d\u672a\u4f7f\u7528\u7684\u914d\u7f6e\u9879\u5df2\u88ab\u6ce8\u91ca\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u914d\u7f6e\u8bf4\u660e\u3002Spark \u548c Nebula Graph \u76f8\u5173\u914d\u7f6e\uff0c\u53c2\u8003 Spark \u53c2\u6570 \u548c Nebula Graph \u53c2\u6570 \u3002 { # Spark \u76f8\u5173\u914d\u7f6e spark: { app: { name: Spark Writer } driver: { cores: 1 maxResultSize: 1G } cores { max: 16 } } # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { address:{ # \u4ee5\u4e0b\u4e3a Nebula Graph \u7684 Graph \u670d\u52a1\u548c Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3 # \u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u683c\u5f0f\u4e3a \"ip1:port\",\"ip2:port\",\"ip3:port\" # \u4e0d\u540c\u5730\u5740\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7 (,) \u9694\u5f00 graph:[\"127.0.0.1:3699\"] meta:[\"127.0.0.1:45500\"] } # \u586b\u5199\u7684\u8d26\u53f7\u5fc5\u987b\u62e5\u6709 Nebula Graph \u76f8\u5e94\u56fe\u7a7a\u95f4\u7684\u5199\u6570\u636e\u6743\u9650 user: user pswd: password # \u586b\u5199 Nebula Graph \u4e2d\u9700\u8981\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0 space: json connection { timeout: 3000 retry: 3 } execution { retry: 3 } error: { max: 32 output: /tmp/errors } rate: { limit: 1024 timeout: 1000 } } # \u5904\u7406\u6807\u7b7e tags: [ # \u8bbe\u7f6e\u6807\u7b7e source \u76f8\u5173\u4fe1\u606f { # \u8bbe\u7f6e\u4e3a Nebula Graph \u4e2d\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0 name: source type: { # \u6307\u5b9a\u6570\u636e\u6e90\u6587\u4ef6\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a json\u3002 source: json # \u6307\u5b9a\u6807\u7b7e\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\u3002 sink: client } # JSON \u6587\u4ef6\u6240\u5728\u7684 HDFS \u8def\u5f84\uff0cString \u7c7b\u578b\uff0c\u5fc5\u987b\u4ee5 hdfs:// \u5f00\u5934\u3002 path: \"hdfs://namenode_ip:port/path/to/test.json\" # \u5728 fields \u91cc\u6307\u5b9a JSON \u6587\u4ef6\u4e2d key \u540d\u79f0\uff0c\u5176\u5bf9\u5e94\u7684 value # \u4f1a\u4f5c\u4e3a Nebula Graph \u4e2d\u6307\u5b9a\u5c5e\u6027 srcId \u7684\u6570\u636e\u6e90 # \u5982\u679c\u9700\u8981\u6307\u5b9a\u591a\u4e2a\u503c\uff0c\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00 fields: [\"source\"] nebula.fields: [\"srcId\"] # \u5c06 JSON \u6587\u4ef6\u4e2d\u67d0\u4e2a key \u5bf9\u5e94\u7684\u503c\u4f5c\u4e3a Nebula Graph \u4e2d\u70b9 VID \u7684\u6765\u6e90 # \u5982\u679c VID \u6e90\u6570\u636e\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u4f7f\u7528\u4ee5\u4e0b\u5185\u5bb9\u6765\u4ee3\u66ff vertex \u7684\u8bbe\u7f6e\uff0c\u5728\u5176\u4e2d\u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 # vertex: { # field: key_name_in_json # policy: \"hash\" # } vertex: source batch: 256 partition: 32 # isImplicit \u8bbe\u7f6e\u8bf4\u660e\uff0c\u8be6\u89c1 https://github.com/vesoft-inc/ # nebula-java/blob/v1.0/tools/exchange/src/main/resources/ # application.conf isImplicit: true } # \u8bbe\u7f6e\u6807\u7b7e target \u76f8\u5173\u4fe1\u606f { name: target type: { source: json sink: client } path: \"hdfs://namenode_ip:port/path/to/test.json\" fields: [\"target\"] nebula.fields: [\"dstId\"] vertex: \"target\" batch: 256 partition: 32 isImplicit: true } # \u5982\u679c\u8fd8\u6709\u5176\u4ed6\u6807\u7b7e\uff0c\u53c2\u8003\u4ee5\u4e0a\u914d\u7f6e\u6dfb\u52a0 ] # \u5904\u7406\u8fb9\u6570\u636e edges: [ # \u8bbe\u7f6e\u8fb9\u7c7b\u578b like \u76f8\u5173\u4fe1\u606f { # Nebula Graph \u4e2d\u5bf9\u5e94\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 name: like type: { # \u6307\u5b9a\u6570\u636e\u6e90\u6587\u4ef6\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e3a json\u3002 source: json # \u6307\u5b9a\u8fb9\u6570\u636e\u5bfc\u5165 Nebula Graph \u7684\u65b9\u5f0f\uff0c # \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aclient\uff08\u4ee5\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\uff09\u548c sst\uff08\u4ee5 SST \u6587\u4ef6\u683c\u5f0f\u5bfc\u5165\uff09\u3002 # \u5173\u4e8e SST \u6587\u4ef6\u5bfc\u5165\u914d\u7f6e\uff0c\u53c2\u8003\u6587\u6863\uff1a\u5bfc\u5165 SST \u6587\u4ef6\uff08https:// # docs.nebula-graph.com.cn/nebula-exchange/ # use-exchange/ex-ug-import-sst/\uff09\u3002 sink: client } # \u6307\u5b9a JSON \u6587\u4ef6\u6240\u5728\u7684 HDFS \u8def\u5f84\uff0cString \u7c7b\u578b\uff0c\u5fc5\u987b\u4ee5 hdfs:// \u5f00\u5934\u3002 path: \"hdfs://namenode_ip:port/path/to/test.json\" # \u5728 fields \u91cc\u6307\u5b9a JSON \u6587\u4ef6\u4e2d key \u540d\u79f0\uff0c\u5176\u5bf9\u5e94\u7684 value # \u4f1a\u4f5c\u4e3a Nebula Graph \u4e2d\u6307\u5b9a\u5c5e\u6027 likeness \u7684\u6570\u636e\u6e90 # \u5982\u679c\u9700\u8981\u6307\u5b9a\u591a\u4e2a\u503c\uff0c\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00 fields: [\"likeness\"] nebula.fields: [\"likeness\"] # \u5c06 JSON \u6587\u4ef6\u4e2d\u67d0\u4e24\u4e2a key \u5bf9\u5e94\u7684\u503c\u4f5c\u4e3a Nebula Graph \u4e2d\u8fb9\u8d77\u70b9\u548c\u8fb9\u7ec8\u70b9 VID \u7684\u6765\u6e90 # \u5982\u679c VID \u6e90\u6570\u636e\u4e0d\u662f int \u7c7b\u578b\uff0c\u5219\u4f7f\u7528\u4ee5\u4e0b\u5185\u5bb9\u6765\u4ee3\u66ff source # \u548c/\u6216 target \u7684\u8bbe\u7f6e\uff0c\u5728\u5176\u4e2d\u6307\u5b9a VID \u6620\u5c04\u7b56\u7565\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a \"hash\"\u3002 # source: { # field: key_name_in_json # policy: \"hash\" # } # target: { # field: key_name_in_json # policy: \"hash\" # } source: \"source\" target: \"target\" batch: 256 partition: 32 isImplicit: true } # \u5982\u679c\u8fd8\u6709\u5176\u4ed6\u8fb9\u7c7b\u578b\uff0c\u53c2\u8003\u4ee5\u4e0a\u914d\u7f6e\u6dfb\u52a0 ] }","title":"\u6b65\u9aa4 3. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/#4","text":"\u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u662f\u5426\u6b63\u786e\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local\" --class com.vesoft.nebula.tools.importer.Exchange /path/to/exchange-1.0.1.jar -c /path/to/conf/json_application.conf -D","title":"\u6b65\u9aa4 4. \uff08\u53ef\u9009\uff09\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/#5_nebula_graph","text":"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06 JSON \u6587\u4ef6\u6570\u636e\u5bfc\u5165 Nebula Graph \u4e2d\u3002\u5173\u4e8e\u53c2\u6570\u7684\u8bf4\u660e\uff0c\u53c2\u8003 \u5bfc\u5165\u547d\u4ee4\u53c2\u6570 \u3002 $SPARK_HOME /bin/spark-submit --master \"local\" --class com.vesoft.nebula.tools.importer.Exchange /path/to/exchange-1.0.1.jar -c /path/to/conf/json_application.conf","title":"\u6b65\u9aa4 5. \u5411 Nebula Graph \u5bfc\u5165\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/#6","text":"\u60a8\u53ef\u4ee5\u5728 Nebula Graph \u5ba2\u6237\u7aef\uff08\u4f8b\u5982 Nebula Graph Studio\uff09\u91cc\u6267\u884c\u8bed\u53e5\uff0c\u786e\u8ba4\u6570\u636e\u662f\u5426\u5df2\u5bfc\u5165\uff0c\u4f8b\u5982\uff1a GO FROM 53802643 OVER like; \u5982\u679c\u8fd4\u56de\u8fb9\u7ec8\u70b9\uff08 like._dst \uff09\u5373\u8868\u660e\u6570\u636e\u5df2\u5bfc\u5165\u3002 \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 db_dump \u5de5\u5177\u7edf\u8ba1\u6570\u636e\u662f\u5426\u5df2\u7ecf\u5168\u90e8\u5bfc\u5165\u3002\u8be6\u7ec6\u7684\u4f7f\u7528\u4fe1\u606f\u53c2\u8003 Dump Tool \u3002","title":"\u6b65\u9aa4 6. \uff08\u53ef\u9009\uff09\u9a8c\u8bc1\u6570\u636e"},{"location":"nebula-exchange/use-exchange/ex-ug-import-json/#7_nebula_graph","text":"\u5bfc\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 Nebula Graph \u4e2d\u91cd\u65b0\u521b\u5efa\u5e76\u91cd\u6784\u7d22\u5f15\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300aNebula Graph Database \u624b\u518c\u300b \u3002","title":"\u6b65\u9aa4 7. \uff08\u53ef\u9009\uff09\u5728 Nebula Graph \u4e2d\u91cd\u6784\u7d22\u5f15"},{"location":"nebula-exchange/use-exchange/ex-ug-import-sst/","text":"\u5bfc\u5165 SST \u6587\u4ef6 \u00b6 Nebula Exchange \u80fd\u5c06\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u8f6c\u6362\u6210 SST \u6587\u4ef6\u540e\u518d\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u4e2d\u3002\u672c\u6587\u63cf\u8ff0 Exchange \u5c06\u6e90\u6570\u636e\u8f6c\u6362\u4e3a SST \u6587\u4ef6\u5e76\u5bfc\u5165 Nebula Graph \u7684\u5b9e\u73b0\u539f\u7406\uff0c\u5e76\u63d0\u4f9b\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u5b8c\u6210 SST \u6587\u4ef6\u5bfc\u5165\u64cd\u4f5c\u3002 \u8bf4\u660e \uff1a\u4ec5 Linux \u7cfb\u7edf\u652f\u6301\u5bfc\u5165 SST \u6587\u4ef6\u3002 \u5b9e\u73b0\u65b9\u6cd5 \u00b6 Nebula Graph \u5e95\u5c42\u4f7f\u7528 RocksDB \u4f5c\u4e3a\u952e\u503c\u578b\u5b58\u50a8\u5f15\u64ce\u3002RocksDB \u662f\u57fa\u4e8e\u78c1\u76d8\u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u6570\u636e\u4ee5 Sorted String Table\uff08SSTable\uff09\u683c\u5f0f\u5b58\u653e\u3002SSTable \u662f\u4e00\u4e2a\u5185\u90e8\u5305\u542b\u4e86\u4efb\u610f\u957f\u5ea6\u3001\u6392\u597d\u5e8f\u7684\u952e\u503c\u5bf9 <key,value> \u96c6\u5408\u7684\u6587\u4ef6\uff0c\u7528\u4e8e\u9ad8\u6548\u5730\u5b58\u50a8\u5927\u91cf\u7684\u952e\u503c\u578b\u6570\u636e\u3002 RocksDB \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217 API \u7528\u4e8e\u521b\u5efa\u53ca\u5bfc\u5165 SST \u6587\u4ef6\uff0c\u6709\u52a9\u4e8e\u60a8\u5feb\u901f\u5bfc\u5165\u6d77\u91cf\u6570\u636e\u3002 \u5904\u7406 SST \u6587\u4ef6\u7684\u6574\u4e2a\u8fc7\u7a0b\u4e3b\u8981\u7531 Exchange \u7684 Reader\u3001sstProcessor \u548c sstWriter \u5b8c\u6210\u3002\u6574\u4e2a\u6570\u636e\u5904\u7406\u8fc7\u7a0b\u5982\u4e0b\u6240\u793a\uff1a Exchange \u7684 Reader \u4ece\u6570\u636e\u6e90\u4e2d\u8bfb\u53d6\u6570\u636e\u3002 sstProcessor \u6309\u7167 Nebula Graph \u8981\u6c42\u7684\u683c\u5f0f\u751f\u6210 SST \u6587\u4ef6\uff0c\u5b58\u50a8\u5230\u672c\u5730\uff0c\u5e76\u4e0a\u4f20\u5230 HDFS\u3002SST \u6587\u4ef6\u4e3b\u8981\u5305\u542b\u70b9\u548c\u8fb9\u4e24\u7c7b\u6570\u636e\uff0c\u5176\u4e2d\uff0c \u8868\u793a\u70b9\u7684\u952e\u5305\u62ec\uff1a\u5206\u533a\u4fe1\u606f\u3001\u70b9 ID\uff08VID\uff09\u3001\u6807\u7b7e\u7c7b\u578b\u4fe1\u606f\u548c\u6807\u7b7e\u7248\u672c\u4fe1\u606f\u3002 \u8868\u793a\u8fb9\u7684\u952e\u5305\u62ec\uff1a\u5206\u533a\u4fe1\u606f\u3001\u8d77\u70b9\u548c\u7ec8\u70b9 ID\uff08 rsc_vid \u548c dst_vid \uff09\u3001\u8fb9\u7c7b\u578b\u4fe1\u606f\u3001\u8fb9\u6392\u5e8f\u4fe1\u606f\u548c\u8fb9\u7248\u672c\u4fe1\u606f\u3002 \u5bf9\u5e94\u7684\u503c\u4e3b\u8981\u5305\u542b\u5404\u4e2a\u5c5e\u6027\u952e\u503c\u5bf9\u5e8f\u5217\u5316\u4fe1\u606f\u3002 SstFileWriter \u521b\u5efa SST \u6587\u4ef6\uff1aExchange \u4f1a\u521b\u5efa\u4e00\u4e2a SstFileWriter \u5bf9\u8c61\uff0c\u7136\u540e\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u5e76\u63d2\u5165\u6570\u636e\u3002\u751f\u6210 SST \u6587\u4ef6\u65f6\uff0c\u884c\u6570\u636e\u5fc5\u987b\u4e25\u683c\u6309\u7167\u589e\u5e8f\u8fdb\u884c\u5199\u5165\u3002 \u751f\u6210 SST \u6587\u4ef6\u4e4b\u540e\uff0cRocksDB \u901a\u8fc7 IngestExternalFile() \u65b9\u6cd5\u5c06 SST \u6587\u4ef6\u5bfc\u5165\u5230 Nebula Graph \u4e4b\u4e2d\u3002\u4f8b\u5982\uff1a IngestExternalFileOptions ifo; // Ingest the 2 passed SST files into the DB Status s = db_->IngestExternalFile({\"/home/usr/file1.sst\", \"/home/usr/file2.sst\"}, ifo); if (!s.ok()) { printf(\"Error while adding file %s and %s, Error %s\\n\", file_path1.c_str(), file_path2.c_str(), s.ToString().c_str()); return 1; } \u8c03\u7528 IngestExternalFile() \u65b9\u6cd5\u65f6\uff0cRocksDB \u9ed8\u8ba4\u4f1a\u5c06\u6587\u4ef6\u62f7\u8d1d\u5230\u6570\u636e\u76ee\u5f55\uff0c\u5e76\u4e14\u963b\u585e RocksDB \u5199\u5165\u64cd\u4f5c\u3002\u5982\u679c SST \u6587\u4ef6\u4e2d\u7684\u952e\u8303\u56f4\u8986\u76d6\u4e86 Memtable \u952e\u7684\u8303\u56f4\uff0c\u5219\u5c06 Memtable \u843d\u76d8\uff08flush\uff09\u5230\u786c\u76d8\u3002\u5c06 SST \u6587\u4ef6\u653e\u7f6e\u5728 LSM \u6811\u6700\u4f18\u4f4d\u7f6e\u540e\uff0c\u4e3a\u6587\u4ef6\u5206\u914d\u4e00\u4e2a\u5168\u5c40\u5e8f\u5217\u53f7\uff0c\u5e76\u6253\u5f00\u5199\u64cd\u4f5c\u3002 \u4f7f\u7528\u793a\u4f8b \u00b6 \u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\uff0c\u5bfc\u5165 Nebula Graph \u7684\u64cd\u4f5c\u4e0e\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\u64cd\u4f5c\u57fa\u672c\u76f8\u540c\uff0c\u4f46\u662f\u6709\u4ee5\u4e0b\u5dee\u5f02\uff1a \u73af\u5883\u91cc\u5fc5\u987b\u90e8\u7f72 HDFS\u3002 \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5fc5\u987b\u505a\u4ee5\u4e0b\u4fee\u6539\uff1a \u6e90\u6570\u636e\u7684\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u914d\u7f6e\uff1a tags.type.sink \u548c edges.type.sink \u5fc5\u987b\u914d\u7f6e\u4e3a sst \u3002 Nebula Graph \u76f8\u5173\u914d\u7f6e\u91cc\uff0c\u9700\u8981\u6dfb\u52a0 Nebula Graph \u6570\u636e\u5e93 Meta \u670d\u52a1\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\uff0c\u5e76\u6dfb\u52a0 SST \u6587\u4ef6\u5728\u672c\u5730\u548c HDFS \u7684\u5b58\u50a8\u8def\u5f84\u3002 # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { address: { # \u6dfb\u52a0 Nebula Graph \u6570\u636e\u5e93 Graph \u670d\u52a1\u7684 IP \u5730\u5740\u548c\u7aef\u53e3 graph: [\"127.0.0.1:3699\"] # \u6dfb\u52a0 Nebula Graph \u6570\u636e\u5e93 Meta \u670d\u52a1\u7684 IP \u5730\u5740\u548c\u7aef\u53e3 meta:[\"127.0.0.1:45500\"] } user: user pswd: password space: test path:{ # \u6307\u5b9a SST \u6587\u4ef6\u4fdd\u5b58\u5230\u672c\u5730\u7684\u8def\u5f84 local:/Users/example/path # \u6307\u5b9a\u4e0a\u4f20 SST \u6587\u4ef6\u7684 HDFS \u8def\u5f84 remote:/example/ } connection { timeout: 3000 retry: 3 } execution { retry: 3 } error: { max: 32 output: /tmp/errors } rate: { limit: 64M timeout: 1000 } } \u8be6\u7ec6\u63cf\u8ff0\u8bf7\u53c2\u8003\u4e0d\u540c\u6570\u636e\u6e90\u7684\u64cd\u4f5c\u793a\u4f8b\uff1a \u5bfc\u5165 Neo4j \u6570\u636e \u5bfc\u5165 HIVE \u6570\u636e \u5bfc\u5165 CSV \u6587\u4ef6\u6570\u636e \u5bfc\u5165 JSON \u6587\u4ef6\u6570\u636e \u5bfc\u5165 HBase \u6570\u636e[doc_TODO] \u5bfc\u5165 HIVE \u6570\u636e[doc_TODO] \u5bfc\u5165 Kafka \u6570\u636e[doc_TODO] \u5bfc\u5165 MySQL \u6570\u636e[doc_TODO]","title":"\u5bfc\u5165 SST \u6587\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-sst/#sst","text":"Nebula Exchange \u80fd\u5c06\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u8f6c\u6362\u6210 SST \u6587\u4ef6\u540e\u518d\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u4e2d\u3002\u672c\u6587\u63cf\u8ff0 Exchange \u5c06\u6e90\u6570\u636e\u8f6c\u6362\u4e3a SST \u6587\u4ef6\u5e76\u5bfc\u5165 Nebula Graph \u7684\u5b9e\u73b0\u539f\u7406\uff0c\u5e76\u63d0\u4f9b\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u5b8c\u6210 SST \u6587\u4ef6\u5bfc\u5165\u64cd\u4f5c\u3002 \u8bf4\u660e \uff1a\u4ec5 Linux \u7cfb\u7edf\u652f\u6301\u5bfc\u5165 SST \u6587\u4ef6\u3002","title":"\u5bfc\u5165 SST \u6587\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-sst/#_1","text":"Nebula Graph \u5e95\u5c42\u4f7f\u7528 RocksDB \u4f5c\u4e3a\u952e\u503c\u578b\u5b58\u50a8\u5f15\u64ce\u3002RocksDB \u662f\u57fa\u4e8e\u78c1\u76d8\u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u6570\u636e\u4ee5 Sorted String Table\uff08SSTable\uff09\u683c\u5f0f\u5b58\u653e\u3002SSTable \u662f\u4e00\u4e2a\u5185\u90e8\u5305\u542b\u4e86\u4efb\u610f\u957f\u5ea6\u3001\u6392\u597d\u5e8f\u7684\u952e\u503c\u5bf9 <key,value> \u96c6\u5408\u7684\u6587\u4ef6\uff0c\u7528\u4e8e\u9ad8\u6548\u5730\u5b58\u50a8\u5927\u91cf\u7684\u952e\u503c\u578b\u6570\u636e\u3002 RocksDB \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217 API \u7528\u4e8e\u521b\u5efa\u53ca\u5bfc\u5165 SST \u6587\u4ef6\uff0c\u6709\u52a9\u4e8e\u60a8\u5feb\u901f\u5bfc\u5165\u6d77\u91cf\u6570\u636e\u3002 \u5904\u7406 SST \u6587\u4ef6\u7684\u6574\u4e2a\u8fc7\u7a0b\u4e3b\u8981\u7531 Exchange \u7684 Reader\u3001sstProcessor \u548c sstWriter \u5b8c\u6210\u3002\u6574\u4e2a\u6570\u636e\u5904\u7406\u8fc7\u7a0b\u5982\u4e0b\u6240\u793a\uff1a Exchange \u7684 Reader \u4ece\u6570\u636e\u6e90\u4e2d\u8bfb\u53d6\u6570\u636e\u3002 sstProcessor \u6309\u7167 Nebula Graph \u8981\u6c42\u7684\u683c\u5f0f\u751f\u6210 SST \u6587\u4ef6\uff0c\u5b58\u50a8\u5230\u672c\u5730\uff0c\u5e76\u4e0a\u4f20\u5230 HDFS\u3002SST \u6587\u4ef6\u4e3b\u8981\u5305\u542b\u70b9\u548c\u8fb9\u4e24\u7c7b\u6570\u636e\uff0c\u5176\u4e2d\uff0c \u8868\u793a\u70b9\u7684\u952e\u5305\u62ec\uff1a\u5206\u533a\u4fe1\u606f\u3001\u70b9 ID\uff08VID\uff09\u3001\u6807\u7b7e\u7c7b\u578b\u4fe1\u606f\u548c\u6807\u7b7e\u7248\u672c\u4fe1\u606f\u3002 \u8868\u793a\u8fb9\u7684\u952e\u5305\u62ec\uff1a\u5206\u533a\u4fe1\u606f\u3001\u8d77\u70b9\u548c\u7ec8\u70b9 ID\uff08 rsc_vid \u548c dst_vid \uff09\u3001\u8fb9\u7c7b\u578b\u4fe1\u606f\u3001\u8fb9\u6392\u5e8f\u4fe1\u606f\u548c\u8fb9\u7248\u672c\u4fe1\u606f\u3002 \u5bf9\u5e94\u7684\u503c\u4e3b\u8981\u5305\u542b\u5404\u4e2a\u5c5e\u6027\u952e\u503c\u5bf9\u5e8f\u5217\u5316\u4fe1\u606f\u3002 SstFileWriter \u521b\u5efa SST \u6587\u4ef6\uff1aExchange \u4f1a\u521b\u5efa\u4e00\u4e2a SstFileWriter \u5bf9\u8c61\uff0c\u7136\u540e\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u5e76\u63d2\u5165\u6570\u636e\u3002\u751f\u6210 SST \u6587\u4ef6\u65f6\uff0c\u884c\u6570\u636e\u5fc5\u987b\u4e25\u683c\u6309\u7167\u589e\u5e8f\u8fdb\u884c\u5199\u5165\u3002 \u751f\u6210 SST \u6587\u4ef6\u4e4b\u540e\uff0cRocksDB \u901a\u8fc7 IngestExternalFile() \u65b9\u6cd5\u5c06 SST \u6587\u4ef6\u5bfc\u5165\u5230 Nebula Graph \u4e4b\u4e2d\u3002\u4f8b\u5982\uff1a IngestExternalFileOptions ifo; // Ingest the 2 passed SST files into the DB Status s = db_->IngestExternalFile({\"/home/usr/file1.sst\", \"/home/usr/file2.sst\"}, ifo); if (!s.ok()) { printf(\"Error while adding file %s and %s, Error %s\\n\", file_path1.c_str(), file_path2.c_str(), s.ToString().c_str()); return 1; } \u8c03\u7528 IngestExternalFile() \u65b9\u6cd5\u65f6\uff0cRocksDB \u9ed8\u8ba4\u4f1a\u5c06\u6587\u4ef6\u62f7\u8d1d\u5230\u6570\u636e\u76ee\u5f55\uff0c\u5e76\u4e14\u963b\u585e RocksDB \u5199\u5165\u64cd\u4f5c\u3002\u5982\u679c SST \u6587\u4ef6\u4e2d\u7684\u952e\u8303\u56f4\u8986\u76d6\u4e86 Memtable \u952e\u7684\u8303\u56f4\uff0c\u5219\u5c06 Memtable \u843d\u76d8\uff08flush\uff09\u5230\u786c\u76d8\u3002\u5c06 SST \u6587\u4ef6\u653e\u7f6e\u5728 LSM \u6811\u6700\u4f18\u4f4d\u7f6e\u540e\uff0c\u4e3a\u6587\u4ef6\u5206\u914d\u4e00\u4e2a\u5168\u5c40\u5e8f\u5217\u53f7\uff0c\u5e76\u6253\u5f00\u5199\u64cd\u4f5c\u3002","title":"\u5b9e\u73b0\u65b9\u6cd5"},{"location":"nebula-exchange/use-exchange/ex-ug-import-sst/#_2","text":"\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\uff0c\u5bfc\u5165 Nebula Graph \u7684\u64cd\u4f5c\u4e0e\u5ba2\u6237\u7aef\u5f62\u5f0f\u5bfc\u5165\u64cd\u4f5c\u57fa\u672c\u76f8\u540c\uff0c\u4f46\u662f\u6709\u4ee5\u4e0b\u5dee\u5f02\uff1a \u73af\u5883\u91cc\u5fc5\u987b\u90e8\u7f72 HDFS\u3002 \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5fc5\u987b\u505a\u4ee5\u4e0b\u4fee\u6539\uff1a \u6e90\u6570\u636e\u7684\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u914d\u7f6e\uff1a tags.type.sink \u548c edges.type.sink \u5fc5\u987b\u914d\u7f6e\u4e3a sst \u3002 Nebula Graph \u76f8\u5173\u914d\u7f6e\u91cc\uff0c\u9700\u8981\u6dfb\u52a0 Nebula Graph \u6570\u636e\u5e93 Meta \u670d\u52a1\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\uff0c\u5e76\u6dfb\u52a0 SST \u6587\u4ef6\u5728\u672c\u5730\u548c HDFS \u7684\u5b58\u50a8\u8def\u5f84\u3002 # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { address: { # \u6dfb\u52a0 Nebula Graph \u6570\u636e\u5e93 Graph \u670d\u52a1\u7684 IP \u5730\u5740\u548c\u7aef\u53e3 graph: [\"127.0.0.1:3699\"] # \u6dfb\u52a0 Nebula Graph \u6570\u636e\u5e93 Meta \u670d\u52a1\u7684 IP \u5730\u5740\u548c\u7aef\u53e3 meta:[\"127.0.0.1:45500\"] } user: user pswd: password space: test path:{ # \u6307\u5b9a SST \u6587\u4ef6\u4fdd\u5b58\u5230\u672c\u5730\u7684\u8def\u5f84 local:/Users/example/path # \u6307\u5b9a\u4e0a\u4f20 SST \u6587\u4ef6\u7684 HDFS \u8def\u5f84 remote:/example/ } connection { timeout: 3000 retry: 3 } execution { retry: 3 } error: { max: 32 output: /tmp/errors } rate: { limit: 64M timeout: 1000 } } \u8be6\u7ec6\u63cf\u8ff0\u8bf7\u53c2\u8003\u4e0d\u540c\u6570\u636e\u6e90\u7684\u64cd\u4f5c\u793a\u4f8b\uff1a \u5bfc\u5165 Neo4j \u6570\u636e \u5bfc\u5165 HIVE \u6570\u636e \u5bfc\u5165 CSV \u6587\u4ef6\u6570\u636e \u5bfc\u5165 JSON \u6587\u4ef6\u6570\u636e \u5bfc\u5165 HBase \u6570\u636e[doc_TODO] \u5bfc\u5165 HIVE \u6570\u636e[doc_TODO] \u5bfc\u5165 Kafka \u6570\u636e[doc_TODO] \u5bfc\u5165 MySQL \u6570\u636e[doc_TODO]","title":"\u4f7f\u7528\u793a\u4f8b"},{"location":"nebula-exchange/use-exchange/ex-ug-import-steps/","text":"\u5bfc\u5165\u6570\u636e\u6b65\u9aa4 \u00b6 \u60a8\u53ef\u4ee5\u6309\u672c\u6587\u63cf\u8ff0\u7684\u6b65\u9aa4\u4f7f\u7528 Exchange \u5c06\u6307\u5b9a\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165\u5230 Nebula Graph \u4e2d\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5f00\u59cb\u8fc1\u79fb\u6570\u636e\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u4fdd\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b89\u88c5\u90e8\u7f72\u4e86 Nebula Graph \u5e76\u83b7\u53d6\u67e5\u8be2\u5f15\u64ce\u6240\u5728\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u3001\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 \u5df2\u7ecf\u5b8c\u6210 Exchange \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u7f16\u8bd1 Nebula Exchange \u3002 \u5df2\u7ecf\u5b89\u88c5 Spark\u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\u9700\u8981\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3001\u5c5e\u6027\u7b49\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u5c06\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\uff1a \u5728 Nebula Graph \u4e2d\u6784\u56fe\uff0c\u5305\u62ec\u521b\u5efa\u56fe\u7a7a\u95f4\u3001\u521b\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\uff08Schema\uff09\u3002 \uff08\u53ef\u9009\uff09\u5904\u7406\u6e90\u6570\u636e\u3002\u4f8b\u5982\uff0c\u5728\u5bfc\u5165 Neo4j \u65f6\uff0c\u4e3a\u63d0\u9ad8\u5bfc\u51fa\u901f\u5ea6\uff0c\u5728 Neo4j \u6570\u636e\u5e93\u4e2d\u4e3a\u6307\u5b9a\u7684\u6807\u7b7e\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u3002 \u5206\u522b\u4fee\u6539 Spark\u3001Nebula Graph \u4ee5\u53ca\u70b9\u548c\u8fb9\u6570\u636e\u7684\u914d\u7f6e\u6587\u4ef6\u3002 \u8bf4\u660e \uff1a\u5b8c\u6210 Exchange \u7f16\u8bd1\u540e\uff0c\u8fdb\u5165 nebula-java/tools/exchange \u76ee\u5f55\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 target/classes/server_application.conf \u3001 target/classes/application.conf \u548c target/classes/stream_application.conf \u6587\u4ef6\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002 \uff08\u53ef\u9009\uff09\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e\u3002 \u5411 Nebula Graph \u5bfc\u5165\u6570\u636e\u3002 \u5728 Nebula Graph \u4e2d\u9a8c\u8bc1\u6570\u636e\u662f\u5426\u5df2\u7ecf\u5b8c\u6574\u5bfc\u5165\u3002 \uff08\u53ef\u9009\uff09\u5728 Nebula Graph \u4e2d\u91cd\u6784\u7d22\u5f15\u3002 \u5173\u4e8e\u8be6\u7ec6\u64cd\u4f5c\u6b65\u9aa4\uff0c\u6839\u636e\u6570\u636e\u6765\u6e90\u4e0d\u540c\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003\u76f8\u5e94\u7684\u64cd\u4f5c\u793a\u4f8b\uff1a \u5bfc\u5165 Neo4j \u6570\u636e \u5bfc\u5165 HIVE \u6570\u636e \u5bfc\u5165 CSV \u6587\u4ef6\u6570\u636e \u5bfc\u5165 JSON \u6587\u4ef6\u6570\u636e \u5bfc\u5165 SST \u6587\u4ef6\u6570\u636e","title":"\u5bfc\u5165\u6570\u636e\u6b65\u9aa4"},{"location":"nebula-exchange/use-exchange/ex-ug-import-steps/#_1","text":"\u60a8\u53ef\u4ee5\u6309\u672c\u6587\u63cf\u8ff0\u7684\u6b65\u9aa4\u4f7f\u7528 Exchange \u5c06\u6307\u5b9a\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165\u5230 Nebula Graph \u4e2d\u3002","title":"\u5bfc\u5165\u6570\u636e\u6b65\u9aa4"},{"location":"nebula-exchange/use-exchange/ex-ug-import-steps/#_2","text":"\u5f00\u59cb\u8fc1\u79fb\u6570\u636e\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u4fdd\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b89\u88c5\u90e8\u7f72\u4e86 Nebula Graph \u5e76\u83b7\u53d6\u67e5\u8be2\u5f15\u64ce\u6240\u5728\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u3001\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 \u5df2\u7ecf\u5b8c\u6210 Exchange \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u7f16\u8bd1 Nebula Exchange \u3002 \u5df2\u7ecf\u5b89\u88c5 Spark\u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\u9700\u8981\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3001\u5c5e\u6027\u7b49\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-exchange/use-exchange/ex-ug-import-steps/#_3","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5c06\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\uff1a \u5728 Nebula Graph \u4e2d\u6784\u56fe\uff0c\u5305\u62ec\u521b\u5efa\u56fe\u7a7a\u95f4\u3001\u521b\u5efa\u56fe\u6570\u636e\u6a21\u5f0f\uff08Schema\uff09\u3002 \uff08\u53ef\u9009\uff09\u5904\u7406\u6e90\u6570\u636e\u3002\u4f8b\u5982\uff0c\u5728\u5bfc\u5165 Neo4j \u65f6\uff0c\u4e3a\u63d0\u9ad8\u5bfc\u51fa\u901f\u5ea6\uff0c\u5728 Neo4j \u6570\u636e\u5e93\u4e2d\u4e3a\u6307\u5b9a\u7684\u6807\u7b7e\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u3002 \u5206\u522b\u4fee\u6539 Spark\u3001Nebula Graph \u4ee5\u53ca\u70b9\u548c\u8fb9\u6570\u636e\u7684\u914d\u7f6e\u6587\u4ef6\u3002 \u8bf4\u660e \uff1a\u5b8c\u6210 Exchange \u7f16\u8bd1\u540e\uff0c\u8fdb\u5165 nebula-java/tools/exchange \u76ee\u5f55\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 target/classes/server_application.conf \u3001 target/classes/application.conf \u548c target/classes/stream_application.conf \u6587\u4ef6\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002 \uff08\u53ef\u9009\uff09\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e\u3002 \u5411 Nebula Graph \u5bfc\u5165\u6570\u636e\u3002 \u5728 Nebula Graph \u4e2d\u9a8c\u8bc1\u6570\u636e\u662f\u5426\u5df2\u7ecf\u5b8c\u6574\u5bfc\u5165\u3002 \uff08\u53ef\u9009\uff09\u5728 Nebula Graph \u4e2d\u91cd\u6784\u7d22\u5f15\u3002 \u5173\u4e8e\u8be6\u7ec6\u64cd\u4f5c\u6b65\u9aa4\uff0c\u6839\u636e\u6570\u636e\u6765\u6e90\u4e0d\u540c\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003\u76f8\u5e94\u7684\u64cd\u4f5c\u793a\u4f8b\uff1a \u5bfc\u5165 Neo4j \u6570\u636e \u5bfc\u5165 HIVE \u6570\u636e \u5bfc\u5165 CSV \u6587\u4ef6\u6570\u636e \u5bfc\u5165 JSON \u6587\u4ef6\u6570\u636e \u5bfc\u5165 SST \u6587\u4ef6\u6570\u636e","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-flink/nf-ug-compile/","text":"\u7f16\u8bd1 Nebula Flink Connector \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u7f16\u8bd1 Nebula Flink Connector v1.x\uff1a \u514b\u9686 nebula-java \u6e90\u4ee3\u7801\u3002 git clone -b v1.0 https://github.com/vesoft-inc/nebula-java.git \u5207\u6362\u5230 nebula-java \u76ee\u5f55\uff0c\u5e76\u6253\u5305 Nebula Java 1.x\u3002 cd nebula-java mvn clean install -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u8fdb\u5165 tools/nebula-flink \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1 Nebula Flink Connector v1.x\u3002 cd nebula-java/tools/nebula-flink mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002\u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 nebula-flink-1.x.y.jar \u6587\u4ef6\u3002\u5c06\u8fd9\u4e2a\u6587\u4ef6\u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u7684 com/vesoft/nebula-flink/ \u76ee\u5f55\u4e2d\u3002 \u251c\u2500\u2500 README.md \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 main \u2502 \u2514\u2500\u2500 test \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 generated-sources \u251c\u2500\u2500 generated-test-sources \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 nebula-flink-1.x.y-sources.jar \u251c\u2500\u2500 nebula-flink-1.x.y-test-sources.jar \u251c\u2500\u2500 nebula-flink-1.x.y-tests.jar \u251c\u2500\u2500 nebula-flink-1.x.y.jar \u251c\u2500\u2500 original-nebula-flink-1.x.y.jar \u2514\u2500\u2500 test-classes \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002","title":"\u7f16\u8bd1 Nebula Flink Connector"},{"location":"nebula-flink/nf-ug-compile/#nebula_flink_connector","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u7f16\u8bd1 Nebula Flink Connector v1.x\uff1a \u514b\u9686 nebula-java \u6e90\u4ee3\u7801\u3002 git clone -b v1.0 https://github.com/vesoft-inc/nebula-java.git \u5207\u6362\u5230 nebula-java \u76ee\u5f55\uff0c\u5e76\u6253\u5305 Nebula Java 1.x\u3002 cd nebula-java mvn clean install -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u8fdb\u5165 tools/nebula-flink \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1 Nebula Flink Connector v1.x\u3002 cd nebula-java/tools/nebula-flink mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002\u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 nebula-flink-1.x.y.jar \u6587\u4ef6\u3002\u5c06\u8fd9\u4e2a\u6587\u4ef6\u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u7684 com/vesoft/nebula-flink/ \u76ee\u5f55\u4e2d\u3002 \u251c\u2500\u2500 README.md \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 main \u2502 \u2514\u2500\u2500 test \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 generated-sources \u251c\u2500\u2500 generated-test-sources \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 nebula-flink-1.x.y-sources.jar \u251c\u2500\u2500 nebula-flink-1.x.y-test-sources.jar \u251c\u2500\u2500 nebula-flink-1.x.y-tests.jar \u251c\u2500\u2500 nebula-flink-1.x.y.jar \u251c\u2500\u2500 original-nebula-flink-1.x.y.jar \u2514\u2500\u2500 test-classes \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002","title":"\u7f16\u8bd1 Nebula Flink Connector"},{"location":"nebula-flink/nf-ug-customize-sink/","text":"\u81ea\u5b9a\u4e49 sink (NebulaSink) \u00b6 Nebula Flink Connector \u652f\u6301\u4ee5 DataStream.addSink \u7684\u65b9\u5f0f\u5c06 Flink \u6570\u636e\u6d41\u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 \u8bf4\u660e \uff1aNebula Flink Connector \u4f7f\u7528 Flink 1.11-SNAPSHOT \u5f00\u53d1\uff0c\u8fd9\u4e2a\u7248\u672c\u5df2\u7ecf\u4e0d\u518d\u652f\u6301\u4f7f\u7528 writeUsingOutputFormat \u65b9\u5f0f\u5b9a\u4e49\u8f93\u51fa\u7aef\u7684\u63a5\u53e3\uff0c\u6e90\u7801\u5982\u4e0b\u3002\u6240\u4ee5\uff0c\u5728\u4f7f\u7528\u81ea\u5b9a\u4e49 NebulaSink \u65f6\uff0c\u8bf7\u60a8\u52a1\u5fc5\u4f7f\u7528 DataStream.addSink \u65b9\u5f0f\u3002 /** @deprecated */ @Deprecated @PublicEvolving public DataStreamSink<T> writeUsingOutputFormat(OutputFormat<T> format) { return this.addSink(new OutputFormatSinkFunction(format)); } Nebula Flink Connector \u4e2d\u5b9e\u73b0\u4e86\u81ea\u5b9a\u4e49\u7684 NebulaSinkFunction \uff0c\u5f00\u53d1\u8005\u901a\u8fc7\u8c03\u7528 dataSource.addSink \u65b9\u6cd5\u5e76\u5c06 NebulaSinkFunction \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u5373\u53ef\u5b9e\u73b0\u5c06 Flink \u6570\u636e\u6d41\u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u4e2d\u3002 NebulaSink \u7684\u5b9e\u73b0\u7c7b\u56fe\u5982\u4e0b\u6240\u793a\u3002 \u6700\u91cd\u8981\u7684\u4e24\u4e2a\u7c7b\u662f NebulaSinkFunction NebulaBatchOutputFormat \u3002 NebulaSinkFunction \u00b6 NebulaSinkFunction \u7ee7\u627f\u81ea AbstractRichFunction \u5e76\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a open \uff1a\u8c03\u7528 NebulaBatchOutputFormat \u7684 open \u65b9\u6cd5\u4ee5\u51c6\u5907\u8d44\u6e90\u3002 close \uff1a\u8c03\u7528 NebulaBatchOutputFormat \u7684 close \u65b9\u6cd5\u4ee5\u91ca\u653e\u8d44\u6e90\u3002 invoke \uff1a\u662f NebulaSink \u4e2d\u7684\u6838\u5fc3\u65b9\u6cd5\uff0c\u8c03\u7528 NebulaBatchOutputFormat \u4e2d\u7684 write \u65b9\u6cd5\u5199\u5165\u6570\u636e\u3002 flush \uff1a\u8c03\u7528 NebulaBatchOutputFormat \u7684 flush \u65b9\u6cd5\u63d0\u4ea4\u6570\u636e\u3002 NebulaBatchOutputFormat \u00b6 NebulaBatchOutputFormat \u7ee7\u627f\u81ea AbstractNebulaOutPutFormat \uff0c\u800c\u540e\u8005\u7ee7\u627f\u81ea RichOutputFormat \uff0c\u4e3b\u8981\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a open \uff1a\u51c6\u5907 Nebula Graph \u6570\u636e\u5e93\u7684 Graph \u670d\u52a1\u7684\u8fde\u63a5\uff0c\u5e76\u521d\u59cb\u5316\u6570\u636e\u5199\u5165\u6267\u884c\u5668 nebulaBatchExecutor \u3002 close \uff1a\u63d0\u4ea4\u6700\u540e\u6279\u6b21\u7684\u6570\u636e\uff0c\u7b49\u5f85\u6700\u540e\u63d0\u4ea4\u7684\u56de\u8c03\u7ed3\u679c\u5e76\u5173\u95ed\u670d\u52a1\u8fde\u63a5\u7b49\u8d44\u6e90\u3002 writeRecord \uff1a\u6838\u5fc3\u65b9\u6cd5\uff0c\u5c06\u6570\u636e\u5199\u5165 bufferedRow \u4e2d\uff0c\u5e76\u5728\u8fbe\u5230\u914d\u7f6e\u7684\u6279\u91cf\u5199\u5165\u4e0a\u9650\u65f6\u63d0\u4ea4\u5199\u5165\u3002NebulaSink \u7684\u5199\u5165\u64cd\u4f5c\u662f\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\u9700\u8981\u6267\u884c\u56de\u8c03\u6765\u83b7\u53d6\u6267\u884c\u7ed3\u679c\u3002 flush \uff1a\u5f53 bufferedRow \u5b58\u5728\u6570\u636e\u65f6\uff0c\u5c06\u6570\u636e\u63d0\u4ea4\u5230 Nebula Graph \u4e2d\u3002 \u5728 AbstractNebulaOutputFormat \u4e2d\u8c03\u7528\u4e86 NebulaBatchExecutor \uff0c\u7528\u4e8e\u6570\u636e\u7684\u6279\u91cf\u7ba1\u7406\u548c\u6279\u91cf\u63d0\u4ea4\uff0c\u5e76\u901a\u8fc7\u5b9a\u4e49\u56de\u8c03\u51fd\u6570\u63a5\u6536\u6279\u91cf\u63d0\u4ea4\u7684\u7ed3\u679c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a /** * write one record to buffer */ @Override public final synchronized void writeRecord ( T row ) throws IOException { nebulaBatchExecutor . addToBatch ( row ); if ( numPendingRow . incrementAndGet () >= executionOptions . getBatch ()) { commit (); } } /** * put record into buffer * * @param record represent vertex or edge */ void addToBatch ( T record ) { boolean isVertex = executionOptions . getDataType (). isVertex (); NebulaOutputFormatConverter converter ; if ( isVertex ) { converter = new NebulaRowVertexOutputFormatConverter (( VertexExecutionOptions ) executionOptions ); } else { converter = new NebulaRowEdgeOutputFormatConverter (( EdgeExecutionOptions ) executionOptions ); } String value = converter . createValue ( record , executionOptions . getPolicy ()); if ( value == null ) { return ; } nebulaBufferedRow . putRow ( value ); } /** * commit batch insert statements */ private synchronized void commit () throws IOException { graphClient . switchSpace ( executionOptions . getGraphSpace ()); future = nebulaBatchExecutor . executeBatch ( graphClient ); // clear waiting rows numPendingRow . compareAndSet ( executionOptions . getBatch (), 0 ); } /** * execute the insert statement * * @param client Asynchronous graph client */ ListenableFuture executeBatch ( AsyncGraphClientImpl client ) { String propNames = String . join ( NebulaConstant . COMMA , executionOptions . getFields ()); String values = String . join ( NebulaConstant . COMMA , nebulaBufferedRow . getRows ()); // construct insert statement String exec = String . format ( NebulaConstant . BATCH_INSERT_TEMPLATE , executionOptions . getDataType (), executionOptions . getLabel (), propNames , values ); // execute insert statement ListenableFuture < Optional < Integer >> execResult = client . execute ( exec ); // define callback function Futures . addCallback ( execResult , new FutureCallback < Optional < Integer >> () { @Override public void onSuccess ( Optional < Integer > integerOptional ) { if ( integerOptional . isPresent ()) { if ( integerOptional . get () == ErrorCode . SUCCEEDED ) { LOG . info ( \"batch insert Succeed\" ); } else { LOG . error ( String . format ( \"batch insert Error: %d\" , integerOptional . get ())); } } else { LOG . error ( \"batch insert Error\" ); } } @Override public void onFailure ( Throwable throwable ) { LOG . error ( \"batch insert Error\" ); } }); nebulaBufferedRow . clean (); return execResult ; } \u7531\u4e8e NebulaSink \u7684\u5199\u5165\u662f\u6279\u91cf\u3001\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\u5728\u6700\u540e\u4e1a\u52a1\u7ed3\u675f\u5173\u95ed\uff08 close \uff09\u8d44\u6e90\u4e4b\u524d\u9700\u8981\u5c06\u7f13\u5b58\u4e2d\u7684\u6279\u91cf\u6570\u636e\u63d0\u4ea4\u4e14\u7b49\u5f85\u5199\u5165\u64cd\u4f5c\u7684\u5b8c\u6210\uff0c\u4ee5\u9632\u5728\u5199\u5165\u63d0\u4ea4\u4e4b\u524d\u63d0\u524d\u5173\u95ed Nebula Graph \u7684\u5ba2\u6237\u7aef\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a /** * commit the batch write operator before release connection */ @Override public final synchronized void close () throws IOException { if ( numPendingRow . get () > 0 ){ commit (); } while ( ! future . isDone ()){ try { Thread . sleep ( 100 ); } catch ( InterruptedException e ) { LOG . error ( \"sleep interrupted, \" , e ); } } super . close (); } \u5e94\u7528\u5b9e\u8df5 \u00b6 Flink \u5c06\u5904\u7406\u5b8c\u6210\u7684\u6570\u636e sink \u5230 Nebula Graph \u6570\u636e\u5e93\u65f6\uff0c\u9700\u8981\u5c06 Flink \u6570\u636e\u6d41\u8fdb\u884c map \u8f6c\u6362\u6210 NebulaSink \u53ef\u63a5\u6536\u7684\u6570\u636e\u683c\u5f0f\u3002\u81ea\u5b9a\u4e49 NebulaSink \u7684\u4f7f\u7528\u65b9\u5f0f\u662f\u901a\u8fc7 addSink \u7684\u5f62\u5f0f\uff0c \u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Flink Connector \u7684 NebulaSink \u5411 Nebula Graph \u5199\u5165\u6570\u636e\uff1a \u5c06 Flink \u6570\u636e\u8f6c\u6362\u6210 NebulaSink \u53ef\u4ee5\u63a5\u53d7\u7684\u6570\u636e\u683c\u5f0f\u3002 \u5c06 NebulaSinkFunction \u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9 addSink \u65b9\u6cd5\u6765\u5b9e\u73b0 Flink \u6570\u636e\u6d41\u7684\u5199\u5165\u3002 \u5728\u6784\u9020\u7684 NebulaSinkFunction \u4e2d\u5206\u522b\u5bf9\u5ba2\u6237\u7aef\u53c2\u6570\u548c\u6267\u884c\u53c2\u6570\u4f5c\u4e86\u5982\u4e0b\u914d\u7f6e\uff1a NebulaClientOptions \u9700\u8981\u914d\u7f6e\uff1a Nebula Graph \u56fe\u6570\u636e\u5e93 Graph \u670d\u52a1\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7\u3002\u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u4f7f\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002 Nebula Graph \u56fe\u6570\u636e\u5e93\u7684\u8d26\u53f7\u53ca\u5176\u5bc6\u7801\u3002 VertexExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u5199\u5165\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u5199\u5165\u7684\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u540d\u79f0\u3002 \u9700\u8981\u5199\u5165\u7684\u6807\u7b7e\u5c5e\u6027\u3002 \u9700\u8981\u5199\u5165\u7684\u70b9 VID \u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002 \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u4e3a 2000\u3002 EdgeExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u5199\u5165\u8fb9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u7c7b\u578b\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u7c7b\u578b\u5c5e\u6027\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u8d77\u70b9 VID\uff08src_Id\uff09\u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u7ec8\u70b9 VID\uff08dst_Id\uff09\u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9 rank \u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002\u5982\u679c\u4e0d\u914d\u7f6e\uff0c\u5219\u5199\u5165\u8fb9\u6570\u636e\u65f6\u4e0d\u5e26 rank \u4fe1\u606f\u3002 \u5355\u6b21\u5199\u5165\u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u503c\u4e3a 2000\u3002 \u5047\u8bbe\u9700\u8981\u5199\u5165\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4fe1\u606f\u5982\u4e0b\uff1a Graph \u670d\u52a1\u4e3a\u672c\u5730\u5355\u526f\u672c\u90e8\u7f72\uff0c\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 \u56fe\u7a7a\u95f4\u540d\u79f0\uff1a flinkSink \u6807\u7b7e\uff1a player \u6807\u7b7e\u5c5e\u6027\uff1a name \u548c age \u4ee5\u4e0b\u4e3a\u81ea\u5b9a\u4e49 NebulaSink \u7684\u4ee3\u7801\u793a\u4f8b\u3002 // \u6784\u9020 Nebula Graph \u7684 Graph \u670d\u52a1\u5ba2\u6237\u7aef\u8fde\u63a5\u9700\u8981\u7684\u53c2\u6570 NebulaClientOptions nebulaClientOptions = new NebulaClientOptions .NebulaClientOptionsBuilder() .setAddress(\"127.0.0.1:3699\") .build(); NebulaConnectionProvider graphConnectionProvider = new NebulaGraphConnectionProvider(nebulaClientOptions); // \u6784\u9020 Nebula Graph \u5199\u5165\u70b9\u6570\u636e\u7684\u64cd\u4f5c\u53c2\u6570 List <String> cols = Arrays.asList(\"name\", \"age\") ExecutionOptions sinkExecutionOptions = new VertexExecutionOptions.ExecutionOptionBuilder() .setGraphSpace(\"flinkSink\") .setTag(tag) .setFields(cols) .setIdIndex(0) .setBatch(2) .builder(); // \u5c06\u70b9\u6570\u636e\u5199\u5165 Nebula Graph dataSource.addSink(nebulaSinkFunction); NebulaSink \u793a\u4f8b\u7a0b\u5e8f \u00b6 \u60a8\u53ef\u4ee5\u53c2\u8003 GitHub \u4e0a\u7684\u793a\u4f8b\u7a0b\u5e8f testSourceSink \u7f16\u5199\u60a8\u81ea\u5df1\u7684 Flink \u5e94\u7528\u7a0b\u5e8f\u3002 \u4ee5 testSourceSink \u4e3a\u4f8b\uff1a\u8be5\u7a0b\u5e8f\u4ee5 Nebula Graph \u7684\u56fe\u7a7a\u95f4 flinkSource \u4f5c\u4e3a source\uff0c\u901a\u8fc7 Flink \u8bfb\u53d6\u8fdb\u884c map \u7c7b\u578b\u8f6c\u6362\u540e\u7684\u6570\u636e\uff0c\u518d\u5199\u5165 Nebula Graph \u53e6\u4e00\u4e2a\u56fe\u7a7a\u95f4 flinkSink \uff0c\u5373 Nebula Graph \u4e00\u4e2a\u56fe\u7a7a\u95f4 flinkSource \u7684\u6570\u636e\u6d41\u5165\u53e6\u4e00\u4e2a\u56fe\u7a7a\u95f4 flinkSink \u4e2d\u3002","title":"\u81ea\u5b9a\u4e49 sink (NebulaSink)"},{"location":"nebula-flink/nf-ug-customize-sink/#sink_nebulasink","text":"Nebula Flink Connector \u652f\u6301\u4ee5 DataStream.addSink \u7684\u65b9\u5f0f\u5c06 Flink \u6570\u636e\u6d41\u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 \u8bf4\u660e \uff1aNebula Flink Connector \u4f7f\u7528 Flink 1.11-SNAPSHOT \u5f00\u53d1\uff0c\u8fd9\u4e2a\u7248\u672c\u5df2\u7ecf\u4e0d\u518d\u652f\u6301\u4f7f\u7528 writeUsingOutputFormat \u65b9\u5f0f\u5b9a\u4e49\u8f93\u51fa\u7aef\u7684\u63a5\u53e3\uff0c\u6e90\u7801\u5982\u4e0b\u3002\u6240\u4ee5\uff0c\u5728\u4f7f\u7528\u81ea\u5b9a\u4e49 NebulaSink \u65f6\uff0c\u8bf7\u60a8\u52a1\u5fc5\u4f7f\u7528 DataStream.addSink \u65b9\u5f0f\u3002 /** @deprecated */ @Deprecated @PublicEvolving public DataStreamSink<T> writeUsingOutputFormat(OutputFormat<T> format) { return this.addSink(new OutputFormatSinkFunction(format)); } Nebula Flink Connector \u4e2d\u5b9e\u73b0\u4e86\u81ea\u5b9a\u4e49\u7684 NebulaSinkFunction \uff0c\u5f00\u53d1\u8005\u901a\u8fc7\u8c03\u7528 dataSource.addSink \u65b9\u6cd5\u5e76\u5c06 NebulaSinkFunction \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u5373\u53ef\u5b9e\u73b0\u5c06 Flink \u6570\u636e\u6d41\u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u4e2d\u3002 NebulaSink \u7684\u5b9e\u73b0\u7c7b\u56fe\u5982\u4e0b\u6240\u793a\u3002 \u6700\u91cd\u8981\u7684\u4e24\u4e2a\u7c7b\u662f NebulaSinkFunction NebulaBatchOutputFormat \u3002","title":"\u81ea\u5b9a\u4e49 sink (NebulaSink)"},{"location":"nebula-flink/nf-ug-customize-sink/#nebulasinkfunction","text":"NebulaSinkFunction \u7ee7\u627f\u81ea AbstractRichFunction \u5e76\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a open \uff1a\u8c03\u7528 NebulaBatchOutputFormat \u7684 open \u65b9\u6cd5\u4ee5\u51c6\u5907\u8d44\u6e90\u3002 close \uff1a\u8c03\u7528 NebulaBatchOutputFormat \u7684 close \u65b9\u6cd5\u4ee5\u91ca\u653e\u8d44\u6e90\u3002 invoke \uff1a\u662f NebulaSink \u4e2d\u7684\u6838\u5fc3\u65b9\u6cd5\uff0c\u8c03\u7528 NebulaBatchOutputFormat \u4e2d\u7684 write \u65b9\u6cd5\u5199\u5165\u6570\u636e\u3002 flush \uff1a\u8c03\u7528 NebulaBatchOutputFormat \u7684 flush \u65b9\u6cd5\u63d0\u4ea4\u6570\u636e\u3002","title":"NebulaSinkFunction"},{"location":"nebula-flink/nf-ug-customize-sink/#nebulabatchoutputformat","text":"NebulaBatchOutputFormat \u7ee7\u627f\u81ea AbstractNebulaOutPutFormat \uff0c\u800c\u540e\u8005\u7ee7\u627f\u81ea RichOutputFormat \uff0c\u4e3b\u8981\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a open \uff1a\u51c6\u5907 Nebula Graph \u6570\u636e\u5e93\u7684 Graph \u670d\u52a1\u7684\u8fde\u63a5\uff0c\u5e76\u521d\u59cb\u5316\u6570\u636e\u5199\u5165\u6267\u884c\u5668 nebulaBatchExecutor \u3002 close \uff1a\u63d0\u4ea4\u6700\u540e\u6279\u6b21\u7684\u6570\u636e\uff0c\u7b49\u5f85\u6700\u540e\u63d0\u4ea4\u7684\u56de\u8c03\u7ed3\u679c\u5e76\u5173\u95ed\u670d\u52a1\u8fde\u63a5\u7b49\u8d44\u6e90\u3002 writeRecord \uff1a\u6838\u5fc3\u65b9\u6cd5\uff0c\u5c06\u6570\u636e\u5199\u5165 bufferedRow \u4e2d\uff0c\u5e76\u5728\u8fbe\u5230\u914d\u7f6e\u7684\u6279\u91cf\u5199\u5165\u4e0a\u9650\u65f6\u63d0\u4ea4\u5199\u5165\u3002NebulaSink \u7684\u5199\u5165\u64cd\u4f5c\u662f\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\u9700\u8981\u6267\u884c\u56de\u8c03\u6765\u83b7\u53d6\u6267\u884c\u7ed3\u679c\u3002 flush \uff1a\u5f53 bufferedRow \u5b58\u5728\u6570\u636e\u65f6\uff0c\u5c06\u6570\u636e\u63d0\u4ea4\u5230 Nebula Graph \u4e2d\u3002 \u5728 AbstractNebulaOutputFormat \u4e2d\u8c03\u7528\u4e86 NebulaBatchExecutor \uff0c\u7528\u4e8e\u6570\u636e\u7684\u6279\u91cf\u7ba1\u7406\u548c\u6279\u91cf\u63d0\u4ea4\uff0c\u5e76\u901a\u8fc7\u5b9a\u4e49\u56de\u8c03\u51fd\u6570\u63a5\u6536\u6279\u91cf\u63d0\u4ea4\u7684\u7ed3\u679c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a /** * write one record to buffer */ @Override public final synchronized void writeRecord ( T row ) throws IOException { nebulaBatchExecutor . addToBatch ( row ); if ( numPendingRow . incrementAndGet () >= executionOptions . getBatch ()) { commit (); } } /** * put record into buffer * * @param record represent vertex or edge */ void addToBatch ( T record ) { boolean isVertex = executionOptions . getDataType (). isVertex (); NebulaOutputFormatConverter converter ; if ( isVertex ) { converter = new NebulaRowVertexOutputFormatConverter (( VertexExecutionOptions ) executionOptions ); } else { converter = new NebulaRowEdgeOutputFormatConverter (( EdgeExecutionOptions ) executionOptions ); } String value = converter . createValue ( record , executionOptions . getPolicy ()); if ( value == null ) { return ; } nebulaBufferedRow . putRow ( value ); } /** * commit batch insert statements */ private synchronized void commit () throws IOException { graphClient . switchSpace ( executionOptions . getGraphSpace ()); future = nebulaBatchExecutor . executeBatch ( graphClient ); // clear waiting rows numPendingRow . compareAndSet ( executionOptions . getBatch (), 0 ); } /** * execute the insert statement * * @param client Asynchronous graph client */ ListenableFuture executeBatch ( AsyncGraphClientImpl client ) { String propNames = String . join ( NebulaConstant . COMMA , executionOptions . getFields ()); String values = String . join ( NebulaConstant . COMMA , nebulaBufferedRow . getRows ()); // construct insert statement String exec = String . format ( NebulaConstant . BATCH_INSERT_TEMPLATE , executionOptions . getDataType (), executionOptions . getLabel (), propNames , values ); // execute insert statement ListenableFuture < Optional < Integer >> execResult = client . execute ( exec ); // define callback function Futures . addCallback ( execResult , new FutureCallback < Optional < Integer >> () { @Override public void onSuccess ( Optional < Integer > integerOptional ) { if ( integerOptional . isPresent ()) { if ( integerOptional . get () == ErrorCode . SUCCEEDED ) { LOG . info ( \"batch insert Succeed\" ); } else { LOG . error ( String . format ( \"batch insert Error: %d\" , integerOptional . get ())); } } else { LOG . error ( \"batch insert Error\" ); } } @Override public void onFailure ( Throwable throwable ) { LOG . error ( \"batch insert Error\" ); } }); nebulaBufferedRow . clean (); return execResult ; } \u7531\u4e8e NebulaSink \u7684\u5199\u5165\u662f\u6279\u91cf\u3001\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\u5728\u6700\u540e\u4e1a\u52a1\u7ed3\u675f\u5173\u95ed\uff08 close \uff09\u8d44\u6e90\u4e4b\u524d\u9700\u8981\u5c06\u7f13\u5b58\u4e2d\u7684\u6279\u91cf\u6570\u636e\u63d0\u4ea4\u4e14\u7b49\u5f85\u5199\u5165\u64cd\u4f5c\u7684\u5b8c\u6210\uff0c\u4ee5\u9632\u5728\u5199\u5165\u63d0\u4ea4\u4e4b\u524d\u63d0\u524d\u5173\u95ed Nebula Graph \u7684\u5ba2\u6237\u7aef\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a /** * commit the batch write operator before release connection */ @Override public final synchronized void close () throws IOException { if ( numPendingRow . get () > 0 ){ commit (); } while ( ! future . isDone ()){ try { Thread . sleep ( 100 ); } catch ( InterruptedException e ) { LOG . error ( \"sleep interrupted, \" , e ); } } super . close (); }","title":"NebulaBatchOutputFormat"},{"location":"nebula-flink/nf-ug-customize-sink/#_1","text":"Flink \u5c06\u5904\u7406\u5b8c\u6210\u7684\u6570\u636e sink \u5230 Nebula Graph \u6570\u636e\u5e93\u65f6\uff0c\u9700\u8981\u5c06 Flink \u6570\u636e\u6d41\u8fdb\u884c map \u8f6c\u6362\u6210 NebulaSink \u53ef\u63a5\u6536\u7684\u6570\u636e\u683c\u5f0f\u3002\u81ea\u5b9a\u4e49 NebulaSink \u7684\u4f7f\u7528\u65b9\u5f0f\u662f\u901a\u8fc7 addSink \u7684\u5f62\u5f0f\uff0c \u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Flink Connector \u7684 NebulaSink \u5411 Nebula Graph \u5199\u5165\u6570\u636e\uff1a \u5c06 Flink \u6570\u636e\u8f6c\u6362\u6210 NebulaSink \u53ef\u4ee5\u63a5\u53d7\u7684\u6570\u636e\u683c\u5f0f\u3002 \u5c06 NebulaSinkFunction \u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9 addSink \u65b9\u6cd5\u6765\u5b9e\u73b0 Flink \u6570\u636e\u6d41\u7684\u5199\u5165\u3002 \u5728\u6784\u9020\u7684 NebulaSinkFunction \u4e2d\u5206\u522b\u5bf9\u5ba2\u6237\u7aef\u53c2\u6570\u548c\u6267\u884c\u53c2\u6570\u4f5c\u4e86\u5982\u4e0b\u914d\u7f6e\uff1a NebulaClientOptions \u9700\u8981\u914d\u7f6e\uff1a Nebula Graph \u56fe\u6570\u636e\u5e93 Graph \u670d\u52a1\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7\u3002\u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u4f7f\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002 Nebula Graph \u56fe\u6570\u636e\u5e93\u7684\u8d26\u53f7\u53ca\u5176\u5bc6\u7801\u3002 VertexExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u5199\u5165\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u5199\u5165\u7684\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u540d\u79f0\u3002 \u9700\u8981\u5199\u5165\u7684\u6807\u7b7e\u5c5e\u6027\u3002 \u9700\u8981\u5199\u5165\u7684\u70b9 VID \u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002 \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u4e3a 2000\u3002 EdgeExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u5199\u5165\u8fb9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u7c7b\u578b\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u7c7b\u578b\u5c5e\u6027\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u8d77\u70b9 VID\uff08src_Id\uff09\u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u7ec8\u70b9 VID\uff08dst_Id\uff09\u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9 rank \u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002\u5982\u679c\u4e0d\u914d\u7f6e\uff0c\u5219\u5199\u5165\u8fb9\u6570\u636e\u65f6\u4e0d\u5e26 rank \u4fe1\u606f\u3002 \u5355\u6b21\u5199\u5165\u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u503c\u4e3a 2000\u3002 \u5047\u8bbe\u9700\u8981\u5199\u5165\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4fe1\u606f\u5982\u4e0b\uff1a Graph \u670d\u52a1\u4e3a\u672c\u5730\u5355\u526f\u672c\u90e8\u7f72\uff0c\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 \u56fe\u7a7a\u95f4\u540d\u79f0\uff1a flinkSink \u6807\u7b7e\uff1a player \u6807\u7b7e\u5c5e\u6027\uff1a name \u548c age \u4ee5\u4e0b\u4e3a\u81ea\u5b9a\u4e49 NebulaSink \u7684\u4ee3\u7801\u793a\u4f8b\u3002 // \u6784\u9020 Nebula Graph \u7684 Graph \u670d\u52a1\u5ba2\u6237\u7aef\u8fde\u63a5\u9700\u8981\u7684\u53c2\u6570 NebulaClientOptions nebulaClientOptions = new NebulaClientOptions .NebulaClientOptionsBuilder() .setAddress(\"127.0.0.1:3699\") .build(); NebulaConnectionProvider graphConnectionProvider = new NebulaGraphConnectionProvider(nebulaClientOptions); // \u6784\u9020 Nebula Graph \u5199\u5165\u70b9\u6570\u636e\u7684\u64cd\u4f5c\u53c2\u6570 List <String> cols = Arrays.asList(\"name\", \"age\") ExecutionOptions sinkExecutionOptions = new VertexExecutionOptions.ExecutionOptionBuilder() .setGraphSpace(\"flinkSink\") .setTag(tag) .setFields(cols) .setIdIndex(0) .setBatch(2) .builder(); // \u5c06\u70b9\u6570\u636e\u5199\u5165 Nebula Graph dataSource.addSink(nebulaSinkFunction);","title":"\u5e94\u7528\u5b9e\u8df5"},{"location":"nebula-flink/nf-ug-customize-sink/#nebulasink","text":"\u60a8\u53ef\u4ee5\u53c2\u8003 GitHub \u4e0a\u7684\u793a\u4f8b\u7a0b\u5e8f testSourceSink \u7f16\u5199\u60a8\u81ea\u5df1\u7684 Flink \u5e94\u7528\u7a0b\u5e8f\u3002 \u4ee5 testSourceSink \u4e3a\u4f8b\uff1a\u8be5\u7a0b\u5e8f\u4ee5 Nebula Graph \u7684\u56fe\u7a7a\u95f4 flinkSource \u4f5c\u4e3a source\uff0c\u901a\u8fc7 Flink \u8bfb\u53d6\u8fdb\u884c map \u7c7b\u578b\u8f6c\u6362\u540e\u7684\u6570\u636e\uff0c\u518d\u5199\u5165 Nebula Graph \u53e6\u4e00\u4e2a\u56fe\u7a7a\u95f4 flinkSink \uff0c\u5373 Nebula Graph \u4e00\u4e2a\u56fe\u7a7a\u95f4 flinkSource \u7684\u6570\u636e\u6d41\u5165\u53e6\u4e00\u4e2a\u56fe\u7a7a\u95f4 flinkSink \u4e2d\u3002","title":"NebulaSink \u793a\u4f8b\u7a0b\u5e8f"},{"location":"nebula-flink/nf-ug-customize-source/","text":"\u81ea\u5b9a\u4e49 source (NebulaSource) \u00b6 Nebula Flink Connector \u652f\u6301\u4ee5 addSource \u6216\u8005 createInput \u65b9\u5f0f\u5c06 Nebula Graph \u56fe\u6570\u636e\u5e93\u6ce8\u518c\u4e3a Flink \u7684\u6570\u636e\u6e90\uff08source\uff09\u3002\u5176\u4e2d\uff0c\u901a\u8fc7 addSource \u8bfb\u53d6 source \u6570\u636e\u5f97\u5230\u7684\u662f Flink \u7684 DataStreamSource \uff0c\u8868\u793a DataStream \u7684\u8d77\u70b9\uff0c\u800c\u901a\u8fc7 createInput \u8bfb\u53d6 source \u6570\u636e\u5f97\u5230\u7684\u662f Flink \u7684 DataSource \u3002 DataSource \u4f1a\u4f5c\u4e3a\u8fdb\u4e00\u6b65\u8f6c\u6362\u7684\u6570\u636e\u96c6\u3002 DataSource \u53ef\u4ee5\u901a\u8fc7 withParameters \u5c01\u88c5\u914d\u7f6e\u53c2\u6570\u8fdb\u884c\u5176\u4ed6\u64cd\u4f5c\u3002 NebulaSource \u7684\u5b9e\u73b0\u7c7b\u56fe\u5982\u4e0b\u6240\u793a\u3002 addSource \u00b6 addSource \u65b9\u5f0f\u901a\u8fc7 NebulaSourceFunction \u7c7b\u5b9e\u73b0\uff0c\u8be5\u7c7b\u7ee7\u627f\u81ea RichSourceFunction \u5e76\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a open \uff1a\u51c6\u5907 Nebula Graph \u7684\u8fde\u63a5\u4fe1\u606f\uff0c\u5e76\u83b7\u53d6 Nebula Graph \u56fe\u6570\u636e\u5e93 Meta \u670d\u52a1\u548c Storage \u670d\u52a1\u7684\u8fde\u63a5\u3002 close \uff1a\u5728\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\u540e\u91ca\u653e\u8d44\u6e90\uff0c\u5e76\u65ad\u5f00\u4e0e Nebula Graph \u56fe\u6570\u636e\u5e93\u670d\u52a1\u7684\u8fde\u63a5\u3002 run \uff1a\u5f00\u59cb\u8bfb\u53d6\u6570\u636e\uff0c\u5e76\u5c06\u6570\u636e\u586b\u5145\u5230 sourceContext \u3002 cancel \uff1a\u53d6\u6d88 Flink \u4f5c\u4e1a\u65f6\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4ee5\u5173\u95ed\u8d44\u6e90\u3002 createInput \u00b6 createInput \u65b9\u5f0f\u901a\u8fc7 NebulaInputFormat \u7c7b\u5b9e\u73b0\uff0c\u8be5\u7c7b\u7ee7\u627f\u81ea RichInputFormat \u5e76\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a openInputFormat \uff1a\u51c6\u5907 inputFormat \u4ee5\u83b7\u53d6\u8fde\u63a5\u3002 closeInputFormat \uff1a\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\u540e\u91ca\u653e\u8d44\u6e90\u3002\u65ad\u5f00\u4e0e Nebula Graph \u56fe\u6570\u636e\u5e93\u670d\u52a1\u7684\u8fde\u63a5\u3002 open \uff1a\u5f00\u59cb inputFormat \u7684\u6570\u636e\u8bfb\u53d6\uff0c\u5c06\u8bfb\u53d6\u7684\u6570\u636e\u8f6c\u6362\u4e3a Flink \u7684\u6570\u636e\u683c\u5f0f\uff0c\u6784\u9020\u8fed\u4ee3\u5668\u3002 close \uff1a\u5728\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\u540e\u6253\u5370\u8bfb\u53d6\u65e5\u5fd7\u3002 reachedEnd \uff1a\u5224\u65ad\u662f\u5426\u8bfb\u53d6\u5b8c\u6210\u3002 nextRecord \uff1a\u901a\u8fc7\u8fed\u4ee3\u5668\u83b7\u53d6\u4e0b\u4e00\u6761\u6570\u636e. \u5e94\u7528\u5b9e\u8df5 \u00b6 \u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Flink Connector \u8bfb\u53d6 Nebula Graph \u7684\u56fe\u6570\u636e\uff1a \u6784\u9020 NebulaSourceFunction \u548c NebulaOutputFormat \u3002 \u901a\u8fc7 Flink \u7684 addSource \u6216\u8005 createInput \u65b9\u5f0f\u5c06 Nebula Graph \u6ce8\u518c\u4e3a\u6570\u636e\u6e90\u3002 \u5728\u6784\u9020\u7684 NebulaSourceFunction \u548c NebulaOutputFormat \u4e2d\uff0c\u5bf9\u5ba2\u6237\u7aef\u53c2\u6570\u548c\u6267\u884c\u53c2\u6570\u4f5c\u5982\u4e0b\u914d\u7f6e\uff1a NebulaClientOptions \u9700\u8981\u914d\u7f6e\uff1a Nebula Graph \u56fe\u6570\u636e\u5e93 Meta \u670d\u52a1\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7\u3002\u5982\u679c\u6709\u591a\u4e2a\u670d\u52a1\uff0c\u4f7f\u7528\u9017\u53f7\u5206\u9694\uff0c\u4f8b\u5982 \u201cip1:port1,ip2:port2\" \u3002 Nebula Graph \u56fe\u6570\u636e\u5e93\u7684\u8d26\u53f7\u53ca\u5176\u5bc6\u7801\u3002 VertexExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u8bfb\u53d6\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u8bfb\u53d6\u7684\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u540d\u79f0\u3002\u4e00\u6b21\u53ea\u80fd\u4e00\u4e2a\u6807\u7b7e\u3002 \u8981\u8bfb\u53d6\u7684\u6807\u7b7e\u5c5e\u6027\u3002 \u662f\u5426\u8bfb\u53d6\u6307\u5b9a\u6807\u7b7e\u7684\u6240\u6709\u5c5e\u6027\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u5982\u679c\u914d\u7f6e\u4e3a true \u5219\u6807\u7b7e\u5c5e\u6027\u7684\u914d\u7f6e\u65e0\u6548\u3002 \u5355\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u4e3a 2000 \u4e2a\u70b9\u6570\u636e\u3002 EdgeExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u8bfb\u53d6\u8fb9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u8bfb\u53d6\u7684\u8fb9\u7c7b\u578b\u3002\u4e00\u6b21\u53ea\u80fd\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002 \u9700\u8981\u8bfb\u53d6\u7684\u8fb9\u7c7b\u578b\u5c5e\u6027\u3002 \u662f\u5426\u8bfb\u53d6\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u5c5e\u6027\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u5982\u679c\u914d\u7f6e\u4e3a true \u5219\u8fb9\u7c7b\u578b\u5c5e\u6027\u7684\u914d\u7f6e\u65e0\u6548\u3002 \u5355\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u503c\u4e3a 2000 \u4e2a\u8fb9\u6570\u636e\u3002 \u5047\u8bbe\u9700\u8981\u8bfb\u53d6\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4fe1\u606f\u5982\u4e0b\uff1a Meta \u670d\u52a1\u4e3a\u672c\u5730\u5355\u526f\u672c\u90e8\u7f72\uff0c\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 \u56fe\u7a7a\u95f4\u540d\u79f0\uff1a flinkSource \u6807\u7b7e\uff1a player \u6807\u7b7e\u5c5e\u6027\uff1a name \u548c age \u5355\u6b21\u6700\u591a\u8bfb\u53d6 100 \u4e2a\u70b9\u6570\u636e \u4ee5\u4e0b\u4e3a\u81ea\u5b9a\u4e49 NebulaSource \u7684\u4ee3\u7801\u793a\u4f8b\u3002 // \u6784\u9020 Nebula Graph \u5ba2\u6237\u7aef\u8fde\u63a5\u9700\u8981\u7684\u53c2\u6570 NebulaClientOptions nebulaClientOptions = new NebulaClientOptions .NebulaClientOptionsBuilder() .setAddress(\"127.0.0.1:45500\") .build(); // \u521b\u5efa connectionProvider NebulaConnectionProvider metaConnectionProvider = new NebulaMetaConnectionProvider(nebulaClientOptions); // \u6784\u9020\u8bfb\u53d6 Nebula Graph \u6570\u636e\u9700\u8981\u7684\u53c2\u6570 List <String> cols = Arrays.asList(\"name\", \"age\"); VertexExecutionOptions sourceExecutionOptions = new VertexExecutionOptions.ExecutionOptionBuilder() .setGraphSpace(\"flinkSource\") .setTag(tag) .setFields(cols) .setLimit(100) .builder(); // \u6784\u9020 NebulaInputFormat NebulaInputFormat inputFormat = new NebulaInputFormat(metaConnectionProvider) .setExecutionOptions(sourceExecutionOptions); // \u65b9\u5f0f 1 \u4f7f\u7528 createInput \u65b9\u5f0f\u5c06 Nebula Graph \u6ce8\u518c\u4e3a\u6570\u636e\u6e90 DataSource <Row> dataSource1 = ExecutionEnvironment.getExecutionEnvironment() .createInput(inputFormat); // \u65b9\u5f0f 2 \u4f7f\u7528 addSource \u65b9\u5f0f\u5c06 Nebula Graph \u6ce8\u518c\u4e3a\u6570\u636e\u6e90 NebulaSourceFunction sourceFunction = new NebulaSourceFunction(metaConnectionProvider) .setExecutionOptions(sourceExecutionOptions); DataStreamSource <Row> dataSource2 = StreamExecutionEnvironment.getExecutionEnvironment() .addSource(sourceFunction); \u793a\u4f8b\u7a0b\u5e8f \u00b6 \u60a8\u53ef\u4ee5\u53c2\u8003 GitHub \u4e0a\u7684\u793a\u4f8b\u7a0b\u5e8f testNebulaSource \u7f16\u5199\u60a8\u81ea\u5df1\u7684 Flink \u5e94\u7528\u7a0b\u5e8f\u3002 \u4ee5 testNebulaSource \u4e3a\u4f8b\uff1a\u8be5\u7a0b\u5e8f\u4ee5 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e3a source\uff0c\u4ee5 Print \u4e3a sink\uff0c\u4ece Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6 59,671,064 \u6761\u70b9\u6570\u636e\u540e\u518d\u6253\u5370\u3002\u5c06\u8be5\u7a0b\u5e8f\u6253\u5305\u63d0\u4ea4\u5230 Flink \u96c6\u7fa4\u6267\u884c\uff0c\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u7531\u4e0a\u56fe\u53ef\u77e5\uff0csource \u53d1\u9001\u6570\u636e 59,671,064 \u6761\uff0csink \u63a5\u6536\u6570\u636e 59,671,064 \u6761\u3002","title":"\u81ea\u5b9a\u4e49 source (NebulaSource)"},{"location":"nebula-flink/nf-ug-customize-source/#source_nebulasource","text":"Nebula Flink Connector \u652f\u6301\u4ee5 addSource \u6216\u8005 createInput \u65b9\u5f0f\u5c06 Nebula Graph \u56fe\u6570\u636e\u5e93\u6ce8\u518c\u4e3a Flink \u7684\u6570\u636e\u6e90\uff08source\uff09\u3002\u5176\u4e2d\uff0c\u901a\u8fc7 addSource \u8bfb\u53d6 source \u6570\u636e\u5f97\u5230\u7684\u662f Flink \u7684 DataStreamSource \uff0c\u8868\u793a DataStream \u7684\u8d77\u70b9\uff0c\u800c\u901a\u8fc7 createInput \u8bfb\u53d6 source \u6570\u636e\u5f97\u5230\u7684\u662f Flink \u7684 DataSource \u3002 DataSource \u4f1a\u4f5c\u4e3a\u8fdb\u4e00\u6b65\u8f6c\u6362\u7684\u6570\u636e\u96c6\u3002 DataSource \u53ef\u4ee5\u901a\u8fc7 withParameters \u5c01\u88c5\u914d\u7f6e\u53c2\u6570\u8fdb\u884c\u5176\u4ed6\u64cd\u4f5c\u3002 NebulaSource \u7684\u5b9e\u73b0\u7c7b\u56fe\u5982\u4e0b\u6240\u793a\u3002","title":"\u81ea\u5b9a\u4e49 source (NebulaSource)"},{"location":"nebula-flink/nf-ug-customize-source/#addsource","text":"addSource \u65b9\u5f0f\u901a\u8fc7 NebulaSourceFunction \u7c7b\u5b9e\u73b0\uff0c\u8be5\u7c7b\u7ee7\u627f\u81ea RichSourceFunction \u5e76\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a open \uff1a\u51c6\u5907 Nebula Graph \u7684\u8fde\u63a5\u4fe1\u606f\uff0c\u5e76\u83b7\u53d6 Nebula Graph \u56fe\u6570\u636e\u5e93 Meta \u670d\u52a1\u548c Storage \u670d\u52a1\u7684\u8fde\u63a5\u3002 close \uff1a\u5728\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\u540e\u91ca\u653e\u8d44\u6e90\uff0c\u5e76\u65ad\u5f00\u4e0e Nebula Graph \u56fe\u6570\u636e\u5e93\u670d\u52a1\u7684\u8fde\u63a5\u3002 run \uff1a\u5f00\u59cb\u8bfb\u53d6\u6570\u636e\uff0c\u5e76\u5c06\u6570\u636e\u586b\u5145\u5230 sourceContext \u3002 cancel \uff1a\u53d6\u6d88 Flink \u4f5c\u4e1a\u65f6\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4ee5\u5173\u95ed\u8d44\u6e90\u3002","title":"addSource"},{"location":"nebula-flink/nf-ug-customize-source/#createinput","text":"createInput \u65b9\u5f0f\u901a\u8fc7 NebulaInputFormat \u7c7b\u5b9e\u73b0\uff0c\u8be5\u7c7b\u7ee7\u627f\u81ea RichInputFormat \u5e76\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a openInputFormat \uff1a\u51c6\u5907 inputFormat \u4ee5\u83b7\u53d6\u8fde\u63a5\u3002 closeInputFormat \uff1a\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\u540e\u91ca\u653e\u8d44\u6e90\u3002\u65ad\u5f00\u4e0e Nebula Graph \u56fe\u6570\u636e\u5e93\u670d\u52a1\u7684\u8fde\u63a5\u3002 open \uff1a\u5f00\u59cb inputFormat \u7684\u6570\u636e\u8bfb\u53d6\uff0c\u5c06\u8bfb\u53d6\u7684\u6570\u636e\u8f6c\u6362\u4e3a Flink \u7684\u6570\u636e\u683c\u5f0f\uff0c\u6784\u9020\u8fed\u4ee3\u5668\u3002 close \uff1a\u5728\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\u540e\u6253\u5370\u8bfb\u53d6\u65e5\u5fd7\u3002 reachedEnd \uff1a\u5224\u65ad\u662f\u5426\u8bfb\u53d6\u5b8c\u6210\u3002 nextRecord \uff1a\u901a\u8fc7\u8fed\u4ee3\u5668\u83b7\u53d6\u4e0b\u4e00\u6761\u6570\u636e.","title":"createInput"},{"location":"nebula-flink/nf-ug-customize-source/#_1","text":"\u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Flink Connector \u8bfb\u53d6 Nebula Graph \u7684\u56fe\u6570\u636e\uff1a \u6784\u9020 NebulaSourceFunction \u548c NebulaOutputFormat \u3002 \u901a\u8fc7 Flink \u7684 addSource \u6216\u8005 createInput \u65b9\u5f0f\u5c06 Nebula Graph \u6ce8\u518c\u4e3a\u6570\u636e\u6e90\u3002 \u5728\u6784\u9020\u7684 NebulaSourceFunction \u548c NebulaOutputFormat \u4e2d\uff0c\u5bf9\u5ba2\u6237\u7aef\u53c2\u6570\u548c\u6267\u884c\u53c2\u6570\u4f5c\u5982\u4e0b\u914d\u7f6e\uff1a NebulaClientOptions \u9700\u8981\u914d\u7f6e\uff1a Nebula Graph \u56fe\u6570\u636e\u5e93 Meta \u670d\u52a1\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7\u3002\u5982\u679c\u6709\u591a\u4e2a\u670d\u52a1\uff0c\u4f7f\u7528\u9017\u53f7\u5206\u9694\uff0c\u4f8b\u5982 \u201cip1:port1,ip2:port2\" \u3002 Nebula Graph \u56fe\u6570\u636e\u5e93\u7684\u8d26\u53f7\u53ca\u5176\u5bc6\u7801\u3002 VertexExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u8bfb\u53d6\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u8bfb\u53d6\u7684\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u540d\u79f0\u3002\u4e00\u6b21\u53ea\u80fd\u4e00\u4e2a\u6807\u7b7e\u3002 \u8981\u8bfb\u53d6\u7684\u6807\u7b7e\u5c5e\u6027\u3002 \u662f\u5426\u8bfb\u53d6\u6307\u5b9a\u6807\u7b7e\u7684\u6240\u6709\u5c5e\u6027\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u5982\u679c\u914d\u7f6e\u4e3a true \u5219\u6807\u7b7e\u5c5e\u6027\u7684\u914d\u7f6e\u65e0\u6548\u3002 \u5355\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u4e3a 2000 \u4e2a\u70b9\u6570\u636e\u3002 EdgeExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u8bfb\u53d6\u8fb9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u8bfb\u53d6\u7684\u8fb9\u7c7b\u578b\u3002\u4e00\u6b21\u53ea\u80fd\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002 \u9700\u8981\u8bfb\u53d6\u7684\u8fb9\u7c7b\u578b\u5c5e\u6027\u3002 \u662f\u5426\u8bfb\u53d6\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u5c5e\u6027\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u5982\u679c\u914d\u7f6e\u4e3a true \u5219\u8fb9\u7c7b\u578b\u5c5e\u6027\u7684\u914d\u7f6e\u65e0\u6548\u3002 \u5355\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u503c\u4e3a 2000 \u4e2a\u8fb9\u6570\u636e\u3002 \u5047\u8bbe\u9700\u8981\u8bfb\u53d6\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4fe1\u606f\u5982\u4e0b\uff1a Meta \u670d\u52a1\u4e3a\u672c\u5730\u5355\u526f\u672c\u90e8\u7f72\uff0c\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 \u56fe\u7a7a\u95f4\u540d\u79f0\uff1a flinkSource \u6807\u7b7e\uff1a player \u6807\u7b7e\u5c5e\u6027\uff1a name \u548c age \u5355\u6b21\u6700\u591a\u8bfb\u53d6 100 \u4e2a\u70b9\u6570\u636e \u4ee5\u4e0b\u4e3a\u81ea\u5b9a\u4e49 NebulaSource \u7684\u4ee3\u7801\u793a\u4f8b\u3002 // \u6784\u9020 Nebula Graph \u5ba2\u6237\u7aef\u8fde\u63a5\u9700\u8981\u7684\u53c2\u6570 NebulaClientOptions nebulaClientOptions = new NebulaClientOptions .NebulaClientOptionsBuilder() .setAddress(\"127.0.0.1:45500\") .build(); // \u521b\u5efa connectionProvider NebulaConnectionProvider metaConnectionProvider = new NebulaMetaConnectionProvider(nebulaClientOptions); // \u6784\u9020\u8bfb\u53d6 Nebula Graph \u6570\u636e\u9700\u8981\u7684\u53c2\u6570 List <String> cols = Arrays.asList(\"name\", \"age\"); VertexExecutionOptions sourceExecutionOptions = new VertexExecutionOptions.ExecutionOptionBuilder() .setGraphSpace(\"flinkSource\") .setTag(tag) .setFields(cols) .setLimit(100) .builder(); // \u6784\u9020 NebulaInputFormat NebulaInputFormat inputFormat = new NebulaInputFormat(metaConnectionProvider) .setExecutionOptions(sourceExecutionOptions); // \u65b9\u5f0f 1 \u4f7f\u7528 createInput \u65b9\u5f0f\u5c06 Nebula Graph \u6ce8\u518c\u4e3a\u6570\u636e\u6e90 DataSource <Row> dataSource1 = ExecutionEnvironment.getExecutionEnvironment() .createInput(inputFormat); // \u65b9\u5f0f 2 \u4f7f\u7528 addSource \u65b9\u5f0f\u5c06 Nebula Graph \u6ce8\u518c\u4e3a\u6570\u636e\u6e90 NebulaSourceFunction sourceFunction = new NebulaSourceFunction(metaConnectionProvider) .setExecutionOptions(sourceExecutionOptions); DataStreamSource <Row> dataSource2 = StreamExecutionEnvironment.getExecutionEnvironment() .addSource(sourceFunction);","title":"\u5e94\u7528\u5b9e\u8df5"},{"location":"nebula-flink/nf-ug-customize-source/#_2","text":"\u60a8\u53ef\u4ee5\u53c2\u8003 GitHub \u4e0a\u7684\u793a\u4f8b\u7a0b\u5e8f testNebulaSource \u7f16\u5199\u60a8\u81ea\u5df1\u7684 Flink \u5e94\u7528\u7a0b\u5e8f\u3002 \u4ee5 testNebulaSource \u4e3a\u4f8b\uff1a\u8be5\u7a0b\u5e8f\u4ee5 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e3a source\uff0c\u4ee5 Print \u4e3a sink\uff0c\u4ece Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6 59,671,064 \u6761\u70b9\u6570\u636e\u540e\u518d\u6253\u5370\u3002\u5c06\u8be5\u7a0b\u5e8f\u6253\u5305\u63d0\u4ea4\u5230 Flink \u96c6\u7fa4\u6267\u884c\uff0c\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u7531\u4e0a\u56fe\u53ef\u77e5\uff0csource \u53d1\u9001\u6570\u636e 59,671,064 \u6761\uff0csink \u63a5\u6536\u6570\u636e 59,671,064 \u6761\u3002","title":"\u793a\u4f8b\u7a0b\u5e8f"},{"location":"nebula-flink/nf-ug-limitations/","text":"\u4f7f\u7528\u9650\u5236 \u00b6 \u672c\u6587\u63cf\u8ff0 Nebula Flink Connector \u7684\u4e00\u4e9b\u4f7f\u7528\u9650\u5236\u3002 Nebula Graph \u7248\u672c \u00b6 Nebula Flink Connector \u5bf9\u4e8e Nebula Graph v1.x \u53ca Nebula Graph v2.x \u4e3a\u4e0d\u540c\u7248\u672c\u3002 \u8f6f\u4ef6\u4f9d\u8d56 \u00b6 \u4e3a\u4fdd\u8bc1 Nebula Flink Connector \u6b63\u5e38\u5de5\u4f5c\uff0c\u786e\u8ba4\u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Flink\u00ae\uff1a1.11 \u53ca\u4ee5\u540e\u7248\u672c JDK 8","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-flink/nf-ug-limitations/#_1","text":"\u672c\u6587\u63cf\u8ff0 Nebula Flink Connector \u7684\u4e00\u4e9b\u4f7f\u7528\u9650\u5236\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-flink/nf-ug-limitations/#nebula_graph","text":"Nebula Flink Connector \u5bf9\u4e8e Nebula Graph v1.x \u53ca Nebula Graph v2.x \u4e3a\u4e0d\u540c\u7248\u672c\u3002","title":"Nebula Graph \u7248\u672c"},{"location":"nebula-flink/nf-ug-limitations/#_2","text":"\u4e3a\u4fdd\u8bc1 Nebula Flink Connector \u6b63\u5e38\u5de5\u4f5c\uff0c\u786e\u8ba4\u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Flink\u00ae\uff1a1.11 \u53ca\u4ee5\u540e\u7248\u672c JDK 8","title":"\u8f6f\u4ef6\u4f9d\u8d56"},{"location":"nebula-flink/nf-ug-notes/","text":"\u7279\u6b8a\u8bf4\u660e \u00b6 Catalog \u00b6 Flink 1.11.0 \u4e4b\u524d\uff0c\u5982\u679c\u4f9d\u8d56 Flink \u7684 source/sink \u8bfb\u5199\u5916\u90e8\u6570\u636e\u6e90\u65f6\uff0c\u7528\u6237\u5fc5\u987b\u624b\u52a8\u8bfb\u53d6\u5bf9\u5e94\u6570\u636e\u7cfb\u7edf\u7684 Schema\uff08\u6a21\u5f0f\uff09\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u8981\u8bfb\u5199 Nebula Graph \u7684\u6570\u636e\uff0c\u5219\u5fc5\u987b\u5148\u4fdd\u8bc1\u660e\u786e\u5730\u77e5\u6653 Nebula Graph \u4e2d\u7684 Schema \u4fe1\u606f\u3002\u7531\u6b64\u5e26\u6765\u7684\u95ee\u9898\u662f\uff1a\u5f53 Nebula Graph \u4e2d\u7684 Schema \u53d1\u751f\u53d8\u5316\u65f6\uff0c\u7528\u6237\u9700\u8981\u624b\u52a8\u66f4\u65b0\u5bf9\u5e94\u7684 Flink \u4efb\u52a1\u4ee5\u4fdd\u6301\u7c7b\u578b\u5339\u914d\uff0c\u5426\u5219\uff0c\u4efb\u4f55\u4e0d\u5339\u914d\u90fd\u4f1a\u9020\u6210\u8fd0\u884c\u65f6\u62a5\u9519\u4f7f\u4f5c\u4e1a\u5931\u8d25\uff0c\u6574\u4e2a\u64cd\u4f5c\u5197\u4f59\u4e14\u7e41\u7410\uff0c\u4f53\u9a8c\u6781\u5dee\u3002 Flink 1.11.0 \u7248\u672c\u540e\uff0c\u7528\u6237\u4f7f\u7528 Flink SQL \u65f6\u53ef\u4ee5\u81ea\u52a8\u83b7\u53d6\u8868\u7684 Schema \u800c\u4e0d\u518d\u9700\u8981\u8f93\u5165 DDL\uff0c\u5373 Flink \u5728\u4e0d\u4e86\u89e3\u5916\u90e8\u7cfb\u7edf\u6570\u636e\u7684 Schema \u65f6\u4ecd\u80fd\u5b8c\u6210\u6570\u636e\u5339\u914d\u3002 \u76ee\u524d Nebula Flink Connector \u5df2\u7ecf\u652f\u6301\u6570\u636e\u7684\u8bfb\u5199\uff0c\u8981\u5b9e\u73b0 Schema \u7684\u5339\u914d\u5219\u9700\u8981\u4e3a Flink Connector \u5b9e\u73b0 Catalog \u7ba1\u7406\u3002\u4f46\u662f\uff0c\u4e3a\u4e86\u786e\u4fdd Nebula Graph \u4e2d\u7684\u6570\u636e\u5b89\u5168\uff0cNebula Flink Connector \u4ec5\u652f\u6301 Catalog \u7684\u8bfb\u64cd\u4f5c\uff0c\u4e0d\u5141\u8bb8\u8fdb\u884c Catalog \u7684\u4fee\u6539\u548c\u5199\u5165\u3002 \u8bbf\u95ee Nebula Graph \u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u65f6\uff0c\u5b8c\u6574\u8def\u5f84\u683c\u5f0f\u5982\u4e0b\uff1a <graphSpace>.<VERTEX.tag> \u6216\u8005 <graphSpace>.<EDGE.edge> \u3002 \u5177\u4f53\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a // \u5176\u4e2d address \u53ef\u4ee5\u914d\u7f6e\u4e3a\u591a\u4e2a IP \u5730\u5740\uff0c\u683c\u5f0f\u4e3a \"ip1:port,ip2:port\" String catalogName = \"testCatalog\" ; String defaultSpace = \"flinkSink\" ; String username = \"root\" ; String password = \"nebula\" ; String address = \"127.0.0.1:45500\" ; String table = \"VERTEX.player\" // define Nebula catalog Catalog catalog = NebulaCatalogUtils . createNebulaCatalog ( catalogName , defaultSpace , address , username , password ); // define Flink table environment StreamExecutionEnvironment bsEnv = StreamExecutionEnvironment . getExecutionEnvironment (); tEnv = StreamTableEnvironment . create ( bsEnv ); // register customed nebula catalog tEnv . registerCatalog ( catalogName , catalog ); // use customed nebula catalog tEnv . useCatalog ( catalogName ); // show graph spaces of nebula String [] spaces = tEnv . listDatabases (); // // show tags and edges of Nebula Graph tEnv . useDatabase ( defaultSpace ); String [] tables = tEnv . listTables (); // check tage player exist in defaultSpace ObjectPath path = new ObjectPath ( defaultSpace , table ); assert catalog . tableExists ( path ) == true // get nebula tag schema CatalogBaseTable table = catalog . getTable ( new ObjectPath ( defaultSpace , table )); table . getSchema (); \u5173\u4e8e Catalog \u63a5\u53e3\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Flink-table \u4ee3\u7801 \u3002 Exactly-once \u00b6 Flink Connector \u7684 Exactly-once \u662f\u6307 Flink \u501f\u52a9 checkpoint \u673a\u5236\u4fdd\u8bc1\u6bcf\u4e2a\u8f93\u5165\u4e8b\u4ef6\u53ea\u5bf9\u6700\u7ec8\u7ed3\u679c\u5f71\u54cd\u4e00\u6b21\uff0c\u5728\u6570\u636e\u5904\u7406\u8fc7\u7a0b\u4e2d\u5373\u4f7f\u51fa\u73b0\u6545\u969c\uff0c\u4e5f\u4e0d\u4f1a\u51fa\u73b0\u6570\u636e\u91cd\u590d\u548c\u4e22\u5931\u7684\u60c5\u51b5\u3002 \u4e3a\u4e86\u63d0\u4f9b\u7aef\u5230\u7aef\u7684 Exactly-once \u8bed\u4e49\uff0cFlink \u7684\u5916\u90e8\u6570\u636e\u7cfb\u7edf\u4e5f\u5fc5\u987b\u63d0\u4f9b\u63d0\u4ea4\u6216\u56de\u6eda\u7684\u65b9\u6cd5\uff0c\u7136\u540e\u901a\u8fc7 Flink \u7684 checkpoint \u673a\u5236\u534f\u8c03\u3002Flink \u63d0\u4f9b\u4e86\u5b9e\u73b0\u7aef\u5230\u7aef\u7684 Exactly-once \u7684\u62bd\u8c61\uff0c\u5373\u5b9e\u73b0\u4e8c\u9636\u6bb5\u63d0\u4ea4\u7684\u62bd\u8c61\u7c7b TwoPhaseCommitSinkFunction \u3002 \u8981\u4e3a\u6570\u636e\u8f93\u51fa\u7aef\u5b9e\u73b0 Exactly-once\uff0c\u9700\u8981\u5b9e\u73b0\u56db\u4e2a\u51fd\u6570\uff1a beginTransaction \uff1a\u5728\u4e8b\u52a1\u5f00\u59cb\u524d\uff0c\u5728\u76ee\u6807\u6587\u4ef6\u7cfb\u7edf\u7684\u4e34\u65f6\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u6587\u4ef6\uff0c\u968f\u540e\u53ef\u4ee5\u5728\u6570\u636e\u5904\u7406\u65f6\u5c06\u6570\u636e\u5199\u5165\u6b64\u6587\u4ef6\u3002 preCommit \uff1a\u9884\u63d0\u4ea4\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5237\u65b0\u6587\u4ef6\u5230\u5b58\u50a8\uff0c\u5173\u95ed\u6587\u4ef6\u4e0d\u518d\u5199\u5165\u3002\u4e3a\u4e0b\u4e00\u4e2a checkpoint \u7684\u4efb\u4f55\u540e\u7eed\u6587\u4ef6\u5199\u5165\u542f\u52a8\u4e00\u4e2a\u65b0\u4e8b\u52a1\u3002 commit \uff1a\u63d0\u4ea4\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5c06\u9884\u63d0\u4ea4\u9636\u6bb5\u7684\u6587\u4ef6\u539f\u5b50\u5730\u79fb\u52a8\u5230\u771f\u6b63\u7684\u76ee\u6807\u76ee\u5f55\u3002\u4e8c\u9636\u6bb5\u63d0\u4ea4\u8fc7\u7a0b\u4f1a\u589e\u52a0\u8f93\u51fa\u6570\u636e\u53ef\u89c1\u6027\u7684\u5ef6\u8fdf\u3002 abort \uff1a\u7ec8\u6b62\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5220\u9664\u4e34\u65f6\u6587\u4ef6\u3002 \u7531\u4ee5\u4e0a\u51fd\u6570\u53ef\u770b\u51fa\uff0cFlink \u7684\u4e8c\u9636\u6bb5\u63d0\u4ea4\u5bf9\u5916\u90e8\u6570\u636e\u6e90\u6709\u8981\u6c42\uff0c\u5373 source \u6570\u636e\u6e90\u5fc5\u987b\u5177\u5907\u91cd\u53d1\u529f\u80fd\uff0csink \u6570\u636e\u6c60\u5fc5\u987b\u652f\u6301\u4e8b\u52a1\u63d0\u4ea4\u548c\u5e42\u7b49\u5199\u3002 Nebula Graph v1.2.1 \u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u4f46\u5176\u5199\u5165\u64cd\u4f5c\u662f\u5e42\u7b49\u7684\uff0c\u5373\u540c\u4e00\u6761\u6570\u636e\u7684\u591a\u6b21\u5199\u5165\u7ed3\u679c\u662f\u4e00\u81f4\u7684\u3002\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7 checkpoint \u673a\u5236\u5b9e\u73b0 Nebula Flink Connector \u7684 At-least-Once \u673a\u5236\uff0c\u6839\u636e\u591a\u6b21\u5199\u5165\u7684\u5e42\u7b49\u6027\u53ef\u4ee5\u95f4\u63a5\u5b9e\u73b0 sink \u7684 Exactly-once\u3002 \u8981\u4f7f\u7528 NebulaSink \u7684\u5bb9\u9519\u6027\uff0c\u8bf7\u786e\u4fdd\u5728 Flink \u7684\u6267\u884c\u73af\u5883\u4e2d\u5f00\u542f\u4e86 checkpoint \u914d\u7f6e\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002 StreamExecutionEnvironment env = StreamExecutionEnvironment . getExecutionEnvironment (); env . enableCheckpointing ( 10000 ) // checkpoint every 10000 msecs . getCheckpointConfig () . setCheckpointingMode ( CheckpointingMode . AT_LEAST_ONCE );","title":"\u7279\u6b8a\u8bf4\u660e"},{"location":"nebula-flink/nf-ug-notes/#_1","text":"","title":"\u7279\u6b8a\u8bf4\u660e"},{"location":"nebula-flink/nf-ug-notes/#catalog","text":"Flink 1.11.0 \u4e4b\u524d\uff0c\u5982\u679c\u4f9d\u8d56 Flink \u7684 source/sink \u8bfb\u5199\u5916\u90e8\u6570\u636e\u6e90\u65f6\uff0c\u7528\u6237\u5fc5\u987b\u624b\u52a8\u8bfb\u53d6\u5bf9\u5e94\u6570\u636e\u7cfb\u7edf\u7684 Schema\uff08\u6a21\u5f0f\uff09\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u8981\u8bfb\u5199 Nebula Graph \u7684\u6570\u636e\uff0c\u5219\u5fc5\u987b\u5148\u4fdd\u8bc1\u660e\u786e\u5730\u77e5\u6653 Nebula Graph \u4e2d\u7684 Schema \u4fe1\u606f\u3002\u7531\u6b64\u5e26\u6765\u7684\u95ee\u9898\u662f\uff1a\u5f53 Nebula Graph \u4e2d\u7684 Schema \u53d1\u751f\u53d8\u5316\u65f6\uff0c\u7528\u6237\u9700\u8981\u624b\u52a8\u66f4\u65b0\u5bf9\u5e94\u7684 Flink \u4efb\u52a1\u4ee5\u4fdd\u6301\u7c7b\u578b\u5339\u914d\uff0c\u5426\u5219\uff0c\u4efb\u4f55\u4e0d\u5339\u914d\u90fd\u4f1a\u9020\u6210\u8fd0\u884c\u65f6\u62a5\u9519\u4f7f\u4f5c\u4e1a\u5931\u8d25\uff0c\u6574\u4e2a\u64cd\u4f5c\u5197\u4f59\u4e14\u7e41\u7410\uff0c\u4f53\u9a8c\u6781\u5dee\u3002 Flink 1.11.0 \u7248\u672c\u540e\uff0c\u7528\u6237\u4f7f\u7528 Flink SQL \u65f6\u53ef\u4ee5\u81ea\u52a8\u83b7\u53d6\u8868\u7684 Schema \u800c\u4e0d\u518d\u9700\u8981\u8f93\u5165 DDL\uff0c\u5373 Flink \u5728\u4e0d\u4e86\u89e3\u5916\u90e8\u7cfb\u7edf\u6570\u636e\u7684 Schema \u65f6\u4ecd\u80fd\u5b8c\u6210\u6570\u636e\u5339\u914d\u3002 \u76ee\u524d Nebula Flink Connector \u5df2\u7ecf\u652f\u6301\u6570\u636e\u7684\u8bfb\u5199\uff0c\u8981\u5b9e\u73b0 Schema \u7684\u5339\u914d\u5219\u9700\u8981\u4e3a Flink Connector \u5b9e\u73b0 Catalog \u7ba1\u7406\u3002\u4f46\u662f\uff0c\u4e3a\u4e86\u786e\u4fdd Nebula Graph \u4e2d\u7684\u6570\u636e\u5b89\u5168\uff0cNebula Flink Connector \u4ec5\u652f\u6301 Catalog \u7684\u8bfb\u64cd\u4f5c\uff0c\u4e0d\u5141\u8bb8\u8fdb\u884c Catalog \u7684\u4fee\u6539\u548c\u5199\u5165\u3002 \u8bbf\u95ee Nebula Graph \u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u65f6\uff0c\u5b8c\u6574\u8def\u5f84\u683c\u5f0f\u5982\u4e0b\uff1a <graphSpace>.<VERTEX.tag> \u6216\u8005 <graphSpace>.<EDGE.edge> \u3002 \u5177\u4f53\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a // \u5176\u4e2d address \u53ef\u4ee5\u914d\u7f6e\u4e3a\u591a\u4e2a IP \u5730\u5740\uff0c\u683c\u5f0f\u4e3a \"ip1:port,ip2:port\" String catalogName = \"testCatalog\" ; String defaultSpace = \"flinkSink\" ; String username = \"root\" ; String password = \"nebula\" ; String address = \"127.0.0.1:45500\" ; String table = \"VERTEX.player\" // define Nebula catalog Catalog catalog = NebulaCatalogUtils . createNebulaCatalog ( catalogName , defaultSpace , address , username , password ); // define Flink table environment StreamExecutionEnvironment bsEnv = StreamExecutionEnvironment . getExecutionEnvironment (); tEnv = StreamTableEnvironment . create ( bsEnv ); // register customed nebula catalog tEnv . registerCatalog ( catalogName , catalog ); // use customed nebula catalog tEnv . useCatalog ( catalogName ); // show graph spaces of nebula String [] spaces = tEnv . listDatabases (); // // show tags and edges of Nebula Graph tEnv . useDatabase ( defaultSpace ); String [] tables = tEnv . listTables (); // check tage player exist in defaultSpace ObjectPath path = new ObjectPath ( defaultSpace , table ); assert catalog . tableExists ( path ) == true // get nebula tag schema CatalogBaseTable table = catalog . getTable ( new ObjectPath ( defaultSpace , table )); table . getSchema (); \u5173\u4e8e Catalog \u63a5\u53e3\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Flink-table \u4ee3\u7801 \u3002","title":"Catalog"},{"location":"nebula-flink/nf-ug-notes/#exactly-once","text":"Flink Connector \u7684 Exactly-once \u662f\u6307 Flink \u501f\u52a9 checkpoint \u673a\u5236\u4fdd\u8bc1\u6bcf\u4e2a\u8f93\u5165\u4e8b\u4ef6\u53ea\u5bf9\u6700\u7ec8\u7ed3\u679c\u5f71\u54cd\u4e00\u6b21\uff0c\u5728\u6570\u636e\u5904\u7406\u8fc7\u7a0b\u4e2d\u5373\u4f7f\u51fa\u73b0\u6545\u969c\uff0c\u4e5f\u4e0d\u4f1a\u51fa\u73b0\u6570\u636e\u91cd\u590d\u548c\u4e22\u5931\u7684\u60c5\u51b5\u3002 \u4e3a\u4e86\u63d0\u4f9b\u7aef\u5230\u7aef\u7684 Exactly-once \u8bed\u4e49\uff0cFlink \u7684\u5916\u90e8\u6570\u636e\u7cfb\u7edf\u4e5f\u5fc5\u987b\u63d0\u4f9b\u63d0\u4ea4\u6216\u56de\u6eda\u7684\u65b9\u6cd5\uff0c\u7136\u540e\u901a\u8fc7 Flink \u7684 checkpoint \u673a\u5236\u534f\u8c03\u3002Flink \u63d0\u4f9b\u4e86\u5b9e\u73b0\u7aef\u5230\u7aef\u7684 Exactly-once \u7684\u62bd\u8c61\uff0c\u5373\u5b9e\u73b0\u4e8c\u9636\u6bb5\u63d0\u4ea4\u7684\u62bd\u8c61\u7c7b TwoPhaseCommitSinkFunction \u3002 \u8981\u4e3a\u6570\u636e\u8f93\u51fa\u7aef\u5b9e\u73b0 Exactly-once\uff0c\u9700\u8981\u5b9e\u73b0\u56db\u4e2a\u51fd\u6570\uff1a beginTransaction \uff1a\u5728\u4e8b\u52a1\u5f00\u59cb\u524d\uff0c\u5728\u76ee\u6807\u6587\u4ef6\u7cfb\u7edf\u7684\u4e34\u65f6\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u6587\u4ef6\uff0c\u968f\u540e\u53ef\u4ee5\u5728\u6570\u636e\u5904\u7406\u65f6\u5c06\u6570\u636e\u5199\u5165\u6b64\u6587\u4ef6\u3002 preCommit \uff1a\u9884\u63d0\u4ea4\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5237\u65b0\u6587\u4ef6\u5230\u5b58\u50a8\uff0c\u5173\u95ed\u6587\u4ef6\u4e0d\u518d\u5199\u5165\u3002\u4e3a\u4e0b\u4e00\u4e2a checkpoint \u7684\u4efb\u4f55\u540e\u7eed\u6587\u4ef6\u5199\u5165\u542f\u52a8\u4e00\u4e2a\u65b0\u4e8b\u52a1\u3002 commit \uff1a\u63d0\u4ea4\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5c06\u9884\u63d0\u4ea4\u9636\u6bb5\u7684\u6587\u4ef6\u539f\u5b50\u5730\u79fb\u52a8\u5230\u771f\u6b63\u7684\u76ee\u6807\u76ee\u5f55\u3002\u4e8c\u9636\u6bb5\u63d0\u4ea4\u8fc7\u7a0b\u4f1a\u589e\u52a0\u8f93\u51fa\u6570\u636e\u53ef\u89c1\u6027\u7684\u5ef6\u8fdf\u3002 abort \uff1a\u7ec8\u6b62\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5220\u9664\u4e34\u65f6\u6587\u4ef6\u3002 \u7531\u4ee5\u4e0a\u51fd\u6570\u53ef\u770b\u51fa\uff0cFlink \u7684\u4e8c\u9636\u6bb5\u63d0\u4ea4\u5bf9\u5916\u90e8\u6570\u636e\u6e90\u6709\u8981\u6c42\uff0c\u5373 source \u6570\u636e\u6e90\u5fc5\u987b\u5177\u5907\u91cd\u53d1\u529f\u80fd\uff0csink \u6570\u636e\u6c60\u5fc5\u987b\u652f\u6301\u4e8b\u52a1\u63d0\u4ea4\u548c\u5e42\u7b49\u5199\u3002 Nebula Graph v1.2.1 \u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u4f46\u5176\u5199\u5165\u64cd\u4f5c\u662f\u5e42\u7b49\u7684\uff0c\u5373\u540c\u4e00\u6761\u6570\u636e\u7684\u591a\u6b21\u5199\u5165\u7ed3\u679c\u662f\u4e00\u81f4\u7684\u3002\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7 checkpoint \u673a\u5236\u5b9e\u73b0 Nebula Flink Connector \u7684 At-least-Once \u673a\u5236\uff0c\u6839\u636e\u591a\u6b21\u5199\u5165\u7684\u5e42\u7b49\u6027\u53ef\u4ee5\u95f4\u63a5\u5b9e\u73b0 sink \u7684 Exactly-once\u3002 \u8981\u4f7f\u7528 NebulaSink \u7684\u5bb9\u9519\u6027\uff0c\u8bf7\u786e\u4fdd\u5728 Flink \u7684\u6267\u884c\u73af\u5883\u4e2d\u5f00\u542f\u4e86 checkpoint \u914d\u7f6e\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002 StreamExecutionEnvironment env = StreamExecutionEnvironment . getExecutionEnvironment (); env . enableCheckpointing ( 10000 ) // checkpoint every 10000 msecs . getCheckpointConfig () . setCheckpointingMode ( CheckpointingMode . AT_LEAST_ONCE );","title":"Exactly-once"},{"location":"nebula-flink/nf-ug-toc/","text":"\u6b22\u8fce\u4f7f\u7528 Nebula Flink Connector \u00b6 \u4ec0\u4e48\u662f Nebula Flink Connector \u4f7f\u7528\u9650\u5236 \u81ea\u5b9a\u4e49 source (NebulaSource) \u81ea\u5b9a\u4e49 sink (NebulaSink) \u7279\u6b8a\u8bf4\u660e","title":"\u6b22\u8fce\u4f7f\u7528 Nebula Flink Connector"},{"location":"nebula-flink/nf-ug-toc/#nebula_flink_connector","text":"\u4ec0\u4e48\u662f Nebula Flink Connector \u4f7f\u7528\u9650\u5236 \u81ea\u5b9a\u4e49 source (NebulaSource) \u81ea\u5b9a\u4e49 sink (NebulaSink) \u7279\u6b8a\u8bf4\u660e","title":"\u6b22\u8fce\u4f7f\u7528 Nebula Flink Connector"},{"location":"nebula-flink/nf-ug-what-is-flink-connector/","text":"\u4ec0\u4e48\u662f Nebula Flink Connector \u00b6 Nebula Flink Connector \u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 Flink \u8fde\u63a5\u5668\uff0c\u652f\u6301 Flink \u4ece Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u6570\u636e\uff08source\uff09\uff0c\u6216\u8005\u5c06\u5176\u4ed6\u5916\u90e8\u6570\u636e\u6e90\u8bfb\u53d6\u7684\u6570\u636e\u5199\u5165 Nebula Graph \u56fe\u6570\u636e\u5e93\uff08sink\uff09\u3002 \u60a8\u53ef\u4ee5\u5c06 Nebula Flink Connector \u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u5728\u4e0d\u540c\u7684 Nebula Graph \u96c6\u7fa4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 \u5728\u540c\u4e00\u4e2a Nebula Graph \u96c6\u7fa4\u5185\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 Nebula Graph \u4e0e\u5176\u4ed6\u6570\u636e\u6e90\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 \u60a8\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u6587\u6863\u4f7f\u7528 Nebula Flink Connector\uff1a \u4f7f\u7528\u9650\u5236 \u81ea\u5b9a\u4e49 source (NebulaSource) \u81ea\u5b9a\u4e49 sink (NebulaSink) \u7279\u6b8a\u8bf4\u660e","title":"\u4ec0\u4e48\u662f Nebula Flink Connector"},{"location":"nebula-flink/nf-ug-what-is-flink-connector/#nebula_flink_connector","text":"Nebula Flink Connector \u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 Flink \u8fde\u63a5\u5668\uff0c\u652f\u6301 Flink \u4ece Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u6570\u636e\uff08source\uff09\uff0c\u6216\u8005\u5c06\u5176\u4ed6\u5916\u90e8\u6570\u636e\u6e90\u8bfb\u53d6\u7684\u6570\u636e\u5199\u5165 Nebula Graph \u56fe\u6570\u636e\u5e93\uff08sink\uff09\u3002 \u60a8\u53ef\u4ee5\u5c06 Nebula Flink Connector \u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u5728\u4e0d\u540c\u7684 Nebula Graph \u96c6\u7fa4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 \u5728\u540c\u4e00\u4e2a Nebula Graph \u96c6\u7fa4\u5185\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 Nebula Graph \u4e0e\u5176\u4ed6\u6570\u636e\u6e90\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 \u60a8\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u6587\u6863\u4f7f\u7528 Nebula Flink Connector\uff1a \u4f7f\u7528\u9650\u5236 \u81ea\u5b9a\u4e49 source (NebulaSource) \u81ea\u5b9a\u4e49 sink (NebulaSink) \u7279\u6b8a\u8bf4\u660e","title":"\u4ec0\u4e48\u662f Nebula Flink Connector"},{"location":"nebula-studio/st-ug-toc/","text":"Nebula Graph Studio \u7528\u6237\u624b\u518c \u00b6 \u8ba4\u8bc6 Nebula Graph Studio \u4ec0\u4e48\u662f Nebula Graph Studio \u540d\u8bcd\u89e3\u91ca \u4f7f\u7528\u9650\u5236 \u7248\u672c\u66f4\u65b0 \u5feb\u6377\u952e \u5b89\u88c5\u4e0e\u767b\u5f55 \u90e8\u7f72 Studio \u8fde\u63a5\u6570\u636e\u5e93 \u6e05\u9664\u8fde\u63a5 \u5feb\u901f\u5f00\u59cb \u89c4\u5212 Schema \u51c6\u5907 CSV \u6587\u4ef6 \u521b\u5efa Schema \u5bfc\u5165\u6570\u636e \u67e5\u8be2\u56fe\u6570\u636e \u64cd\u4f5c\u6307\u5357 \u7ba1\u7406 Schema \u64cd\u4f5c\u56fe\u7a7a\u95f4 \u64cd\u4f5c\u6807\u7b7e \u64cd\u4f5c\u8fb9\u7c7b\u578b \u64cd\u4f5c\u7d22\u5f15 \u4f7f\u7528\u56fe\u63a2\u7d22[TODO] \u4f7f\u7528\u63a7\u5236\u53f0 \u63a7\u5236\u53f0\u754c\u9762 \u5bfc\u5165\u56fe\u63a2\u7d22 \u67e5\u770b\u5b50\u56fe \u6700\u4f73\u5b9e\u8df5 [TODO] \u6545\u969c\u6392\u67e5 \u8fde\u63a5\u6570\u636e\u5e93\u9519\u8bef \u65e0\u6cd5\u8bbf\u95ee Studio \u5e38\u89c1\u95ee\u9898 \u9519\u8bef\u4fe1\u606f [TODO] * \u672c\u9875\u9762\u6240\u5217 [TODO] \u4ec5\u8868\u793a\u6587\u6863\u5c1a\u672a\u5b8c\u6210\uff0c\u5e76\u975e\u8868\u793a Studio \u4e0d\u5177\u5907\u76f8\u5e94\u7684\u529f\u80fd\u3002","title":"Nebula Graph Studio \u7528\u6237\u624b\u518c"},{"location":"nebula-studio/st-ug-toc/#nebula_graph_studio","text":"\u8ba4\u8bc6 Nebula Graph Studio \u4ec0\u4e48\u662f Nebula Graph Studio \u540d\u8bcd\u89e3\u91ca \u4f7f\u7528\u9650\u5236 \u7248\u672c\u66f4\u65b0 \u5feb\u6377\u952e \u5b89\u88c5\u4e0e\u767b\u5f55 \u90e8\u7f72 Studio \u8fde\u63a5\u6570\u636e\u5e93 \u6e05\u9664\u8fde\u63a5 \u5feb\u901f\u5f00\u59cb \u89c4\u5212 Schema \u51c6\u5907 CSV \u6587\u4ef6 \u521b\u5efa Schema \u5bfc\u5165\u6570\u636e \u67e5\u8be2\u56fe\u6570\u636e \u64cd\u4f5c\u6307\u5357 \u7ba1\u7406 Schema \u64cd\u4f5c\u56fe\u7a7a\u95f4 \u64cd\u4f5c\u6807\u7b7e \u64cd\u4f5c\u8fb9\u7c7b\u578b \u64cd\u4f5c\u7d22\u5f15 \u4f7f\u7528\u56fe\u63a2\u7d22[TODO] \u4f7f\u7528\u63a7\u5236\u53f0 \u63a7\u5236\u53f0\u754c\u9762 \u5bfc\u5165\u56fe\u63a2\u7d22 \u67e5\u770b\u5b50\u56fe \u6700\u4f73\u5b9e\u8df5 [TODO] \u6545\u969c\u6392\u67e5 \u8fde\u63a5\u6570\u636e\u5e93\u9519\u8bef \u65e0\u6cd5\u8bbf\u95ee Studio \u5e38\u89c1\u95ee\u9898 \u9519\u8bef\u4fe1\u606f [TODO] * \u672c\u9875\u9762\u6240\u5217 [TODO] \u4ec5\u8868\u793a\u6587\u6863\u5c1a\u672a\u5b8c\u6210\uff0c\u5e76\u975e\u8868\u793a Studio \u4e0d\u5177\u5907\u76f8\u5e94\u7684\u529f\u80fd\u3002","title":"Nebula Graph Studio \u7528\u6237\u624b\u518c"},{"location":"nebula-studio/about-studio/st-ug-check-updates/","text":"\u7248\u672c\u66f4\u65b0 \u00b6 Studio \u5904\u4e8e\u6301\u7eed\u5f00\u53d1\u72b6\u6001\u4e2d\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7 Studio \u7684\u7248\u672c\u66f4\u65b0\u8bb0\u5f55 \u67e5\u770b\u6700\u65b0\u53d1\u5e03\u7684\u529f\u80fd\u3002 \u4e91\u670d\u52a1\u7248 Studio \u00b6 \u5bf9\u4e8e\u4e91\u670d\u52a1\u7248 Studio\uff0c\u4ee5 Nebula Graph Cloud Service \u4e0a\u5b9e\u9645\u90e8\u7f72\u7684\u7248\u672c\u4e3a\u51c6\uff0c\u60a8\u4e0d\u80fd\u81ea\u884c\u66f4\u65b0 Studio \u7248\u672c\u3002\u5f53\u524d\u516c\u6d4b\u73af\u5883\u91cc\u7684 Studio \u7248\u672c\u4e3a v1.1.1-beta\u3002 Docker \u7248 Studio \u00b6 \u5bf9\u4e8e Docker \u7248 Studio\uff0c\u5efa\u8bae\u60a8\u6bcf\u6b21\u90fd\u5728 nebula-web-docker \u76ee\u5f55\u4e0b\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8 Studio\uff1a docker-compose pull && docker-compose up -d \u6210\u529f\u8fde\u63a5 Docker \u7248 Studio \u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u9875\u9762\u53f3\u4e0a\u89d2\u70b9\u51fb\u7248\u672c\u53f7\uff0c\u518d\u70b9\u51fb \u65b0\u53d1\u5e03 \uff0c\u524d\u5f80\u67e5\u770b Studio \u7684\u7248\u672c\u66f4\u65b0\u8bb0\u5f55\u3002","title":"\u7248\u672c\u66f4\u65b0"},{"location":"nebula-studio/about-studio/st-ug-check-updates/#_1","text":"Studio \u5904\u4e8e\u6301\u7eed\u5f00\u53d1\u72b6\u6001\u4e2d\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7 Studio \u7684\u7248\u672c\u66f4\u65b0\u8bb0\u5f55 \u67e5\u770b\u6700\u65b0\u53d1\u5e03\u7684\u529f\u80fd\u3002","title":"\u7248\u672c\u66f4\u65b0"},{"location":"nebula-studio/about-studio/st-ug-check-updates/#studio","text":"\u5bf9\u4e8e\u4e91\u670d\u52a1\u7248 Studio\uff0c\u4ee5 Nebula Graph Cloud Service \u4e0a\u5b9e\u9645\u90e8\u7f72\u7684\u7248\u672c\u4e3a\u51c6\uff0c\u60a8\u4e0d\u80fd\u81ea\u884c\u66f4\u65b0 Studio \u7248\u672c\u3002\u5f53\u524d\u516c\u6d4b\u73af\u5883\u91cc\u7684 Studio \u7248\u672c\u4e3a v1.1.1-beta\u3002","title":"\u4e91\u670d\u52a1\u7248 Studio"},{"location":"nebula-studio/about-studio/st-ug-check-updates/#docker_studio","text":"\u5bf9\u4e8e Docker \u7248 Studio\uff0c\u5efa\u8bae\u60a8\u6bcf\u6b21\u90fd\u5728 nebula-web-docker \u76ee\u5f55\u4e0b\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8 Studio\uff1a docker-compose pull && docker-compose up -d \u6210\u529f\u8fde\u63a5 Docker \u7248 Studio \u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u9875\u9762\u53f3\u4e0a\u89d2\u70b9\u51fb\u7248\u672c\u53f7\uff0c\u518d\u70b9\u51fb \u65b0\u53d1\u5e03 \uff0c\u524d\u5f80\u67e5\u770b Studio \u7684\u7248\u672c\u66f4\u65b0\u8bb0\u5f55\u3002","title":"Docker \u7248 Studio"},{"location":"nebula-studio/about-studio/st-ug-limitations/","text":"\u4f7f\u7528\u9650\u5236 \u00b6 \u672c\u6587\u63cf\u8ff0\u4e86\u60a8\u5728\u4f7f\u7528 Studio \u65f6\u53ef\u80fd\u4f1a\u53d7\u5230\u7684\u9650\u5236\u3002 Nebula Graph \u7248\u672c\u652f\u6301 \u00b6 \u76ee\u524d Studio v1.x \u4ec5\u652f\u6301 Nebula Graph v1.x\uff0c\u4e0d\u652f\u6301 Nebula Graph v2.x\u3002 \u7cfb\u7edf\u67b6\u6784 \u00b6 Docker \u7248 Studio \u76ee\u524d\u4ec5\u652f\u6301 x86_64 \u67b6\u6784\u3002 \u6570\u636e\u4e0a\u4f20 \u00b6 \u4f7f\u7528\u4e91\u670d\u52a1\u7248 Studio \u4e0a\u4f20\u6570\u636e\u6709\u4ee5\u4e0b\u9650\u5236\uff1a \u76ee\u524d\u4ec5\u652f\u6301\u4e0a\u4f20\u6ca1\u6709\u8868\u5934\u884c\u7684 CSV \u6587\u4ef6\uff0c\u800c\u4e14\u4ec5\u652f\u6301\u82f1\u6587\u9017\u53f7\uff08,\uff09\u4f5c\u4e3a\u5206\u9694\u7b26\u3002 \u5355\u4e2a\u6587\u4ef6\u4e0d\u5f97\u8d85\u8fc7 100 MB\u3002 \u5355\u4e2a\u5b9e\u4f8b\u4e0a\u4f20\u6587\u4ef6\u603b\u91cf\u4e0d\u5f97\u8d85\u8fc7 1 GB\u3002 \u5355\u4e2a\u6587\u4ef6\u4ec5\u80fd\u4fdd\u5b58 1 \u5929\u3002 \u4f7f\u7528 Docker \u7248 Studio \u4e0a\u4f20\u6570\u636e\u4e5f\u4ec5\u652f\u6301\u4e0a\u4f20\u65e0\u8868\u5934\u7684 CSV \u6587\u4ef6\uff0c\u4f46\u662f\uff0c\u5355\u4e2a\u6587\u4ef6\u5927\u5c0f\u53ca\u4fdd\u5b58\u65f6\u95f4\u4e0d\u53d7\u9650\u5236\uff0c\u800c\u4e14\uff0c\u6570\u636e\u603b\u91cf\u4ee5\u672c\u5730\u5b58\u50a8\u5bb9\u91cf\u4e3a\u51c6\u3002 \u6570\u636e\u5907\u4efd \u00b6 \u76ee\u524d\u4ec5\u652f\u6301\u5728 \u63a7\u5236\u53f0 \u4e0a\u4ee5 CSV \u683c\u5f0f\u5bfc\u51fa\u67e5\u8be2\u7ed3\u679c\uff0c\u4e0d\u652f\u6301\u5176\u4ed6\u6570\u636e\u5907\u4efd\u65b9\u5f0f\u3002 nGQL \u652f\u6301 \u00b6 \u4f7f\u7528 Docker \u7248 Studio \u65f6\uff0c\u9664\u4ee5\u4e0b\u5185\u5bb9\u5916\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u6267\u884c\u6240\u6709 nGQL \u8bed\u53e5\u8bed\u6cd5\uff1a USE <space_name> \uff1a\u60a8\u53ea\u80fd\u5728 Space \u4e0b\u62c9\u5217\u8868\u4e2d\u9009\u62e9\u56fe\u7a7a\u95f4\uff0c\u4e0d\u80fd\u8fd0\u884c\u8fd9\u4e2a\u8bed\u53e5\u9009\u62e9\u56fe\u7a7a\u95f4\u3002 \u63a7\u5236\u53f0 \u4e0a\u4f7f\u7528 nGQL \u8bed\u53e5\u65f6\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u56de\u8f66\u6362\u884c\uff0c\u4e0d\u80fd\u4f7f\u7528\u6362\u884c\u7b26\u3002 \u4f7f\u7528\u4e91\u670d\u52a1\u7248 Studio \u65f6\uff0c\u9664\u4ee5\u4e0a\u9650\u5236\u5916\uff0c\u60a8\u4e5f\u4e0d\u80fd\u5728 \u63a7\u5236\u53f0 \u4e0a\u6267\u884c\u7528\u6237\u7ba1\u7406\u548c\u89d2\u8272\u7ba1\u7406\u76f8\u5173\u7684\u8bed\u53e5\uff0c\u5305\u62ec\uff1a CREATE USER ALTER USER CHANGE PASSWORD DROP USER GRANT ROLE REVOKE ROLE \u5173\u4e8e\u8bed\u53e5\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002 \u6d4f\u89c8\u5668\u652f\u6301 \u00b6 \u5efa\u8bae\u60a8\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684 Chrome \u8bbf\u95ee Studio\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-studio/about-studio/st-ug-limitations/#_1","text":"\u672c\u6587\u63cf\u8ff0\u4e86\u60a8\u5728\u4f7f\u7528 Studio \u65f6\u53ef\u80fd\u4f1a\u53d7\u5230\u7684\u9650\u5236\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-studio/about-studio/st-ug-limitations/#nebula_graph","text":"\u76ee\u524d Studio v1.x \u4ec5\u652f\u6301 Nebula Graph v1.x\uff0c\u4e0d\u652f\u6301 Nebula Graph v2.x\u3002","title":"Nebula Graph \u7248\u672c\u652f\u6301"},{"location":"nebula-studio/about-studio/st-ug-limitations/#_2","text":"Docker \u7248 Studio \u76ee\u524d\u4ec5\u652f\u6301 x86_64 \u67b6\u6784\u3002","title":"\u7cfb\u7edf\u67b6\u6784"},{"location":"nebula-studio/about-studio/st-ug-limitations/#_3","text":"\u4f7f\u7528\u4e91\u670d\u52a1\u7248 Studio \u4e0a\u4f20\u6570\u636e\u6709\u4ee5\u4e0b\u9650\u5236\uff1a \u76ee\u524d\u4ec5\u652f\u6301\u4e0a\u4f20\u6ca1\u6709\u8868\u5934\u884c\u7684 CSV \u6587\u4ef6\uff0c\u800c\u4e14\u4ec5\u652f\u6301\u82f1\u6587\u9017\u53f7\uff08,\uff09\u4f5c\u4e3a\u5206\u9694\u7b26\u3002 \u5355\u4e2a\u6587\u4ef6\u4e0d\u5f97\u8d85\u8fc7 100 MB\u3002 \u5355\u4e2a\u5b9e\u4f8b\u4e0a\u4f20\u6587\u4ef6\u603b\u91cf\u4e0d\u5f97\u8d85\u8fc7 1 GB\u3002 \u5355\u4e2a\u6587\u4ef6\u4ec5\u80fd\u4fdd\u5b58 1 \u5929\u3002 \u4f7f\u7528 Docker \u7248 Studio \u4e0a\u4f20\u6570\u636e\u4e5f\u4ec5\u652f\u6301\u4e0a\u4f20\u65e0\u8868\u5934\u7684 CSV \u6587\u4ef6\uff0c\u4f46\u662f\uff0c\u5355\u4e2a\u6587\u4ef6\u5927\u5c0f\u53ca\u4fdd\u5b58\u65f6\u95f4\u4e0d\u53d7\u9650\u5236\uff0c\u800c\u4e14\uff0c\u6570\u636e\u603b\u91cf\u4ee5\u672c\u5730\u5b58\u50a8\u5bb9\u91cf\u4e3a\u51c6\u3002","title":"\u6570\u636e\u4e0a\u4f20"},{"location":"nebula-studio/about-studio/st-ug-limitations/#_4","text":"\u76ee\u524d\u4ec5\u652f\u6301\u5728 \u63a7\u5236\u53f0 \u4e0a\u4ee5 CSV \u683c\u5f0f\u5bfc\u51fa\u67e5\u8be2\u7ed3\u679c\uff0c\u4e0d\u652f\u6301\u5176\u4ed6\u6570\u636e\u5907\u4efd\u65b9\u5f0f\u3002","title":"\u6570\u636e\u5907\u4efd"},{"location":"nebula-studio/about-studio/st-ug-limitations/#ngql","text":"\u4f7f\u7528 Docker \u7248 Studio \u65f6\uff0c\u9664\u4ee5\u4e0b\u5185\u5bb9\u5916\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u6267\u884c\u6240\u6709 nGQL \u8bed\u53e5\u8bed\u6cd5\uff1a USE <space_name> \uff1a\u60a8\u53ea\u80fd\u5728 Space \u4e0b\u62c9\u5217\u8868\u4e2d\u9009\u62e9\u56fe\u7a7a\u95f4\uff0c\u4e0d\u80fd\u8fd0\u884c\u8fd9\u4e2a\u8bed\u53e5\u9009\u62e9\u56fe\u7a7a\u95f4\u3002 \u63a7\u5236\u53f0 \u4e0a\u4f7f\u7528 nGQL \u8bed\u53e5\u65f6\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u56de\u8f66\u6362\u884c\uff0c\u4e0d\u80fd\u4f7f\u7528\u6362\u884c\u7b26\u3002 \u4f7f\u7528\u4e91\u670d\u52a1\u7248 Studio \u65f6\uff0c\u9664\u4ee5\u4e0a\u9650\u5236\u5916\uff0c\u60a8\u4e5f\u4e0d\u80fd\u5728 \u63a7\u5236\u53f0 \u4e0a\u6267\u884c\u7528\u6237\u7ba1\u7406\u548c\u89d2\u8272\u7ba1\u7406\u76f8\u5173\u7684\u8bed\u53e5\uff0c\u5305\u62ec\uff1a CREATE USER ALTER USER CHANGE PASSWORD DROP USER GRANT ROLE REVOKE ROLE \u5173\u4e8e\u8bed\u53e5\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002","title":"nGQL \u652f\u6301"},{"location":"nebula-studio/about-studio/st-ug-limitations/#_5","text":"\u5efa\u8bae\u60a8\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684 Chrome \u8bbf\u95ee Studio\u3002","title":"\u6d4f\u89c8\u5668\u652f\u6301"},{"location":"nebula-studio/about-studio/st-ug-shortcuts/","text":"\u5feb\u6377\u952e \u00b6 \u672c\u6587\u5217\u51fa\u4e86 Studio \u652f\u6301\u7684\u5feb\u6377\u952e\u3002 \u8981\u5b8c\u6210\u7684\u4efb\u52a1 \u64cd\u4f5c \u5728 \u63a7\u5236\u53f0 \u9875\u9762\u8fd0\u884c nGQL \u8bed\u53e5 \u6309 Shift + Enter \u952e \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u9009\u4e2d\u591a\u4e2a\u70b9 \u6309 Shift \u952e + \u9f20\u6807\u5355\u51fb \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u5bf9\u67d0\u4e2a\u70b9\u5feb\u901f\u62d3\u5c55 \u9f20\u6807\u53cc\u51fb\u3002\u4ece v1.2.4-beta \u7248\u672c\u5f00\u59cb\u652f\u6301\u3002","title":"\u5feb\u6377\u952e"},{"location":"nebula-studio/about-studio/st-ug-shortcuts/#_1","text":"\u672c\u6587\u5217\u51fa\u4e86 Studio \u652f\u6301\u7684\u5feb\u6377\u952e\u3002 \u8981\u5b8c\u6210\u7684\u4efb\u52a1 \u64cd\u4f5c \u5728 \u63a7\u5236\u53f0 \u9875\u9762\u8fd0\u884c nGQL \u8bed\u53e5 \u6309 Shift + Enter \u952e \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u9009\u4e2d\u591a\u4e2a\u70b9 \u6309 Shift \u952e + \u9f20\u6807\u5355\u51fb \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u5bf9\u67d0\u4e2a\u70b9\u5feb\u901f\u62d3\u5c55 \u9f20\u6807\u53cc\u51fb\u3002\u4ece v1.2.4-beta \u7248\u672c\u5f00\u59cb\u652f\u6301\u3002","title":"\u5feb\u6377\u952e"},{"location":"nebula-studio/about-studio/st-ug-terms/","text":"\u540d\u8bcd\u89e3\u91ca \u00b6 \u672c\u6587\u63d0\u4f9b\u4e86\u60a8\u5728\u4f7f\u7528 Studio \u65f6\u53ef\u80fd\u9700\u8981\u77e5\u9053\u7684\u540d\u8bcd\u89e3\u91ca\u3002 Nebula Graph Studio\uff1a\u5728\u672c\u624b\u518c\u4e2d\u7b80\u79f0\u4e3a Studio\uff0c\u662f\u4e00\u6b3e\u53ef\u4ee5\u901a\u8fc7 Web \u8bbf\u95ee\u7684\u56fe\u6570\u636e\u5e93\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u642d\u914d Nebula Graph DBMS \u4f7f\u7528\uff0c\u4e3a\u60a8\u63d0\u4f9b\u6784\u56fe\u3001\u6570\u636e\u5bfc\u5165\u3001\u7f16\u5199 nGQL \u67e5\u8be2\u3001\u56fe\u63a2\u7d22\u7b49\u4e00\u7ad9\u5f0f\u670d\u52a1\u3002 Nebula Graph\uff1a\u4e00\u6b3e\u5f00\u6e90\u56fe\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff08Graph Database Management System\uff09\uff0c\u64c5\u957f\u5904\u7406\u5343\u4ebf\u4e2a\u70b9\u548c\u4e07\u4ebf\u6761\u8fb9\u7684\u8d85\u5927\u89c4\u6a21\u6570\u636e\u96c6\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002 Nebula Graph Cloud Service\uff1aNebula Graph \u56fe\u6570\u636e\u5e93\u7684\u4e91\u670d\u52a1\u5e73\u53f0\uff08Database-as-a-Service\uff0cDBaaS\uff09\uff0c\u6309\u9700\u4ed8\u8d39\uff0c\u652f\u6301\u4e00\u952e\u90e8\u7f72 Nebula Graph\uff0c\u96c6\u6210\u4e86 Nebula Graph Studio\uff0c\u5e76\u5185\u7f6e\u8d44\u6e90\u76d1\u63a7\u5de5\u5177\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"nebula-studio/about-studio/st-ug-terms/#_1","text":"\u672c\u6587\u63d0\u4f9b\u4e86\u60a8\u5728\u4f7f\u7528 Studio \u65f6\u53ef\u80fd\u9700\u8981\u77e5\u9053\u7684\u540d\u8bcd\u89e3\u91ca\u3002 Nebula Graph Studio\uff1a\u5728\u672c\u624b\u518c\u4e2d\u7b80\u79f0\u4e3a Studio\uff0c\u662f\u4e00\u6b3e\u53ef\u4ee5\u901a\u8fc7 Web \u8bbf\u95ee\u7684\u56fe\u6570\u636e\u5e93\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u642d\u914d Nebula Graph DBMS \u4f7f\u7528\uff0c\u4e3a\u60a8\u63d0\u4f9b\u6784\u56fe\u3001\u6570\u636e\u5bfc\u5165\u3001\u7f16\u5199 nGQL \u67e5\u8be2\u3001\u56fe\u63a2\u7d22\u7b49\u4e00\u7ad9\u5f0f\u670d\u52a1\u3002 Nebula Graph\uff1a\u4e00\u6b3e\u5f00\u6e90\u56fe\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff08Graph Database Management System\uff09\uff0c\u64c5\u957f\u5904\u7406\u5343\u4ebf\u4e2a\u70b9\u548c\u4e07\u4ebf\u6761\u8fb9\u7684\u8d85\u5927\u89c4\u6a21\u6570\u636e\u96c6\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002 Nebula Graph Cloud Service\uff1aNebula Graph \u56fe\u6570\u636e\u5e93\u7684\u4e91\u670d\u52a1\u5e73\u53f0\uff08Database-as-a-Service\uff0cDBaaS\uff09\uff0c\u6309\u9700\u4ed8\u8d39\uff0c\u652f\u6301\u4e00\u952e\u90e8\u7f72 Nebula Graph\uff0c\u96c6\u6210\u4e86 Nebula Graph Studio\uff0c\u5e76\u5185\u7f6e\u8d44\u6e90\u76d1\u63a7\u5de5\u5177\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"nebula-studio/about-studio/st-ug-what-is-graph-studio/","text":"\u4ec0\u4e48\u662f Nebula Graph Studio \u00b6 Nebula Graph Studio\uff08\u7b80\u79f0 Studio\uff09\u662f\u4e00\u6b3e\u53ef\u4ee5\u901a\u8fc7 Web \u8bbf\u95ee\u7684\u56fe\u6570\u636e\u5e93\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u642d\u914d Nebula Graph DBMS \u4f7f\u7528\uff0c\u4e3a\u60a8\u63d0\u4f9b\u6784\u56fe\u3001\u6570\u636e\u5bfc\u5165\u3001\u7f16\u5199 nGQL \u67e5\u8be2\u3001\u56fe\u63a2\u7d22\u7b49\u4e00\u7ad9\u5f0f\u670d\u52a1\u3002\u5373\u4f7f\u6ca1\u6709\u56fe\u6570\u636e\u5e93\u64cd\u4f5c\u7ecf\u9a8c\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5feb\u901f\u6210\u4e3a\u56fe\u4e13\u5bb6\u3002 \u53d1\u884c\u7248\u672c \u00b6 Studio \u76ee\u524d\u6709\u4e24\u4e2a\u53d1\u884c\u7248\u672c\uff1a Docker \u7248\u672c\uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528 Docker \u670d\u52a1\u90e8\u7f72 Studio\uff0c\u5e76\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u90e8\u7f72 Studio \u3002 \u4e91\u670d\u52a1\u7248\u672c\uff1a\u60a8\u53ef\u4ee5\u5728 Nebula Graph Cloud Service \u4e0a\u521b\u5efa Nebula Graph \u6570\u636e\u5e93\u5b9e\u4f8b\uff0c\u5e76\u4e00\u952e\u76f4\u8fde\u4e91\u670d\u52a1\u7248 Studio\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002 \u4e24\u4e2a\u53d1\u884c\u7248\u672c\u529f\u80fd\u57fa\u672c\u76f8\u540c\u3002\u4f46\u662f\uff0c\u56e0\u4e3a\u90e8\u7f72\u65b9\u5f0f\u4e0d\u540c\uff0c\u4f1a\u6709\u4e0d\u540c\u7684\u4f7f\u7528\u9650\u5236\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528\u9650\u5236 \u3002 \u4ea7\u54c1\u529f\u80fd \u00b6 Studio \u5177\u5907\u4ee5\u4e0b\u529f\u80fd\uff1a GUI \u8bbe\u8ba1\uff0c\u65b9\u4fbf\u60a8\u7ba1\u7406 Nebula Graph \u56fe\u6570\u636e\uff1a \u4f7f\u7528 Schema \u7ba1\u7406\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u5b8c\u6210 Schema\uff08\u6a21\u5f0f\uff09\u521b\u5efa\uff0c\u5feb\u901f\u4e0a\u624b Nebula Graph\u3002 \u4f7f\u7528 \u63a7\u5236\u53f0 \u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 nGQL \u8bed\u53e5\u521b\u5efa Schema\uff0c\u5e76\u5bf9\u6570\u636e\u6267\u884c\u589e\u5220\u6539\u67e5\u64cd\u4f5c\u3002 \u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\uff0c\u901a\u8fc7\u7b80\u5355\u7684\u914d\u7f6e\uff0c\u60a8\u5373\u80fd\u6279\u91cf\u5bfc\u5165\u70b9\u548c\u8fb9\u6570\u636e\uff0c\u5e76\u80fd\u5b9e\u65f6\u67e5\u770b\u6570\u636e\u5bfc\u5165\u65e5\u5fd7\u3002 \u56fe\u63a2\u7d22\uff0c\u652f\u6301\u53ef\u89c6\u5316\u5c55\u793a\u56fe\u6570\u636e\uff0c\u4f7f\u60a8\u66f4\u5bb9\u6613\u53d1\u73b0\u6570\u636e\u4e4b\u95f4\u7684\u5173\u8054\u6027\uff0c\u63d0\u9ad8\u6570\u636e\u5206\u6790\u548c\u89e3\u8bfb\u7684\u6548\u7387\u3002 \u9002\u7528\u573a\u666f \u00b6 \u5982\u679c\u60a8\u6709\u4ee5\u4e0b\u4efb\u4e00\u9700\u6c42\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528 Studio\uff1a \u60a8\u6709\u4e00\u4efd\u6570\u636e\u96c6\uff0c\u60f3\u8fdb\u884c\u53ef\u89c6\u5316\u56fe\u63a2\u7d22\u6216\u8005\u6570\u636e\u5206\u6790\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 Docker Compose \u6216\u8005 Nebula Graph Cloud Service \u90e8\u7f72 Nebula Graph\uff0c\u518d\u4f7f\u7528 Studio \u5b8c\u6210\u53ef\u89c6\u5316\u64cd\u4f5c\u3002 \u60a8\u5df2\u7ecf\u5b89\u88c5\u90e8\u7f72\u4e86 Nebula Graph \u6570\u636e\u5e93\uff0c\u5e76\u4e14\u5df2\u7ecf\u5bfc\u5165\u6570\u636e\u96c6\uff0c\u60f3\u4f7f\u7528 GUI \u5de5\u5177\u6267\u884c nGQL \u8bed\u53e5\u67e5\u8be2\u3001\u53ef\u89c6\u5316\u56fe\u63a2\u7d22\u6216\u8005\u6570\u636e\u5206\u6790\u3002 \u60a8\u521a\u5f00\u59cb\u5b66\u4e60 nGQL\uff08Nebula Graph Query Language\uff09\uff0c\u4f46\u662f\u4e0d\u4e60\u60ef\u7528\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u66f4\u5e0c\u671b\u4f7f\u7528 GUI \u5de5\u5177\u67e5\u770b\u8bed\u53e5\u8f93\u51fa\u7684\u7ed3\u679c\u3002 \u8eab\u4efd\u9a8c\u8bc1 \u00b6 \u5bf9\u4e8e\u4e91\u670d\u52a1\u7248 Studio\uff0c\u53ea\u6709 Nebula Graph \u5b9e\u4f8b\u7684\u521b\u5efa\u8005\u4ee5\u53ca\u88ab\u6388\u4e88\u64cd\u4f5c\u6743\u9650\u7684 Nebula Graph Cloud Service \u7528\u6237\u53ef\u4ee5\u767b\u5f55 Studio\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002 \u5bf9\u4e8e Docker \u7248 Studio\uff0c\u56e0\u4e3a Nebula Graph \u9ed8\u8ba4\u4e0d\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u6240\u4ee5\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u60a8\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u8d26\u53f7\u548c\u5bc6\u7801\uff08 user \u548c password \uff09\u767b\u5f55 Studio\u3002\u5f53 Nebula Graph \u542f\u7528\u4e86\u8eab\u4efd\u9a8c\u8bc1\u540e\uff0c\u60a8\u53ea\u80fd\u4f7f\u7528\u6307\u5b9a\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u767b\u5f55 Studio\u3002\u5173\u4e8e Nebula Graph \u7684\u8eab\u4efd\u9a8c\u8bc1\u529f\u80fd\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002","title":"\u4ec0\u4e48\u662f Nebula Graph Studio"},{"location":"nebula-studio/about-studio/st-ug-what-is-graph-studio/#nebula_graph_studio","text":"Nebula Graph Studio\uff08\u7b80\u79f0 Studio\uff09\u662f\u4e00\u6b3e\u53ef\u4ee5\u901a\u8fc7 Web \u8bbf\u95ee\u7684\u56fe\u6570\u636e\u5e93\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u642d\u914d Nebula Graph DBMS \u4f7f\u7528\uff0c\u4e3a\u60a8\u63d0\u4f9b\u6784\u56fe\u3001\u6570\u636e\u5bfc\u5165\u3001\u7f16\u5199 nGQL \u67e5\u8be2\u3001\u56fe\u63a2\u7d22\u7b49\u4e00\u7ad9\u5f0f\u670d\u52a1\u3002\u5373\u4f7f\u6ca1\u6709\u56fe\u6570\u636e\u5e93\u64cd\u4f5c\u7ecf\u9a8c\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5feb\u901f\u6210\u4e3a\u56fe\u4e13\u5bb6\u3002","title":"\u4ec0\u4e48\u662f Nebula Graph Studio"},{"location":"nebula-studio/about-studio/st-ug-what-is-graph-studio/#_1","text":"Studio \u76ee\u524d\u6709\u4e24\u4e2a\u53d1\u884c\u7248\u672c\uff1a Docker \u7248\u672c\uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528 Docker \u670d\u52a1\u90e8\u7f72 Studio\uff0c\u5e76\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u90e8\u7f72 Studio \u3002 \u4e91\u670d\u52a1\u7248\u672c\uff1a\u60a8\u53ef\u4ee5\u5728 Nebula Graph Cloud Service \u4e0a\u521b\u5efa Nebula Graph \u6570\u636e\u5e93\u5b9e\u4f8b\uff0c\u5e76\u4e00\u952e\u76f4\u8fde\u4e91\u670d\u52a1\u7248 Studio\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002 \u4e24\u4e2a\u53d1\u884c\u7248\u672c\u529f\u80fd\u57fa\u672c\u76f8\u540c\u3002\u4f46\u662f\uff0c\u56e0\u4e3a\u90e8\u7f72\u65b9\u5f0f\u4e0d\u540c\uff0c\u4f1a\u6709\u4e0d\u540c\u7684\u4f7f\u7528\u9650\u5236\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528\u9650\u5236 \u3002","title":"\u53d1\u884c\u7248\u672c"},{"location":"nebula-studio/about-studio/st-ug-what-is-graph-studio/#_2","text":"Studio \u5177\u5907\u4ee5\u4e0b\u529f\u80fd\uff1a GUI \u8bbe\u8ba1\uff0c\u65b9\u4fbf\u60a8\u7ba1\u7406 Nebula Graph \u56fe\u6570\u636e\uff1a \u4f7f\u7528 Schema \u7ba1\u7406\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u5b8c\u6210 Schema\uff08\u6a21\u5f0f\uff09\u521b\u5efa\uff0c\u5feb\u901f\u4e0a\u624b Nebula Graph\u3002 \u4f7f\u7528 \u63a7\u5236\u53f0 \u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 nGQL \u8bed\u53e5\u521b\u5efa Schema\uff0c\u5e76\u5bf9\u6570\u636e\u6267\u884c\u589e\u5220\u6539\u67e5\u64cd\u4f5c\u3002 \u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\uff0c\u901a\u8fc7\u7b80\u5355\u7684\u914d\u7f6e\uff0c\u60a8\u5373\u80fd\u6279\u91cf\u5bfc\u5165\u70b9\u548c\u8fb9\u6570\u636e\uff0c\u5e76\u80fd\u5b9e\u65f6\u67e5\u770b\u6570\u636e\u5bfc\u5165\u65e5\u5fd7\u3002 \u56fe\u63a2\u7d22\uff0c\u652f\u6301\u53ef\u89c6\u5316\u5c55\u793a\u56fe\u6570\u636e\uff0c\u4f7f\u60a8\u66f4\u5bb9\u6613\u53d1\u73b0\u6570\u636e\u4e4b\u95f4\u7684\u5173\u8054\u6027\uff0c\u63d0\u9ad8\u6570\u636e\u5206\u6790\u548c\u89e3\u8bfb\u7684\u6548\u7387\u3002","title":"\u4ea7\u54c1\u529f\u80fd"},{"location":"nebula-studio/about-studio/st-ug-what-is-graph-studio/#_3","text":"\u5982\u679c\u60a8\u6709\u4ee5\u4e0b\u4efb\u4e00\u9700\u6c42\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528 Studio\uff1a \u60a8\u6709\u4e00\u4efd\u6570\u636e\u96c6\uff0c\u60f3\u8fdb\u884c\u53ef\u89c6\u5316\u56fe\u63a2\u7d22\u6216\u8005\u6570\u636e\u5206\u6790\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 Docker Compose \u6216\u8005 Nebula Graph Cloud Service \u90e8\u7f72 Nebula Graph\uff0c\u518d\u4f7f\u7528 Studio \u5b8c\u6210\u53ef\u89c6\u5316\u64cd\u4f5c\u3002 \u60a8\u5df2\u7ecf\u5b89\u88c5\u90e8\u7f72\u4e86 Nebula Graph \u6570\u636e\u5e93\uff0c\u5e76\u4e14\u5df2\u7ecf\u5bfc\u5165\u6570\u636e\u96c6\uff0c\u60f3\u4f7f\u7528 GUI \u5de5\u5177\u6267\u884c nGQL \u8bed\u53e5\u67e5\u8be2\u3001\u53ef\u89c6\u5316\u56fe\u63a2\u7d22\u6216\u8005\u6570\u636e\u5206\u6790\u3002 \u60a8\u521a\u5f00\u59cb\u5b66\u4e60 nGQL\uff08Nebula Graph Query Language\uff09\uff0c\u4f46\u662f\u4e0d\u4e60\u60ef\u7528\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u66f4\u5e0c\u671b\u4f7f\u7528 GUI \u5de5\u5177\u67e5\u770b\u8bed\u53e5\u8f93\u51fa\u7684\u7ed3\u679c\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"nebula-studio/about-studio/st-ug-what-is-graph-studio/#_4","text":"\u5bf9\u4e8e\u4e91\u670d\u52a1\u7248 Studio\uff0c\u53ea\u6709 Nebula Graph \u5b9e\u4f8b\u7684\u521b\u5efa\u8005\u4ee5\u53ca\u88ab\u6388\u4e88\u64cd\u4f5c\u6743\u9650\u7684 Nebula Graph Cloud Service \u7528\u6237\u53ef\u4ee5\u767b\u5f55 Studio\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002 \u5bf9\u4e8e Docker \u7248 Studio\uff0c\u56e0\u4e3a Nebula Graph \u9ed8\u8ba4\u4e0d\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u6240\u4ee5\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u60a8\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u8d26\u53f7\u548c\u5bc6\u7801\uff08 user \u548c password \uff09\u767b\u5f55 Studio\u3002\u5f53 Nebula Graph \u542f\u7528\u4e86\u8eab\u4efd\u9a8c\u8bc1\u540e\uff0c\u60a8\u53ea\u80fd\u4f7f\u7528\u6307\u5b9a\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u767b\u5f55 Studio\u3002\u5173\u4e8e Nebula Graph \u7684\u8eab\u4efd\u9a8c\u8bc1\u529f\u80fd\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002","title":"\u8eab\u4efd\u9a8c\u8bc1"},{"location":"nebula-studio/deploy-connect/st-ug-connect/","text":"\u8fde\u63a5\u6570\u636e\u5e93 \u00b6 \u5728 Nebula Graph Cloud Service \u4e0a\uff0c\u521b\u5efa Nebula Graph \u5b9e\u4f8b\u540e\uff0c\u60a8\u53ef\u4ee5\u4e00\u952e\u76f4\u8fde\u4e91\u670d\u52a1\u7248 Studio\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002\u4f46\u662f\uff0c\u5bf9\u4e8e Docker \u7248 Studio\uff0c\u5728\u6210\u529f\u542f\u52a8 Studio \u540e\uff0c\u60a8\u9700\u8981\u914d\u7f6e\u8fde\u63a5 Nebula Graph\u3002\u672c\u6587\u4e3b\u8981\u63cf\u8ff0 Docker \u7248 Studio \u5982\u4f55\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Docker \u7248 Studio \u5df2\u7ecf\u542f\u52a8\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u90e8\u7f72 Studio \u3002 Nebula Graph \u7684 Graph \u670d\u52a1\u672c\u673a IP \u5730\u5740\u4ee5\u53ca\u670d\u52a1\u6240\u7528\u7aef\u53e3\u3002\u9ed8\u8ba4\u7aef\u53e3\u4e3a 3699 \u3002 Nebula Graph \u6570\u636e\u5e93\u767b\u5f55\u8d26\u53f7\u4fe1\u606f\uff0c\u5305\u62ec\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 \u8bf4\u660e \uff1a\u5982\u679c Nebula Graph \u5df2\u7ecf\u542f\u7528\u4e86\u8eab\u4efd\u9a8c\u8bc1\uff0c\u5e76\u4e14\u5df2\u7ecf\u521b\u5efa\u4e86\u4e0d\u540c\u89d2\u8272\u7684\u7528\u6237\uff0c\u60a8\u53ea\u80fd\u4f7f\u7528\u88ab\u5206\u914d\u5230\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u767b\u5f55\u6570\u636e\u5e93\u3002\u5982\u679c\u672a\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u7528\u6237\u540d\uff08 user \uff09\u548c\u9ed8\u8ba4\u5bc6\u7801\uff08 password \uff09\u767b\u5f55\u6570\u636e\u5e93\u3002\u5173\u4e8e\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\uff1a \u5728 Studio \u7684 \u914d\u7f6e\u6570\u636e\u5e93 \u9875\u9762\u4e0a\uff0c\u8f93\u5165\u4ee5\u4e0b\u4fe1\u606f\uff1a Host \uff1a\u586b\u5199 Nebula Graph \u7684 Graph \u670d\u52a1\u672c\u673a IP \u5730\u5740\u53ca\u7aef\u53e3\u3002\u683c\u5f0f\u4e3a ip:port \u3002\u5982\u679c\u7aef\u53e3\u672a\u4fee\u6539\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 3699 \u3002 \u8bf4\u660e \uff1a\u5373\u4f7f Nebula Graph \u6570\u636e\u5e93\u4e0e Studio \u90e8\u7f72\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u60a8\u4e5f\u5fc5\u987b\u5728 Host \u5b57\u6bb5\u586b\u5199\u8fd9\u53f0\u673a\u5668\u7684\u672c\u673a IP \u5730\u5740\uff0c\u800c\u4e0d\u662f 127.0.0.1 \u6216\u8005 localhost \u3002 \u7528\u6237\u540d \u548c \u5bc6\u7801 \uff1a\u6839\u636e Nebula Graph \u7684\u8eab\u4efd\u9a8c\u8bc1\u8bbe\u7f6e\u586b\u5199\u767b\u5f55\u8d26\u53f7\u548c\u5bc6\u7801\u3002 \u5982\u679c\u672a\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u53ef\u4ee5\u586b\u5199\u9ed8\u8ba4\u7528\u6237\u540d user \u548c\u9ed8\u8ba4\u5bc6\u7801 password \u3002 \u5982\u679c\u5df2\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u4f46\u662f\u672a\u521b\u5efa\u8d26\u53f7\u4fe1\u606f\uff0c\u60a8\u53ea\u80fd\u4ee5 GOD \u89d2\u8272\u767b\u5f55\uff0c\u5fc5\u987b\u586b\u5199 root \u53ca\u5bf9\u5e94\u7684\u5bc6\u7801 nebula \u3002 \u5982\u679c\u5df2\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u540c\u65f6\u53c8\u521b\u5efa\u4e86\u4e0d\u540c\u7684\u7528\u6237\u5e76\u5206\u914d\u4e86\u89d2\u8272\uff0c\u4e0d\u540c\u89d2\u8272\u7684\u7528\u6237\u4f7f\u7528\u81ea\u5df1\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u767b\u5f55\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u70b9\u51fb \u8fde\u63a5 \u6309\u94ae\u3002 \u5982\u679c\u60a8\u80fd\u770b\u5230\u5982\u4e0b\u56fe\u6240\u793a\u7684\u754c\u9762\uff0c\u8868\u793a\u60a8\u5df2\u7ecf\u6210\u529f\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u4e00\u6b21\u8fde\u63a5\u4f1a\u8bdd\u6301\u7eed 30 \u5206\u949f\u3002\u5982\u679c\u60a8\u8d85\u8fc7 30 \u5206\u949f\u6ca1\u6709\u64cd\u4f5c\uff0c\u4f1a\u8bdd\u5373\u65ad\u5f00\uff0c\u60a8\u9700\u8981\u91cd\u65b0\u767b\u5f55\u6570\u636e\u5e93\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u6210\u529f\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\u540e\uff0c\u6839\u636e\u8d26\u53f7\u7684\u6743\u9650\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5982\u679c\u60a8\u4ee5\u62e5\u6709 GOD \u6216\u8005 ADMIN \u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u53ef\u4ee5\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u9875\u9762\u7ba1\u7406 Schema\u3002 \u5982\u679c\u60a8\u4ee5\u62e5\u6709 GOD\u3001ADMIN\u3001DBA \u6216\u8005 USER \u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u53ef\u4ee5 \u6279\u91cf\u5bfc\u5165\u6570\u636e \u6216\u8005\u5728 \u63a7\u5236\u53f0 \u9875\u9762\u4e0a\u8fd0\u884c nGQL \u8bed\u53e5\u63d2\u5165\u6570\u636e\u3002 \u5982\u679c\u60a8\u4ee5\u62e5\u6709 GOD\u3001ADMIN\u3001DBA\u3001USER \u6216\u8005 GUEST \u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u9875\u9762\u4e0a\u8fd0\u884c nGQL \u8bed\u53e5\u8bfb\u53d6\u6570\u636e\u6216\u8005\u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u4e0a\u8fdb\u884c\u56fe\u63a2\u7d22\u6216\u6570\u636e\u5206\u6790\u3002","title":"\u8fde\u63a5\u6570\u636e\u5e93"},{"location":"nebula-studio/deploy-connect/st-ug-connect/#_1","text":"\u5728 Nebula Graph Cloud Service \u4e0a\uff0c\u521b\u5efa Nebula Graph \u5b9e\u4f8b\u540e\uff0c\u60a8\u53ef\u4ee5\u4e00\u952e\u76f4\u8fde\u4e91\u670d\u52a1\u7248 Studio\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002\u4f46\u662f\uff0c\u5bf9\u4e8e Docker \u7248 Studio\uff0c\u5728\u6210\u529f\u542f\u52a8 Studio \u540e\uff0c\u60a8\u9700\u8981\u914d\u7f6e\u8fde\u63a5 Nebula Graph\u3002\u672c\u6587\u4e3b\u8981\u63cf\u8ff0 Docker \u7248 Studio \u5982\u4f55\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\u3002","title":"\u8fde\u63a5\u6570\u636e\u5e93"},{"location":"nebula-studio/deploy-connect/st-ug-connect/#_2","text":"\u5728\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Docker \u7248 Studio \u5df2\u7ecf\u542f\u52a8\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u90e8\u7f72 Studio \u3002 Nebula Graph \u7684 Graph \u670d\u52a1\u672c\u673a IP \u5730\u5740\u4ee5\u53ca\u670d\u52a1\u6240\u7528\u7aef\u53e3\u3002\u9ed8\u8ba4\u7aef\u53e3\u4e3a 3699 \u3002 Nebula Graph \u6570\u636e\u5e93\u767b\u5f55\u8d26\u53f7\u4fe1\u606f\uff0c\u5305\u62ec\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 \u8bf4\u660e \uff1a\u5982\u679c Nebula Graph \u5df2\u7ecf\u542f\u7528\u4e86\u8eab\u4efd\u9a8c\u8bc1\uff0c\u5e76\u4e14\u5df2\u7ecf\u521b\u5efa\u4e86\u4e0d\u540c\u89d2\u8272\u7684\u7528\u6237\uff0c\u60a8\u53ea\u80fd\u4f7f\u7528\u88ab\u5206\u914d\u5230\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u767b\u5f55\u6570\u636e\u5e93\u3002\u5982\u679c\u672a\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u7528\u6237\u540d\uff08 user \uff09\u548c\u9ed8\u8ba4\u5bc6\u7801\uff08 password \uff09\u767b\u5f55\u6570\u636e\u5e93\u3002\u5173\u4e8e\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/deploy-connect/st-ug-connect/#_3","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\uff1a \u5728 Studio \u7684 \u914d\u7f6e\u6570\u636e\u5e93 \u9875\u9762\u4e0a\uff0c\u8f93\u5165\u4ee5\u4e0b\u4fe1\u606f\uff1a Host \uff1a\u586b\u5199 Nebula Graph \u7684 Graph \u670d\u52a1\u672c\u673a IP \u5730\u5740\u53ca\u7aef\u53e3\u3002\u683c\u5f0f\u4e3a ip:port \u3002\u5982\u679c\u7aef\u53e3\u672a\u4fee\u6539\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 3699 \u3002 \u8bf4\u660e \uff1a\u5373\u4f7f Nebula Graph \u6570\u636e\u5e93\u4e0e Studio \u90e8\u7f72\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u60a8\u4e5f\u5fc5\u987b\u5728 Host \u5b57\u6bb5\u586b\u5199\u8fd9\u53f0\u673a\u5668\u7684\u672c\u673a IP \u5730\u5740\uff0c\u800c\u4e0d\u662f 127.0.0.1 \u6216\u8005 localhost \u3002 \u7528\u6237\u540d \u548c \u5bc6\u7801 \uff1a\u6839\u636e Nebula Graph \u7684\u8eab\u4efd\u9a8c\u8bc1\u8bbe\u7f6e\u586b\u5199\u767b\u5f55\u8d26\u53f7\u548c\u5bc6\u7801\u3002 \u5982\u679c\u672a\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u53ef\u4ee5\u586b\u5199\u9ed8\u8ba4\u7528\u6237\u540d user \u548c\u9ed8\u8ba4\u5bc6\u7801 password \u3002 \u5982\u679c\u5df2\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u4f46\u662f\u672a\u521b\u5efa\u8d26\u53f7\u4fe1\u606f\uff0c\u60a8\u53ea\u80fd\u4ee5 GOD \u89d2\u8272\u767b\u5f55\uff0c\u5fc5\u987b\u586b\u5199 root \u53ca\u5bf9\u5e94\u7684\u5bc6\u7801 nebula \u3002 \u5982\u679c\u5df2\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u540c\u65f6\u53c8\u521b\u5efa\u4e86\u4e0d\u540c\u7684\u7528\u6237\u5e76\u5206\u914d\u4e86\u89d2\u8272\uff0c\u4e0d\u540c\u89d2\u8272\u7684\u7528\u6237\u4f7f\u7528\u81ea\u5df1\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u767b\u5f55\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u70b9\u51fb \u8fde\u63a5 \u6309\u94ae\u3002 \u5982\u679c\u60a8\u80fd\u770b\u5230\u5982\u4e0b\u56fe\u6240\u793a\u7684\u754c\u9762\uff0c\u8868\u793a\u60a8\u5df2\u7ecf\u6210\u529f\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u4e00\u6b21\u8fde\u63a5\u4f1a\u8bdd\u6301\u7eed 30 \u5206\u949f\u3002\u5982\u679c\u60a8\u8d85\u8fc7 30 \u5206\u949f\u6ca1\u6709\u64cd\u4f5c\uff0c\u4f1a\u8bdd\u5373\u65ad\u5f00\uff0c\u60a8\u9700\u8981\u91cd\u65b0\u767b\u5f55\u6570\u636e\u5e93\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-studio/deploy-connect/st-ug-connect/#_4","text":"\u6210\u529f\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\u540e\uff0c\u6839\u636e\u8d26\u53f7\u7684\u6743\u9650\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5982\u679c\u60a8\u4ee5\u62e5\u6709 GOD \u6216\u8005 ADMIN \u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u53ef\u4ee5\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u9875\u9762\u7ba1\u7406 Schema\u3002 \u5982\u679c\u60a8\u4ee5\u62e5\u6709 GOD\u3001ADMIN\u3001DBA \u6216\u8005 USER \u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u53ef\u4ee5 \u6279\u91cf\u5bfc\u5165\u6570\u636e \u6216\u8005\u5728 \u63a7\u5236\u53f0 \u9875\u9762\u4e0a\u8fd0\u884c nGQL \u8bed\u53e5\u63d2\u5165\u6570\u636e\u3002 \u5982\u679c\u60a8\u4ee5\u62e5\u6709 GOD\u3001ADMIN\u3001DBA\u3001USER \u6216\u8005 GUEST \u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u9875\u9762\u4e0a\u8fd0\u884c nGQL \u8bed\u53e5\u8bfb\u53d6\u6570\u636e\u6216\u8005\u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u4e0a\u8fdb\u884c\u56fe\u63a2\u7d22\u6216\u6570\u636e\u5206\u6790\u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/deploy-connect/st-ug-deploy/","text":"\u90e8\u7f72 Studio \u00b6 \u4e91\u670d\u52a1\u7248 Studio \u53ea\u80fd\u5728 Nebula Graph Cloud Service \u4e0a\u4f7f\u7528\u3002\u5f53\u60a8\u5728 Nebula Graph Cloud Service \u4e0a\u521b\u5efa Nebula Graph \u5b9e\u4f8b\u65f6\u5373\u81ea\u52a8\u5b8c\u6210\u4e91\u670d\u52a1\u7248\u672c Studio \u7684\u90e8\u7f72\uff0c\u4e00\u952e\u76f4\u8fde\u5373\u53ef\u4f7f\u7528\uff0c\u4e0d\u9700\u8981\u81ea\u5df1\u90e8\u7f72\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u300aNebula Graph Cloud Service \u7528\u6237\u624b\u518c\u300b \u3002\u4f46\u662f\uff0c\u60a8\u9700\u8981\u81ea\u5df1\u90e8\u7f72 Docker \u7248 Studio\u3002\u672c\u6587\u63cf\u8ff0\u5982\u4f55\u90e8\u7f72 Docker \u7248 Studio\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728\u90e8\u7f72 Docker \u7248 Studio \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Nebula Graph \u670d\u52a1\u5df2\u7ecf\u90e8\u7f72\u5e76\u542f\u52a8\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300aNebula Graph \u7528\u6237\u624b\u518c\u300b \u3002 \u8bf4\u660e \uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528\u591a\u79cd\u65b9\u5f0f\u90e8\u7f72\u5e76\u542f\u52a8 Nebula Graph \u670d\u52a1\u3002\u5982\u679c\u60a8\u521a\u5f00\u59cb\u4f7f\u7528 Nebula Graph\uff0c\u5efa\u8bae\u60a8\u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u3002 \u5728\u5373\u5c06\u8fd0\u884c Docker \u7248 Studio \u7684\u673a\u5668\u4e0a\u5b89\u88c5\u5e76\u542f\u52a8 Docker Compose\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Docker Compose \u6587\u6863 \u3002 \uff08\u53ef\u9009\uff09\u5728\u4e2d\u56fd\u5927\u9646\u4ece Docker Hub \u62c9\u53d6 Docker \u955c\u50cf\u7684\u901f\u5ea6\u53ef\u80fd\u6bd4\u8f83\u6162\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 registry-mirrors \u53c2\u6570\u914d\u7f6e\u52a0\u901f\u955c\u50cf\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u8981\u4f7f\u7528 Docker \u4e2d\u56fd\u533a\u5b98\u65b9\u955c\u50cf\u3001\u7f51\u6613\u955c\u50cf\u548c\u4e2d\u56fd\u79d1\u6280\u5927\u5b66\u7684\u955c\u50cf\uff0c\u5219\u6309\u4ee5\u4e0b\u683c\u5f0f\u914d\u7f6e registry-mirrors \u53c2\u6570\uff1a { \"registry-mirrors\" : [ \"https://registry.docker-cn.com\" , \"http://hub-mirror.c.163.com\" , \"https://docker.mirrors.ustc.edu.cn\" ] } \u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\u548c\u65b9\u6cd5\u56e0\u60a8\u7684\u64cd\u4f5c\u7cfb\u7edf\u548c/\u6216 Docker Desktop \u7248\u672c\u800c\u5f02\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Docker Daemon \u914d\u7f6e\u6587\u6863 \u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u5728\u547d\u4ee4\u884c\u5de5\u5177\u4e2d\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f9d\u6b21\u8fd0\u884c\u547d\u4ee4\uff0c\u90e8\u7f72\u5e76\u542f\u52a8 Docker \u7248 Studio\uff1a \u4e0b\u8f7d Studio \u7684\u90e8\u7f72\u914d\u7f6e\u6587\u4ef6\u3002 git clone https://github.com/vesoft-inc/nebula-web-docker.git \u5207\u6362\u5230 nebula-web-docker \u76ee\u5f55\u3002 cd nebula-web-docker \u62c9\u53d6 Studio \u7684 Docker \u955c\u50cf\u3002 docker-compose pull \u6784\u5efa\u5e76\u542f\u52a8 Studio \u670d\u52a1\u3002\u5176\u4e2d\uff0c -d \u8868\u793a\u5728\u540e\u53f0\u8fd0\u884c\u670d\u52a1\u5bb9\u5668\u3002 docker-compose up -d \u5f53\u5c4f\u5e55\u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\u65f6\uff0c\u8868\u793a Docker \u7248 Studio \u5df2\u7ecf\u6210\u529f\u542f\u52a8\u3002 Creating docker_importer_1 ... done Creating docker_client_1 ... done Creating docker_web_1 ... done Creating docker_nginx_1 ... done \u542f\u52a8\u6210\u529f\u540e\uff0c\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u8f93\u5165 http://ip address:7001 \u3002 \u8bf4\u660e \uff1a\u5728\u8fd0\u884c Docker \u7248 Studio \u7684\u673a\u5668\u4e0a\uff0c\u60a8\u53ef\u4ee5\u8fd0\u884c ifconfig \u6216\u8005 ipconfig \u83b7\u53d6\u672c\u673a IP \u5730\u5740\u3002\u5982\u679c\u60a8\u4f7f\u7528\u8fd9\u53f0\u673a\u5668\u8bbf\u95ee Studio\uff0c\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u91cc\u8f93\u5165 http://localhost:7001 \u3002 \u5982\u679c\u60a8\u5728\u6d4f\u89c8\u5668\u7a97\u53e3\u4e2d\u80fd\u770b\u5230\u4ee5\u4e0b\u767b\u5f55\u754c\u9762\uff0c\u8868\u793a\u60a8\u5df2\u7ecf\u6210\u529f\u90e8\u7f72\u5e76\u542f\u52a8 Studio\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u8fdb\u5165 Studio \u767b\u5f55\u754c\u9762\u540e\uff0c\u60a8\u9700\u8981\u8fde\u63a5 Nebula Graph\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u8fde\u63a5\u6570\u636e\u5e93 \u3002","title":"\u90e8\u7f72 Studio"},{"location":"nebula-studio/deploy-connect/st-ug-deploy/#studio","text":"\u4e91\u670d\u52a1\u7248 Studio \u53ea\u80fd\u5728 Nebula Graph Cloud Service \u4e0a\u4f7f\u7528\u3002\u5f53\u60a8\u5728 Nebula Graph Cloud Service \u4e0a\u521b\u5efa Nebula Graph \u5b9e\u4f8b\u65f6\u5373\u81ea\u52a8\u5b8c\u6210\u4e91\u670d\u52a1\u7248\u672c Studio \u7684\u90e8\u7f72\uff0c\u4e00\u952e\u76f4\u8fde\u5373\u53ef\u4f7f\u7528\uff0c\u4e0d\u9700\u8981\u81ea\u5df1\u90e8\u7f72\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u300aNebula Graph Cloud Service \u7528\u6237\u624b\u518c\u300b \u3002\u4f46\u662f\uff0c\u60a8\u9700\u8981\u81ea\u5df1\u90e8\u7f72 Docker \u7248 Studio\u3002\u672c\u6587\u63cf\u8ff0\u5982\u4f55\u90e8\u7f72 Docker \u7248 Studio\u3002","title":"\u90e8\u7f72 Studio"},{"location":"nebula-studio/deploy-connect/st-ug-deploy/#_1","text":"\u5728\u90e8\u7f72 Docker \u7248 Studio \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Nebula Graph \u670d\u52a1\u5df2\u7ecf\u90e8\u7f72\u5e76\u542f\u52a8\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300aNebula Graph \u7528\u6237\u624b\u518c\u300b \u3002 \u8bf4\u660e \uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528\u591a\u79cd\u65b9\u5f0f\u90e8\u7f72\u5e76\u542f\u52a8 Nebula Graph \u670d\u52a1\u3002\u5982\u679c\u60a8\u521a\u5f00\u59cb\u4f7f\u7528 Nebula Graph\uff0c\u5efa\u8bae\u60a8\u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u3002 \u5728\u5373\u5c06\u8fd0\u884c Docker \u7248 Studio \u7684\u673a\u5668\u4e0a\u5b89\u88c5\u5e76\u542f\u52a8 Docker Compose\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Docker Compose \u6587\u6863 \u3002 \uff08\u53ef\u9009\uff09\u5728\u4e2d\u56fd\u5927\u9646\u4ece Docker Hub \u62c9\u53d6 Docker \u955c\u50cf\u7684\u901f\u5ea6\u53ef\u80fd\u6bd4\u8f83\u6162\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 registry-mirrors \u53c2\u6570\u914d\u7f6e\u52a0\u901f\u955c\u50cf\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u8981\u4f7f\u7528 Docker \u4e2d\u56fd\u533a\u5b98\u65b9\u955c\u50cf\u3001\u7f51\u6613\u955c\u50cf\u548c\u4e2d\u56fd\u79d1\u6280\u5927\u5b66\u7684\u955c\u50cf\uff0c\u5219\u6309\u4ee5\u4e0b\u683c\u5f0f\u914d\u7f6e registry-mirrors \u53c2\u6570\uff1a { \"registry-mirrors\" : [ \"https://registry.docker-cn.com\" , \"http://hub-mirror.c.163.com\" , \"https://docker.mirrors.ustc.edu.cn\" ] } \u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\u548c\u65b9\u6cd5\u56e0\u60a8\u7684\u64cd\u4f5c\u7cfb\u7edf\u548c/\u6216 Docker Desktop \u7248\u672c\u800c\u5f02\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Docker Daemon \u914d\u7f6e\u6587\u6863 \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/deploy-connect/st-ug-deploy/#_2","text":"\u5728\u547d\u4ee4\u884c\u5de5\u5177\u4e2d\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f9d\u6b21\u8fd0\u884c\u547d\u4ee4\uff0c\u90e8\u7f72\u5e76\u542f\u52a8 Docker \u7248 Studio\uff1a \u4e0b\u8f7d Studio \u7684\u90e8\u7f72\u914d\u7f6e\u6587\u4ef6\u3002 git clone https://github.com/vesoft-inc/nebula-web-docker.git \u5207\u6362\u5230 nebula-web-docker \u76ee\u5f55\u3002 cd nebula-web-docker \u62c9\u53d6 Studio \u7684 Docker \u955c\u50cf\u3002 docker-compose pull \u6784\u5efa\u5e76\u542f\u52a8 Studio \u670d\u52a1\u3002\u5176\u4e2d\uff0c -d \u8868\u793a\u5728\u540e\u53f0\u8fd0\u884c\u670d\u52a1\u5bb9\u5668\u3002 docker-compose up -d \u5f53\u5c4f\u5e55\u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\u65f6\uff0c\u8868\u793a Docker \u7248 Studio \u5df2\u7ecf\u6210\u529f\u542f\u52a8\u3002 Creating docker_importer_1 ... done Creating docker_client_1 ... done Creating docker_web_1 ... done Creating docker_nginx_1 ... done \u542f\u52a8\u6210\u529f\u540e\uff0c\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u8f93\u5165 http://ip address:7001 \u3002 \u8bf4\u660e \uff1a\u5728\u8fd0\u884c Docker \u7248 Studio \u7684\u673a\u5668\u4e0a\uff0c\u60a8\u53ef\u4ee5\u8fd0\u884c ifconfig \u6216\u8005 ipconfig \u83b7\u53d6\u672c\u673a IP \u5730\u5740\u3002\u5982\u679c\u60a8\u4f7f\u7528\u8fd9\u53f0\u673a\u5668\u8bbf\u95ee Studio\uff0c\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u91cc\u8f93\u5165 http://localhost:7001 \u3002 \u5982\u679c\u60a8\u5728\u6d4f\u89c8\u5668\u7a97\u53e3\u4e2d\u80fd\u770b\u5230\u4ee5\u4e0b\u767b\u5f55\u754c\u9762\uff0c\u8868\u793a\u60a8\u5df2\u7ecf\u6210\u529f\u90e8\u7f72\u5e76\u542f\u52a8 Studio\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-studio/deploy-connect/st-ug-deploy/#_3","text":"\u8fdb\u5165 Studio \u767b\u5f55\u754c\u9762\u540e\uff0c\u60a8\u9700\u8981\u8fde\u63a5 Nebula Graph\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u8fde\u63a5\u6570\u636e\u5e93 \u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/deploy-connect/st-ug-reset-connection/","text":"\u6e05\u9664\u8fde\u63a5 \u00b6 \u4f7f\u7528\u4e91\u670d\u52a1\u7248 Studio \u65f6\uff0c\u60a8\u4e0d\u80fd\u6e05\u9664\u8fde\u63a5\u3002 \u4f7f\u7528 Docker \u7248 Studio \u65f6\uff0c\u5982\u679c\u60a8\u9700\u8981\u91cd\u65b0\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u6e05\u9664\u5f53\u524d\u8fde\u63a5\u540e\u518d\u91cd\u65b0\u914d\u7f6e\u6570\u636e\u5e93\u3002 \u5f53 Docker \u7248 Studio \u8fd8\u8fde\u63a5\u5728\u67d0\u4e2a Nebula Graph \u6570\u636e\u5e93\u65f6\uff0c\u5728\u5de5\u5177\u680f\u4e2d\uff0c\u9009\u62e9 \u8bbe\u7f6e > \u6e05\u9664\u8fde\u63a5 \u3002\u4e4b\u540e\uff0c\u5982\u679c\u6d4f\u89c8\u5668\u4e0a\u663e\u793a \u914d\u7f6e\u6570\u636e\u5e93 \u9875\u9762\uff0c\u8868\u793a Studio \u5df2\u7ecf\u6210\u529f\u65ad\u5f00\u4e86\u4e0e Nebula Graph \u6570\u636e\u5e93\u7684\u8fde\u63a5\u3002","title":"\u6e05\u9664\u8fde\u63a5"},{"location":"nebula-studio/deploy-connect/st-ug-reset-connection/#_1","text":"\u4f7f\u7528\u4e91\u670d\u52a1\u7248 Studio \u65f6\uff0c\u60a8\u4e0d\u80fd\u6e05\u9664\u8fde\u63a5\u3002 \u4f7f\u7528 Docker \u7248 Studio \u65f6\uff0c\u5982\u679c\u60a8\u9700\u8981\u91cd\u65b0\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u6e05\u9664\u5f53\u524d\u8fde\u63a5\u540e\u518d\u91cd\u65b0\u914d\u7f6e\u6570\u636e\u5e93\u3002 \u5f53 Docker \u7248 Studio \u8fd8\u8fde\u63a5\u5728\u67d0\u4e2a Nebula Graph \u6570\u636e\u5e93\u65f6\uff0c\u5728\u5de5\u5177\u680f\u4e2d\uff0c\u9009\u62e9 \u8bbe\u7f6e > \u6e05\u9664\u8fde\u63a5 \u3002\u4e4b\u540e\uff0c\u5982\u679c\u6d4f\u89c8\u5668\u4e0a\u663e\u793a \u914d\u7f6e\u6570\u636e\u5e93 \u9875\u9762\uff0c\u8868\u793a Studio \u5df2\u7ecf\u6210\u529f\u65ad\u5f00\u4e86\u4e0e Nebula Graph \u6570\u636e\u5e93\u7684\u8fde\u63a5\u3002","title":"\u6e05\u9664\u8fde\u63a5"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/","text":"\u64cd\u4f5c\u8fb9\u7c7b\u578b \u00b6 \u5728 Nebula Graph \u6570\u636e\u5e93\u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u540e\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u521b\u5efa\u8fb9\u7c7b\u578b\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u8fb9\u7c7b\u578b\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u8fb9\u7c7b\u578b\u3002 \u652f\u6301\u7248\u672c \u00b6 Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728 Studio \u4e0a\u64cd\u4f5c\u8fb9\u7c7b\u578b\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u56fe\u7a7a\u95f4\u5df2\u7ecf\u521b\u5efa\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216\u8005 DBA \u7684\u6743\u9650\u3002 \u521b\u5efa\u8fb9\u7c7b\u578b \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u8fb9\u7c7b\u578b\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u8fb9\u7c7b\u578b \u9875\u7b7e\uff0c\u5e76\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\u4e0a\uff0c\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a a. \u540d\u79f0 \uff1a\u6309\u63d0\u793a\u4fe1\u606f\u8f93\u5165\u5408\u89c4\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u8f93\u5165 action \u3002 b. \uff08\u53ef\u9009\uff09\u5982\u679c\u8fb9\u7c7b\u578b\u9700\u8981\u5c5e\u6027\uff0c\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a - \u8f93\u5165\u5c5e\u6027\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c\u3002 - \u5982\u679c\u4e00\u4e2a\u8fb9\u7c7b\u578b\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u5e76\u5b9a\u4e49\u5c5e\u6027\u3002 - \u5982\u679c\u8981\u5220\u9664\u67d0\u4e2a\u5c5e\u6027\uff0c\u5728\u8be5\u5c5e\u6027\u6240\u5728\u884c\uff0c\u70b9\u51fb \u56fe\u6807\u3002 c. \uff08\u53ef\u9009\uff09\u8fb9\u7c7b\u578b\u672a\u8bbe\u7f6e\u7d22\u5f15\u65f6\uff0c\u60a8\u53ef\u4ee5\u8bbe\u7f6e TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\u8bbe\u7f6e TTL_COL \u548c TTL_DURATION \u53c2\u6570\u4fe1\u606f\u3002\u5173\u4e8e\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 TTL \u914d\u7f6e \u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684nGQL\u8bed\u53e5 \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4e0e\u4e0a\u8ff0\u914d\u7f6e\u7b49\u4ef7\u7684 nGQL \u8bed\u53e5\u3002 \u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u8fb9\u7c7b\u578b\u521b\u5efa\u6210\u529f\uff0c \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4f1a\u663e\u793a\u8fd9\u4e2a\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u5217\u8868\u3002 \u4fee\u6539\u8fb9\u7c7b\u578b \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u4fee\u6539\u8fb9\u7c7b\u578b\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5b8c\u6210\u56fe\u7a7a\u95f4\u5207\u6362\u3002 \u70b9\u51fb \u8fb9\u7c7b\u578b \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u7f16\u8f91 \u9875\u9762\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5982\u679c\u8981\u4fee\u6539\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u7f16\u8f91 \uff0c\u518d\u4fee\u6539\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u6216\u8005\u9ed8\u8ba4\u503c\u3002\u4fee\u6539\u5b8c\u6210\u540e\uff0c\u70b9\u51fb \u786e\u8ba4 \u6216 \u53d6\u6d88 \u3002 \u5982\u679c\u8981\u5220\u9664\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u5220\u9664 \uff0c\u7ecf\u786e\u8ba4\u540e\uff0c\u5220\u9664\u5c5e\u6027\u3002 \u5982\u679c\u8981\u6dfb\u52a0\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u6dfb\u52a0\u5c5e\u6027\u4fe1\u606f\u3002 \u5982\u679c\u8981\u4fee\u6539 TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u4e0a\uff0c\u4fee\u6539\u6216 TTL_COL \u548c TTL_DURATION \u8bbe\u7f6e\u3002 \u5982\u679c\u8981\u5220\u9664\u6240\u6709\u5df2\u7ecf\u914d\u7f6e\u7684 TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u53d6\u6d88\u9009\u62e9\u3002 \u5982\u679c\u8981\u8bbe\u7f6e TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5f00\u59cb\u8bbe\u7f6e TTL\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684nGQL\u8bed\u53e5 \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4fee\u6539\u540e\u7684 nGQL \u8bed\u53e5\u3002 \u5220\u9664\u8fb9\u7c7b\u578b \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u8fb9\u7c7b\u578b\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u8fb9\u7c7b\u578b \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u8fb9\u7c7b\u578b\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u9010\u6761\u63d2\u5165\u8fb9\u6570\u636e\uff0c\u6216\u8005\u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\u6279\u91cf\u63d2\u5165\u8fb9\u6570\u636e\u3002","title":"\u64cd\u4f5c\u8fb9\u7c7b\u578b"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_1","text":"\u5728 Nebula Graph \u6570\u636e\u5e93\u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u540e\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u521b\u5efa\u8fb9\u7c7b\u578b\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u8fb9\u7c7b\u578b\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u8fb9\u7c7b\u578b\u3002","title":"\u64cd\u4f5c\u8fb9\u7c7b\u578b"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_2","text":"Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002","title":"\u652f\u6301\u7248\u672c"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_3","text":"\u5728 Studio \u4e0a\u64cd\u4f5c\u8fb9\u7c7b\u578b\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u56fe\u7a7a\u95f4\u5df2\u7ecf\u521b\u5efa\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216\u8005 DBA \u7684\u6743\u9650\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_4","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u8fb9\u7c7b\u578b\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u8fb9\u7c7b\u578b \u9875\u7b7e\uff0c\u5e76\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\u4e0a\uff0c\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a a. \u540d\u79f0 \uff1a\u6309\u63d0\u793a\u4fe1\u606f\u8f93\u5165\u5408\u89c4\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u8f93\u5165 action \u3002 b. \uff08\u53ef\u9009\uff09\u5982\u679c\u8fb9\u7c7b\u578b\u9700\u8981\u5c5e\u6027\uff0c\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a - \u8f93\u5165\u5c5e\u6027\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c\u3002 - \u5982\u679c\u4e00\u4e2a\u8fb9\u7c7b\u578b\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u5e76\u5b9a\u4e49\u5c5e\u6027\u3002 - \u5982\u679c\u8981\u5220\u9664\u67d0\u4e2a\u5c5e\u6027\uff0c\u5728\u8be5\u5c5e\u6027\u6240\u5728\u884c\uff0c\u70b9\u51fb \u56fe\u6807\u3002 c. \uff08\u53ef\u9009\uff09\u8fb9\u7c7b\u578b\u672a\u8bbe\u7f6e\u7d22\u5f15\u65f6\uff0c\u60a8\u53ef\u4ee5\u8bbe\u7f6e TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\u8bbe\u7f6e TTL_COL \u548c TTL_DURATION \u53c2\u6570\u4fe1\u606f\u3002\u5173\u4e8e\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 TTL \u914d\u7f6e \u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684nGQL\u8bed\u53e5 \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4e0e\u4e0a\u8ff0\u914d\u7f6e\u7b49\u4ef7\u7684 nGQL \u8bed\u53e5\u3002 \u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u8fb9\u7c7b\u578b\u521b\u5efa\u6210\u529f\uff0c \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4f1a\u663e\u793a\u8fd9\u4e2a\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u5217\u8868\u3002","title":"\u521b\u5efa\u8fb9\u7c7b\u578b"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_5","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u4fee\u6539\u8fb9\u7c7b\u578b\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5b8c\u6210\u56fe\u7a7a\u95f4\u5207\u6362\u3002 \u70b9\u51fb \u8fb9\u7c7b\u578b \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u7f16\u8f91 \u9875\u9762\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5982\u679c\u8981\u4fee\u6539\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u7f16\u8f91 \uff0c\u518d\u4fee\u6539\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u6216\u8005\u9ed8\u8ba4\u503c\u3002\u4fee\u6539\u5b8c\u6210\u540e\uff0c\u70b9\u51fb \u786e\u8ba4 \u6216 \u53d6\u6d88 \u3002 \u5982\u679c\u8981\u5220\u9664\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u5220\u9664 \uff0c\u7ecf\u786e\u8ba4\u540e\uff0c\u5220\u9664\u5c5e\u6027\u3002 \u5982\u679c\u8981\u6dfb\u52a0\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u6dfb\u52a0\u5c5e\u6027\u4fe1\u606f\u3002 \u5982\u679c\u8981\u4fee\u6539 TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u4e0a\uff0c\u4fee\u6539\u6216 TTL_COL \u548c TTL_DURATION \u8bbe\u7f6e\u3002 \u5982\u679c\u8981\u5220\u9664\u6240\u6709\u5df2\u7ecf\u914d\u7f6e\u7684 TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u53d6\u6d88\u9009\u62e9\u3002 \u5982\u679c\u8981\u8bbe\u7f6e TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5f00\u59cb\u8bbe\u7f6e TTL\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684nGQL\u8bed\u53e5 \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4fee\u6539\u540e\u7684 nGQL \u8bed\u53e5\u3002","title":"\u4fee\u6539\u8fb9\u7c7b\u578b"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_6","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u8fb9\u7c7b\u578b\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u8fb9\u7c7b\u578b \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002","title":"\u5220\u9664\u8fb9\u7c7b\u578b"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_7","text":"\u8fb9\u7c7b\u578b\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u9010\u6761\u63d2\u5165\u8fb9\u6570\u636e\uff0c\u6216\u8005\u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\u6279\u91cf\u63d2\u5165\u8fb9\u6570\u636e\u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/","text":"\u64cd\u4f5c\u7d22\u5f15 \u00b6 \u60a8\u53ef\u4ee5\u4e3a\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u521b\u5efa\u7d22\u5f15\uff0c\u4f7f\u5f97\u56fe\u67e5\u8be2\u65f6\u53ef\u4ee5\u4ece\u62e5\u6709\u5171\u540c\u5c5e\u6027\u7684\u540c\u4e00\u7c7b\u578b\u7684\u70b9\u6216\u8fb9\u5f00\u59cb\u904d\u5386\uff0c\u4f7f\u5927\u578b\u56fe\u7684\u67e5\u8be2\u66f4\u4e3a\u9ad8\u6548\u3002Nebula Graph \u652f\u6301\u4e24\u79cd\u7c7b\u578b\u7684\u7d22\u5f15\uff1a\u6807\u7b7e\u7d22\u5f15\u548c\u8fb9\u7c7b\u578b\u7d22\u5f15\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u7d22\u5f15\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u7d22\u5f15\u3002 \u8bf4\u660e \uff1a\u4e00\u822c\u5728\u521b\u5efa\u4e86\u6807\u7b7e\u6216\u8005\u8fb9\u7c7b\u578b\u4e4b\u540e\u5373\u53ef\u521b\u5efa\u7d22\u5f15\uff0c\u4f46\u662f\uff0c\u7d22\u5f15\u4f1a\u5f71\u54cd\u5199\u6027\u80fd\uff0c\u6240\u4ee5\uff0c\u5efa\u8bae\u60a8\u5148\u5bfc\u5165\u6570\u636e\uff0c\u518d\u6279\u91cf\u91cd\u5efa\u7d22\u5f15\u3002\u5173\u4e8e\u7d22\u5f15\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300anGQL \u7528\u6237\u624b\u518c\u300b \u3002 \u652f\u6301\u7248\u672c \u00b6 Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728 Studio \u4e0a\u64cd\u4f5c\u7d22\u5f15\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u56fe\u7a7a\u95f4\u3001\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u5df2\u7ecf\u521b\u5efa\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216\u8005 DBA \u7684\u6743\u9650\u3002 \u521b\u5efa\u7d22\u5f15 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u7d22\u5f15\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u7d22\u5f15 \u9875\u7b7e\uff0c\u518d\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\u4e0a\uff0c\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a a. \u7d22\u5f15\u7c7b\u578b \uff1a\u786e\u8ba4\u6216\u4fee\u6539\u7d22\u5f15\u7c7b\u578b\uff0c\u5373 \u6807\u7b7e \u6216\u8005 \u8fb9\u7c7b\u578b \u3002\u672c\u793a\u4f8b\u4e2d\u9009\u62e9 \u8fb9\u7c7b\u578b \u3002 b. \u540d\u79f0 \uff1a\u9009\u62e9\u8981\u521b\u5efa\u7d22\u5f15\u7684\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\u9009\u62e9 action \u3002 c. \u7d22\u5f15\u540d\u79f0 \uff1a\u6309\u89c4\u5b9a\u6307\u5b9a\u7d22\u5f15\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\u8f93\u5165 action_index \u3002 d. \u7d22\u5f15\u5c5e\u6027 \uff1a\u70b9\u51fb \u6dfb\u52a0 \uff0c\u5728 \u9009\u62e9\u5173\u8054\u7684\u5c5e\u6027 \u5217\u8868\u91cc\u9009\u62e9\u9700\u8981\u7d22\u5f15\u7684\u5c5e\u6027\uff0c\u5e76\u70b9\u51fb \u786e\u5b9a \u6309\u94ae\u3002\u5982\u679c\u9700\u8981\u5173\u8054\u591a\u4e2a\u5c5e\u6027\uff0c\u91cd\u590d\u8fd9\u4e00\u6b65\u64cd\u4f5c\u3002\u60a8\u53ef\u4ee5\u6309\u754c\u9762\u63d0\u793a\u91cd\u6392\u7d22\u5f15\u5c5e\u6027\u7684\u987a\u5e8f\u3002\u672c\u793a\u4f8b\u4e2d\u9009\u62e9 label \u548c actionId \u3002 \u8bf4\u660e \uff1a\u7d22\u5f15\u5c5e\u6027\u7684\u987a\u5e8f\u4f1a\u5f71\u54cd LOOKUP \u8bed\u53e5\u7684\u67e5\u8be2\u7ed3\u679c\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300anGQL \u7528\u6237\u624b\u518c\u300b \u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684 nGQL \u9762\u677f\uff0c\u60a8\u80fd\u770b\u5230\u4e0e\u4e0a\u8ff0\u914d\u7f6e\u7b49\u4ef7\u7684 nGQL \u8bed\u53e5\u3002 \u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u7d22\u5f15\u521b\u5efa\u6210\u529f\uff0c \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4f1a\u663e\u793a\u8fd9\u4e2a\u7d22\u5f15\u7684\u5c5e\u6027\u5217\u8868\u3002 \u67e5\u770b\u7d22\u5f15 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u67e5\u770b\u7d22\u5f15\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u7d22\u5f15 \u9875\u7b7e\uff0c\u5728\u5217\u8868\u5de6\u4e0a\u65b9\uff0c\u9009\u62e9\u9700\u8981\u67e5\u770b\u7684\u7d22\u5f15\u7c7b\u578b\u3002 \u5728\u5217\u8868\u4e2d\uff0c\u627e\u5230\u9700\u8981\u67e5\u770b\u7684\u7d22\u5f15\uff0c\u70b9\u51fb\u7d22\u5f15\u6240\u5728\u884c\u3002\u754c\u9762\u4e0a\u5373\u5217\u51fa\u7d22\u5f15\u76f8\u5173\u7684\u6240\u6709\u5c5e\u6027\u3002 \u5220\u9664\u7d22\u5f15 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u7d22\u5f15\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u7d22\u5f15 \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u7d22\u5f15\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002","title":"\u64cd\u4f5c\u7d22\u5f15"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/#_1","text":"\u60a8\u53ef\u4ee5\u4e3a\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u521b\u5efa\u7d22\u5f15\uff0c\u4f7f\u5f97\u56fe\u67e5\u8be2\u65f6\u53ef\u4ee5\u4ece\u62e5\u6709\u5171\u540c\u5c5e\u6027\u7684\u540c\u4e00\u7c7b\u578b\u7684\u70b9\u6216\u8fb9\u5f00\u59cb\u904d\u5386\uff0c\u4f7f\u5927\u578b\u56fe\u7684\u67e5\u8be2\u66f4\u4e3a\u9ad8\u6548\u3002Nebula Graph \u652f\u6301\u4e24\u79cd\u7c7b\u578b\u7684\u7d22\u5f15\uff1a\u6807\u7b7e\u7d22\u5f15\u548c\u8fb9\u7c7b\u578b\u7d22\u5f15\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u7d22\u5f15\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u7d22\u5f15\u3002 \u8bf4\u660e \uff1a\u4e00\u822c\u5728\u521b\u5efa\u4e86\u6807\u7b7e\u6216\u8005\u8fb9\u7c7b\u578b\u4e4b\u540e\u5373\u53ef\u521b\u5efa\u7d22\u5f15\uff0c\u4f46\u662f\uff0c\u7d22\u5f15\u4f1a\u5f71\u54cd\u5199\u6027\u80fd\uff0c\u6240\u4ee5\uff0c\u5efa\u8bae\u60a8\u5148\u5bfc\u5165\u6570\u636e\uff0c\u518d\u6279\u91cf\u91cd\u5efa\u7d22\u5f15\u3002\u5173\u4e8e\u7d22\u5f15\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300anGQL \u7528\u6237\u624b\u518c\u300b \u3002","title":"\u64cd\u4f5c\u7d22\u5f15"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/#_2","text":"Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002","title":"\u652f\u6301\u7248\u672c"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/#_3","text":"\u5728 Studio \u4e0a\u64cd\u4f5c\u7d22\u5f15\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u56fe\u7a7a\u95f4\u3001\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u5df2\u7ecf\u521b\u5efa\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216\u8005 DBA \u7684\u6743\u9650\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/#_4","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u7d22\u5f15\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u7d22\u5f15 \u9875\u7b7e\uff0c\u518d\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\u4e0a\uff0c\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a a. \u7d22\u5f15\u7c7b\u578b \uff1a\u786e\u8ba4\u6216\u4fee\u6539\u7d22\u5f15\u7c7b\u578b\uff0c\u5373 \u6807\u7b7e \u6216\u8005 \u8fb9\u7c7b\u578b \u3002\u672c\u793a\u4f8b\u4e2d\u9009\u62e9 \u8fb9\u7c7b\u578b \u3002 b. \u540d\u79f0 \uff1a\u9009\u62e9\u8981\u521b\u5efa\u7d22\u5f15\u7684\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\u9009\u62e9 action \u3002 c. \u7d22\u5f15\u540d\u79f0 \uff1a\u6309\u89c4\u5b9a\u6307\u5b9a\u7d22\u5f15\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\u8f93\u5165 action_index \u3002 d. \u7d22\u5f15\u5c5e\u6027 \uff1a\u70b9\u51fb \u6dfb\u52a0 \uff0c\u5728 \u9009\u62e9\u5173\u8054\u7684\u5c5e\u6027 \u5217\u8868\u91cc\u9009\u62e9\u9700\u8981\u7d22\u5f15\u7684\u5c5e\u6027\uff0c\u5e76\u70b9\u51fb \u786e\u5b9a \u6309\u94ae\u3002\u5982\u679c\u9700\u8981\u5173\u8054\u591a\u4e2a\u5c5e\u6027\uff0c\u91cd\u590d\u8fd9\u4e00\u6b65\u64cd\u4f5c\u3002\u60a8\u53ef\u4ee5\u6309\u754c\u9762\u63d0\u793a\u91cd\u6392\u7d22\u5f15\u5c5e\u6027\u7684\u987a\u5e8f\u3002\u672c\u793a\u4f8b\u4e2d\u9009\u62e9 label \u548c actionId \u3002 \u8bf4\u660e \uff1a\u7d22\u5f15\u5c5e\u6027\u7684\u987a\u5e8f\u4f1a\u5f71\u54cd LOOKUP \u8bed\u53e5\u7684\u67e5\u8be2\u7ed3\u679c\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300anGQL \u7528\u6237\u624b\u518c\u300b \u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684 nGQL \u9762\u677f\uff0c\u60a8\u80fd\u770b\u5230\u4e0e\u4e0a\u8ff0\u914d\u7f6e\u7b49\u4ef7\u7684 nGQL \u8bed\u53e5\u3002 \u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u7d22\u5f15\u521b\u5efa\u6210\u529f\uff0c \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4f1a\u663e\u793a\u8fd9\u4e2a\u7d22\u5f15\u7684\u5c5e\u6027\u5217\u8868\u3002","title":"\u521b\u5efa\u7d22\u5f15"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/#_5","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u67e5\u770b\u7d22\u5f15\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u7d22\u5f15 \u9875\u7b7e\uff0c\u5728\u5217\u8868\u5de6\u4e0a\u65b9\uff0c\u9009\u62e9\u9700\u8981\u67e5\u770b\u7684\u7d22\u5f15\u7c7b\u578b\u3002 \u5728\u5217\u8868\u4e2d\uff0c\u627e\u5230\u9700\u8981\u67e5\u770b\u7684\u7d22\u5f15\uff0c\u70b9\u51fb\u7d22\u5f15\u6240\u5728\u884c\u3002\u754c\u9762\u4e0a\u5373\u5217\u51fa\u7d22\u5f15\u76f8\u5173\u7684\u6240\u6709\u5c5e\u6027\u3002","title":"\u67e5\u770b\u7d22\u5f15"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/#_6","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u7d22\u5f15\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u7d22\u5f15 \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u7d22\u5f15\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002","title":"\u5220\u9664\u7d22\u5f15"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/","text":"\u64cd\u4f5c\u56fe\u7a7a\u95f4 \u00b6 Studio \u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u540e\uff0c\u60a8\u53ef\u4ee5\u521b\u5efa\u6216\u5220\u9664\u56fe\u7a7a\u95f4\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u56fe\u7a7a\u95f4\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u56fe\u7a7a\u95f4\u3002 \u652f\u6301\u7248\u672c \u00b6 Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u64cd\u4f5c\u56fe\u7a7a\u95f4\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u4fdd\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709\u521b\u5efa\u6216\u5220\u9664\u56fe\u7a7a\u95f4\u7684\u6743\u9650\uff0c\u5373\uff1a \u5982\u679c Nebula Graph \u672a\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\uff0c\u60a8\u4ee5\u9ed8\u8ba4\u7528\u6237\u540d user \u8d26\u53f7\u548c\u9ed8\u8ba4\u5bc6\u7801 password \u767b\u5f55\u3002 \u5982\u679c Nebula Graph \u5df2\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\uff0c\u60a8\u4ee5 root \u8d26\u53f7\u53ca\u5176\u5bc6\u7801\u767b\u5f55\u3002 \u521b\u5efa\u56fe\u7a7a\u95f4 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u56fe\u7a7a\u95f4\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728\u56fe\u7a7a\u95f4\u5217\u8868\u4e0a\u65b9\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\uff0c\u5b8c\u6210\u4ee5\u4e0b\u914d\u7f6e\uff1a a. \u540d\u79f0 \uff1a\u6307\u5b9a\u56fe\u7a7a\u95f4\u540d\u79f0\uff0c\u672c\u793a\u4f8b\u4e2d\u8bbe\u7f6e\u4e3a mooc_actions \u3002\u4e0d\u53ef\u4e0e\u5df2\u6709\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u91cd\u590d\u3002\u540d\u79f0\u547d\u540d\u89c4\u5219\uff0c\u53c2\u8003 \u300anGQL \u7528\u6237\u624b\u518c\u300b \u3002 b. \u9009\u586b\u53c2\u6570 \uff1a\u5206\u522b\u8bbe\u7f6e partition_num \u3001 replica_factor \u3001 charset \u6216\u8005 collate \u7684\u503c\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u56db\u4e2a\u53c2\u6570\u5206\u522b\u8bbe\u7f6e\u4e3a 10 \u3001 1 \u3001 utf8 \u548c utf8_bin \u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 CREATE SPACE \u8bed\u6cd5 \u3002 \u5728 \u5bf9\u5e94\u7684nGQL\u8bed\u53e5 \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4e0a\u8ff0\u8bbe\u7f6e\u5bf9\u5e94\u7684 nGQL \u8bed\u53e5\u3002\u5982\u4e0b\u6240\u793a\uff1a CREATE SPACE mooc_actions (partition_num = 10, replica_factor = 1, charset = utf8, collate = utf8_bin) \u914d\u7f6e\u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u9875\u9762\u56de\u5230 \u56fe\u7a7a\u95f4\u5217\u8868 \uff0c\u800c\u4e14\u5217\u8868\u4e2d\u663e\u793a\u521a\u521b\u5efa\u7684\u56fe\u7a7a\u95f4\u4fe1\u606f\uff0c\u8868\u793a\u56fe\u7a7a\u95f4\u521b\u5efa\u6210\u529f\u3002 \u5220\u9664\u56fe\u7a7a\u95f4 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u56fe\u7a7a\u95f4\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728\u56fe\u7a7a\u95f4\u5217\u8868\u91cc\uff0c\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u56fe\u7a7a\u95f4\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u786e\u8ba4\u4fe1\u606f\uff0c\u5e76\u70b9\u51fb \u786e\u8ba4 \u6309\u94ae\u3002 \u5220\u9664\u6210\u529f\u540e\uff0c\u9875\u9762\u56de\u5230 \u56fe\u7a7a\u95f4\u5217\u8868 \u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u56fe\u7a7a\u95f4\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb\u521b\u5efa\u6216\u4fee\u6539 Schema\uff0c\u5305\u62ec\uff1a \u64cd\u4f5c\u6807\u7b7e \u64cd\u4f5c\u8fb9\u7c7b\u578b \u64cd\u4f5c\u7d22\u5f15","title":"\u64cd\u4f5c\u56fe\u7a7a\u95f4"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/#_1","text":"Studio \u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u540e\uff0c\u60a8\u53ef\u4ee5\u521b\u5efa\u6216\u5220\u9664\u56fe\u7a7a\u95f4\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u56fe\u7a7a\u95f4\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u56fe\u7a7a\u95f4\u3002","title":"\u64cd\u4f5c\u56fe\u7a7a\u95f4"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/#_2","text":"Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002","title":"\u652f\u6301\u7248\u672c"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/#_3","text":"\u64cd\u4f5c\u56fe\u7a7a\u95f4\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u4fdd\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709\u521b\u5efa\u6216\u5220\u9664\u56fe\u7a7a\u95f4\u7684\u6743\u9650\uff0c\u5373\uff1a \u5982\u679c Nebula Graph \u672a\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\uff0c\u60a8\u4ee5\u9ed8\u8ba4\u7528\u6237\u540d user \u8d26\u53f7\u548c\u9ed8\u8ba4\u5bc6\u7801 password \u767b\u5f55\u3002 \u5982\u679c Nebula Graph \u5df2\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\uff0c\u60a8\u4ee5 root \u8d26\u53f7\u53ca\u5176\u5bc6\u7801\u767b\u5f55\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/#_4","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u56fe\u7a7a\u95f4\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728\u56fe\u7a7a\u95f4\u5217\u8868\u4e0a\u65b9\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\uff0c\u5b8c\u6210\u4ee5\u4e0b\u914d\u7f6e\uff1a a. \u540d\u79f0 \uff1a\u6307\u5b9a\u56fe\u7a7a\u95f4\u540d\u79f0\uff0c\u672c\u793a\u4f8b\u4e2d\u8bbe\u7f6e\u4e3a mooc_actions \u3002\u4e0d\u53ef\u4e0e\u5df2\u6709\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u91cd\u590d\u3002\u540d\u79f0\u547d\u540d\u89c4\u5219\uff0c\u53c2\u8003 \u300anGQL \u7528\u6237\u624b\u518c\u300b \u3002 b. \u9009\u586b\u53c2\u6570 \uff1a\u5206\u522b\u8bbe\u7f6e partition_num \u3001 replica_factor \u3001 charset \u6216\u8005 collate \u7684\u503c\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u56db\u4e2a\u53c2\u6570\u5206\u522b\u8bbe\u7f6e\u4e3a 10 \u3001 1 \u3001 utf8 \u548c utf8_bin \u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 CREATE SPACE \u8bed\u6cd5 \u3002 \u5728 \u5bf9\u5e94\u7684nGQL\u8bed\u53e5 \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4e0a\u8ff0\u8bbe\u7f6e\u5bf9\u5e94\u7684 nGQL \u8bed\u53e5\u3002\u5982\u4e0b\u6240\u793a\uff1a CREATE SPACE mooc_actions (partition_num = 10, replica_factor = 1, charset = utf8, collate = utf8_bin) \u914d\u7f6e\u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u9875\u9762\u56de\u5230 \u56fe\u7a7a\u95f4\u5217\u8868 \uff0c\u800c\u4e14\u5217\u8868\u4e2d\u663e\u793a\u521a\u521b\u5efa\u7684\u56fe\u7a7a\u95f4\u4fe1\u606f\uff0c\u8868\u793a\u56fe\u7a7a\u95f4\u521b\u5efa\u6210\u529f\u3002","title":"\u521b\u5efa\u56fe\u7a7a\u95f4"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/#_5","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u56fe\u7a7a\u95f4\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728\u56fe\u7a7a\u95f4\u5217\u8868\u91cc\uff0c\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u56fe\u7a7a\u95f4\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u786e\u8ba4\u4fe1\u606f\uff0c\u5e76\u70b9\u51fb \u786e\u8ba4 \u6309\u94ae\u3002 \u5220\u9664\u6210\u529f\u540e\uff0c\u9875\u9762\u56de\u5230 \u56fe\u7a7a\u95f4\u5217\u8868 \u3002","title":"\u5220\u9664\u56fe\u7a7a\u95f4"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/#_6","text":"\u56fe\u7a7a\u95f4\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb\u521b\u5efa\u6216\u4fee\u6539 Schema\uff0c\u5305\u62ec\uff1a \u64cd\u4f5c\u6807\u7b7e \u64cd\u4f5c\u8fb9\u7c7b\u578b \u64cd\u4f5c\u7d22\u5f15","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/","text":"\u64cd\u4f5c\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09 \u00b6 \u5728 Nebula Graph \u6570\u636e\u5e93\u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u540e\uff0c\u60a8\u9700\u8981\u521b\u5efa\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u6807\u7b7e\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u6807\u7b7e\u3002 \u652f\u6301\u7248\u672c \u00b6 Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728 Studio \u4e0a\u64cd\u4f5c\u6807\u7b7e\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u56fe\u7a7a\u95f4\u5df2\u7ecf\u521b\u5efa\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216\u8005 DBA \u7684\u6743\u9650\u3002 \u521b\u5efa\u6807\u7b7e \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u6807\u7b7e\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u6807\u7b7e \u9875\u7b7e\uff0c\u5e76\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\u4e0a\uff0c\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a a. \u540d\u79f0 \uff1a\u6309\u63d0\u793a\u4fe1\u606f\u8f93\u5165\u5408\u89c4\u7684\u6807\u7b7e\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u8f93\u5165 course \u3002 b. \uff08\u53ef\u9009\uff09\u5982\u679c\u6807\u7b7e\u9700\u8981\u5c5e\u6027\uff0c\u5728 \u5b9a\u4e49\u5c5e\u6027 \u6a21\u5757\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a - \u8f93\u5165\u5c5e\u6027\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c\u3002 - \u5982\u679c\u4e00\u4e2a\u6807\u7b7e\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u5e76\u5b9a\u4e49\u5c5e\u6027\u3002 - \u5982\u679c\u8981\u5220\u9664\u67d0\u4e2a\u5c5e\u6027\uff0c\u5728\u8be5\u5c5e\u6027\u6240\u5728\u884c\uff0c\u70b9\u51fb \u56fe\u6807\u3002 c. \uff08\u53ef\u9009\uff09\u6807\u7b7e\u672a\u8bbe\u7f6e\u7d22\u5f15\u65f6\uff0c\u60a8\u53ef\u4ee5\u8bbe\u7f6e TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u6a21\u5757\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\u8bbe\u7f6e TTL_COL \u548c TTL_DURATION \u53c2\u6570\u4fe1\u606f\u3002\u5173\u4e8e\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 TTL \u914d\u7f6e \u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684 nGQL \u9762\u677f\uff0c\u60a8\u80fd\u770b\u5230\u4e0e\u4e0a\u8ff0\u914d\u7f6e\u7b49\u4ef7\u7684 nGQL \u8bed\u53e5\u3002 \u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u6807\u7b7e\u521b\u5efa\u6210\u529f\uff0c \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4f1a\u663e\u793a\u8fd9\u4e2a\u6807\u7b7e\u7684\u5c5e\u6027\u5217\u8868\u3002 \u4fee\u6539\u6807\u7b7e \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u4fee\u6539\u6807\u7b7e\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u6807\u7b7e \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u6807\u7b7e\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u7f16\u8f91 \u9875\u9762\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5982\u679c\u8981\u4fee\u6539\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u7f16\u8f91 \uff0c\u518d\u4fee\u6539\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c\u3002\u4e4b\u540e\uff0c\u70b9\u51fb \u786e\u8ba4 \u6216\u8005 \u53d6\u6d88 \u5b8c\u6210\u4fee\u6539\u3002 \u5982\u679c\u8981\u5220\u9664\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u5220\u9664 \uff0c\u7ecf\u786e\u8ba4\u540e\uff0c\u5220\u9664\u5c5e\u6027\u3002 \u5982\u679c\u8981\u6dfb\u52a0\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u6dfb\u52a0\u5c5e\u6027\u4fe1\u606f\u3002\u8be6\u7ec6\u64cd\u4f5c\uff0c\u53c2\u8003 \u521b\u5efa\u6807\u7b7e\u9762\u677f\u3002 \u5982\u679c\u914d\u7f6e\u4e86 TTL\uff0c\u8981\u4fee\u6539 TTL \u4fe1\u606f\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u4e0a\uff0c\u4fee\u6539 TTL_COL \u548c TTL_DURATION \u914d\u7f6e\u3002 \u5982\u679c\u8981\u5220\u9664\u5df2\u7ecf\u914d\u7f6e\u7684 TTL \u4fe1\u606f\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u53d6\u6d88\u9009\u62e9\u3002 \u5982\u679c\u8981\u914d\u7f6e TTL \u4fe1\u606f\uff1a\u5728 \u4f7f\u7528TTL \u9762\u677f\u7684\u53f3\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5f00\u59cb\u8bbe\u7f6e TTL \u4fe1\u606f\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684 nGQL \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4fee\u6539\u540e\u7684 nGQL \u8bed\u53e5\u3002 \u5220\u9664\u6807\u7b7e \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u6807\u7b7e\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u6807\u7b7e \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u6807\u7b7e\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u6807\u7b7e\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u9010\u6761\u63d2\u5165\u70b9\u6570\u636e\uff0c\u6216\u8005\u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\u6279\u91cf\u63d2\u5165\u70b9\u6570\u636e\u3002","title":"\u64cd\u4f5c\u6807\u7b7e"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_1","text":"\u5728 Nebula Graph \u6570\u636e\u5e93\u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u540e\uff0c\u60a8\u9700\u8981\u521b\u5efa\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u6807\u7b7e\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u6807\u7b7e\u3002","title":"\u64cd\u4f5c\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_2","text":"Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002","title":"\u652f\u6301\u7248\u672c"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_3","text":"\u5728 Studio \u4e0a\u64cd\u4f5c\u6807\u7b7e\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u56fe\u7a7a\u95f4\u5df2\u7ecf\u521b\u5efa\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216\u8005 DBA \u7684\u6743\u9650\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_4","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u6807\u7b7e\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u6807\u7b7e \u9875\u7b7e\uff0c\u5e76\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\u4e0a\uff0c\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a a. \u540d\u79f0 \uff1a\u6309\u63d0\u793a\u4fe1\u606f\u8f93\u5165\u5408\u89c4\u7684\u6807\u7b7e\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u8f93\u5165 course \u3002 b. \uff08\u53ef\u9009\uff09\u5982\u679c\u6807\u7b7e\u9700\u8981\u5c5e\u6027\uff0c\u5728 \u5b9a\u4e49\u5c5e\u6027 \u6a21\u5757\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a - \u8f93\u5165\u5c5e\u6027\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c\u3002 - \u5982\u679c\u4e00\u4e2a\u6807\u7b7e\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u5e76\u5b9a\u4e49\u5c5e\u6027\u3002 - \u5982\u679c\u8981\u5220\u9664\u67d0\u4e2a\u5c5e\u6027\uff0c\u5728\u8be5\u5c5e\u6027\u6240\u5728\u884c\uff0c\u70b9\u51fb \u56fe\u6807\u3002 c. \uff08\u53ef\u9009\uff09\u6807\u7b7e\u672a\u8bbe\u7f6e\u7d22\u5f15\u65f6\uff0c\u60a8\u53ef\u4ee5\u8bbe\u7f6e TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u6a21\u5757\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\u8bbe\u7f6e TTL_COL \u548c TTL_DURATION \u53c2\u6570\u4fe1\u606f\u3002\u5173\u4e8e\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 TTL \u914d\u7f6e \u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684 nGQL \u9762\u677f\uff0c\u60a8\u80fd\u770b\u5230\u4e0e\u4e0a\u8ff0\u914d\u7f6e\u7b49\u4ef7\u7684 nGQL \u8bed\u53e5\u3002 \u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u6807\u7b7e\u521b\u5efa\u6210\u529f\uff0c \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4f1a\u663e\u793a\u8fd9\u4e2a\u6807\u7b7e\u7684\u5c5e\u6027\u5217\u8868\u3002","title":"\u521b\u5efa\u6807\u7b7e"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_5","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u4fee\u6539\u6807\u7b7e\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u6807\u7b7e \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u6807\u7b7e\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u7f16\u8f91 \u9875\u9762\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5982\u679c\u8981\u4fee\u6539\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u7f16\u8f91 \uff0c\u518d\u4fee\u6539\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c\u3002\u4e4b\u540e\uff0c\u70b9\u51fb \u786e\u8ba4 \u6216\u8005 \u53d6\u6d88 \u5b8c\u6210\u4fee\u6539\u3002 \u5982\u679c\u8981\u5220\u9664\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u5220\u9664 \uff0c\u7ecf\u786e\u8ba4\u540e\uff0c\u5220\u9664\u5c5e\u6027\u3002 \u5982\u679c\u8981\u6dfb\u52a0\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u6dfb\u52a0\u5c5e\u6027\u4fe1\u606f\u3002\u8be6\u7ec6\u64cd\u4f5c\uff0c\u53c2\u8003 \u521b\u5efa\u6807\u7b7e\u9762\u677f\u3002 \u5982\u679c\u914d\u7f6e\u4e86 TTL\uff0c\u8981\u4fee\u6539 TTL \u4fe1\u606f\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u4e0a\uff0c\u4fee\u6539 TTL_COL \u548c TTL_DURATION \u914d\u7f6e\u3002 \u5982\u679c\u8981\u5220\u9664\u5df2\u7ecf\u914d\u7f6e\u7684 TTL \u4fe1\u606f\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u53d6\u6d88\u9009\u62e9\u3002 \u5982\u679c\u8981\u914d\u7f6e TTL \u4fe1\u606f\uff1a\u5728 \u4f7f\u7528TTL \u9762\u677f\u7684\u53f3\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5f00\u59cb\u8bbe\u7f6e TTL \u4fe1\u606f\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684 nGQL \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4fee\u6539\u540e\u7684 nGQL \u8bed\u53e5\u3002","title":"\u4fee\u6539\u6807\u7b7e"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_6","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u6807\u7b7e\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u6807\u7b7e \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u6807\u7b7e\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002","title":"\u5220\u9664\u6807\u7b7e"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_7","text":"\u6807\u7b7e\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u9010\u6761\u63d2\u5165\u70b9\u6570\u636e\uff0c\u6216\u8005\u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\u6279\u91cf\u63d2\u5165\u70b9\u6570\u636e\u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/quick-start/st-ug-create-schema/","text":"\u521b\u5efa Schema \u00b6 \u5728 Nebula Graph \u4e2d\uff0c\u60a8\u5fc5\u987b\u5148\u6709 Schema\uff0c\u518d\u5411\u5176\u4e2d\u5199\u5165\u70b9\u6570\u636e\u548c\u8fb9\u6570\u636e\u3002\u672c\u6587\u63cf\u8ff0\u5982\u4f55\u4f7f\u7528 Nebula Graph \u7684 \u63a7\u5236\u53f0 \u6216 Schema \u529f\u80fd\u521b\u5efa Schema\u3002 \u8bf4\u660e \uff1a\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 nebula-console \u521b\u5efa Schema\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u548c Nebula Graph \u5feb\u901f\u5f00\u59cb \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728 Studio \u4e0a\u521b\u5efa Schema \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u60a8\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216 DBA \u6743\u9650\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u5185\u7f6e\u89d2\u8272 \u3002 \u60a8\u5df2\u7ecf\u89c4\u5212\u597d\u4e86 Schema \u7684\u8981\u7d20\u3002 \u5df2\u7ecf\u521b\u5efa\u4e86\u56fe\u7a7a\u95f4\u3002 \u8bf4\u660e \uff1a\u672c\u793a\u4f8b\u5047\u8bbe\u5df2\u7ecf\u521b\u5efa\u4e86\u56fe\u7a7a\u95f4\u3002\u5982\u679c\u60a8\u7684\u8d26\u53f7\u62e5\u6709 GOD \u6743\u9650\uff0c\u4e5f\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u6216 Schema \u4e0a\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002 \u4f7f\u7528 Schema \u7ba1\u7406\u529f\u80fd\u521b\u5efa Schema \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa Schema\uff1a \u521b\u5efa\u6807\u7b7e\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u64cd\u4f5c\u6807\u7b7e \u3002 \u521b\u5efa\u8fb9\u7c7b\u578b\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u64cd\u4f5c\u8fb9\u7c7b\u578b \u3002 \u4f7f\u7528\u63a7\u5236\u53f0\u521b\u5efa Schema \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 \u63a7\u5236\u53f0 \u521b\u5efa Schema\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u4f9d\u6b21\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 -- \u521b\u5efa\u6807\u7b7e user\uff0c\u5e26\u6709 1 \u4e2a\u5c5e\u6027 CREATE TAG user (userId int); -- \u521b\u5efa\u6807\u7b7e course\uff0c\u5e26\u6709\u4e24\u4e2a\u5c5e\u6027 CREATE TAG course (courseId int, courseName string); -- \u521b\u5efa\u8fb9\u7c7b\u578b\uff0c\u5e26\u6709 7 \u4e2a\u5c5e\u6027 CREATE EDGE action (actionId int, duration double, label bool, feature0 double, feature1 double, feature2 double, feature3 double); \u81f3\u6b64\uff0c\u60a8\u5df2\u7ecf\u5b8c\u6210\u4e86 Schema \u521b\u5efa\u3002\u60a8\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u8bed\u53e5\u67e5\u770b\u6807\u7b7e\u4e0e\u8fb9\u7c7b\u578b\u7684\u5b9a\u4e49\u662f\u5426\u6b63\u786e\u3001\u5b8c\u6574\u3002 -- \u5217\u51fa\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u6240\u6709\u6807\u7b7e SHOW TAGS; -- \u5217\u51fa\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u6240\u6709\u8fb9\u7c7b\u578b SHOW EDGES; -- \u67e5\u770b\u6bcf\u79cd\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u7ed3\u6784\u662f\u5426\u6b63\u786e DESCRIBE TAG user; DESCRIBE TAG course; DESCRIBE EDGE action; \u540e\u7eed\u64cd\u4f5c \u00b6 \u521b\u5efa Schema \u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb \u5bfc\u5165\u6570\u636e \u3002","title":"\u521b\u5efa Schema"},{"location":"nebula-studio/quick-start/st-ug-create-schema/#schema","text":"\u5728 Nebula Graph \u4e2d\uff0c\u60a8\u5fc5\u987b\u5148\u6709 Schema\uff0c\u518d\u5411\u5176\u4e2d\u5199\u5165\u70b9\u6570\u636e\u548c\u8fb9\u6570\u636e\u3002\u672c\u6587\u63cf\u8ff0\u5982\u4f55\u4f7f\u7528 Nebula Graph \u7684 \u63a7\u5236\u53f0 \u6216 Schema \u529f\u80fd\u521b\u5efa Schema\u3002 \u8bf4\u660e \uff1a\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 nebula-console \u521b\u5efa Schema\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u548c Nebula Graph \u5feb\u901f\u5f00\u59cb \u3002","title":"\u521b\u5efa Schema"},{"location":"nebula-studio/quick-start/st-ug-create-schema/#_1","text":"\u5728 Studio \u4e0a\u521b\u5efa Schema \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u60a8\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216 DBA \u6743\u9650\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u5185\u7f6e\u89d2\u8272 \u3002 \u60a8\u5df2\u7ecf\u89c4\u5212\u597d\u4e86 Schema \u7684\u8981\u7d20\u3002 \u5df2\u7ecf\u521b\u5efa\u4e86\u56fe\u7a7a\u95f4\u3002 \u8bf4\u660e \uff1a\u672c\u793a\u4f8b\u5047\u8bbe\u5df2\u7ecf\u521b\u5efa\u4e86\u56fe\u7a7a\u95f4\u3002\u5982\u679c\u60a8\u7684\u8d26\u53f7\u62e5\u6709 GOD \u6743\u9650\uff0c\u4e5f\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u6216 Schema \u4e0a\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/quick-start/st-ug-create-schema/#schema_schema","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa Schema\uff1a \u521b\u5efa\u6807\u7b7e\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u64cd\u4f5c\u6807\u7b7e \u3002 \u521b\u5efa\u8fb9\u7c7b\u578b\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u64cd\u4f5c\u8fb9\u7c7b\u578b \u3002","title":"\u4f7f\u7528 Schema \u7ba1\u7406\u529f\u80fd\u521b\u5efa Schema"},{"location":"nebula-studio/quick-start/st-ug-create-schema/#schema_1","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 \u63a7\u5236\u53f0 \u521b\u5efa Schema\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u4f9d\u6b21\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 -- \u521b\u5efa\u6807\u7b7e user\uff0c\u5e26\u6709 1 \u4e2a\u5c5e\u6027 CREATE TAG user (userId int); -- \u521b\u5efa\u6807\u7b7e course\uff0c\u5e26\u6709\u4e24\u4e2a\u5c5e\u6027 CREATE TAG course (courseId int, courseName string); -- \u521b\u5efa\u8fb9\u7c7b\u578b\uff0c\u5e26\u6709 7 \u4e2a\u5c5e\u6027 CREATE EDGE action (actionId int, duration double, label bool, feature0 double, feature1 double, feature2 double, feature3 double); \u81f3\u6b64\uff0c\u60a8\u5df2\u7ecf\u5b8c\u6210\u4e86 Schema \u521b\u5efa\u3002\u60a8\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u8bed\u53e5\u67e5\u770b\u6807\u7b7e\u4e0e\u8fb9\u7c7b\u578b\u7684\u5b9a\u4e49\u662f\u5426\u6b63\u786e\u3001\u5b8c\u6574\u3002 -- \u5217\u51fa\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u6240\u6709\u6807\u7b7e SHOW TAGS; -- \u5217\u51fa\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u6240\u6709\u8fb9\u7c7b\u578b SHOW EDGES; -- \u67e5\u770b\u6bcf\u79cd\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u7ed3\u6784\u662f\u5426\u6b63\u786e DESCRIBE TAG user; DESCRIBE TAG course; DESCRIBE EDGE action;","title":"\u4f7f\u7528\u63a7\u5236\u53f0\u521b\u5efa Schema"},{"location":"nebula-studio/quick-start/st-ug-create-schema/#_2","text":"\u521b\u5efa Schema \u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb \u5bfc\u5165\u6570\u636e \u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/quick-start/st-ug-explore/","text":"\u67e5\u8be2\u56fe\u6570\u636e \u00b6 \u5bfc\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 \u56fe\u63a2\u7d22 \u67e5\u8be2\u56fe\u6570\u636e\u3002 \u4ee5\u67e5\u8be2\u4ee3\u8868\u201cHistory of Chinese Women Through Time\u201d\u8bfe\u7a0b\u7684\u70b9\u7684\u5c5e\u6027\u4e3a\u4f8b\uff1a \u5728 \u63a7\u5236\u53f0 \u9875\u9762\uff1a\u8fd0\u884c FETCH PROP ON * hash(\"History of Chinese Women Through Time\"); \uff0c\u6570\u636e\u5e93\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u70b9\u6240\u6709\u5c5e\u6027\u4fe1\u606f\u3002\u8fd4\u56de\u7ed3\u679c\u540e\uff0c\u70b9\u51fb \u5bfc\u5165\u56fe\u63a2\u7d22 \u6309\u94ae\uff0c\u5c06\u70b9\u6570\u636e\u67e5\u8be2\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \u8fdb\u884c\u53ef\u89c6\u5316\u663e\u793a\u3002 \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\uff1a\u70b9\u51fb \u5f00\u59cb\u63a2\u7d22 \u6309\u94ae\uff0c\u5728 \u6307\u5b9aVID \u5bf9\u8bdd\u6846\u4e2d\uff0c\u8f93\u5165 \"History of Chinese Women Through Time\" \uff0c\u5728 VID\u9884\u5904\u7406 \u9009\u62e9 Hash \uff0c\u518d\u70b9\u51fb \u6dfb\u52a0 \u6309\u94ae\u3002 \u56fe\u63a2\u7d22 \u753b\u677f\u91cc\u4f1a\u663e\u793a\u8fd9\u4e2a\u70b9\uff0c\u5c06\u9f20\u6807\u79fb\u5230\u70b9\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u8fd9\u4e2a\u70b9\u6240\u6709\u5c5e\u6027\u4fe1\u606f\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002","title":"\u67e5\u8be2\u56fe\u6570\u636e"},{"location":"nebula-studio/quick-start/st-ug-explore/#_1","text":"\u5bfc\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 \u56fe\u63a2\u7d22 \u67e5\u8be2\u56fe\u6570\u636e\u3002 \u4ee5\u67e5\u8be2\u4ee3\u8868\u201cHistory of Chinese Women Through Time\u201d\u8bfe\u7a0b\u7684\u70b9\u7684\u5c5e\u6027\u4e3a\u4f8b\uff1a \u5728 \u63a7\u5236\u53f0 \u9875\u9762\uff1a\u8fd0\u884c FETCH PROP ON * hash(\"History of Chinese Women Through Time\"); \uff0c\u6570\u636e\u5e93\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u70b9\u6240\u6709\u5c5e\u6027\u4fe1\u606f\u3002\u8fd4\u56de\u7ed3\u679c\u540e\uff0c\u70b9\u51fb \u5bfc\u5165\u56fe\u63a2\u7d22 \u6309\u94ae\uff0c\u5c06\u70b9\u6570\u636e\u67e5\u8be2\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \u8fdb\u884c\u53ef\u89c6\u5316\u663e\u793a\u3002 \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\uff1a\u70b9\u51fb \u5f00\u59cb\u63a2\u7d22 \u6309\u94ae\uff0c\u5728 \u6307\u5b9aVID \u5bf9\u8bdd\u6846\u4e2d\uff0c\u8f93\u5165 \"History of Chinese Women Through Time\" \uff0c\u5728 VID\u9884\u5904\u7406 \u9009\u62e9 Hash \uff0c\u518d\u70b9\u51fb \u6dfb\u52a0 \u6309\u94ae\u3002 \u56fe\u63a2\u7d22 \u753b\u677f\u91cc\u4f1a\u663e\u793a\u8fd9\u4e2a\u70b9\uff0c\u5c06\u9f20\u6807\u79fb\u5230\u70b9\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u8fd9\u4e2a\u70b9\u6240\u6709\u5c5e\u6027\u4fe1\u606f\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002","title":"\u67e5\u8be2\u56fe\u6570\u636e"},{"location":"nebula-studio/quick-start/st-ug-import-data/","text":"\u5bfc\u5165\u6570\u636e \u00b6 \u51c6\u5907\u597d CSV \u6587\u4ef6\uff0c\u521b\u5efa\u4e86 Schema \u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\u5c06\u6240\u6709\u70b9\u548c\u8fb9\u6570\u636e\u4e0a\u4f20\u5230 Studio\uff0c\u7528\u4e8e\u6570\u636e\u67e5\u8be2\u3001\u56fe\u63a2\u7d22\u548c\u6570\u636e\u5206\u6790\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5bfc\u5165\u6570\u636e\u4e4b\u524d\uff0c\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 Nebula Graph \u6570\u636e\u5e93\u91cc\u5df2\u7ecf\u521b\u5efa\u4e86 Schema\u3002 CSV \u6587\u4ef6\u7b26\u5408 Schema \u8981\u6c42\u3002 \u60a8\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN\u3001DBA \u6216\u8005 USER \u7684\u6743\u9650\uff0c\u80fd\u5f80\u56fe\u7a7a\u95f4\u4e2d\u5199\u5165\u6570\u636e\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u5bfc\u5165\u6570\u636e\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u5bfc\u5165 \u9875\u7b7e\u3002 \u5728 \u9009\u62e9Space \u9875\u9762\uff0c\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\uff0c\u518d\u70b9\u51fb \u4e0b\u4e00\u6b65 \u6309\u94ae\u3002 \u5728 \u4e0a\u4f20\u6587\u4ef6 \u9875\u9762\uff0c\u70b9\u51fb \u4e0a\u4f20\u6587\u4ef6 \u6309\u94ae\uff0c\u5e76\u9009\u62e9\u9700\u8981\u7684 CSV \u6587\u4ef6\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 user.csv \u3001 course.csv \u548c actions.csv \u6587\u4ef6\u3002 \u8bf4\u660e \uff1a\u60a8\u53ef\u4ee5\u4e00\u6b21\u9009\u62e9\u591a\u4e2a CSV \u6587\u4ef6\u3002 \u5728\u6587\u4ef6\u5217\u8868\u7684 \u64cd\u4f5c \u5217\uff0c\u70b9\u51fb \u9884\u89c8 \u6216 \u5220\u9664 \uff0c\u4fdd\u8bc1\u6587\u4ef6\u4fe1\u606f\u6b63\u786e\uff0c\u4e4b\u540e\uff0c\u518d\u70b9\u51fb \u4e0b\u4e00\u6b65 \u6309\u94ae\u3002 \u5728 \u5173\u8054\u70b9 \u9875\u9762\uff0c\u70b9\u51fb + \u7ed1\u5b9a\u6570\u636e\u6e90 \u6309\u94ae\uff0c\u5728\u5bf9\u8bdd\u6846\u4e2d\u9009\u62e9\u70b9\u6570\u636e\u6587\u4ef6\uff0c\u5e76\u70b9\u51fb \u786e\u8ba4 \u6309\u94ae\u3002\u5982\u672c\u793a\u4f8b\u4e2d\u7684 user.csv \u6216 course.csv \u6587\u4ef6\u3002 \u5728 \u6570\u636e\u6e90 X \u9875\u7b7e\u4e0b\uff0c\u70b9\u51fb + Tag \u6309\u94ae\u3002 \u5728 vertexId \u90e8\u5206\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a a. \u5728 \u5bf9\u5e94\u5217\u6807 \u5217\uff0c\u70b9\u51fb \u9009\u62e9 \u3002 b. \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u9009\u62e9\u6570\u636e\u5217\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c user.csv \u4e2d\u4ec5\u6709\u4e00\u5217\u6570\u636e\u7528\u4e8e\u751f\u6210\u4ee3\u8868\u7528\u6237\u7684 VID\uff0c course.csv \u4e2d\u9009\u62e9\u8868\u793a courseName \u4fe1\u606f\u7684 Column 1 \u7528\u4e8e\u751f\u6210\u4ee3\u8868\u8bfe\u7a0b\u7684 VID\u3002 \u8bf4\u660e \uff1a\u5728\u540c\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\uff0cVID \u59cb\u7ec8\u552f\u4e00\uff0c\u4e0d\u53ef\u91cd\u590d\u3002\u5173\u4e8e VID \u7684\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u7684\u70b9\u6807\u8bc6\u7b26\u548c\u5206\u533a \u3002 c. \u5728 ID Hash \u5217\uff0c\u9009\u62e9 VID \u9884\u5904\u7406\u65b9\u5f0f\uff1a\u5982\u679c\u6e90\u6570\u636e\u662f int \u7c7b\u578b\u6570\u636e\uff0c\u9009\u62e9 \u4fdd\u6301\u539f\u503c \uff1b\u5982\u679c\u6e90\u6570\u636e\u662f string \u3001 double \u6216\u8005 bool \u7c7b\u578b\u6570\u636e\uff0c\u9009\u62e9 Hash \u3002 \u5728 TAG 1 \u90e8\u5206\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a a. \u5728 TAG \u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u9009\u62e9\u6570\u636e\u6e90\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c user.csv \u6587\u4ef6\u5bf9\u5e94\u9009\u62e9 user \uff1b course.csv \u6587\u4ef6\u5bf9\u5e94\u9009\u62e9 course \u3002 b. \u5728\u663e\u793a\u7684\u5c5e\u6027\u5217\u8868\u4e2d\uff0c\u70b9\u51fb \u9009\u62e9 \uff0c\u4e3a\u6807\u7b7e\u5c5e\u6027\u7ed1\u5b9a\u6e90\u6570\u636e\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c user \u6807\u7b7e\u6ca1\u6709\u5c5e\u6027\uff0c\u4e0d\u9700\u8981\u9009\u62e9\u6570\u636e\u6e90\uff1b course \u6807\u7b7e\u7684 courseId \u5c5e\u6027\u5bf9\u5e94 course.csv \u6587\u4ef6\u4e2d\u7684 Column 0 \u5217\uff0c \u7c7b\u578b \u4e3a int \uff0c courseName \u5c5e\u6027\u5bf9\u5e94\u6587\u4ef6\u4e2d\u7684 Column 1 \u5217\uff0c \u7c7b\u578b \u4e3a string \u3002 (\u53ef\u9009) \u5982\u679c\u60a8\u6709\u591a\u4e2a\u6807\u7b7e\u6570\u636e\u6587\u4ef6\uff0c\u91cd\u590d\u6b65\u9aa4 5 \u5230\u6b65\u9aa4 8\u3002 \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u70b9\u51fb \u4e0b\u4e00\u6b65 \u3002 \u754c\u9762\u63d0\u793a \u914d\u7f6e\u9a8c\u8bc1\u6210\u529f \uff0c\u8868\u793a\u6807\u7b7e\u6570\u636e\u6e90\u7ed1\u5b9a\u6210\u529f\u3002 \u5728 \u5173\u8054\u8fb9 \u9875\u9762\uff0c\u70b9\u51fb + \u7ed1\u5b9a\u6570\u636e\u6e90 \u6309\u94ae\uff0c\u5728\u5bf9\u8bdd\u6846\u4e2d\u9009\u62e9\u8fb9\u6570\u636e\u6587\u4ef6\uff0c\u5e76\u70b9\u51fb \u786e\u8ba4 \u6309\u94ae\u3002\u5982\u672c\u793a\u4f8b\u4e2d\u7684 actions.csv \u6587\u4ef6\u3002 \u5728 Edge X \u9875\u7b7e\u7684 \u7c7b\u578b \u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u9009\u62e9\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 action \u3002 \u6839\u636e\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u4ece actions.csv \u6587\u4ef6\u4e2d\u9009\u62e9\u76f8\u5e94\u7684\u6570\u636e\u5217\u3002\u5176\u4e2d\uff0c srcId \u548c dstId \u5206\u522b\u8868\u793a\u8fb9\u7684\u8d77\u70b9\u4e0e\u7ec8\u70b9\uff0c\u6240\u9009\u62e9\u7684\u6570\u636e\u53ca\u5904\u7406\u65b9\u5f0f\u5fc5\u987b\u4e0e\u76f8\u5e94\u7684 VID \u4fdd\u6301\u4e00\u81f4\u3002\u672c\u793a\u4f8b\u4e2d\uff0c srcId \u5bf9\u5e94\u7684\u662f\u8868\u793a\u7528\u6237\u7684 VID\uff0c dstId \u5bf9\u5e94\u7684\u662f\u8868\u793a\u8bfe\u7a0b\u7684 VID\u3002 rank \u4e3a\u9009\u586b\u9879\uff0c\u53ef\u4ee5\u5ffd\u7565\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u70b9\u51fb \u4e0b\u4e00\u6b65 \u6309\u94ae\u3002 \u5728 \u5bfc\u5165 \u9875\u9762\uff0c\u70b9\u51fb \u5bfc\u5165 \u6309\u94ae\u5f00\u59cb\u5bfc\u5165\u6570\u636e\u3002\u5728 log \u9875\u9762\u4e0a\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u6570\u636e\u5bfc\u5165\u8fdb\u5ea6\u3002\u5bfc\u5165\u6240\u9700\u65f6\u95f4\u56e0\u6570\u636e\u91cf\u800c\u5f02\u3002\u5bfc\u5165\u8fc7\u7a0b\u4e2d\uff0c\u60a8\u53ef\u4ee5\u70b9\u51fb \u7ec8\u6b62\u5bfc\u5165 \u505c\u6b62\u6570\u636e\u5bfc\u5165\u3002\u5f53 log \u9875\u9762\u663e\u793a\u5982\u56fe\u6240\u793a\u4fe1\u606f\u65f6\uff0c\u8868\u793a\u6570\u636e\u5bfc\u5165\u5b8c\u6210\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u5b8c\u6210\u6570\u636e\u5bfc\u5165\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb \u56fe\u63a2\u7d22 \u3002","title":"\u5bfc\u5165\u6570\u636e"},{"location":"nebula-studio/quick-start/st-ug-import-data/#_1","text":"\u51c6\u5907\u597d CSV \u6587\u4ef6\uff0c\u521b\u5efa\u4e86 Schema \u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\u5c06\u6240\u6709\u70b9\u548c\u8fb9\u6570\u636e\u4e0a\u4f20\u5230 Studio\uff0c\u7528\u4e8e\u6570\u636e\u67e5\u8be2\u3001\u56fe\u63a2\u7d22\u548c\u6570\u636e\u5206\u6790\u3002","title":"\u5bfc\u5165\u6570\u636e"},{"location":"nebula-studio/quick-start/st-ug-import-data/#_2","text":"\u5bfc\u5165\u6570\u636e\u4e4b\u524d\uff0c\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 Nebula Graph \u6570\u636e\u5e93\u91cc\u5df2\u7ecf\u521b\u5efa\u4e86 Schema\u3002 CSV \u6587\u4ef6\u7b26\u5408 Schema \u8981\u6c42\u3002 \u60a8\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN\u3001DBA \u6216\u8005 USER \u7684\u6743\u9650\uff0c\u80fd\u5f80\u56fe\u7a7a\u95f4\u4e2d\u5199\u5165\u6570\u636e\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/quick-start/st-ug-import-data/#_3","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5bfc\u5165\u6570\u636e\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u5bfc\u5165 \u9875\u7b7e\u3002 \u5728 \u9009\u62e9Space \u9875\u9762\uff0c\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\uff0c\u518d\u70b9\u51fb \u4e0b\u4e00\u6b65 \u6309\u94ae\u3002 \u5728 \u4e0a\u4f20\u6587\u4ef6 \u9875\u9762\uff0c\u70b9\u51fb \u4e0a\u4f20\u6587\u4ef6 \u6309\u94ae\uff0c\u5e76\u9009\u62e9\u9700\u8981\u7684 CSV \u6587\u4ef6\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 user.csv \u3001 course.csv \u548c actions.csv \u6587\u4ef6\u3002 \u8bf4\u660e \uff1a\u60a8\u53ef\u4ee5\u4e00\u6b21\u9009\u62e9\u591a\u4e2a CSV \u6587\u4ef6\u3002 \u5728\u6587\u4ef6\u5217\u8868\u7684 \u64cd\u4f5c \u5217\uff0c\u70b9\u51fb \u9884\u89c8 \u6216 \u5220\u9664 \uff0c\u4fdd\u8bc1\u6587\u4ef6\u4fe1\u606f\u6b63\u786e\uff0c\u4e4b\u540e\uff0c\u518d\u70b9\u51fb \u4e0b\u4e00\u6b65 \u6309\u94ae\u3002 \u5728 \u5173\u8054\u70b9 \u9875\u9762\uff0c\u70b9\u51fb + \u7ed1\u5b9a\u6570\u636e\u6e90 \u6309\u94ae\uff0c\u5728\u5bf9\u8bdd\u6846\u4e2d\u9009\u62e9\u70b9\u6570\u636e\u6587\u4ef6\uff0c\u5e76\u70b9\u51fb \u786e\u8ba4 \u6309\u94ae\u3002\u5982\u672c\u793a\u4f8b\u4e2d\u7684 user.csv \u6216 course.csv \u6587\u4ef6\u3002 \u5728 \u6570\u636e\u6e90 X \u9875\u7b7e\u4e0b\uff0c\u70b9\u51fb + Tag \u6309\u94ae\u3002 \u5728 vertexId \u90e8\u5206\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a a. \u5728 \u5bf9\u5e94\u5217\u6807 \u5217\uff0c\u70b9\u51fb \u9009\u62e9 \u3002 b. \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u9009\u62e9\u6570\u636e\u5217\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c user.csv \u4e2d\u4ec5\u6709\u4e00\u5217\u6570\u636e\u7528\u4e8e\u751f\u6210\u4ee3\u8868\u7528\u6237\u7684 VID\uff0c course.csv \u4e2d\u9009\u62e9\u8868\u793a courseName \u4fe1\u606f\u7684 Column 1 \u7528\u4e8e\u751f\u6210\u4ee3\u8868\u8bfe\u7a0b\u7684 VID\u3002 \u8bf4\u660e \uff1a\u5728\u540c\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\uff0cVID \u59cb\u7ec8\u552f\u4e00\uff0c\u4e0d\u53ef\u91cd\u590d\u3002\u5173\u4e8e VID \u7684\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u7684\u70b9\u6807\u8bc6\u7b26\u548c\u5206\u533a \u3002 c. \u5728 ID Hash \u5217\uff0c\u9009\u62e9 VID \u9884\u5904\u7406\u65b9\u5f0f\uff1a\u5982\u679c\u6e90\u6570\u636e\u662f int \u7c7b\u578b\u6570\u636e\uff0c\u9009\u62e9 \u4fdd\u6301\u539f\u503c \uff1b\u5982\u679c\u6e90\u6570\u636e\u662f string \u3001 double \u6216\u8005 bool \u7c7b\u578b\u6570\u636e\uff0c\u9009\u62e9 Hash \u3002 \u5728 TAG 1 \u90e8\u5206\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a a. \u5728 TAG \u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u9009\u62e9\u6570\u636e\u6e90\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c user.csv \u6587\u4ef6\u5bf9\u5e94\u9009\u62e9 user \uff1b course.csv \u6587\u4ef6\u5bf9\u5e94\u9009\u62e9 course \u3002 b. \u5728\u663e\u793a\u7684\u5c5e\u6027\u5217\u8868\u4e2d\uff0c\u70b9\u51fb \u9009\u62e9 \uff0c\u4e3a\u6807\u7b7e\u5c5e\u6027\u7ed1\u5b9a\u6e90\u6570\u636e\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c user \u6807\u7b7e\u6ca1\u6709\u5c5e\u6027\uff0c\u4e0d\u9700\u8981\u9009\u62e9\u6570\u636e\u6e90\uff1b course \u6807\u7b7e\u7684 courseId \u5c5e\u6027\u5bf9\u5e94 course.csv \u6587\u4ef6\u4e2d\u7684 Column 0 \u5217\uff0c \u7c7b\u578b \u4e3a int \uff0c courseName \u5c5e\u6027\u5bf9\u5e94\u6587\u4ef6\u4e2d\u7684 Column 1 \u5217\uff0c \u7c7b\u578b \u4e3a string \u3002 (\u53ef\u9009) \u5982\u679c\u60a8\u6709\u591a\u4e2a\u6807\u7b7e\u6570\u636e\u6587\u4ef6\uff0c\u91cd\u590d\u6b65\u9aa4 5 \u5230\u6b65\u9aa4 8\u3002 \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u70b9\u51fb \u4e0b\u4e00\u6b65 \u3002 \u754c\u9762\u63d0\u793a \u914d\u7f6e\u9a8c\u8bc1\u6210\u529f \uff0c\u8868\u793a\u6807\u7b7e\u6570\u636e\u6e90\u7ed1\u5b9a\u6210\u529f\u3002 \u5728 \u5173\u8054\u8fb9 \u9875\u9762\uff0c\u70b9\u51fb + \u7ed1\u5b9a\u6570\u636e\u6e90 \u6309\u94ae\uff0c\u5728\u5bf9\u8bdd\u6846\u4e2d\u9009\u62e9\u8fb9\u6570\u636e\u6587\u4ef6\uff0c\u5e76\u70b9\u51fb \u786e\u8ba4 \u6309\u94ae\u3002\u5982\u672c\u793a\u4f8b\u4e2d\u7684 actions.csv \u6587\u4ef6\u3002 \u5728 Edge X \u9875\u7b7e\u7684 \u7c7b\u578b \u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u9009\u62e9\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 action \u3002 \u6839\u636e\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u4ece actions.csv \u6587\u4ef6\u4e2d\u9009\u62e9\u76f8\u5e94\u7684\u6570\u636e\u5217\u3002\u5176\u4e2d\uff0c srcId \u548c dstId \u5206\u522b\u8868\u793a\u8fb9\u7684\u8d77\u70b9\u4e0e\u7ec8\u70b9\uff0c\u6240\u9009\u62e9\u7684\u6570\u636e\u53ca\u5904\u7406\u65b9\u5f0f\u5fc5\u987b\u4e0e\u76f8\u5e94\u7684 VID \u4fdd\u6301\u4e00\u81f4\u3002\u672c\u793a\u4f8b\u4e2d\uff0c srcId \u5bf9\u5e94\u7684\u662f\u8868\u793a\u7528\u6237\u7684 VID\uff0c dstId \u5bf9\u5e94\u7684\u662f\u8868\u793a\u8bfe\u7a0b\u7684 VID\u3002 rank \u4e3a\u9009\u586b\u9879\uff0c\u53ef\u4ee5\u5ffd\u7565\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u70b9\u51fb \u4e0b\u4e00\u6b65 \u6309\u94ae\u3002 \u5728 \u5bfc\u5165 \u9875\u9762\uff0c\u70b9\u51fb \u5bfc\u5165 \u6309\u94ae\u5f00\u59cb\u5bfc\u5165\u6570\u636e\u3002\u5728 log \u9875\u9762\u4e0a\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u6570\u636e\u5bfc\u5165\u8fdb\u5ea6\u3002\u5bfc\u5165\u6240\u9700\u65f6\u95f4\u56e0\u6570\u636e\u91cf\u800c\u5f02\u3002\u5bfc\u5165\u8fc7\u7a0b\u4e2d\uff0c\u60a8\u53ef\u4ee5\u70b9\u51fb \u7ec8\u6b62\u5bfc\u5165 \u505c\u6b62\u6570\u636e\u5bfc\u5165\u3002\u5f53 log \u9875\u9762\u663e\u793a\u5982\u56fe\u6240\u793a\u4fe1\u606f\u65f6\uff0c\u8868\u793a\u6570\u636e\u5bfc\u5165\u5b8c\u6210\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-studio/quick-start/st-ug-import-data/#_4","text":"\u5b8c\u6210\u6570\u636e\u5bfc\u5165\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb \u56fe\u63a2\u7d22 \u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/quick-start/st-ug-plan-schema/","text":"\u89c4\u5212 Schema \u00b6 \u5728\u4f7f\u7528 Studio \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u5148\u6839\u636e Nebula Graph \u6570\u636e\u5e93\u7684\u8981\u6c42\u89c4\u5212\u60a8\u7684 Schema\uff08\u6a21\u5f0f\uff09\u3002 Schema \u81f3\u5c11\u8981\u5305\u542b\u4ee5\u4e0b\u8981\u7d20\uff1a \u6807\u7b7e\uff08Tag\uff0c\u5373\u70b9\u7c7b\u578b\uff09\uff0c\u4ee5\u53ca\u6bcf\u79cd\u6807\u7b7e\u7684\u5c5e\u6027\u3002 \u8fb9\u7c7b\u578b\uff08Edge Type\uff09\uff0c\u4ee5\u53ca\u6bcf\u79cd\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u3002 \u672c\u6587\u4ee5\u7f8e\u56fd Stanford Network Analysis Platform (SNAP) \u63d0\u4f9b\u7684 Social Network: MOOC User Action Dataset \u4e3a\u57fa\u7840\uff0c\u5e76\u5728\u5176\u4e2d\u52a0\u5165\u7531\u516c\u5f00\u7f51\u7edc\u4e0a\u83b7\u53d6\u7684\u4e0d\u91cd\u590d\u7684 97 \u4e2a\u8bfe\u7a0b\u540d\u79f0\uff0c\u8bf4\u660e\u5982\u4f55\u89c4\u5212 Schema\u3002 \u4e0b\u8868\u5217\u51fa\u4e86 Schema \u8981\u7d20\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027\u540d\u79f0 (\u6570\u636e\u7c7b\u578b) \u8bf4\u660e \u6807\u7b7e user userId ( int ) \u5c06\u4f7f\u7528 userId \u751f\u6210\u8fd9\u7c7b\u70b9\u6570\u636e\u7684 VID\u3002 \u8868\u793a\u6307\u5b9a MOOC \u5e73\u53f0\u7684\u7528\u6237\u3002 \u6807\u7b7e course - courseId ( int ) - courseName ( string ) \u672c\u793a\u4f8b\u4e2d\u5c06\u4f7f\u7528 courseName \u7684\u503c\u901a\u8fc7 Hash() \u51fd\u6570\u751f\u6210\u8fd9\u7c7b\u70b9\u6570\u636e\u7684 VID\u3002\u56e0\u4e3a Nebula Graph \u8981\u6c42\u540c\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u6240\u6709\u70b9\u7684 VID \u5fc5\u987b\u59cb\u7ec8\u552f\u4e00\uff0c\u800c courseId \u4e0e\u90e8\u5206 user \u7c7b VID \u91cd\u590d\uff0c\u6240\u4ee5\uff0c\u4e0d\u80fd\u4f7f\u7528 courseId \u751f\u6210 course \u7c7b\u70b9\u6570\u636e\u7684 VID\u3002 \u8868\u793a\u6307\u5b9a MOOC \u5e73\u53f0\u4e0a\u7684\u8bfe\u7a0b\u3002 \u8fb9\u7c7b\u578b action - actionId ( int ) - duration ( double )\uff1a\u4ee3\u8868\u6e90\u6570\u636e\u4e2d\u7684 timestamp \u6570\u636e\uff0c\u8868\u793a\u884c\u4e3a\u6301\u7eed\u65f6\u95f4 - label ( bool )\uff1a\u8868\u793a user \u5b8c\u6210\u4e00\u4e2a\u884c\u4e3a\u540e\u662f\u5426\u9000\u51fa\u4e86\u8bfe\u7a0b - feature0 ( double ) - feature1 ( double ) - feature2 ( double ) - feature3 ( double ) \u8868\u793a\u7528\u6237\u53c2\u4e0e\u8bfe\u7a0b\u7684\u884c\u4e3a\uff0c\u5206\u522b\u7528\u53c2\u4e0e\u6d3b\u52a8\u7684\u6301\u7eed\u65f6\u95f4\u3001\u53c2\u4e0e\u540e\u7528\u6237\u662f\u5426\u9000\u51fa\u4e86 MOOC \u5e73\u53f0\u4ee5\u53ca\u884c\u4e3a\u7684\u56db\u4e2a\u7ef4\u5ea6\uff08feature\uff09\u6765\u63cf\u8ff0\u3002\u5176\u4e2d\uff0c label \u4e3a true \u8868\u793a\u9000\u51fa MOOC \u5e73\u53f0\uff0c\u4e3a false \u8868\u793a\u672a\u9000\u51fa\u5e73\u53f0\u3002 \u4e0b\u56fe\u8bf4\u660e\u793a\u4f8b\u4e2d user \u7c7b\u70b9\u4e0e course \u7c7b\u70b9\u4e4b\u95f4\u5982\u4f55\u53d1\u751f\u5173\u7cfb\uff08 action \uff09\u3002","title":"\u89c4\u5212 Schema"},{"location":"nebula-studio/quick-start/st-ug-plan-schema/#schema","text":"\u5728\u4f7f\u7528 Studio \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u5148\u6839\u636e Nebula Graph \u6570\u636e\u5e93\u7684\u8981\u6c42\u89c4\u5212\u60a8\u7684 Schema\uff08\u6a21\u5f0f\uff09\u3002 Schema \u81f3\u5c11\u8981\u5305\u542b\u4ee5\u4e0b\u8981\u7d20\uff1a \u6807\u7b7e\uff08Tag\uff0c\u5373\u70b9\u7c7b\u578b\uff09\uff0c\u4ee5\u53ca\u6bcf\u79cd\u6807\u7b7e\u7684\u5c5e\u6027\u3002 \u8fb9\u7c7b\u578b\uff08Edge Type\uff09\uff0c\u4ee5\u53ca\u6bcf\u79cd\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u3002 \u672c\u6587\u4ee5\u7f8e\u56fd Stanford Network Analysis Platform (SNAP) \u63d0\u4f9b\u7684 Social Network: MOOC User Action Dataset \u4e3a\u57fa\u7840\uff0c\u5e76\u5728\u5176\u4e2d\u52a0\u5165\u7531\u516c\u5f00\u7f51\u7edc\u4e0a\u83b7\u53d6\u7684\u4e0d\u91cd\u590d\u7684 97 \u4e2a\u8bfe\u7a0b\u540d\u79f0\uff0c\u8bf4\u660e\u5982\u4f55\u89c4\u5212 Schema\u3002 \u4e0b\u8868\u5217\u51fa\u4e86 Schema \u8981\u7d20\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027\u540d\u79f0 (\u6570\u636e\u7c7b\u578b) \u8bf4\u660e \u6807\u7b7e user userId ( int ) \u5c06\u4f7f\u7528 userId \u751f\u6210\u8fd9\u7c7b\u70b9\u6570\u636e\u7684 VID\u3002 \u8868\u793a\u6307\u5b9a MOOC \u5e73\u53f0\u7684\u7528\u6237\u3002 \u6807\u7b7e course - courseId ( int ) - courseName ( string ) \u672c\u793a\u4f8b\u4e2d\u5c06\u4f7f\u7528 courseName \u7684\u503c\u901a\u8fc7 Hash() \u51fd\u6570\u751f\u6210\u8fd9\u7c7b\u70b9\u6570\u636e\u7684 VID\u3002\u56e0\u4e3a Nebula Graph \u8981\u6c42\u540c\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u6240\u6709\u70b9\u7684 VID \u5fc5\u987b\u59cb\u7ec8\u552f\u4e00\uff0c\u800c courseId \u4e0e\u90e8\u5206 user \u7c7b VID \u91cd\u590d\uff0c\u6240\u4ee5\uff0c\u4e0d\u80fd\u4f7f\u7528 courseId \u751f\u6210 course \u7c7b\u70b9\u6570\u636e\u7684 VID\u3002 \u8868\u793a\u6307\u5b9a MOOC \u5e73\u53f0\u4e0a\u7684\u8bfe\u7a0b\u3002 \u8fb9\u7c7b\u578b action - actionId ( int ) - duration ( double )\uff1a\u4ee3\u8868\u6e90\u6570\u636e\u4e2d\u7684 timestamp \u6570\u636e\uff0c\u8868\u793a\u884c\u4e3a\u6301\u7eed\u65f6\u95f4 - label ( bool )\uff1a\u8868\u793a user \u5b8c\u6210\u4e00\u4e2a\u884c\u4e3a\u540e\u662f\u5426\u9000\u51fa\u4e86\u8bfe\u7a0b - feature0 ( double ) - feature1 ( double ) - feature2 ( double ) - feature3 ( double ) \u8868\u793a\u7528\u6237\u53c2\u4e0e\u8bfe\u7a0b\u7684\u884c\u4e3a\uff0c\u5206\u522b\u7528\u53c2\u4e0e\u6d3b\u52a8\u7684\u6301\u7eed\u65f6\u95f4\u3001\u53c2\u4e0e\u540e\u7528\u6237\u662f\u5426\u9000\u51fa\u4e86 MOOC \u5e73\u53f0\u4ee5\u53ca\u884c\u4e3a\u7684\u56db\u4e2a\u7ef4\u5ea6\uff08feature\uff09\u6765\u63cf\u8ff0\u3002\u5176\u4e2d\uff0c label \u4e3a true \u8868\u793a\u9000\u51fa MOOC \u5e73\u53f0\uff0c\u4e3a false \u8868\u793a\u672a\u9000\u51fa\u5e73\u53f0\u3002 \u4e0b\u56fe\u8bf4\u660e\u793a\u4f8b\u4e2d user \u7c7b\u70b9\u4e0e course \u7c7b\u70b9\u4e4b\u95f4\u5982\u4f55\u53d1\u751f\u5173\u7cfb\uff08 action \uff09\u3002","title":"\u89c4\u5212 Schema"},{"location":"nebula-studio/quick-start/st-ug-prepare-csv/","text":"\u51c6\u5907 CSV \u6587\u4ef6 \u00b6 Studio \u652f\u6301\u901a\u8fc7 CSV \u6587\u4ef6\u6279\u91cf\u5bfc\u5165\u70b9\u548c\u8fb9\u6570\u636e\u3002\u76ee\u524d\u4ec5\u652f\u6301\u4e0a\u4f20 CSV \u6587\u4ef6\uff0c\u800c\u4e14\u6bcf\u4e2a CSV \u6587\u4ef6\u5e94\u5206\u522b\u8868\u793a\u70b9\u6570\u636e\u6216\u8fb9\u6570\u636e\uff0c\u540c\u65f6\uff0c\u6bcf\u4e2a CSV \u6587\u4ef6\u4e2d\u4e0d\u80fd\u5305\u542b\u8868\u5934\u884c\u3002\u6240\u4ee5\uff0c\u60a8\u9700\u8981\u5bf9\u6e90\u6570\u636e\u96c6\u4f5c\u5982\u4e0b\u5904\u7406\uff1a \u5206\u522b\u751f\u6210 CSV \u6587\u4ef6\u3002\u6570\u636e\u4e4b\u95f4\u4ec5\u80fd\u4f7f\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 user.csv\uff1a\u4ec5\u5305\u62ec\u6e90\u6570\u636e\u4e2d\u7684 userId \u6570\u636e\u3002 course.csv\uff1a\u4ec5\u5305\u62ec courseId \u548c courseName \u6570\u636e\u3002 actions.csv\uff1a\u5305\u62ec action \u8fb9\u7c7b\u578b\u6240\u6709\u5c5e\u6027\u5bf9\u5e94\u7684\u6570\u636e\uff08 actionId \u3001 label \u3001 duration \u3001 feature0 \u3001 feature1 \u3001 feature2 \u3001 feature3 \uff09\uff0c\u5e76\u52a0\u5165\u8fb9\u8d77\u59cb\u70b9 VID \u548c\u7ec8\u70b9 VID \u7684\u6765\u6e90\uff08 userId \u548c courseName \uff09\u3002\u5176\u4e2d\uff0c\u56e0\u4e3a label \u5c5e\u6027\u662f\u5e03\u5c14\u6570\u503c\uff0c\u6240\u4ee5\uff0c\u5c06 1 \u66ff\u6362\u4e3a TRUE \uff0c\u5c06 0 \u66ff\u6362\u4e3a FALSE \u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u5220\u9664\u6240\u6709 CSV \u6587\u4ef6\u4e2d\u7684\u8868\u5934\u884c\u3002","title":"\u51c6\u5907 CSV \u6587\u4ef6"},{"location":"nebula-studio/quick-start/st-ug-prepare-csv/#csv","text":"Studio \u652f\u6301\u901a\u8fc7 CSV \u6587\u4ef6\u6279\u91cf\u5bfc\u5165\u70b9\u548c\u8fb9\u6570\u636e\u3002\u76ee\u524d\u4ec5\u652f\u6301\u4e0a\u4f20 CSV \u6587\u4ef6\uff0c\u800c\u4e14\u6bcf\u4e2a CSV \u6587\u4ef6\u5e94\u5206\u522b\u8868\u793a\u70b9\u6570\u636e\u6216\u8fb9\u6570\u636e\uff0c\u540c\u65f6\uff0c\u6bcf\u4e2a CSV \u6587\u4ef6\u4e2d\u4e0d\u80fd\u5305\u542b\u8868\u5934\u884c\u3002\u6240\u4ee5\uff0c\u60a8\u9700\u8981\u5bf9\u6e90\u6570\u636e\u96c6\u4f5c\u5982\u4e0b\u5904\u7406\uff1a \u5206\u522b\u751f\u6210 CSV \u6587\u4ef6\u3002\u6570\u636e\u4e4b\u95f4\u4ec5\u80fd\u4f7f\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 user.csv\uff1a\u4ec5\u5305\u62ec\u6e90\u6570\u636e\u4e2d\u7684 userId \u6570\u636e\u3002 course.csv\uff1a\u4ec5\u5305\u62ec courseId \u548c courseName \u6570\u636e\u3002 actions.csv\uff1a\u5305\u62ec action \u8fb9\u7c7b\u578b\u6240\u6709\u5c5e\u6027\u5bf9\u5e94\u7684\u6570\u636e\uff08 actionId \u3001 label \u3001 duration \u3001 feature0 \u3001 feature1 \u3001 feature2 \u3001 feature3 \uff09\uff0c\u5e76\u52a0\u5165\u8fb9\u8d77\u59cb\u70b9 VID \u548c\u7ec8\u70b9 VID \u7684\u6765\u6e90\uff08 userId \u548c courseName \uff09\u3002\u5176\u4e2d\uff0c\u56e0\u4e3a label \u5c5e\u6027\u662f\u5e03\u5c14\u6570\u503c\uff0c\u6240\u4ee5\uff0c\u5c06 1 \u66ff\u6362\u4e3a TRUE \uff0c\u5c06 0 \u66ff\u6362\u4e3a FALSE \u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u5220\u9664\u6240\u6709 CSV \u6587\u4ef6\u4e2d\u7684\u8868\u5934\u884c\u3002","title":"\u51c6\u5907 CSV \u6587\u4ef6"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/","text":"\u8fde\u63a5\u6570\u636e\u5e93\u9519\u8bef \u00b6 \u95ee\u9898\u63cf\u8ff0 \u00b6 \u6309 \u8fde\u63a5 Studio \u6587\u6863\u64cd\u4f5c\uff0c\u63d0\u793a \u914d\u7f6e\u5931\u8d25 \u3002 \u53ef\u80fd\u7684\u539f\u56e0\u53ca\u89e3\u51b3\u65b9\u6cd5 \u00b6 \u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u6392\u67e5\u95ee\u9898\u3002 \u7b2c 1 \u6b65. \u786e\u8ba4 Host \u5b57\u6bb5\u7684\u683c\u5f0f\u662f\u5426\u6b63\u786e \u00b6 \u5fc5\u987b\u586b\u5199 Nebula Graph \u56fe\u6570\u636e\u5e93 Graph \u670d\u52a1\u7684 IP \u5730\u5740\uff08 graph_server_ip \uff09\u548c\u7aef\u53e3\u3002\u5982\u679c\u672a\u505a\u4fee\u6539\uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a 3699 \u3002\u5373\u4f7f Nebula Graph \u4e0e Studio \u90fd\u90e8\u7f72\u5728\u5f53\u524d\u673a\u5668\u4e0a\uff0c\u60a8\u4e5f\u5fc5\u987b\u4f7f\u7528\u672c\u673a IP \u5730\u5740\uff0c\u800c\u4e0d\u80fd\u4f7f\u7528 127.0.0.1 \u3001 localhost \u6216\u8005 0.0.0.0 \u3002 \u7b2c 2 \u6b65. \u786e\u8ba4 \u7528\u6237\u540d \u548c \u5bc6\u7801 \u662f\u5426\u6b63\u786e \u00b6 \u5982\u679c Nebula Graph \u6ca1\u6709\u5f00\u542f\u8eab\u4efd\u8ba4\u8bc1\uff0c\u60a8\u53ef\u4ee5\u586b\u5199\u4efb\u610f\u5b57\u7b26\u4e32\u767b\u5f55\u3002 \u5982\u679c\u5df2\u7ecf\u5f00\u542f\u8eab\u4efd\u8ba4\u8bc1\uff0c\u60a8\u5fc5\u987b\u4f7f\u7528\u5206\u914d\u7684\u8d26\u53f7\u767b\u5f55\u3002 \u7b2c 3 \u6b65. \u786e\u8ba4 Nebula Graph \u670d\u52a1\u662f\u5426\u6b63\u5e38 \u00b6 \u68c0\u67e5 Nebula Graph \u670d\u52a1\u72b6\u6001\u3002\u5173\u4e8e\u67e5\u770b\u670d\u52a1\u7684\u64cd\u4f5c\uff1a \u5982\u679c\u5728 Linux \u670d\u52a1\u5668\u4e0a\u901a\u8fc7\u7f16\u8bd1\u90e8\u7f72\u7684 Nebula Graph\uff0c\u53c2\u8003 \u67e5\u770b Nebula Graph \u670d\u52a1 \u3002 \u5982\u679c\u4f7f\u7528 Docker Compose \u90e8\u7f72\u7684 Nebula Graph\uff0c\u53c2\u8003 \u67e5\u770b Nebula Graph \u670d\u52a1\u72b6\u6001\u548c\u7aef\u53e3 \u3002 \u5982\u679c Nebula Graph \u670d\u52a1\u6b63\u5e38\uff0c\u8fdb\u5165\u7b2c 4 \u6b65\u7ee7\u7eed\u6392\u67e5\u95ee\u9898\u3002\u5426\u5219\uff0c\u8bf7\u91cd\u542f Nebula Graph \u670d\u52a1\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u60a8\u4e4b\u524d\u4f7f\u7528 docker-compose up -d \u542f\u52a8 Nebula Graph\uff0c\u5fc5\u987b\u8fd0\u884c docker-compose down \u547d\u4ee4\u505c\u6b62 Nebula Graph\u3002 \u7b2c 4 \u6b65. \u786e\u8ba4 Graph \u670d\u52a1\u7684\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38 \u00b6 \u5728 Studio \u673a\u5668\u4e0a\u8fd0\u884c\u547d\u4ee4\uff08\u4f8b\u5982 telnet <graph_server_ip> 3699 \uff09\u786e\u8ba4 Nebula Graph \u7684 Graph \u670d\u52a1\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38\u3002 \u5982\u679c\u8fde\u63a5\u5931\u8d25\uff0c\u5219\u6309\u4ee5\u4e0b\u8981\u6c42\u68c0\u67e5\uff1a \u5982\u679c Studio \u4e0e Nebula Graph \u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5\u7aef\u53e3\u662f\u5426\u5df2\u66b4\u9732\u3002 \u5982\u679c\u4e24\u8005\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5 Nebula Graph \u670d\u52a1\u5668\u7684\u7f51\u7edc\u914d\u7f6e\uff0c\u4f8b\u5982\uff0c\u9632\u706b\u5899\u3001\u7f51\u5173\u4ee5\u53ca\u7aef\u53e3\u3002 \u5982\u679c\u6309\u4e0a\u8ff0\u6b65\u9aa4\u6392\u67e5\u540e\u4ecd\u65e0\u6cd5\u8fde\u63a5 Nebula Graph \u670d\u52a1\uff0c\u8bf7\u524d\u5f80 Nebula Graph \u5b98\u65b9\u8bba\u575b \u54a8\u8be2\u3002","title":"\u8fde\u63a5\u6570\u636e\u5e93\u9519\u8bef"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#_1","text":"","title":"\u8fde\u63a5\u6570\u636e\u5e93\u9519\u8bef"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#_2","text":"\u6309 \u8fde\u63a5 Studio \u6587\u6863\u64cd\u4f5c\uff0c\u63d0\u793a \u914d\u7f6e\u5931\u8d25 \u3002","title":"\u95ee\u9898\u63cf\u8ff0"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#_3","text":"\u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u6392\u67e5\u95ee\u9898\u3002","title":"\u53ef\u80fd\u7684\u539f\u56e0\u53ca\u89e3\u51b3\u65b9\u6cd5"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#1_host","text":"\u5fc5\u987b\u586b\u5199 Nebula Graph \u56fe\u6570\u636e\u5e93 Graph \u670d\u52a1\u7684 IP \u5730\u5740\uff08 graph_server_ip \uff09\u548c\u7aef\u53e3\u3002\u5982\u679c\u672a\u505a\u4fee\u6539\uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a 3699 \u3002\u5373\u4f7f Nebula Graph \u4e0e Studio \u90fd\u90e8\u7f72\u5728\u5f53\u524d\u673a\u5668\u4e0a\uff0c\u60a8\u4e5f\u5fc5\u987b\u4f7f\u7528\u672c\u673a IP \u5730\u5740\uff0c\u800c\u4e0d\u80fd\u4f7f\u7528 127.0.0.1 \u3001 localhost \u6216\u8005 0.0.0.0 \u3002","title":"\u7b2c 1 \u6b65. \u786e\u8ba4 Host \u5b57\u6bb5\u7684\u683c\u5f0f\u662f\u5426\u6b63\u786e"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#2","text":"\u5982\u679c Nebula Graph \u6ca1\u6709\u5f00\u542f\u8eab\u4efd\u8ba4\u8bc1\uff0c\u60a8\u53ef\u4ee5\u586b\u5199\u4efb\u610f\u5b57\u7b26\u4e32\u767b\u5f55\u3002 \u5982\u679c\u5df2\u7ecf\u5f00\u542f\u8eab\u4efd\u8ba4\u8bc1\uff0c\u60a8\u5fc5\u987b\u4f7f\u7528\u5206\u914d\u7684\u8d26\u53f7\u767b\u5f55\u3002","title":"\u7b2c 2 \u6b65. \u786e\u8ba4 \u7528\u6237\u540d \u548c \u5bc6\u7801 \u662f\u5426\u6b63\u786e"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#3_nebula_graph","text":"\u68c0\u67e5 Nebula Graph \u670d\u52a1\u72b6\u6001\u3002\u5173\u4e8e\u67e5\u770b\u670d\u52a1\u7684\u64cd\u4f5c\uff1a \u5982\u679c\u5728 Linux \u670d\u52a1\u5668\u4e0a\u901a\u8fc7\u7f16\u8bd1\u90e8\u7f72\u7684 Nebula Graph\uff0c\u53c2\u8003 \u67e5\u770b Nebula Graph \u670d\u52a1 \u3002 \u5982\u679c\u4f7f\u7528 Docker Compose \u90e8\u7f72\u7684 Nebula Graph\uff0c\u53c2\u8003 \u67e5\u770b Nebula Graph \u670d\u52a1\u72b6\u6001\u548c\u7aef\u53e3 \u3002 \u5982\u679c Nebula Graph \u670d\u52a1\u6b63\u5e38\uff0c\u8fdb\u5165\u7b2c 4 \u6b65\u7ee7\u7eed\u6392\u67e5\u95ee\u9898\u3002\u5426\u5219\uff0c\u8bf7\u91cd\u542f Nebula Graph \u670d\u52a1\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u60a8\u4e4b\u524d\u4f7f\u7528 docker-compose up -d \u542f\u52a8 Nebula Graph\uff0c\u5fc5\u987b\u8fd0\u884c docker-compose down \u547d\u4ee4\u505c\u6b62 Nebula Graph\u3002","title":"\u7b2c 3 \u6b65. \u786e\u8ba4 Nebula Graph \u670d\u52a1\u662f\u5426\u6b63\u5e38"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#4_graph","text":"\u5728 Studio \u673a\u5668\u4e0a\u8fd0\u884c\u547d\u4ee4\uff08\u4f8b\u5982 telnet <graph_server_ip> 3699 \uff09\u786e\u8ba4 Nebula Graph \u7684 Graph \u670d\u52a1\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38\u3002 \u5982\u679c\u8fde\u63a5\u5931\u8d25\uff0c\u5219\u6309\u4ee5\u4e0b\u8981\u6c42\u68c0\u67e5\uff1a \u5982\u679c Studio \u4e0e Nebula Graph \u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5\u7aef\u53e3\u662f\u5426\u5df2\u66b4\u9732\u3002 \u5982\u679c\u4e24\u8005\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5 Nebula Graph \u670d\u52a1\u5668\u7684\u7f51\u7edc\u914d\u7f6e\uff0c\u4f8b\u5982\uff0c\u9632\u706b\u5899\u3001\u7f51\u5173\u4ee5\u53ca\u7aef\u53e3\u3002 \u5982\u679c\u6309\u4e0a\u8ff0\u6b65\u9aa4\u6392\u67e5\u540e\u4ecd\u65e0\u6cd5\u8fde\u63a5 Nebula Graph \u670d\u52a1\uff0c\u8bf7\u524d\u5f80 Nebula Graph \u5b98\u65b9\u8bba\u575b \u54a8\u8be2\u3002","title":"\u7b2c 4 \u6b65. \u786e\u8ba4 Graph \u670d\u52a1\u7684\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/","text":"\u65e0\u6cd5\u8bbf\u95ee Studio \u00b6 \u95ee\u9898\u63cf\u8ff0 \u00b6 \u6211\u6309\u7167\u6587\u6863\u63cf\u8ff0\u542f\u52a8 Studio \u540e\u8bbf\u95ee 127.0.0.1:7001 \u6216\u8005 0.0.0.0:7001 \uff0c\u4f46\u662f\u6253\u4e0d\u5f00\u9875\u9762\uff0c\u4e3a\u4ec0\u4e48\uff1f \u53ef\u80fd\u7684\u539f\u56e0\u53ca\u89e3\u51b3\u65b9\u6cd5 \u00b6 \u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u987a\u5e8f\u6392\u67e5\u95ee\u9898\u3002 \u7b2c 1 \u6b65. \u786e\u8ba4\u7cfb\u7edf\u67b6\u6784 \u00b6 \u9700\u8981\u786e\u8ba4\u90e8\u7f72 Studio \u670d\u52a1\u7684\u673a\u5668\u662f\u5426\u4e3a x86_64 \u67b6\u6784\u3002\u76ee\u524d Studio \u4ec5\u652f\u6301 x86_64 \u7cfb\u7edf\u67b6\u6784\u3002 \u7b2c 2 \u6b65. \u68c0\u67e5 Studio \u670d\u52a1\u662f\u5426\u6b63\u5e38\u542f\u52a8 \u00b6 \u8fd0\u884c docker-compose ps \u67e5\u770b\u670d\u52a1\u662f\u5426\u5df2\u7ecf\u6b63\u5e38\u542f\u52a8\u3002 \u5982\u679c\u670d\u52a1\u6b63\u5e38\uff0c\u8fd4\u56de\u7ed3\u679c\u5982\u4e0b\u3002\u5176\u4e2d\uff0c State \u5217\u5e94\u5168\u90e8\u663e\u793a\u4e3a Up \u3002 Name Command State Ports ------------------------------------------------------------------------------------------------------ nebula-web-docker_client_1 ./nebula-go-api Up 0 .0.0.0:32782->8080/tcp nebula-web-docker_importer_1 nebula-importer --port = 569 ... Up 0 .0.0.0:32783->5699/tcp nebula-web-docker_nginx_1 /docker-entrypoint.sh ngin ... Up 0 .0.0.0:7001->7001/tcp, 80 /tcp nebula-web-docker_web_1 docker-entrypoint.sh npm r ... Up 0 .0.0.0:32784->7001/tcp \u5982\u679c\u6ca1\u6709\u8fd4\u56de\u4ee5\u4e0a\u7ed3\u679c\uff0c\u5219\u5148\u505c\u6b62 Studio \u91cd\u65b0\u542f\u52a8\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u90e8\u7f72 Studio \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u60a8\u4e4b\u524d\u4f7f\u7528 docker-compose up -d \u542f\u52a8 Studio\uff0c\u5fc5\u987b\u8fd0\u884c docker-compose down \u547d\u4ee4\u505c\u6b62 Studio\u3002 \u7b2c 3 \u6b65. \u786e\u8ba4\u8bbf\u95ee\u5730\u5740 \u00b6 \u5982\u679c Studio \u4e0e\u6d4f\u89c8\u5668\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u60a8\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u91cc\u4f7f\u7528 localhost:7001 \u3001 127.0.0.1:7001 \u6216\u8005 0.0.0.0:7001 \u8bbf\u95ee Studio\u3002 \u5982\u679c\u4e24\u8005\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u5fc5\u987b\u5728\u6d4f\u89c8\u5668\u91cc\u8f93\u5165 <studio_server_ip>:7001 \u3002\u5176\u4e2d\uff0c studio_server_ip \u662f\u6307\u90e8\u7f72 Studio \u670d\u52a1\u7684\u673a\u5668\u7684 IP \u5730\u5740\u3002 \u7b2c 4 \u6b65. \u786e\u8ba4\u7f51\u7edc\u8fde\u901a\u6027 \u00b6 \u8fd0\u884c curl <studio_server_ip>:7001 -I \u786e\u8ba4\u662f\u5426\u6b63\u5e38\u3002\u5982\u679c\u8fd4\u56de HTTP/1.1 200 OK \uff0c\u8868\u793a\u7f51\u7edc\u8fde\u901a\u6b63\u5e38\u3002 \u5982\u679c\u8fde\u63a5\u88ab\u62d2\u7edd\uff0c\u5219\u6309\u4ee5\u4e0b\u8981\u6c42\u68c0\u67e5\uff1a \u5982\u679c\u6d4f\u89c8\u5668\u4e0e Studio \u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5\u7aef\u53e3\u662f\u5426\u5df2\u66b4\u9732\u3002 \u5982\u679c\u4e24\u8005\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5 Studio \u6240\u5728\u673a\u5668\u7684\u7f51\u7edc\u914d\u7f6e\uff0c\u4f8b\u5982\uff0c\u9632\u706b\u5899\u3001\u7f51\u5173\u4ee5\u53ca\u7aef\u53e3\u3002 \u5982\u679c\u6309\u4e0a\u8ff0\u6b65\u9aa4\u6392\u67e5\u540e\u4ecd\u65e0\u6cd5\u8bbf\u95ee Studio\uff0c\u8bf7\u60a8\u524d\u5f80 Nebula Graph \u5b98\u65b9\u8bba\u575b \u54a8\u8be2\u3002","title":"\u65e0\u6cd5\u8bbf\u95ee Studio"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#studio","text":"","title":"\u65e0\u6cd5\u8bbf\u95ee Studio"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#_1","text":"\u6211\u6309\u7167\u6587\u6863\u63cf\u8ff0\u542f\u52a8 Studio \u540e\u8bbf\u95ee 127.0.0.1:7001 \u6216\u8005 0.0.0.0:7001 \uff0c\u4f46\u662f\u6253\u4e0d\u5f00\u9875\u9762\uff0c\u4e3a\u4ec0\u4e48\uff1f","title":"\u95ee\u9898\u63cf\u8ff0"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#_2","text":"\u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u987a\u5e8f\u6392\u67e5\u95ee\u9898\u3002","title":"\u53ef\u80fd\u7684\u539f\u56e0\u53ca\u89e3\u51b3\u65b9\u6cd5"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#1","text":"\u9700\u8981\u786e\u8ba4\u90e8\u7f72 Studio \u670d\u52a1\u7684\u673a\u5668\u662f\u5426\u4e3a x86_64 \u67b6\u6784\u3002\u76ee\u524d Studio \u4ec5\u652f\u6301 x86_64 \u7cfb\u7edf\u67b6\u6784\u3002","title":"\u7b2c 1 \u6b65. \u786e\u8ba4\u7cfb\u7edf\u67b6\u6784"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#2_studio","text":"\u8fd0\u884c docker-compose ps \u67e5\u770b\u670d\u52a1\u662f\u5426\u5df2\u7ecf\u6b63\u5e38\u542f\u52a8\u3002 \u5982\u679c\u670d\u52a1\u6b63\u5e38\uff0c\u8fd4\u56de\u7ed3\u679c\u5982\u4e0b\u3002\u5176\u4e2d\uff0c State \u5217\u5e94\u5168\u90e8\u663e\u793a\u4e3a Up \u3002 Name Command State Ports ------------------------------------------------------------------------------------------------------ nebula-web-docker_client_1 ./nebula-go-api Up 0 .0.0.0:32782->8080/tcp nebula-web-docker_importer_1 nebula-importer --port = 569 ... Up 0 .0.0.0:32783->5699/tcp nebula-web-docker_nginx_1 /docker-entrypoint.sh ngin ... Up 0 .0.0.0:7001->7001/tcp, 80 /tcp nebula-web-docker_web_1 docker-entrypoint.sh npm r ... Up 0 .0.0.0:32784->7001/tcp \u5982\u679c\u6ca1\u6709\u8fd4\u56de\u4ee5\u4e0a\u7ed3\u679c\uff0c\u5219\u5148\u505c\u6b62 Studio \u91cd\u65b0\u542f\u52a8\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u90e8\u7f72 Studio \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u60a8\u4e4b\u524d\u4f7f\u7528 docker-compose up -d \u542f\u52a8 Studio\uff0c\u5fc5\u987b\u8fd0\u884c docker-compose down \u547d\u4ee4\u505c\u6b62 Studio\u3002","title":"\u7b2c 2 \u6b65. \u68c0\u67e5 Studio \u670d\u52a1\u662f\u5426\u6b63\u5e38\u542f\u52a8"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#3","text":"\u5982\u679c Studio \u4e0e\u6d4f\u89c8\u5668\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u60a8\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u91cc\u4f7f\u7528 localhost:7001 \u3001 127.0.0.1:7001 \u6216\u8005 0.0.0.0:7001 \u8bbf\u95ee Studio\u3002 \u5982\u679c\u4e24\u8005\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u5fc5\u987b\u5728\u6d4f\u89c8\u5668\u91cc\u8f93\u5165 <studio_server_ip>:7001 \u3002\u5176\u4e2d\uff0c studio_server_ip \u662f\u6307\u90e8\u7f72 Studio \u670d\u52a1\u7684\u673a\u5668\u7684 IP \u5730\u5740\u3002","title":"\u7b2c 3 \u6b65. \u786e\u8ba4\u8bbf\u95ee\u5730\u5740"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#4","text":"\u8fd0\u884c curl <studio_server_ip>:7001 -I \u786e\u8ba4\u662f\u5426\u6b63\u5e38\u3002\u5982\u679c\u8fd4\u56de HTTP/1.1 200 OK \uff0c\u8868\u793a\u7f51\u7edc\u8fde\u901a\u6b63\u5e38\u3002 \u5982\u679c\u8fde\u63a5\u88ab\u62d2\u7edd\uff0c\u5219\u6309\u4ee5\u4e0b\u8981\u6c42\u68c0\u67e5\uff1a \u5982\u679c\u6d4f\u89c8\u5668\u4e0e Studio \u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5\u7aef\u53e3\u662f\u5426\u5df2\u66b4\u9732\u3002 \u5982\u679c\u4e24\u8005\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5 Studio \u6240\u5728\u673a\u5668\u7684\u7f51\u7edc\u914d\u7f6e\uff0c\u4f8b\u5982\uff0c\u9632\u706b\u5899\u3001\u7f51\u5173\u4ee5\u53ca\u7aef\u53e3\u3002 \u5982\u679c\u6309\u4e0a\u8ff0\u6b65\u9aa4\u6392\u67e5\u540e\u4ecd\u65e0\u6cd5\u8bbf\u95ee Studio\uff0c\u8bf7\u60a8\u524d\u5f80 Nebula Graph \u5b98\u65b9\u8bba\u575b \u54a8\u8be2\u3002","title":"\u7b2c 4 \u6b65. \u786e\u8ba4\u7f51\u7edc\u8fde\u901a\u6027"},{"location":"nebula-studio/troubleshooting/st-ug-faq/","text":"\u5e38\u89c1\u95ee\u9898 \u00b6 \u4e3a\u4ec0\u4e48\u6211\u65e0\u6cd5\u4f7f\u7528\u67d0\u4e2a\u529f\u80fd\uff1f \u5982\u679c\u53d1\u73b0\u60a8\u65e0\u6cd5\u4f7f\u7528\u67d0\u4e2a\u529f\u80fd\uff0c\u5efa\u8bae\u60a8\u6309\u4ee5\u4e0b\u6b65\u9aa4\u6392\u9664\u95ee\u9898\uff1a \u786e\u8ba4 Nebula Graph \u662f\u6700\u65b0\u7248\u672c\u3002\u5982\u679c\u60a8\u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u6570\u636e\u5e93\uff0c\u5efa\u8bae\u60a8\u8fd0\u884c docker-compose pull && docker-compose up -d \u62c9\u53d6\u6700\u65b0\u7684 Docker \u955c\u50cf\uff0c\u5e76\u542f\u52a8\u5bb9\u5668\u3002 \u786e\u8ba4 Studio \u662f\u6700\u65b0\u7248\u672c\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u641c\u7d22 \u8bba\u575b \u6216 GitHub \u7684 nebula \u548c nebula-web-docker \u9879\u76ee\uff0c\u786e\u8ba4\u662f\u5426\u5df2\u7ecf\u6709\u7c7b\u4f3c\u7684\u95ee\u9898\u3002 \u5982\u679c\u4e0a\u8ff0\u64cd\u4f5c\u5747\u672a\u89e3\u51b3\u60a8\u7684\u95ee\u9898\uff0c\u6b22\u8fce\u60a8\u5728\u8bba\u575b\u4e0a\u63d0\u4ea4\u95ee\u9898\u3002 Studio \u652f\u6301 Nebula Graph v2.x \u5417\uff1f Studio v1.x \u4ec5\u9002\u7528\u4e8e Nebula Graph v1.x\u3002Studio v2.x \u9002\u7528\u4e8e Nebula Graph v2.x\u3002 Studio \u662f\u5426\u4f1a\u5f00\u6e90\uff1f \u76ee\u524d\u8fd8\u672a\u5f00\u6e90\u3002","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"nebula-studio/troubleshooting/st-ug-faq/#_1","text":"\u4e3a\u4ec0\u4e48\u6211\u65e0\u6cd5\u4f7f\u7528\u67d0\u4e2a\u529f\u80fd\uff1f \u5982\u679c\u53d1\u73b0\u60a8\u65e0\u6cd5\u4f7f\u7528\u67d0\u4e2a\u529f\u80fd\uff0c\u5efa\u8bae\u60a8\u6309\u4ee5\u4e0b\u6b65\u9aa4\u6392\u9664\u95ee\u9898\uff1a \u786e\u8ba4 Nebula Graph \u662f\u6700\u65b0\u7248\u672c\u3002\u5982\u679c\u60a8\u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u6570\u636e\u5e93\uff0c\u5efa\u8bae\u60a8\u8fd0\u884c docker-compose pull && docker-compose up -d \u62c9\u53d6\u6700\u65b0\u7684 Docker \u955c\u50cf\uff0c\u5e76\u542f\u52a8\u5bb9\u5668\u3002 \u786e\u8ba4 Studio \u662f\u6700\u65b0\u7248\u672c\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u641c\u7d22 \u8bba\u575b \u6216 GitHub \u7684 nebula \u548c nebula-web-docker \u9879\u76ee\uff0c\u786e\u8ba4\u662f\u5426\u5df2\u7ecf\u6709\u7c7b\u4f3c\u7684\u95ee\u9898\u3002 \u5982\u679c\u4e0a\u8ff0\u64cd\u4f5c\u5747\u672a\u89e3\u51b3\u60a8\u7684\u95ee\u9898\uff0c\u6b22\u8fce\u60a8\u5728\u8bba\u575b\u4e0a\u63d0\u4ea4\u95ee\u9898\u3002 Studio \u652f\u6301 Nebula Graph v2.x \u5417\uff1f Studio v1.x \u4ec5\u9002\u7528\u4e8e Nebula Graph v1.x\u3002Studio v2.x \u9002\u7528\u4e8e Nebula Graph v2.x\u3002 Studio \u662f\u5426\u4f1a\u5f00\u6e90\uff1f \u76ee\u524d\u8fd8\u672a\u5f00\u6e90\u3002","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"nebula-studio/use-console/st-ug-console/","text":"\u63a7\u5236\u53f0\u754c\u9762 \u00b6 Studio \u7684\u63a7\u5236\u53f0\u754c\u9762\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u4e0b\u8868\u5217\u51fa\u4e86\u63a7\u5236\u53f0\u754c\u9762\u4e0a\u7684\u5404\u79cd\u529f\u80fd\u3002 \u7f16\u53f7 \u529f\u80fd \u8bf4\u660e 1 \u5de5\u5177\u680f \u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u8fdb\u5165\u63a7\u5236\u53f0\u9875\u9762\u3002 2 \u9009\u62e9\u56fe\u7a7a\u95f4 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u5217\u8868\u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002 \u8bf4\u660e \uff1aStudio \u4e0d\u652f\u6301\u76f4\u63a5\u5728\u8f93\u5165\u6846\u4e2d\u8fd0\u884c USE <space_name> \u8bed\u53e5\u3002 3 \u8f93\u5165\u6846 \u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165 nGQL \u8bed\u53e5\u540e\uff0c\u70b9\u51fb \u6309\u94ae\u8fd0\u884c\u8bed\u53e5\u3002\u60a8\u53ef\u4ee5\u540c\u65f6\u8f93\u5165\u591a\u4e2a\u8bed\u53e5\u540c\u65f6\u8fd0\u884c\uff0c\u8bed\u53e5\u4e4b\u95f4\u4ee5 ; \u5206\u9694\u3002 4 \u6e05\u7a7a\u8f93\u5165\u6846 \u70b9\u51fb \u6309\u94ae\uff0c\u6e05\u7a7a\u8f93\u5165\u6846\u4e2d\u5df2\u7ecf\u8f93\u5165\u7684\u5185\u5bb9\u3002 5 \u91cd\u590d\u8bed\u53e5\u8f93\u5165 \u70b9\u51fb \u6309\u94ae\uff0c\u5728\u8bed\u53e5\u8fd0\u884c\u8bb0\u5f55\u5217\u8868\u91cc\uff0c\u70b9\u51fb\u5176\u4e2d\u4e00\u4e2a\u8bed\u53e5\uff0c\u8f93\u5165\u6846\u4e2d\u5373\u81ea\u52a8\u8f93\u5165\u8be5\u8bed\u53e5\u3002\u5217\u8868\u91cc\u63d0\u4f9b\u6700\u8fd1 15 \u6b21\u8bed\u53e5\u8fd0\u884c\u8bb0\u5f55\u3002 6 \u8fd0\u884c \u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165 nGQL \u8bed\u53e5\u540e\uff0c\u70b9\u51fb \u6309\u94ae\u5373\u5f00\u59cb\u8fd0\u884c\u8bed\u53e5\u3002 7 \u8bed\u53e5\u8fd0\u884c\u72b6\u6001 \u8fd0\u884c nGQL \u8bed\u53e5\u540e\uff0c\u8fd9\u91cc\u663e\u793a\u8bed\u53e5\u8fd0\u884c\u72b6\u6001\u3002\u5982\u679c\u8bed\u53e5\u8fd0\u884c\u6210\u529f\uff0c\u8bed\u53e5\u4ee5\u7eff\u8272\u663e\u793a\u3002\u5982\u679c\u8bed\u53e5\u8fd0\u884c\u5931\u8d25\uff0c\u8bed\u53e5\u4ee5\u7ea2\u8272\u663e\u793a\u3002 8 \u7ed3\u679c\u7a97\u53e3 \u663e\u793a\u8bed\u53e5\u8fd0\u884c\u7ed3\u679c\u3002\u5982\u679c\u8bed\u53e5\u4f1a\u8fd4\u56de\u7ed3\u679c\uff0c\u7ed3\u679c\u7a97\u53e3\u4f1a\u4ee5\u8868\u683c\u5f62\u5f0f\u5448\u73b0\u8fd4\u56de\u7684\u7ed3\u679c\u3002 9 \u5bfc\u51faCSV\u6587\u4ef6 \u8fd0\u884c nGQL \u8bed\u53e5\u8fd4\u56de\u7ed3\u679c\u540e\uff0c\u70b9\u51fb \u5bfc\u51faCSV\u6587\u4ef6 \u6309\u94ae\u5373\u80fd\u5c06\u7ed3\u679c\u4ee5 CSV \u6587\u4ef6\u7684\u5f62\u5f0f\u5bfc\u51fa\u3002 10 \u56fe\u63a2\u7d22\u529f\u80fd\u952e \u6839\u636e\u60a8\u8fd0\u884c\u7684 nGQL \u8bed\u53e5\uff0c\u60a8\u53ef\u4ee5\u70b9\u51fb\u56fe\u63a2\u7d22\u529f\u80fd\u952e\u5c06\u8fd4\u56de\u7684\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \u8fdb\u884c\u53ef\u89c6\u5316\u5c55\u73b0\uff0c\u4f8b\u5982 \u5bfc\u5165\u56fe\u63a2\u7d22 \u548c \u67e5\u770b\u5b50\u56fe \u3002","title":"\u63a7\u5236\u53f0\u754c\u9762"},{"location":"nebula-studio/use-console/st-ug-console/#_1","text":"Studio \u7684\u63a7\u5236\u53f0\u754c\u9762\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u4e0b\u8868\u5217\u51fa\u4e86\u63a7\u5236\u53f0\u754c\u9762\u4e0a\u7684\u5404\u79cd\u529f\u80fd\u3002 \u7f16\u53f7 \u529f\u80fd \u8bf4\u660e 1 \u5de5\u5177\u680f \u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u8fdb\u5165\u63a7\u5236\u53f0\u9875\u9762\u3002 2 \u9009\u62e9\u56fe\u7a7a\u95f4 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u5217\u8868\u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002 \u8bf4\u660e \uff1aStudio \u4e0d\u652f\u6301\u76f4\u63a5\u5728\u8f93\u5165\u6846\u4e2d\u8fd0\u884c USE <space_name> \u8bed\u53e5\u3002 3 \u8f93\u5165\u6846 \u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165 nGQL \u8bed\u53e5\u540e\uff0c\u70b9\u51fb \u6309\u94ae\u8fd0\u884c\u8bed\u53e5\u3002\u60a8\u53ef\u4ee5\u540c\u65f6\u8f93\u5165\u591a\u4e2a\u8bed\u53e5\u540c\u65f6\u8fd0\u884c\uff0c\u8bed\u53e5\u4e4b\u95f4\u4ee5 ; \u5206\u9694\u3002 4 \u6e05\u7a7a\u8f93\u5165\u6846 \u70b9\u51fb \u6309\u94ae\uff0c\u6e05\u7a7a\u8f93\u5165\u6846\u4e2d\u5df2\u7ecf\u8f93\u5165\u7684\u5185\u5bb9\u3002 5 \u91cd\u590d\u8bed\u53e5\u8f93\u5165 \u70b9\u51fb \u6309\u94ae\uff0c\u5728\u8bed\u53e5\u8fd0\u884c\u8bb0\u5f55\u5217\u8868\u91cc\uff0c\u70b9\u51fb\u5176\u4e2d\u4e00\u4e2a\u8bed\u53e5\uff0c\u8f93\u5165\u6846\u4e2d\u5373\u81ea\u52a8\u8f93\u5165\u8be5\u8bed\u53e5\u3002\u5217\u8868\u91cc\u63d0\u4f9b\u6700\u8fd1 15 \u6b21\u8bed\u53e5\u8fd0\u884c\u8bb0\u5f55\u3002 6 \u8fd0\u884c \u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165 nGQL \u8bed\u53e5\u540e\uff0c\u70b9\u51fb \u6309\u94ae\u5373\u5f00\u59cb\u8fd0\u884c\u8bed\u53e5\u3002 7 \u8bed\u53e5\u8fd0\u884c\u72b6\u6001 \u8fd0\u884c nGQL \u8bed\u53e5\u540e\uff0c\u8fd9\u91cc\u663e\u793a\u8bed\u53e5\u8fd0\u884c\u72b6\u6001\u3002\u5982\u679c\u8bed\u53e5\u8fd0\u884c\u6210\u529f\uff0c\u8bed\u53e5\u4ee5\u7eff\u8272\u663e\u793a\u3002\u5982\u679c\u8bed\u53e5\u8fd0\u884c\u5931\u8d25\uff0c\u8bed\u53e5\u4ee5\u7ea2\u8272\u663e\u793a\u3002 8 \u7ed3\u679c\u7a97\u53e3 \u663e\u793a\u8bed\u53e5\u8fd0\u884c\u7ed3\u679c\u3002\u5982\u679c\u8bed\u53e5\u4f1a\u8fd4\u56de\u7ed3\u679c\uff0c\u7ed3\u679c\u7a97\u53e3\u4f1a\u4ee5\u8868\u683c\u5f62\u5f0f\u5448\u73b0\u8fd4\u56de\u7684\u7ed3\u679c\u3002 9 \u5bfc\u51faCSV\u6587\u4ef6 \u8fd0\u884c nGQL \u8bed\u53e5\u8fd4\u56de\u7ed3\u679c\u540e\uff0c\u70b9\u51fb \u5bfc\u51faCSV\u6587\u4ef6 \u6309\u94ae\u5373\u80fd\u5c06\u7ed3\u679c\u4ee5 CSV \u6587\u4ef6\u7684\u5f62\u5f0f\u5bfc\u51fa\u3002 10 \u56fe\u63a2\u7d22\u529f\u80fd\u952e \u6839\u636e\u60a8\u8fd0\u884c\u7684 nGQL \u8bed\u53e5\uff0c\u60a8\u53ef\u4ee5\u70b9\u51fb\u56fe\u63a2\u7d22\u529f\u80fd\u952e\u5c06\u8fd4\u56de\u7684\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \u8fdb\u884c\u53ef\u89c6\u5316\u5c55\u73b0\uff0c\u4f8b\u5982 \u5bfc\u5165\u56fe\u63a2\u7d22 \u548c \u67e5\u770b\u5b50\u56fe \u3002","title":"\u63a7\u5236\u53f0\u754c\u9762"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/","text":"\u5bfc\u5165\u56fe\u63a2\u7d22 \u00b6 \u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u4f7f\u7528 nGQL \u8bed\u53e5\u67e5\u8be2\u5f97\u5230\u70b9\u6216\u8fb9\u7684\u4fe1\u606f\uff0c\u518d\u501f\u52a9 \u5bfc\u5165\u56fe\u63a2\u7d22 \u529f\u80fd\u5b9e\u73b0\u67e5\u8be2\u7ed3\u679c\u7684\u53ef\u89c6\u5316\u3002 \u652f\u6301\u7248\u672c \u00b6 Studio v1.2.1-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u4f7f\u7528\u5bfc\u5165\u56fe\u63a2\u7d22\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u8fde\u63a5\u6570\u636e\u5e93 \u3002 \u5df2\u7ecf\u5bfc\u5165\u6570\u636e\u96c6\u3002\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u5bfc\u5165\u6570\u636e \u3002 \u5bfc\u5165\u8fb9\u6570\u636e \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u5c06 \u63a7\u5236\u53f0 \u67e5\u8be2\u5f97\u5230\u7684\u8fb9\u6570\u636e\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165\u67e5\u8be2\u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 \u8bf4\u660e \uff1a\u67e5\u8be2\u7ed3\u679c\u4e2d\u5fc5\u987b\u5305\u62ec\u8fb9\u8d77\u70b9\u548c\u7ec8\u70b9 VID \u4fe1\u606f\u3002 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\u5982\u4e0b\uff1a nebula> GO FROM 56 OVER action YIELD action._src, action._dst; \u67e5\u8be2\u7ed3\u679c\u53ef\u4ee5\u770b\u5230 userId \u4e3a 56 \u7684\u7528\u6237\u53c2\u52a0\u4e86\u54ea\u4e9b\u8bfe\u7a0b\u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u70b9\u51fb \u5bfc\u5165\u56fe\u63a2\u7d22 \u6309\u94ae\u3002 \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u914d\u7f6e\u5982\u4e0b\uff1a a. \u70b9\u51fb \u8fb9\u7c7b\u578b \u3002 b. \u5728 Edge Type \u5b57\u6bb5\uff0c\u586b\u5199\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u586b\u5199 action \u3002 c. \u5728 Src ID \u5b57\u6bb5\uff0c\u9009\u62e9\u67e5\u8be2\u7ed3\u679c\u4e2d\u4ee3\u8868\u8fb9\u8d77\u70b9 VID \u7684\u5217\u540d\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 action._src \u3002 d. \u5728 Dst ID \u5b57\u6bb5\uff0c\u9009\u62e9\u67e5\u8be2\u7ed3\u679c\u4e2d\u4ee3\u8868\u8fb9\u7ec8\u70b9 VID \u7684\u5217\u540d\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 action._dst \u3002 e. \uff08\u53ef\u9009\uff09\u5982\u679c\u8fd4\u56de\u7684\u8fb9\u6570\u636e\u4e2d\u6709\u8fb9\u6743\u91cd\uff08 rank \uff09\u4fe1\u606f\uff0c\u5219\u5728 Rank \u5b57\u6bb5\uff0c\u9009\u62e9\u4ee3\u8868\u8fb9\u6743\u91cd\u7684\u5217\u540d\u3002\u5982\u679c Rank \u5b57\u6bb5\u672a\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 0\u3002 f. \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u70b9\u51fb \u5bfc\u5165 \u6309\u94ae\u3002 \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u7684\u5f39\u51fa\u7a97\u53e3\u4e2d\uff0c\u9009\u62e9\u6570\u636e\u63d2\u5165\u65b9\u5f0f\uff1a \u589e\u91cf\u63d2\u5165 \uff1a\u5728\u753b\u56fe\u677f\u539f\u6765\u7684\u6570\u636e\u57fa\u7840\u4e0a\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6e05\u9664\u63d2\u5165 \uff1a\u6e05\u9664\u753b\u56fe\u677f\u4e0a\u539f\u6765\u7684\u6570\u636e\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u63d2\u5165\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u67e5\u8be2\u5f97\u5230\u7684\u8fb9\u6570\u636e\u7684\u53ef\u89c6\u5316\u8868\u73b0\u3002 \u5bfc\u5165\u70b9\u6570\u636e\u7ed3\u679c \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u5c06 \u63a7\u5236\u53f0 \u67e5\u8be2\u5f97\u5230\u7684\u70b9\u6570\u636e\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165\u67e5\u8be2\u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 \u8bf4\u660e \uff1a\u67e5\u8be2\u7ed3\u679c\u4e2d\u5fc5\u987b\u5305\u62ec\u70b9\u7684 VID \u4fe1\u606f\u3002 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\u5982\u4e0b\uff1a -- \u5bf9\u4e8e\u672c\u624b\u518c\u4e2d\u6240\u7528\u6570\u636e\u96c6\uff0c -- course \u7c7b\u70b9\u7684 VID \u7531 courseName \u7ecf hash() \u51fd\u6570\u5904\u7406\u5f97\u5230 nebula> FETCH PROP ON * hash(\"Media History and Theory\"); \u67e5\u8be2\u5f97\u5230 courseId \u4e3a 8 \u7684\u8bfe\u7a0b\u4fe1\u606f\u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u70b9\u51fb \u5bfc\u5165\u56fe\u63a2\u7d22 \u6309\u94ae\u3002 \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u914d\u7f6e\u5982\u4e0b\uff1a a. \u70b9\u51fb \u70b9 \u3002 b. \u5728 Vertex ID \u5b57\u6bb5\uff0c\u9009\u62e9\u67e5\u8be2\u7ed3\u679c\u4e2d\u4ee3\u8868\u70b9 VID \u7684\u5217\u540d\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 VertexID \u3002 c. \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u70b9\u51fb \u5bfc\u5165 \u6309\u94ae\u3002 \u5728 \u56fe\u63a2\u7d22 \u4e0a\u7684\u5f39\u51fa\u7a97\u53e3\u4e2d\u9009\u62e9\u6570\u636e\u63d2\u5165\u65b9\u5f0f\uff1a \u589e\u91cf\u63d2\u5165 \uff1a\u5728\u753b\u56fe\u677f\u539f\u6765\u7684\u6570\u636e\u57fa\u7840\u4e0a\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6e05\u9664\u63d2\u5165 \uff1a\u6e05\u9664\u753b\u56fe\u677f\u4e0a\u539f\u6765\u7684\u6570\u636e\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u63d2\u5165\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u67e5\u8be2\u5f97\u5230\u7684\u70b9\u6570\u636e\u7684\u53ef\u89c6\u5316\u8868\u73b0\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u6570\u636e\u5bfc\u5165\u56fe\u63a2\u7d22\u540e\uff0c\u60a8\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u62d3\u5c55\u5206\u6790\u3002","title":"\u5bfc\u5165\u56fe\u63a2\u7d22"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/#_1","text":"\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u4f7f\u7528 nGQL \u8bed\u53e5\u67e5\u8be2\u5f97\u5230\u70b9\u6216\u8fb9\u7684\u4fe1\u606f\uff0c\u518d\u501f\u52a9 \u5bfc\u5165\u56fe\u63a2\u7d22 \u529f\u80fd\u5b9e\u73b0\u67e5\u8be2\u7ed3\u679c\u7684\u53ef\u89c6\u5316\u3002","title":"\u5bfc\u5165\u56fe\u63a2\u7d22"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/#_2","text":"Studio v1.2.1-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002","title":"\u652f\u6301\u7248\u672c"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/#_3","text":"\u4f7f\u7528\u5bfc\u5165\u56fe\u63a2\u7d22\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u8fde\u63a5\u6570\u636e\u5e93 \u3002 \u5df2\u7ecf\u5bfc\u5165\u6570\u636e\u96c6\u3002\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u5bfc\u5165\u6570\u636e \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/#_4","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5c06 \u63a7\u5236\u53f0 \u67e5\u8be2\u5f97\u5230\u7684\u8fb9\u6570\u636e\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165\u67e5\u8be2\u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 \u8bf4\u660e \uff1a\u67e5\u8be2\u7ed3\u679c\u4e2d\u5fc5\u987b\u5305\u62ec\u8fb9\u8d77\u70b9\u548c\u7ec8\u70b9 VID \u4fe1\u606f\u3002 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\u5982\u4e0b\uff1a nebula> GO FROM 56 OVER action YIELD action._src, action._dst; \u67e5\u8be2\u7ed3\u679c\u53ef\u4ee5\u770b\u5230 userId \u4e3a 56 \u7684\u7528\u6237\u53c2\u52a0\u4e86\u54ea\u4e9b\u8bfe\u7a0b\u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u70b9\u51fb \u5bfc\u5165\u56fe\u63a2\u7d22 \u6309\u94ae\u3002 \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u914d\u7f6e\u5982\u4e0b\uff1a a. \u70b9\u51fb \u8fb9\u7c7b\u578b \u3002 b. \u5728 Edge Type \u5b57\u6bb5\uff0c\u586b\u5199\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u586b\u5199 action \u3002 c. \u5728 Src ID \u5b57\u6bb5\uff0c\u9009\u62e9\u67e5\u8be2\u7ed3\u679c\u4e2d\u4ee3\u8868\u8fb9\u8d77\u70b9 VID \u7684\u5217\u540d\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 action._src \u3002 d. \u5728 Dst ID \u5b57\u6bb5\uff0c\u9009\u62e9\u67e5\u8be2\u7ed3\u679c\u4e2d\u4ee3\u8868\u8fb9\u7ec8\u70b9 VID \u7684\u5217\u540d\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 action._dst \u3002 e. \uff08\u53ef\u9009\uff09\u5982\u679c\u8fd4\u56de\u7684\u8fb9\u6570\u636e\u4e2d\u6709\u8fb9\u6743\u91cd\uff08 rank \uff09\u4fe1\u606f\uff0c\u5219\u5728 Rank \u5b57\u6bb5\uff0c\u9009\u62e9\u4ee3\u8868\u8fb9\u6743\u91cd\u7684\u5217\u540d\u3002\u5982\u679c Rank \u5b57\u6bb5\u672a\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 0\u3002 f. \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u70b9\u51fb \u5bfc\u5165 \u6309\u94ae\u3002 \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u7684\u5f39\u51fa\u7a97\u53e3\u4e2d\uff0c\u9009\u62e9\u6570\u636e\u63d2\u5165\u65b9\u5f0f\uff1a \u589e\u91cf\u63d2\u5165 \uff1a\u5728\u753b\u56fe\u677f\u539f\u6765\u7684\u6570\u636e\u57fa\u7840\u4e0a\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6e05\u9664\u63d2\u5165 \uff1a\u6e05\u9664\u753b\u56fe\u677f\u4e0a\u539f\u6765\u7684\u6570\u636e\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u63d2\u5165\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u67e5\u8be2\u5f97\u5230\u7684\u8fb9\u6570\u636e\u7684\u53ef\u89c6\u5316\u8868\u73b0\u3002","title":"\u5bfc\u5165\u8fb9\u6570\u636e"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/#_5","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5c06 \u63a7\u5236\u53f0 \u67e5\u8be2\u5f97\u5230\u7684\u70b9\u6570\u636e\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165\u67e5\u8be2\u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 \u8bf4\u660e \uff1a\u67e5\u8be2\u7ed3\u679c\u4e2d\u5fc5\u987b\u5305\u62ec\u70b9\u7684 VID \u4fe1\u606f\u3002 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\u5982\u4e0b\uff1a -- \u5bf9\u4e8e\u672c\u624b\u518c\u4e2d\u6240\u7528\u6570\u636e\u96c6\uff0c -- course \u7c7b\u70b9\u7684 VID \u7531 courseName \u7ecf hash() \u51fd\u6570\u5904\u7406\u5f97\u5230 nebula> FETCH PROP ON * hash(\"Media History and Theory\"); \u67e5\u8be2\u5f97\u5230 courseId \u4e3a 8 \u7684\u8bfe\u7a0b\u4fe1\u606f\u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u70b9\u51fb \u5bfc\u5165\u56fe\u63a2\u7d22 \u6309\u94ae\u3002 \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u914d\u7f6e\u5982\u4e0b\uff1a a. \u70b9\u51fb \u70b9 \u3002 b. \u5728 Vertex ID \u5b57\u6bb5\uff0c\u9009\u62e9\u67e5\u8be2\u7ed3\u679c\u4e2d\u4ee3\u8868\u70b9 VID \u7684\u5217\u540d\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 VertexID \u3002 c. \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u70b9\u51fb \u5bfc\u5165 \u6309\u94ae\u3002 \u5728 \u56fe\u63a2\u7d22 \u4e0a\u7684\u5f39\u51fa\u7a97\u53e3\u4e2d\u9009\u62e9\u6570\u636e\u63d2\u5165\u65b9\u5f0f\uff1a \u589e\u91cf\u63d2\u5165 \uff1a\u5728\u753b\u56fe\u677f\u539f\u6765\u7684\u6570\u636e\u57fa\u7840\u4e0a\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6e05\u9664\u63d2\u5165 \uff1a\u6e05\u9664\u753b\u56fe\u677f\u4e0a\u539f\u6765\u7684\u6570\u636e\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u63d2\u5165\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u67e5\u8be2\u5f97\u5230\u7684\u70b9\u6570\u636e\u7684\u53ef\u89c6\u5316\u8868\u73b0\u3002","title":"\u5bfc\u5165\u70b9\u6570\u636e\u7ed3\u679c"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/#_6","text":"\u6570\u636e\u5bfc\u5165\u56fe\u63a2\u7d22\u540e\uff0c\u60a8\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u62d3\u5c55\u5206\u6790\u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/use-console/st-ug-visualize-findpath/","text":"\u67e5\u770b\u5b50\u56fe \u00b6 \u5728 Studio \u91cc\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u8fd0\u884c FIND SHORTEST | ALL PATH \u8bed\u53e5\u67e5\u8be2\u5f97\u5230\u6307\u5b9a\u70b9\u4e4b\u95f4\u7684\u6240\u6709\u8def\u5f84\u6216\u6700\u77ed\u8def\u5f84\uff0c\u7136\u540e\u518d\u901a\u8fc7 \u67e5\u770b\u5b50\u56fe \u529f\u80fd\u5c06\u67e5\u8be2\u5f97\u5230\u7684\u8def\u5f84\u5bfc\u5165 \u56fe\u63a2\u7d22 \u8fdb\u884c\u53ef\u89c6\u5316\u5c55\u793a\u3002 \u5173\u4e8e FIND SHORTEST | ALL PATH \u8bed\u53e5\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 nGQL \u7528\u6237\u624b\u518c \u3002 \u652f\u6301\u7248\u672c \u00b6 Studio v1.2.1-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728 \u63a7\u5236\u53f0 \u4e0a\u8fd0\u884c FIND PATH \u8bed\u53e5\u5e76\u67e5\u770b\u5b50\u56fe\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u7248\u672c\u4e3a v1.2.1-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002 Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u8fde\u63a5\u6570\u636e\u5e93 \u3002 \u5df2\u7ecf\u5bfc\u5165\u6570\u636e\u96c6\u3002\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u5bfc\u5165\u6570\u636e \u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u5728 \u63a7\u5236\u53f0 \u8fd0\u884c FIND PATH \u8bed\u53e5\u5e76\u5c06\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165 FIND SHORTEST PATH \u6216\u8005 FIND ALL PATH \u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\u5982\u4e0b\uff1a -- \u5bf9\u4e8e\u672c\u624b\u518c\u4e2d\u6240\u7528\u6570\u636e\u96c6\uff0c -- course \u7c7b\u70b9\u7684 VID \u7531 courseName \u7ecf Hash() \u51fd\u6570\u5904\u7406\u5f97\u5230 nebula> FIND ALL PATH FROM 1,2,4,6,42 to hash(\"History of Ecology\"),hash(\"Neurobiology\") OVER action; \u67e5\u8be2\u5f97\u5230\u5982\u4e0b\u56fe\u6240\u793a\u8def\u5f84\u4fe1\u606f\u3002 \u70b9\u51fb \u67e5\u770b\u5b50\u56fe \u6309\u94ae\u3002 \uff08\u53ef\u9009\uff09\u5982\u679c \u56fe\u63a2\u7d22 \u4e0a\u753b\u677f\u4e0a\u5df2\u6709\u6570\u636e\uff0c\u5219\u9009\u62e9\u4e00\u79cd\u6570\u636e\u63d2\u5165\u65b9\u5f0f\uff1a \u589e\u91cf\u63d2\u5165 \uff1a\u5728\u753b\u56fe\u677f\u539f\u6765\u7684\u6570\u636e\u57fa\u7840\u4e0a\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6e05\u9664\u63d2\u5165 \uff1a\u6e05\u9664\u753b\u56fe\u677f\u4e0a\u539f\u6765\u7684\u6570\u636e\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u63d2\u5165\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u67e5\u8be2\u7ed3\u679c\u7684\u53ef\u89c6\u5316\u8868\u73b0\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u6570\u636e\u5bfc\u5165\u56fe\u63a2\u7d22\u540e\uff0c\u60a8\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u62d3\u5c55\u5206\u6790\u3002","title":"\u67e5\u770b\u5b50\u56fe"},{"location":"nebula-studio/use-console/st-ug-visualize-findpath/#_1","text":"\u5728 Studio \u91cc\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u8fd0\u884c FIND SHORTEST | ALL PATH \u8bed\u53e5\u67e5\u8be2\u5f97\u5230\u6307\u5b9a\u70b9\u4e4b\u95f4\u7684\u6240\u6709\u8def\u5f84\u6216\u6700\u77ed\u8def\u5f84\uff0c\u7136\u540e\u518d\u901a\u8fc7 \u67e5\u770b\u5b50\u56fe \u529f\u80fd\u5c06\u67e5\u8be2\u5f97\u5230\u7684\u8def\u5f84\u5bfc\u5165 \u56fe\u63a2\u7d22 \u8fdb\u884c\u53ef\u89c6\u5316\u5c55\u793a\u3002 \u5173\u4e8e FIND SHORTEST | ALL PATH \u8bed\u53e5\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 nGQL \u7528\u6237\u624b\u518c \u3002","title":"\u67e5\u770b\u5b50\u56fe"},{"location":"nebula-studio/use-console/st-ug-visualize-findpath/#_2","text":"Studio v1.2.1-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002","title":"\u652f\u6301\u7248\u672c"},{"location":"nebula-studio/use-console/st-ug-visualize-findpath/#_3","text":"\u5728 \u63a7\u5236\u53f0 \u4e0a\u8fd0\u884c FIND PATH \u8bed\u53e5\u5e76\u67e5\u770b\u5b50\u56fe\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u7248\u672c\u4e3a v1.2.1-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002 Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u8fde\u63a5\u6570\u636e\u5e93 \u3002 \u5df2\u7ecf\u5bfc\u5165\u6570\u636e\u96c6\u3002\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u5bfc\u5165\u6570\u636e \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/use-console/st-ug-visualize-findpath/#_4","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5728 \u63a7\u5236\u53f0 \u8fd0\u884c FIND PATH \u8bed\u53e5\u5e76\u5c06\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165 FIND SHORTEST PATH \u6216\u8005 FIND ALL PATH \u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\u5982\u4e0b\uff1a -- \u5bf9\u4e8e\u672c\u624b\u518c\u4e2d\u6240\u7528\u6570\u636e\u96c6\uff0c -- course \u7c7b\u70b9\u7684 VID \u7531 courseName \u7ecf Hash() \u51fd\u6570\u5904\u7406\u5f97\u5230 nebula> FIND ALL PATH FROM 1,2,4,6,42 to hash(\"History of Ecology\"),hash(\"Neurobiology\") OVER action; \u67e5\u8be2\u5f97\u5230\u5982\u4e0b\u56fe\u6240\u793a\u8def\u5f84\u4fe1\u606f\u3002 \u70b9\u51fb \u67e5\u770b\u5b50\u56fe \u6309\u94ae\u3002 \uff08\u53ef\u9009\uff09\u5982\u679c \u56fe\u63a2\u7d22 \u4e0a\u753b\u677f\u4e0a\u5df2\u6709\u6570\u636e\uff0c\u5219\u9009\u62e9\u4e00\u79cd\u6570\u636e\u63d2\u5165\u65b9\u5f0f\uff1a \u589e\u91cf\u63d2\u5165 \uff1a\u5728\u753b\u56fe\u677f\u539f\u6765\u7684\u6570\u636e\u57fa\u7840\u4e0a\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6e05\u9664\u63d2\u5165 \uff1a\u6e05\u9664\u753b\u56fe\u677f\u4e0a\u539f\u6765\u7684\u6570\u636e\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u63d2\u5165\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u67e5\u8be2\u7ed3\u679c\u7684\u53ef\u89c6\u5316\u8868\u73b0\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-studio/use-console/st-ug-visualize-findpath/#_5","text":"\u6570\u636e\u5bfc\u5165\u56fe\u63a2\u7d22\u540e\uff0c\u60a8\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u62d3\u5c55\u5206\u6790\u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"spark-connector/sc-ug-compile/","text":"\u7f16\u8bd1 Nebula Spark Connector \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u7f16\u8bd1 Nebula Spark Connector v1.x\uff1a \u514b\u9686 nebula-java \u6e90\u4ee3\u7801\u3002 git clone -b v1.0 https://github.com/vesoft-inc/nebula-java.git \u5207\u6362\u5230 nebula-java \u76ee\u5f55\uff0c\u5e76\u6253\u5305 Nebula Java 1.x\u3002 cd nebula-java mvn clean install -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u8fdb\u5165 tools/nebula-spark \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1 Nebula Spark Connector v1.x\u3002 cd nebula-java/tools/nebula-spark mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002\u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 nebula-spark-1.x.y.jar \u6587\u4ef6\u3002\u5c06\u8fd9\u4e2a\u6587\u4ef6\u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u4ee5\u4e0b\u8def\u5f84 com/vesoft/nebula-spark/ \u3002 \u251c\u2500\u2500 README.md \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 src \u2502 \u2514\u2500\u2500 main \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 classes.-1146581144.timestamp \u251c\u2500\u2500 generated-sources \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 nebula-spark-1.x.y-tests.jar \u251c\u2500\u2500 nebula-spark-1.x.y.jar \u2514\u2500\u2500 original-nebula-spark-1.x.y.jar \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002","title":"\u7f16\u8bd1 Nebula Spark Connector"},{"location":"spark-connector/sc-ug-compile/#nebula_spark_connector","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u7f16\u8bd1 Nebula Spark Connector v1.x\uff1a \u514b\u9686 nebula-java \u6e90\u4ee3\u7801\u3002 git clone -b v1.0 https://github.com/vesoft-inc/nebula-java.git \u5207\u6362\u5230 nebula-java \u76ee\u5f55\uff0c\u5e76\u6253\u5305 Nebula Java 1.x\u3002 cd nebula-java mvn clean install -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u8fdb\u5165 tools/nebula-spark \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1 Nebula Spark Connector v1.x\u3002 cd nebula-java/tools/nebula-spark mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002\u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 nebula-spark-1.x.y.jar \u6587\u4ef6\u3002\u5c06\u8fd9\u4e2a\u6587\u4ef6\u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u4ee5\u4e0b\u8def\u5f84 com/vesoft/nebula-spark/ \u3002 \u251c\u2500\u2500 README.md \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 src \u2502 \u2514\u2500\u2500 main \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 classes.-1146581144.timestamp \u251c\u2500\u2500 generated-sources \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 nebula-spark-1.x.y-tests.jar \u251c\u2500\u2500 nebula-spark-1.x.y.jar \u2514\u2500\u2500 original-nebula-spark-1.x.y.jar \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002","title":"\u7f16\u8bd1 Nebula Spark Connector"},{"location":"spark-connector/sc-ug-limitations/","text":"\u4f7f\u7528\u9650\u5236 \u00b6 \u672c\u6587\u63cf\u8ff0 Nebula Spark Connector \u7684\u4f7f\u7528\u9650\u5236\u3002 Nebula Graph \u7248\u672c \u00b6 Nebula Spark Connector \u5bf9\u4e8e Nebula Graph v1.x\uff0c\u548c Nebula Graph v2.x \u4e3a\u4e0d\u540c\u7248\u672c\u3002 \u8f6f\u4ef6\u4f9d\u8d56 \u00b6 Nebula Spark Connector \u9ed8\u8ba4\u4f9d\u8d56\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\u2122 2.3.0 \u53ca\u66f4\u9ad8\u7248\u672c Scala Java\uff1a1.8 \u529f\u80fd\u9650\u5236 \u00b6 \u76ee\u524d Nebula Spark Connector \u5728\u4f7f\u7528\u65f6\u6709\u4ee5\u4e0b\u529f\u80fd\u9650\u5236\uff1a Reader\uff1a\u76ee\u524d\u65e0\u6cd5\u7528\u4e8e\u8bfb\u53d6 Nebula Graph \u4e2d\u5c5e\u6027\u4e3a\u7a7a\u7684\u70b9\u548c\u8fb9\u6570\u636e\u3002 Writer\uff1a\u7528\u4e8e\u5411 Nebula Graph \u5199\u5165\u8fb9\u6570\u636e\u65f6\uff0c\u4f5c\u4e3a\u8d77\u70b9\u4e0e\u7ec8\u70b9 VID \u7684\u6570\u636e\u5fc5\u987b\u540c\u65f6\u4e3a\u6574\u6570\u578b\u6216\u975e\u6570\u503c\u578b\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"spark-connector/sc-ug-limitations/#_1","text":"\u672c\u6587\u63cf\u8ff0 Nebula Spark Connector \u7684\u4f7f\u7528\u9650\u5236\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"spark-connector/sc-ug-limitations/#nebula_graph","text":"Nebula Spark Connector \u5bf9\u4e8e Nebula Graph v1.x\uff0c\u548c Nebula Graph v2.x \u4e3a\u4e0d\u540c\u7248\u672c\u3002","title":"Nebula Graph \u7248\u672c"},{"location":"spark-connector/sc-ug-limitations/#_2","text":"Nebula Spark Connector \u9ed8\u8ba4\u4f9d\u8d56\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\u2122 2.3.0 \u53ca\u66f4\u9ad8\u7248\u672c Scala Java\uff1a1.8","title":"\u8f6f\u4ef6\u4f9d\u8d56"},{"location":"spark-connector/sc-ug-limitations/#_3","text":"\u76ee\u524d Nebula Spark Connector \u5728\u4f7f\u7528\u65f6\u6709\u4ee5\u4e0b\u529f\u80fd\u9650\u5236\uff1a Reader\uff1a\u76ee\u524d\u65e0\u6cd5\u7528\u4e8e\u8bfb\u53d6 Nebula Graph \u4e2d\u5c5e\u6027\u4e3a\u7a7a\u7684\u70b9\u548c\u8fb9\u6570\u636e\u3002 Writer\uff1a\u7528\u4e8e\u5411 Nebula Graph \u5199\u5165\u8fb9\u6570\u636e\u65f6\uff0c\u4f5c\u4e3a\u8d77\u70b9\u4e0e\u7ec8\u70b9 VID \u7684\u6570\u636e\u5fc5\u987b\u540c\u65f6\u4e3a\u6574\u6570\u578b\u6216\u975e\u6570\u503c\u578b\u3002","title":"\u529f\u80fd\u9650\u5236"},{"location":"spark-connector/sc-ug-toc/","text":"Nebula Spark Connector \u7528\u6237\u624b\u518c \u00b6 \u4ec0\u4e48\u662f Nebula Spark Connector \u7f16\u8bd1 Nebula Spark Connector \u4f7f\u7528\u9650\u5236 Nebula Spark Connector Reader \u4ec0\u4e48\u662f Nebula Spark Connector Reader \u4f7f\u7528\u793a\u4f8b Nebula Spark Connector Writer \u4ec0\u4e48\u662f Nebula Spark Connector Writer \u4f7f\u7528\u793a\u4f8b","title":"Nebula Spark Connector \u7528\u6237\u624b\u518c"},{"location":"spark-connector/sc-ug-toc/#nebula_spark_connector","text":"\u4ec0\u4e48\u662f Nebula Spark Connector \u7f16\u8bd1 Nebula Spark Connector \u4f7f\u7528\u9650\u5236 Nebula Spark Connector Reader \u4ec0\u4e48\u662f Nebula Spark Connector Reader \u4f7f\u7528\u793a\u4f8b Nebula Spark Connector Writer \u4ec0\u4e48\u662f Nebula Spark Connector Writer \u4f7f\u7528\u793a\u4f8b","title":"Nebula Spark Connector \u7528\u6237\u624b\u518c"},{"location":"spark-connector/sc-ug-what-is-spark-connector/","text":"\u4ec0\u4e48\u662f Nebula Spark Connector \u00b6 Nebula Spark Connector \uff08\u5728\u672c\u624b\u518c\u4e2d\u7b80\u79f0\u4e3a Spark Connector\uff09\u662f\u4e00\u4e2a Spark \u8fde\u63a5\u5668\uff0c\u63d0\u4f9b\u4e86\u901a\u8fc7 Spark \u6807\u51c6\u5f62\u5f0f\u8bfb\u5199 Nebula Graph \u6570\u636e\u5e93\u7684\u80fd\u529b\uff0c\u7531\u4ee5\u4e0b\u4e24\u90e8\u5206\u7ec4\u6210\uff1a Reader\uff1a\u4e3a\u60a8\u63d0\u4f9b\u4e86\u4e00\u4e2a Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\uff0c\u5355\u6b21\u8bfb\u53d6\u4e00\u4e2a\u70b9\u6216\u8fb9\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5e76\u5c06\u8bfb\u53d6\u7684\u7ed3\u679c\u7ec4\u88c5\u6210 Spark \u7684 DataFrame\u3002\u53c2\u8003 Nebula Spark Connector Reader \u3002 Writer\uff1a\u4e3a\u60a8\u63d0\u4f9b\u4e86\u4e00\u4e2a Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u5c06 DataFrame \u683c\u5f0f\u7684\u6570\u636e\u9010\u6761\u6216\u6279\u91cf\u5199\u5165 Nebula Graph\u3002\u53c2\u8003 Nebula Spark Connector Writer \u3002 \u60a8\u53ef\u4ee5\u5c06 Nebula Spark Connector \u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u5728\u4e0d\u540c\u7684 Nebula Graph \u96c6\u7fa4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 \u5728\u540c\u4e00\u4e2a Nebula Graph \u96c6\u7fa4\u5185\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 Nebula Graph \u4e0e\u5176\u4ed6\u6570\u636e\u6e90\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002","title":"\u4ec0\u4e48\u662f Nebula Spark Connector"},{"location":"spark-connector/sc-ug-what-is-spark-connector/#nebula_spark_connector","text":"Nebula Spark Connector \uff08\u5728\u672c\u624b\u518c\u4e2d\u7b80\u79f0\u4e3a Spark Connector\uff09\u662f\u4e00\u4e2a Spark \u8fde\u63a5\u5668\uff0c\u63d0\u4f9b\u4e86\u901a\u8fc7 Spark \u6807\u51c6\u5f62\u5f0f\u8bfb\u5199 Nebula Graph \u6570\u636e\u5e93\u7684\u80fd\u529b\uff0c\u7531\u4ee5\u4e0b\u4e24\u90e8\u5206\u7ec4\u6210\uff1a Reader\uff1a\u4e3a\u60a8\u63d0\u4f9b\u4e86\u4e00\u4e2a Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\uff0c\u5355\u6b21\u8bfb\u53d6\u4e00\u4e2a\u70b9\u6216\u8fb9\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5e76\u5c06\u8bfb\u53d6\u7684\u7ed3\u679c\u7ec4\u88c5\u6210 Spark \u7684 DataFrame\u3002\u53c2\u8003 Nebula Spark Connector Reader \u3002 Writer\uff1a\u4e3a\u60a8\u63d0\u4f9b\u4e86\u4e00\u4e2a Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u5c06 DataFrame \u683c\u5f0f\u7684\u6570\u636e\u9010\u6761\u6216\u6279\u91cf\u5199\u5165 Nebula Graph\u3002\u53c2\u8003 Nebula Spark Connector Writer \u3002 \u60a8\u53ef\u4ee5\u5c06 Nebula Spark Connector \u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u5728\u4e0d\u540c\u7684 Nebula Graph \u96c6\u7fa4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 \u5728\u540c\u4e00\u4e2a Nebula Graph \u96c6\u7fa4\u5185\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 Nebula Graph \u4e0e\u5176\u4ed6\u6570\u636e\u6e90\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002","title":"\u4ec0\u4e48\u662f Nebula Spark Connector"},{"location":"spark-connector/reader/sc-ug-reader-example/","text":"Nebula Spark Connector Reader \u5e94\u7528\u793a\u4f8b \u00b6 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Nebula Spark Connector Reader \u8bfb\u53d6 Nebula Graph \u7684\u70b9\u548c\u8fb9\u6570\u636e\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u4f7f\u7528 Nebula Spark Connector Reader \u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\u2122 2.3.0 \u53ca\u66f4\u9ad8\u7248\u672c Scala Java\uff1a1.8 \u5df2\u7ecf\u6210\u529f\u7f16\u8bd1 Nebula Spark Connector Reader\uff0c\u5e76\u5df2\u7ecf\u5c06 nebula-spark-1.x.y.jar \u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7f16\u8bd1 Nebula Spark Connector \u5df2\u7ecf\u83b7\u53d6 Nebula Graph \u6570\u636e\u5e93\u7684\u4ee5\u4e0b\u4fe1\u606f\uff1a \u56fe\u7a7a\u95f4\u540d\u79f0\u548c\u5206\u533a\u6570\u91cf\uff08\u5982\u679c\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u672a\u8bbe\u7f6e\u5206\u533a\u6570\u91cf\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528 100\uff09 \u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u4ee5\u53ca\u5c5e\u6027 Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u53c2\u8003\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Spark Connector Reader\uff1a \u5728 Maven \u9879\u76ee\u7684 pom.xml \u6587\u4ef6\u4e2d\u52a0\u5165 nebula-spark \u4f9d\u8d56\u3002 <dependency> <groupId> com.vesoft </groupId> <artifactId> nebula-spark </artifactId> <version> 1.x.y </version> </dependency> \u8bf4\u660e \uff1a <version> \u5efa\u8bae\u914d\u7f6e\u4e3a\u6700\u65b0\u53d1\u5e03\u7684 Nebula Java Client \u7248\u672c\u53f7\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002 \u6784\u5efa SparkSession \u7c7b\u3002\u8fd9\u662f Spark SQL \u7684\u7f16\u7801\u5165\u53e3\u3002 val sparkConf = new SparkConf sparkConf .set(\"spark.serializer\", \"org.apache.spark.serializer.KryoSerializer\") .registerKryoClasses(Array[Class[_]](classOf[TCompactProtocol])) val sparkSession = SparkSession .builder() .config(sparkConf) .master(\"local\") .getOrCreate() \u5176\u4e2d\uff0c\u5173\u4e8e .master() \u7684\u8bbe\u7f6e\uff0c\u53c2\u8003 Spark \u914d\u7f6e\u7684 Master URLs \u3002 \u6309\u4ee5\u4e0b\u8bf4\u660e\u4fee\u6539\u914d\u7f6e\uff0c\u5229\u7528 Spark \u8bfb\u53d6 Nebula Graph \u7684\u70b9\u6216\u8005\u8fb9\u6570\u636e\uff0c\u5f97\u5230 DataFrame\u3002 // \u8bfb\u53d6 Nebula Graph \u7684\u70b9\u6570\u636e val vertexDataset: Dataset [ Row ] = sparkSession.read .nebula ( \"127.0.0.1:45500\" , \"spaceName\" , \"100\" ) .loadVerticesToDF ( \"tag\" , \"*\" ) vertexDataset.show () // \u8bfb\u53d6 Nebula Graph \u7684\u8fb9\u6570\u636e val edgeDataset: Dataset [ Row ] = sparkSession.read .nebula ( \"127.0.0.1:45500\" , \"spaceName\" , \"100\" ) .loadEdgesToDF ( \"edge\" , \"field1,field2\" ) edgeDataset.show () \u5176\u4e2d\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a - nebula(<address: String>, <space: String>, <partitionNum: String>) \uff0c\u6240\u6709\u53c2\u6570\u5747\u4e3a\u5fc5\u9700\u53c2\u6570\u3002 - `<address: String>`\uff1a\u914d\u7f6e\u4e3a Nebula Graph \u6570\u636e\u5e93 metad \u670d\u52a1\u6240\u5728\u7684\u670d\u52a1\u5668\u5730\u5740\u53ca\u7aef\u53e3\uff0c\u5982\u679c\u6709\u591a\u4e2a metad \u670d\u52a1\u590d\u672c\uff0c\u5219\u914d\u7f6e\u4e3a\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u4f8b\u5982 `\"ip1:45500,ip2:45500\"`\u3002\u9ed8\u8ba4\u7aef\u53e3\u53f7\u4e3a 45500\u3002 - `<space: String>`: \u914d\u7f6e\u4e3a Nebula Graph \u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 - `<partitionNum: String>`\uff1a\u8bbe\u7f6e Spark \u7684\u5206\u533a\u6570\u91cf\u3002\u5efa\u8bae\u8bbe\u7f6e\u4e3a Nebula Graph \u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u6307\u5b9a\u7684 `partitionNum`\uff0c\u4ee5\u786e\u4fdd\u4e00\u4e2a Spark \u5206\u533a\u8bfb\u53d6 Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u4e00\u4e2a\u5206\u533a\u7684\u6570\u636e\u3002\u5982\u679c\u60a8\u5728\u521b\u5efa Nebula Graph \u56fe\u7a7a\u95f4\u65f6\u672a\u6307\u5b9a\u5206\u533a\u6570\u91cf\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c 100\u3002 - loadVerticesToDF(<tag: String>, <fields: String>) \uff0c\u6240\u6709\u53c2\u6570\u5747\u4e3a\u5fc5\u9700\u53c2\u6570\u3002 - `<tag: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u67d0\u4e2a\u6807\u7b7e\u7684\u540d\u79f0\u3002 - `<fields: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a\u6807\u7b7e\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u3002\u5982\u679c\u4e00\u4e2a\u6807\u7b7e\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002\u5982\u679c\u6307\u5b9a\u4e86\u5c5e\u6027\u540d\u79f0\uff0c\u8868\u793a\u53ea\u8bfb\u53d6\u6307\u5b9a\u7684\u5c5e\u6027\u3002\u5982\u679c\u914d\u7f6e\u4e3a `*`\uff0c\u8868\u793a\u8bfb\u53d6\u6307\u5b9a\u6807\u7b7e\u7684\u6240\u6709\u5c5e\u6027\u3002 - loadEdgesToDF(<edge: String>, <fields: String>) \uff0c\u6240\u6709\u53c2\u6570\u5747\u4e3a\u5fc5\u9700\u53c2\u6570\u3002 - `<edge: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u67d0\u4e2a\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3002 - `<fields: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u3002\u5982\u679c\u4e00\u4e2a\u8fb9\u7c7b\u578b\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002\u5982\u679c\u6307\u5b9a\u4e86\u5c5e\u6027\u540d\u79f0\uff0c\u8868\u793a\u53ea\u8bfb\u53d6\u6307\u5b9a\u7684\u5c5e\u6027\uff0c\u5982\u679c\u914d\u7f6e\u4e3a `*` \u8868\u793a\u8bfb\u53d6\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u5c5e\u6027\u3002 \u4ee5\u4e0b\u4e3a\u8bfb\u53d6\u7ed3\u679c\u793a\u4f8b\u3002 \u8bfb\u53d6\u70b9\u6570\u636e 20/10/27 08:51:04 INFO DAGScheduler: Job 0 finished: show at Main.scala:61, took 1.873141 s +---------+----------+---+ |_vertexId| name|age| +---------+----------+---+ | 0| Tom55322| 19| | 84541440|Tom4152378| 27| | 67829760| Tom24006| 10| | 51118080| Tom84165| 62| | 34406400| Tom17308| 1| | 17694720| Tom73089| 56| | 983040| Tom82311| 95| | 68812800| Tom61046| 93| | 52101120| Tom52116| 45| | 18677760| Tom4773| 18| | 1966080| Tom25979| 20| | 69795840| Tom92575| 9| | 53084160| Tom48645| 29| | 36372480| Tom20594| 86| | 19660800| Tom27071| 32| | 2949120| Tom630| 61| | 70778880| Tom82319| 78| | 37355520| Tom38207| 31| | 20643840| Tom56158| 73| | 3932160| Tom36933| 59| +---------+----------+---+ only showing top 20 rows \u8bfb\u53d6\u8fb9\u6570\u636e 20/10/27 08:56:57 INFO DAGScheduler: Job 4 finished: show at Main.scala:71, took 0.085975 s +------+------+----------+--------+ |_srcId|_dstId|start_year|end_year| +------+------+----------+--------+ | 101| 201| 2002| 2020| | 102| 201| 2002| 2015| +------+------+----------+--------+","title":"\u4f7f\u7528\u793a\u4f8b"},{"location":"spark-connector/reader/sc-ug-reader-example/#nebula_spark_connector_reader","text":"\u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Nebula Spark Connector Reader \u8bfb\u53d6 Nebula Graph \u7684\u70b9\u548c\u8fb9\u6570\u636e\u3002","title":"Nebula Spark Connector Reader \u5e94\u7528\u793a\u4f8b"},{"location":"spark-connector/reader/sc-ug-reader-example/#_1","text":"\u4f7f\u7528 Nebula Spark Connector Reader \u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\u2122 2.3.0 \u53ca\u66f4\u9ad8\u7248\u672c Scala Java\uff1a1.8 \u5df2\u7ecf\u6210\u529f\u7f16\u8bd1 Nebula Spark Connector Reader\uff0c\u5e76\u5df2\u7ecf\u5c06 nebula-spark-1.x.y.jar \u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7f16\u8bd1 Nebula Spark Connector \u5df2\u7ecf\u83b7\u53d6 Nebula Graph \u6570\u636e\u5e93\u7684\u4ee5\u4e0b\u4fe1\u606f\uff1a \u56fe\u7a7a\u95f4\u540d\u79f0\u548c\u5206\u533a\u6570\u91cf\uff08\u5982\u679c\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u672a\u8bbe\u7f6e\u5206\u533a\u6570\u91cf\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528 100\uff09 \u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u4ee5\u53ca\u5c5e\u6027 Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"spark-connector/reader/sc-ug-reader-example/#_2","text":"\u53c2\u8003\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Spark Connector Reader\uff1a \u5728 Maven \u9879\u76ee\u7684 pom.xml \u6587\u4ef6\u4e2d\u52a0\u5165 nebula-spark \u4f9d\u8d56\u3002 <dependency> <groupId> com.vesoft </groupId> <artifactId> nebula-spark </artifactId> <version> 1.x.y </version> </dependency> \u8bf4\u660e \uff1a <version> \u5efa\u8bae\u914d\u7f6e\u4e3a\u6700\u65b0\u53d1\u5e03\u7684 Nebula Java Client \u7248\u672c\u53f7\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002 \u6784\u5efa SparkSession \u7c7b\u3002\u8fd9\u662f Spark SQL \u7684\u7f16\u7801\u5165\u53e3\u3002 val sparkConf = new SparkConf sparkConf .set(\"spark.serializer\", \"org.apache.spark.serializer.KryoSerializer\") .registerKryoClasses(Array[Class[_]](classOf[TCompactProtocol])) val sparkSession = SparkSession .builder() .config(sparkConf) .master(\"local\") .getOrCreate() \u5176\u4e2d\uff0c\u5173\u4e8e .master() \u7684\u8bbe\u7f6e\uff0c\u53c2\u8003 Spark \u914d\u7f6e\u7684 Master URLs \u3002 \u6309\u4ee5\u4e0b\u8bf4\u660e\u4fee\u6539\u914d\u7f6e\uff0c\u5229\u7528 Spark \u8bfb\u53d6 Nebula Graph \u7684\u70b9\u6216\u8005\u8fb9\u6570\u636e\uff0c\u5f97\u5230 DataFrame\u3002 // \u8bfb\u53d6 Nebula Graph \u7684\u70b9\u6570\u636e val vertexDataset: Dataset [ Row ] = sparkSession.read .nebula ( \"127.0.0.1:45500\" , \"spaceName\" , \"100\" ) .loadVerticesToDF ( \"tag\" , \"*\" ) vertexDataset.show () // \u8bfb\u53d6 Nebula Graph \u7684\u8fb9\u6570\u636e val edgeDataset: Dataset [ Row ] = sparkSession.read .nebula ( \"127.0.0.1:45500\" , \"spaceName\" , \"100\" ) .loadEdgesToDF ( \"edge\" , \"field1,field2\" ) edgeDataset.show () \u5176\u4e2d\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a - nebula(<address: String>, <space: String>, <partitionNum: String>) \uff0c\u6240\u6709\u53c2\u6570\u5747\u4e3a\u5fc5\u9700\u53c2\u6570\u3002 - `<address: String>`\uff1a\u914d\u7f6e\u4e3a Nebula Graph \u6570\u636e\u5e93 metad \u670d\u52a1\u6240\u5728\u7684\u670d\u52a1\u5668\u5730\u5740\u53ca\u7aef\u53e3\uff0c\u5982\u679c\u6709\u591a\u4e2a metad \u670d\u52a1\u590d\u672c\uff0c\u5219\u914d\u7f6e\u4e3a\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u4f8b\u5982 `\"ip1:45500,ip2:45500\"`\u3002\u9ed8\u8ba4\u7aef\u53e3\u53f7\u4e3a 45500\u3002 - `<space: String>`: \u914d\u7f6e\u4e3a Nebula Graph \u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 - `<partitionNum: String>`\uff1a\u8bbe\u7f6e Spark \u7684\u5206\u533a\u6570\u91cf\u3002\u5efa\u8bae\u8bbe\u7f6e\u4e3a Nebula Graph \u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u6307\u5b9a\u7684 `partitionNum`\uff0c\u4ee5\u786e\u4fdd\u4e00\u4e2a Spark \u5206\u533a\u8bfb\u53d6 Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u4e00\u4e2a\u5206\u533a\u7684\u6570\u636e\u3002\u5982\u679c\u60a8\u5728\u521b\u5efa Nebula Graph \u56fe\u7a7a\u95f4\u65f6\u672a\u6307\u5b9a\u5206\u533a\u6570\u91cf\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c 100\u3002 - loadVerticesToDF(<tag: String>, <fields: String>) \uff0c\u6240\u6709\u53c2\u6570\u5747\u4e3a\u5fc5\u9700\u53c2\u6570\u3002 - `<tag: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u67d0\u4e2a\u6807\u7b7e\u7684\u540d\u79f0\u3002 - `<fields: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a\u6807\u7b7e\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u3002\u5982\u679c\u4e00\u4e2a\u6807\u7b7e\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002\u5982\u679c\u6307\u5b9a\u4e86\u5c5e\u6027\u540d\u79f0\uff0c\u8868\u793a\u53ea\u8bfb\u53d6\u6307\u5b9a\u7684\u5c5e\u6027\u3002\u5982\u679c\u914d\u7f6e\u4e3a `*`\uff0c\u8868\u793a\u8bfb\u53d6\u6307\u5b9a\u6807\u7b7e\u7684\u6240\u6709\u5c5e\u6027\u3002 - loadEdgesToDF(<edge: String>, <fields: String>) \uff0c\u6240\u6709\u53c2\u6570\u5747\u4e3a\u5fc5\u9700\u53c2\u6570\u3002 - `<edge: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u67d0\u4e2a\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3002 - `<fields: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u3002\u5982\u679c\u4e00\u4e2a\u8fb9\u7c7b\u578b\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002\u5982\u679c\u6307\u5b9a\u4e86\u5c5e\u6027\u540d\u79f0\uff0c\u8868\u793a\u53ea\u8bfb\u53d6\u6307\u5b9a\u7684\u5c5e\u6027\uff0c\u5982\u679c\u914d\u7f6e\u4e3a `*` \u8868\u793a\u8bfb\u53d6\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u5c5e\u6027\u3002 \u4ee5\u4e0b\u4e3a\u8bfb\u53d6\u7ed3\u679c\u793a\u4f8b\u3002 \u8bfb\u53d6\u70b9\u6570\u636e 20/10/27 08:51:04 INFO DAGScheduler: Job 0 finished: show at Main.scala:61, took 1.873141 s +---------+----------+---+ |_vertexId| name|age| +---------+----------+---+ | 0| Tom55322| 19| | 84541440|Tom4152378| 27| | 67829760| Tom24006| 10| | 51118080| Tom84165| 62| | 34406400| Tom17308| 1| | 17694720| Tom73089| 56| | 983040| Tom82311| 95| | 68812800| Tom61046| 93| | 52101120| Tom52116| 45| | 18677760| Tom4773| 18| | 1966080| Tom25979| 20| | 69795840| Tom92575| 9| | 53084160| Tom48645| 29| | 36372480| Tom20594| 86| | 19660800| Tom27071| 32| | 2949120| Tom630| 61| | 70778880| Tom82319| 78| | 37355520| Tom38207| 31| | 20643840| Tom56158| 73| | 3932160| Tom36933| 59| +---------+----------+---+ only showing top 20 rows \u8bfb\u53d6\u8fb9\u6570\u636e 20/10/27 08:56:57 INFO DAGScheduler: Job 4 finished: show at Main.scala:71, took 0.085975 s +------+------+----------+--------+ |_srcId|_dstId|start_year|end_year| +------+------+----------+--------+ | 101| 201| 2002| 2020| | 102| 201| 2002| 2015| +------+------+----------+--------+","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"spark-connector/reader/sc-ug-what-is-reader/","text":"\u4ec0\u4e48\u662f Nebula Spark Connector Reader \u00b6 Nebula Spark Connector Reader \u662f Nebula Spark Connector \u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4e3a\u60a8\u63d0\u4f9b\u4e86 Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\uff0c\u5355\u6b21\u8bfb\u53d6\u4e00\u4e2a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5e76\u5c06\u8bfb\u53d6\u7684\u7ed3\u679c\u7ec4\u88c5\u6210 Spark \u7684 DataFrame\u3002\u8bfb\u51fa\u7684 DataFrame \u53ef\u4ee5\u901a\u8fc7 Nebula Spark Connector Writer \u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u6216\u5b9e\u73b0\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e4b\u95f4\u7684\u6570\u636e\u8fc1\u79fb\u3002 Nebula Spark Connector Reader \u5b9e\u73b0\u539f\u7406 \u00b6 Spark SQL \u662f Spark \u4e2d\u7528\u4e8e\u5904\u7406\u7ed3\u6784\u5316\u6570\u636e\u7684\u4e00\u4e2a\u7f16\u7a0b\u6a21\u5757\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u79f0\u4e3a DataFrame \u7684\u7f16\u7a0b\u62bd\u8c61\uff0c\u5e76\u4e14\u53ef\u4ee5\u5145\u5f53\u5206\u5e03\u5f0f SQL \u67e5\u8be2\u5f15\u64ce\u3002Spark SQL \u5141\u8bb8\u7528\u6237\u81ea\u5b9a\u4e49\u6570\u636e\u6e90\uff0c\u652f\u6301\u5bf9\u5916\u90e8\u6570\u636e\u6e90\u8fdb\u884c\u6269\u5c55\u3002\u901a\u8fc7 Spark SQL \u8bfb\u53d6\u5230\u7684\u6570\u636e\u683c\u5f0f\u662f\u4ee5\u547d\u540d\u5217\u65b9\u5f0f\u7ec4\u7ec7\u7684\u5206\u5e03\u5f0f\u6570\u636e\u96c6 DataFrame\uff0c\u800c\u4e14 Spark SQL \u63d0\u4f9b\u4e86\u4f17\u591a API \u65b9\u4fbf\u7528\u6237\u5bf9 DataFrame \u8fdb\u884c\u8ba1\u7b97\u548c\u8f6c\u6362\uff0c\u80fd\u5bf9\u591a\u79cd\u6570\u636e\u6e90\u4f7f\u7528 DataFrame \u63a5\u53e3\u3002 \u63a5\u53e3 \u00b6 Spark \u4f7f\u7528 org.apache.spark.sql \u8c03\u7528\u5916\u90e8\u6570\u636e\u6e90\u5305\u3002\u4ee5\u4e0b\u4e3a Spark SQL \u63d0\u4f9b\u7684\u6269\u5c55\u6570\u636e\u6e90\u76f8\u5173\u7684\u63a5\u53e3\u3002 \u57fa\u672c\u63a5\u53e3\uff0c\u5305\u62ec\uff1a BaseRelation : \u8868\u793a\u5177\u6709\u5df2\u77e5 Schema \u7684\u5143\u7ec4\u7684\u96c6\u5408\u3002\u6240\u6709\u7ee7\u627f\u4e86 BaseRelation \u7684\u5b50\u7c7b\u90fd\u5fc5\u987b\u751f\u6210 StructType \u683c\u5f0f\u7684 Schema\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c BaseRelation \u5b9a\u4e49\u4e86\u4ece\u6570\u636e\u6e90\u4e2d\u8bfb\u53d6\u7684\u6570\u636e\u5728 Spark SQL \u7684 DataFrame \u4e2d\u5b58\u50a8\u7684\u6570\u636e\u683c\u5f0f\u3002 RelationProvider : \u83b7\u53d6\u53c2\u6570\u5217\u8868\uff0c\u6839\u636e\u7ed9\u5b9a\u7684\u53c2\u6570\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 BaseRelation \u3002 DataSourceRegister : \u201c\u6ce8\u518c\u6570\u636e\u6e90\u201d\u7684\u7b80\u79f0\uff0c\u5728\u4f7f\u7528\u6570\u636e\u6e90\u65f6\u4e0d\u7528\u5199\u6570\u636e\u6e90\u7684\u5168\u9650\u5b9a\u7c7b\u540d\uff0c\u800c\u53ea\u9700\u8981\u5199\u81ea\u5b9a\u4e49\u7684 shortName \u5373\u53ef\u3002 Providers \u63a5\u53e3\uff0c\u5305\u62ec\uff1a RelationProvider \uff1a\u4ece\u6307\u5b9a\u6570\u636e\u6e90\u4e2d\u751f\u6210\u81ea\u5b9a\u4e49\u7684 relation \u3002 RelationProvider#createRelation \u4f1a\u57fa\u4e8e\u7ed9\u5b9a\u7684\u53c2\u6570\u751f\u6210\u65b0\u7684 relation \u3002 SchemaRelationProvider \uff1a\u53ef\u4ee5\u57fa\u4e8e\u7ed9\u5b9a\u7684\u53c2\u6570\u548c\u7ed9\u5b9a\u7684 Schema \u4fe1\u606f\u751f\u6210\u65b0\u7684 relation \u3002 RDD \u63a5\u53e3\uff0c\u5305\u62ec\uff1a RDD[InternalRow] : \u4ece\u6570\u636e\u6e90\u4e2d\u626b\u63cf\u51fa\u6765\u540e\uff0c\u9700\u8981\u6784\u9020\u6210 RDD[Row] \u3002 Nebula Spark Connector Reader \u6839\u636e Nebula Graph \u7684\u6570\u636e\u6e90\u81ea\u5b9a\u4e49\u4e86\u4e0a\u8ff0\u90e8\u5206\u65b9\u6cd5\uff0c\u4ece\u800c\u5b9e\u73b0\u81ea\u5b9a\u4e49 Spark \u5916\u90e8\u6570\u636e\u6e90\u3002 \u5b9e\u73b0\u7c7b\u56fe \u00b6 \u5728 Nebula Spark Connector Reader \u4e2d\uff0c\u4f5c\u4e3a Spark SQL \u7684\u5916\u90e8\u6570\u636e\u6e90\uff0cNebula Graph \u901a\u8fc7 sparkSession.read \u7684\u5f62\u5f0f\u8bfb\u53d6\u6570\u636e\u3002\u8be5\u529f\u80fd\u5b9e\u73b0\u7684\u7c7b\u56fe\u5c55\u793a\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u5904\u7406\u6d41\u7a0b\u5982\u4e0b\uff1a \u5b9a\u4e49\u6570\u636e\u6e90 NebulaRelationProvider \uff1a\u7ee7\u627f RelationProvider \u81ea\u5b9a\u4e49 relation \uff0c\u7ee7\u627f DataSourceRegister \u6ce8\u518c\u5916\u90e8\u6570\u636e\u6e90\u3002 \u5b9a\u4e49 NebulaRelation \uff0c\u5b9e\u73b0 Nebula Graph \u56fe\u6570\u636e Schema \u7684\u83b7\u53d6\u548c\u6570\u636e\u8f6c\u6362\u65b9\u6cd5\u3002\u5728 NebulaRelation#getSchema \u65b9\u6cd5\u4e2d\u8fde\u63a5 Nebula Graph \u7684 Meta \u670d\u52a1\u83b7\u53d6\u914d\u7f6e\u7684\u8fd4\u56de\u5b57\u6bb5\u5bf9\u5e94\u7684 Schema \u4fe1\u606f\u3002 \u5b9a\u4e49 NebulaRDD \u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\u3002\u5176\u4e2d\uff0c NebulaRDD#compute \u65b9\u6cd5\u5b9a\u4e49\u4e86\u5982\u4f55\u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\uff0c\u4e3b\u8981\u6d89\u53ca\u5230\u626b\u63cf Nebula Graph \u56fe\u6570\u636e\u3001\u5c06\u8bfb\u5230\u7684 Nebula Graph \u7684\u884c\uff08Row\uff09\u6570\u636e\u8f6c\u6362\u4e3a Spark \u7684 InternalRow \u6570\u636e\uff0c\u4ee5 InternalRow \u7ec4\u6210 RDD \u7684\u4e00\u884c\uff0c\u5176\u4e2d\u6bcf\u4e00\u4e2a InternalRow \u8868\u793a Nebula Graph \u4e2d\u7684\u4e00\u884c\u6570\u636e\uff0c\u6700\u7ec8\u901a\u8fc7\u5206\u533a\u8fed\u4ee3\u7684\u5f62\u5f0f\u8bfb\u53d6 Nebula Graph \u6240\u6709\u6570\u636e\u5e76\u7ec4\u88c5\u6210\u6700\u7ec8\u7684 DataFrame \u7ed3\u679c\u6570\u636e\u3002 \u5e94\u7528\u793a\u4f8b \u00b6 \u53c2\u8003 Nebula Spark Connector Reader \u5e94\u7528\u793a\u4f8b \u3002","title":"\u4ec0\u4e48\u662f Nebula Spark Connector Reader"},{"location":"spark-connector/reader/sc-ug-what-is-reader/#nebula_spark_connector_reader","text":"Nebula Spark Connector Reader \u662f Nebula Spark Connector \u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4e3a\u60a8\u63d0\u4f9b\u4e86 Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\uff0c\u5355\u6b21\u8bfb\u53d6\u4e00\u4e2a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5e76\u5c06\u8bfb\u53d6\u7684\u7ed3\u679c\u7ec4\u88c5\u6210 Spark \u7684 DataFrame\u3002\u8bfb\u51fa\u7684 DataFrame \u53ef\u4ee5\u901a\u8fc7 Nebula Spark Connector Writer \u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u6216\u5b9e\u73b0\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e4b\u95f4\u7684\u6570\u636e\u8fc1\u79fb\u3002","title":"\u4ec0\u4e48\u662f Nebula Spark Connector Reader"},{"location":"spark-connector/reader/sc-ug-what-is-reader/#nebula_spark_connector_reader_1","text":"Spark SQL \u662f Spark \u4e2d\u7528\u4e8e\u5904\u7406\u7ed3\u6784\u5316\u6570\u636e\u7684\u4e00\u4e2a\u7f16\u7a0b\u6a21\u5757\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u79f0\u4e3a DataFrame \u7684\u7f16\u7a0b\u62bd\u8c61\uff0c\u5e76\u4e14\u53ef\u4ee5\u5145\u5f53\u5206\u5e03\u5f0f SQL \u67e5\u8be2\u5f15\u64ce\u3002Spark SQL \u5141\u8bb8\u7528\u6237\u81ea\u5b9a\u4e49\u6570\u636e\u6e90\uff0c\u652f\u6301\u5bf9\u5916\u90e8\u6570\u636e\u6e90\u8fdb\u884c\u6269\u5c55\u3002\u901a\u8fc7 Spark SQL \u8bfb\u53d6\u5230\u7684\u6570\u636e\u683c\u5f0f\u662f\u4ee5\u547d\u540d\u5217\u65b9\u5f0f\u7ec4\u7ec7\u7684\u5206\u5e03\u5f0f\u6570\u636e\u96c6 DataFrame\uff0c\u800c\u4e14 Spark SQL \u63d0\u4f9b\u4e86\u4f17\u591a API \u65b9\u4fbf\u7528\u6237\u5bf9 DataFrame \u8fdb\u884c\u8ba1\u7b97\u548c\u8f6c\u6362\uff0c\u80fd\u5bf9\u591a\u79cd\u6570\u636e\u6e90\u4f7f\u7528 DataFrame \u63a5\u53e3\u3002","title":"Nebula Spark Connector Reader \u5b9e\u73b0\u539f\u7406"},{"location":"spark-connector/reader/sc-ug-what-is-reader/#_1","text":"Spark \u4f7f\u7528 org.apache.spark.sql \u8c03\u7528\u5916\u90e8\u6570\u636e\u6e90\u5305\u3002\u4ee5\u4e0b\u4e3a Spark SQL \u63d0\u4f9b\u7684\u6269\u5c55\u6570\u636e\u6e90\u76f8\u5173\u7684\u63a5\u53e3\u3002 \u57fa\u672c\u63a5\u53e3\uff0c\u5305\u62ec\uff1a BaseRelation : \u8868\u793a\u5177\u6709\u5df2\u77e5 Schema \u7684\u5143\u7ec4\u7684\u96c6\u5408\u3002\u6240\u6709\u7ee7\u627f\u4e86 BaseRelation \u7684\u5b50\u7c7b\u90fd\u5fc5\u987b\u751f\u6210 StructType \u683c\u5f0f\u7684 Schema\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c BaseRelation \u5b9a\u4e49\u4e86\u4ece\u6570\u636e\u6e90\u4e2d\u8bfb\u53d6\u7684\u6570\u636e\u5728 Spark SQL \u7684 DataFrame \u4e2d\u5b58\u50a8\u7684\u6570\u636e\u683c\u5f0f\u3002 RelationProvider : \u83b7\u53d6\u53c2\u6570\u5217\u8868\uff0c\u6839\u636e\u7ed9\u5b9a\u7684\u53c2\u6570\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 BaseRelation \u3002 DataSourceRegister : \u201c\u6ce8\u518c\u6570\u636e\u6e90\u201d\u7684\u7b80\u79f0\uff0c\u5728\u4f7f\u7528\u6570\u636e\u6e90\u65f6\u4e0d\u7528\u5199\u6570\u636e\u6e90\u7684\u5168\u9650\u5b9a\u7c7b\u540d\uff0c\u800c\u53ea\u9700\u8981\u5199\u81ea\u5b9a\u4e49\u7684 shortName \u5373\u53ef\u3002 Providers \u63a5\u53e3\uff0c\u5305\u62ec\uff1a RelationProvider \uff1a\u4ece\u6307\u5b9a\u6570\u636e\u6e90\u4e2d\u751f\u6210\u81ea\u5b9a\u4e49\u7684 relation \u3002 RelationProvider#createRelation \u4f1a\u57fa\u4e8e\u7ed9\u5b9a\u7684\u53c2\u6570\u751f\u6210\u65b0\u7684 relation \u3002 SchemaRelationProvider \uff1a\u53ef\u4ee5\u57fa\u4e8e\u7ed9\u5b9a\u7684\u53c2\u6570\u548c\u7ed9\u5b9a\u7684 Schema \u4fe1\u606f\u751f\u6210\u65b0\u7684 relation \u3002 RDD \u63a5\u53e3\uff0c\u5305\u62ec\uff1a RDD[InternalRow] : \u4ece\u6570\u636e\u6e90\u4e2d\u626b\u63cf\u51fa\u6765\u540e\uff0c\u9700\u8981\u6784\u9020\u6210 RDD[Row] \u3002 Nebula Spark Connector Reader \u6839\u636e Nebula Graph \u7684\u6570\u636e\u6e90\u81ea\u5b9a\u4e49\u4e86\u4e0a\u8ff0\u90e8\u5206\u65b9\u6cd5\uff0c\u4ece\u800c\u5b9e\u73b0\u81ea\u5b9a\u4e49 Spark \u5916\u90e8\u6570\u636e\u6e90\u3002","title":"\u63a5\u53e3"},{"location":"spark-connector/reader/sc-ug-what-is-reader/#_2","text":"\u5728 Nebula Spark Connector Reader \u4e2d\uff0c\u4f5c\u4e3a Spark SQL \u7684\u5916\u90e8\u6570\u636e\u6e90\uff0cNebula Graph \u901a\u8fc7 sparkSession.read \u7684\u5f62\u5f0f\u8bfb\u53d6\u6570\u636e\u3002\u8be5\u529f\u80fd\u5b9e\u73b0\u7684\u7c7b\u56fe\u5c55\u793a\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u5904\u7406\u6d41\u7a0b\u5982\u4e0b\uff1a \u5b9a\u4e49\u6570\u636e\u6e90 NebulaRelationProvider \uff1a\u7ee7\u627f RelationProvider \u81ea\u5b9a\u4e49 relation \uff0c\u7ee7\u627f DataSourceRegister \u6ce8\u518c\u5916\u90e8\u6570\u636e\u6e90\u3002 \u5b9a\u4e49 NebulaRelation \uff0c\u5b9e\u73b0 Nebula Graph \u56fe\u6570\u636e Schema \u7684\u83b7\u53d6\u548c\u6570\u636e\u8f6c\u6362\u65b9\u6cd5\u3002\u5728 NebulaRelation#getSchema \u65b9\u6cd5\u4e2d\u8fde\u63a5 Nebula Graph \u7684 Meta \u670d\u52a1\u83b7\u53d6\u914d\u7f6e\u7684\u8fd4\u56de\u5b57\u6bb5\u5bf9\u5e94\u7684 Schema \u4fe1\u606f\u3002 \u5b9a\u4e49 NebulaRDD \u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\u3002\u5176\u4e2d\uff0c NebulaRDD#compute \u65b9\u6cd5\u5b9a\u4e49\u4e86\u5982\u4f55\u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\uff0c\u4e3b\u8981\u6d89\u53ca\u5230\u626b\u63cf Nebula Graph \u56fe\u6570\u636e\u3001\u5c06\u8bfb\u5230\u7684 Nebula Graph \u7684\u884c\uff08Row\uff09\u6570\u636e\u8f6c\u6362\u4e3a Spark \u7684 InternalRow \u6570\u636e\uff0c\u4ee5 InternalRow \u7ec4\u6210 RDD \u7684\u4e00\u884c\uff0c\u5176\u4e2d\u6bcf\u4e00\u4e2a InternalRow \u8868\u793a Nebula Graph \u4e2d\u7684\u4e00\u884c\u6570\u636e\uff0c\u6700\u7ec8\u901a\u8fc7\u5206\u533a\u8fed\u4ee3\u7684\u5f62\u5f0f\u8bfb\u53d6 Nebula Graph \u6240\u6709\u6570\u636e\u5e76\u7ec4\u88c5\u6210\u6700\u7ec8\u7684 DataFrame \u7ed3\u679c\u6570\u636e\u3002","title":"\u5b9e\u73b0\u7c7b\u56fe"},{"location":"spark-connector/reader/sc-ug-what-is-reader/#_3","text":"\u53c2\u8003 Nebula Spark Connector Reader \u5e94\u7528\u793a\u4f8b \u3002","title":"\u5e94\u7528\u793a\u4f8b"},{"location":"spark-connector/writer/sc-ug-what-is-writer/","text":"\u4ec0\u4e48\u662f Nebula Spark Connector Writer \u00b6 Nebula Spark Connector Writer \u662f Nebula Spark Connector \u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4e3a\u60a8\u63d0\u4f9b\u4e86 Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u5c06 DataFrame \u6570\u636e\u9010\u6761\u6216\u6279\u91cf\u5199\u5165 Nebula Graph\u3002 Nebula Spark Connector Writer \u5b9e\u73b0\u539f\u7406 \u00b6 Nebula Spark Connector Writer \u5206\u522b\u63d0\u4f9b\u4e86\u4e24\u4e2a\u63a5\u53e3\uff0c\u7528\u4e8e\u9010\u6761\u6216\u6279\u91cf\u5730\u5c06\u6570\u636e\u5199\u5165 Nebula Graph\u3002 \u9010\u6761\u5199\u5165\u6570\u636e \u00b6 Nebula Spark Connector Writer \u57fa\u4e8e Spark \u7684 DataSourceV2 \u63a5\u53e3\u5b9e\u73b0\u5355\u6761\u6570\u636e\u5199\u5165\uff0c\u5b9e\u73b0\u6b65\u9aa4\u5982\u4e0b\uff1a \u7ee7\u627f WriteSupport \u63a5\u53e3\u5e76\u91cd\u5199 createWriter \u65b9\u6cd5\uff0c\u5e76\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u521b\u5efa\u81ea\u5b9a\u4e49\u7684 DataSourceWriter \u63a5\u53e3\u3002 \u7ee7\u627f DataSourceWriter \u63a5\u53e3\uff0c\u521b\u5efa NebulaDataSourceVertexWriter \u7c7b\u548c NebulaDataSourceEdgeWriter \u7c7b\u3002\u91cd\u5199 createWriterFactory \u65b9\u6cd5\u5e76\u8fd4\u56de\u81ea\u5b9a\u4e49\u7684 DataWriterFactory \u3002\u91cd\u5199 commit \u65b9\u6cd5\uff0c\u7528\u4e8e\u63d0\u4ea4\u6574\u4e2a\u4e8b\u52a1\u3002\u91cd\u5199 abort \u65b9\u6cd5\uff0c\u7528\u4e8e\u505a\u4e8b\u52a1\u56de\u6eda\u3002 \u8bf4\u660e \uff1aNebula Graph v1.2.1 \u4e0d\u652f\u6301\u4e8b\u52a1\u64cd\u4f5c\uff0c\u6240\u4ee5\uff0c\u5728\u8fd9\u4e2a\u5b9e\u73b0\u4e2d\uff0c commit \u548c abort \u65e0\u5b9e\u8d28\u6027\u64cd\u4f5c\u3002 \u7ee7\u627f DataWriterFactory \uff0c\u521b\u5efa NebulaVertexWriterFactory \u7c7b\u548c NebulaEdgeWriterFactory \u7c7b\uff0c\u91cd\u5199 createWriter \u65b9\u6cd5\u8fd4\u56de\u81ea\u5b9a\u4e49\u7684 DataWriter \u3002 \u7ee7\u627f DataWriter \uff0c\u521b\u5efa NebulaVertexWriter \u7c7b\u548c NebulaEdgeWriter \u7c7b\u3002\u91cd\u5199 write \u65b9\u6cd5\uff0c\u7528\u4e8e\u5199\u51fa\u6570\u636e\u3002\u91cd\u5199 commit \u65b9\u6cd5\uff0c\u7528\u4e8e\u63d0\u4ea4\u4e8b\u52a1\u3002\u91cd\u5199 abort \u65b9\u6cd5\uff0c\u7528\u4e8e\u505a\u4e8b\u52a1\u56de\u6eda\u3002 \u8bf4\u660e \uff1aNebula Graph v1.2.1 \u4e0d\u652f\u6301\u4e8b\u52a1\u64cd\u4f5c\uff0c\u6240\u4ee5\u5728 DataWriter \u4e2d\uff0c commit \u548c abort \u65e0\u5b9e\u8d28\u6027\u64cd\u4f5c\u3002 Nebula Spark Connector Writer \u7684\u5b9e\u73b0\u7c7b\u56fe\u5982\u4e0b\uff1a NebulaVertexWriter \u548c NebulaEdgeWriter\u7684write \u65b9\u6cd5\u4e2d\u5b9a\u4e49\u4e86\u5177\u4f53\u5199\u5165\u903b\u8f91\u3002\u9010\u6761\u5199\u5165\u6570\u636e\u7684\u903b\u8f91\u6982\u62ec\u5982\u4e0b\uff1a \u521b\u5efa\u5ba2\u6237\u7aef\uff0c\u8fde\u63a5 Nebula Graph \u7684 Graph \u670d\u52a1\u3002 \u6307\u5b9a\u5373\u5c06\u5199\u5165\u6570\u636e\u7684 Nebula Graph \u56fe\u7a7a\u95f4\u3002 \u6784\u9020 Nebula Graph \u63d2\u5165\u6570\u636e\u7684 nGQL \u8bed\u53e5\u3002 \u63d0\u4ea4 nGQL \u8bed\u53e5\uff0c\u6267\u884c\u5199\u5165\u64cd\u4f5c\u3002 \u5b9a\u4e49\u56de\u8c03\u51fd\u6570\u63a5\u6536\u5199\u5165\u64cd\u4f5c\u6267\u884c\u7ed3\u679c\u3002 \u6279\u91cf\u6570\u636e\u5199\u5165 \u00b6 Nebula Spark Connector Writer \u6279\u91cf\u5199\u5165\u6570\u636e\u7684\u5b9e\u73b0\u4e0e Nebula Exchange \u7c7b\u4f3c\uff0c\u5373\u901a\u8fc7\u5bf9 DataFrame \u8fdb\u884c map \u64cd\u4f5c\u6279\u91cf\u6570\u636e\u7684\u7d2f\u8ba1\u63d0\u4ea4\u3002 \u5e94\u7528\u793a\u4f8b \u00b6 \u53c2\u8003 Nebula Spark Connector Writer \u5e94\u7528\u793a\u4f8b \u3002","title":"\u4ec0\u4e48\u662f Nebula Spark Connector Writer"},{"location":"spark-connector/writer/sc-ug-what-is-writer/#nebula_spark_connector_writer","text":"Nebula Spark Connector Writer \u662f Nebula Spark Connector \u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4e3a\u60a8\u63d0\u4f9b\u4e86 Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u5c06 DataFrame \u6570\u636e\u9010\u6761\u6216\u6279\u91cf\u5199\u5165 Nebula Graph\u3002","title":"\u4ec0\u4e48\u662f Nebula Spark Connector Writer"},{"location":"spark-connector/writer/sc-ug-what-is-writer/#nebula_spark_connector_writer_1","text":"Nebula Spark Connector Writer \u5206\u522b\u63d0\u4f9b\u4e86\u4e24\u4e2a\u63a5\u53e3\uff0c\u7528\u4e8e\u9010\u6761\u6216\u6279\u91cf\u5730\u5c06\u6570\u636e\u5199\u5165 Nebula Graph\u3002","title":"Nebula Spark Connector Writer \u5b9e\u73b0\u539f\u7406"},{"location":"spark-connector/writer/sc-ug-what-is-writer/#_1","text":"Nebula Spark Connector Writer \u57fa\u4e8e Spark \u7684 DataSourceV2 \u63a5\u53e3\u5b9e\u73b0\u5355\u6761\u6570\u636e\u5199\u5165\uff0c\u5b9e\u73b0\u6b65\u9aa4\u5982\u4e0b\uff1a \u7ee7\u627f WriteSupport \u63a5\u53e3\u5e76\u91cd\u5199 createWriter \u65b9\u6cd5\uff0c\u5e76\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u521b\u5efa\u81ea\u5b9a\u4e49\u7684 DataSourceWriter \u63a5\u53e3\u3002 \u7ee7\u627f DataSourceWriter \u63a5\u53e3\uff0c\u521b\u5efa NebulaDataSourceVertexWriter \u7c7b\u548c NebulaDataSourceEdgeWriter \u7c7b\u3002\u91cd\u5199 createWriterFactory \u65b9\u6cd5\u5e76\u8fd4\u56de\u81ea\u5b9a\u4e49\u7684 DataWriterFactory \u3002\u91cd\u5199 commit \u65b9\u6cd5\uff0c\u7528\u4e8e\u63d0\u4ea4\u6574\u4e2a\u4e8b\u52a1\u3002\u91cd\u5199 abort \u65b9\u6cd5\uff0c\u7528\u4e8e\u505a\u4e8b\u52a1\u56de\u6eda\u3002 \u8bf4\u660e \uff1aNebula Graph v1.2.1 \u4e0d\u652f\u6301\u4e8b\u52a1\u64cd\u4f5c\uff0c\u6240\u4ee5\uff0c\u5728\u8fd9\u4e2a\u5b9e\u73b0\u4e2d\uff0c commit \u548c abort \u65e0\u5b9e\u8d28\u6027\u64cd\u4f5c\u3002 \u7ee7\u627f DataWriterFactory \uff0c\u521b\u5efa NebulaVertexWriterFactory \u7c7b\u548c NebulaEdgeWriterFactory \u7c7b\uff0c\u91cd\u5199 createWriter \u65b9\u6cd5\u8fd4\u56de\u81ea\u5b9a\u4e49\u7684 DataWriter \u3002 \u7ee7\u627f DataWriter \uff0c\u521b\u5efa NebulaVertexWriter \u7c7b\u548c NebulaEdgeWriter \u7c7b\u3002\u91cd\u5199 write \u65b9\u6cd5\uff0c\u7528\u4e8e\u5199\u51fa\u6570\u636e\u3002\u91cd\u5199 commit \u65b9\u6cd5\uff0c\u7528\u4e8e\u63d0\u4ea4\u4e8b\u52a1\u3002\u91cd\u5199 abort \u65b9\u6cd5\uff0c\u7528\u4e8e\u505a\u4e8b\u52a1\u56de\u6eda\u3002 \u8bf4\u660e \uff1aNebula Graph v1.2.1 \u4e0d\u652f\u6301\u4e8b\u52a1\u64cd\u4f5c\uff0c\u6240\u4ee5\u5728 DataWriter \u4e2d\uff0c commit \u548c abort \u65e0\u5b9e\u8d28\u6027\u64cd\u4f5c\u3002 Nebula Spark Connector Writer \u7684\u5b9e\u73b0\u7c7b\u56fe\u5982\u4e0b\uff1a NebulaVertexWriter \u548c NebulaEdgeWriter\u7684write \u65b9\u6cd5\u4e2d\u5b9a\u4e49\u4e86\u5177\u4f53\u5199\u5165\u903b\u8f91\u3002\u9010\u6761\u5199\u5165\u6570\u636e\u7684\u903b\u8f91\u6982\u62ec\u5982\u4e0b\uff1a \u521b\u5efa\u5ba2\u6237\u7aef\uff0c\u8fde\u63a5 Nebula Graph \u7684 Graph \u670d\u52a1\u3002 \u6307\u5b9a\u5373\u5c06\u5199\u5165\u6570\u636e\u7684 Nebula Graph \u56fe\u7a7a\u95f4\u3002 \u6784\u9020 Nebula Graph \u63d2\u5165\u6570\u636e\u7684 nGQL \u8bed\u53e5\u3002 \u63d0\u4ea4 nGQL \u8bed\u53e5\uff0c\u6267\u884c\u5199\u5165\u64cd\u4f5c\u3002 \u5b9a\u4e49\u56de\u8c03\u51fd\u6570\u63a5\u6536\u5199\u5165\u64cd\u4f5c\u6267\u884c\u7ed3\u679c\u3002","title":"\u9010\u6761\u5199\u5165\u6570\u636e"},{"location":"spark-connector/writer/sc-ug-what-is-writer/#_2","text":"Nebula Spark Connector Writer \u6279\u91cf\u5199\u5165\u6570\u636e\u7684\u5b9e\u73b0\u4e0e Nebula Exchange \u7c7b\u4f3c\uff0c\u5373\u901a\u8fc7\u5bf9 DataFrame \u8fdb\u884c map \u64cd\u4f5c\u6279\u91cf\u6570\u636e\u7684\u7d2f\u8ba1\u63d0\u4ea4\u3002","title":"\u6279\u91cf\u6570\u636e\u5199\u5165"},{"location":"spark-connector/writer/sc-ug-what-is-writer/#_3","text":"\u53c2\u8003 Nebula Spark Connector Writer \u5e94\u7528\u793a\u4f8b \u3002","title":"\u5e94\u7528\u793a\u4f8b"},{"location":"spark-connector/writer/sc-ug-writer-example/","text":"Nebula Spark Connector Writer \u5e94\u7528\u793a\u4f8b \u00b6 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Nebula Spark Connector Writer \u5411 Nebula Graph \u5199\u5165\u70b9\u548c\u8fb9\u6570\u636e\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u4f7f\u7528 Nebula Spark Connector Writer \u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\u2122 2.3.0 \u53ca\u66f4\u9ad8\u7248\u672c Scala Java\uff1a1.8 \u5df2\u7ecf\u6210\u529f\u7f16\u8bd1 Nebula Spark Connector\uff0c\u5e76\u5df2\u7ecf\u5c06 nebula-spark-1.x.y.jar \u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7f16\u8bd1 Nebula Spark Connector \u3002 \u5f85\u5199\u5165\u7684\u70b9\u548c\u8fb9\u6570\u636e\u6e90\u3002\u5728\u672c\u793a\u4f8b\u4e2d\u6240\u7528\u7684\u6570\u636e\u6e90\u4e3a JSON \u6587\u4ef6\uff0c\u60a8\u53ef\u4ee5\u4ece nebula-java \u5e93 \u4e2d\u4e0b\u8f7d\u3002 Nebula Graph \u7684 Graph \u670d\u52a1 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u5bf9\u5e94\u7684\u4fe1\u606f\u4e3a 127.0.0.1:3699 \u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa Schema\uff0c\u5e76\u83b7\u53d6\u4ee5\u4e0b\u4fe1\u606f\uff1a \u56fe\u7a7a\u95f4\u540d\u79f0\u548c\u5206\u533a\u6570\u91cf\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u5bf9\u5e94\u7684\u4fe1\u606f\u4e3a nb \u548c 100 \u3002 \u70b9\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c VID \u6620\u5c04\u7b56\u7565\uff08 hash \uff09\u3002 \u8fb9\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u8d77\u70b9\u548c\u7ec8\u70b9\u5bf9\u5e94\u7684\u6807\u7b7e\uff0c\u4ee5\u53ca VID \u6620\u5c04\u7b56\u7565\uff08 hash \uff09\u3002 \uff08\u53ef\u9009\uff09\u5982\u679c\u662f\u6279\u91cf\u5199\u5165\uff0c\u9700\u8981\u786e\u8ba4\u5355\u6b21\u5199\u5165\u7684\u6700\u5927\u6570\u636e\u91cf\uff0c\u9ed8\u8ba4\u4e3a 2000\u3002\u8be6\u89c1\u672c\u6587 batchInsert \u914d\u7f6e\u9879\u8bf4\u660e\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u53c2\u8003\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Spark Connector Writer \u5411 Nebula Graph \u5199\u5165\u6570\u636e\u3002 \u7b2c 1 \u6b65 \u00b6 \u5728 Maven \u9879\u76ee\u7684 POM \u6587\u4ef6\u4e2d\u52a0\u5165 nebula-spark \u4f9d\u8d56\u3002 <dependency> <groupId>com.vesoft</groupId> <artifactId>nebula-spark</artifactId> <version>1.x.y</version> </dependency> \u8bf4\u660e \uff1a <version> \u5efa\u8bae\u914d\u7f6e\u4e3a\u6700\u65b0\u53d1\u5e03\u7684 Nebula Java Client \u7248\u672c\u53f7\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002 \u7b2c 2 \u6b65 \u00b6 \u6839\u636e\u9010\u6761\u6216\u6279\u91cf\u5199\u5165\u9700\u6c42\uff0c\u53c2\u8003\u4ee5\u4e0b\u793a\u4f8b\u5728 Spark \u5e94\u7528\u7a0b\u5e8f\u4e2d\u5b8c\u6210\u914d\u7f6e\u3002 \u9010\u6761\u5199\u5165\u6570\u636e \u00b6 \u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a // \u6784\u9020\u70b9\u548c\u8fb9\u6570\u636e\u7684 DataFrame\uff0c // \u8fd9\u91cc\u4f7f\u7528 nebula-java \u5e93 v1.0 \u5206\u652f\u91cc nebula-java/examples/src/main/resources \u76ee\u5f55\u4e0b\u7684\u793a\u4f8b\u6570\u636e\uff0c // \u793a\u4f8b\u6570\u636e\u5728\u672c\u5730\u7684\u5b58\u50a8\u8def\u5f84\u4e3a examples/src/main/resources val vertexDF = spark.read.json ( \"examples/src/main/resources/vertex\" ) vertexDF.show () val edgeDF = spark.read.json ( \"examples/src/main/resources/edge\" ) edgeDF.show () // \u5199\u5165\u70b9 vertexDF.write .nebula ( \"127.0.0.1:3699\" , \"nb\" , \"100\" ) .writeVertices ( \"player\" , \"vertexId\" , \"hash\" ) // \u5199\u5165\u8fb9 edgeDF.write .nebula ( \"127.0.0.1:3699\" , \"nb\" , \"100\" ) .wirteEdges ( \"follow\" , \"src_id\" , \"dst_id\" ) \u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a nebula(address: String, space: String, partitionNum: String) address \uff1aNebula Graph \u7684 Graph \u670d\u52a1\u5730\u5740\u53ca\u7aef\u53e3\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u5982 \u201cip1:port,ip2:port\u201d \uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a 3699 \u3002 space \uff1aNebula Graph \u4e2d\u5373\u5c06\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 partitionNum \uff1a\u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u6307\u5b9a\u7684 partitionNum \u7684\u503c\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u8fd9\u91cc\u586b\u5199 100 \u3002 writeVertices(tag: String, vertexField: String, policy: String = \"\") tag \uff1a\u70b9\u5bf9\u5e94\u7684 Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u7684\u6807\u7b7e\u540d\u79f0\u3002 vertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a Nebula Graph \u70b9 VID \u7684\u5217\u3002\u4f8b\u5982\uff0c\u5982\u679c DataFrame \u6709\u4e09\u5217\uff0c\u5206\u522b\u4e3a a\u3001b\u3001c\uff0c\u5176\u4e2d a \u5217\u4f5c\u4e3a\u70b9 VID \u5217\uff0c\u5219\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"a\" \u3002 policy \uff1a\u5982\u679c DataFrame \u4e2d vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002 writeEdges(edge: String, srcVertexField: String, dstVertexField: String, policy: String = \"\") edge \uff1a\u8fb9\u5bf9\u5e94\u7684 Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 srcVertexField \u548c dstVertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a\u8fb9\u8d77\u70b9\u548c\u8fb9\u7ec8\u70b9\u7684\u5217\u3002\u5217\u503c\u5fc5\u987b\u540c\u4e3a\u6574\u6570\u578b\u6216\u540c\u4e3a\u975e\u6570\u503c\u578b\u3002 policy \uff1a\u5982\u679c DataFrame \u4e2d srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002 \u6279\u91cf\u5199\u5165\u6570\u636e \u00b6 \u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a // \u6784\u9020\u70b9\u548c\u8fb9\u6570\u636e\u7684 DataFrame\uff0c // \u8fd9\u91cc\u4f7f\u7528 nebula-java \u5e93 v1.0 \u5206\u652f\u91cc nebula-java/examples/src/main/resources \u76ee\u5f55\u4e0b\u7684\u793a\u4f8b\u6570\u636e\uff0c // \u793a\u4f8b\u6570\u636e\u5728\u672c\u5730\u7684\u5b58\u50a8\u8def\u5f84\u4e3a examples/src/main/resources val vertexDF = spark.read.json ( \"examples/src/main/resources/vertex\" ) vertexDF.show () val edgeDF = spark.read.json ( \"examples/src/main/resources/edge\" ) edgeDF.show () // \u6279\u91cf\u5199\u5165\u70b9 new NebulaBatchWriterUtils () .batchInsert ( \"127.0.0.1:3699\" , \"nb\" , 2000 ) .batchToNebulaVertex ( vertexDF, \"player\" , \"vertexId\" ) // \u6279\u91cf\u5199\u5165\u8fb9 new NebulaBatchWriterUtils () .batchInsert ( \"127.0.0.1:3699\" , \"nb\" , 2000 ) .batchToNebulaEdge ( edgeDF, \"follow\" , \"source\" , \"target\" ) \u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a batchInsert(address: String, space: String, batch: Int = 2000) \uff1a address \uff1aNebula Graph \u7684 Graph \u670d\u52a1\u5730\u5740\u53ca\u7aef\u53e3\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u5982 \u201cip1:port,ip2:port\u201d \uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a 3699 \u3002 space \uff1aNebula Graph \u4e2d\u5373\u5c06\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 batch \uff1a\u6279\u91cf\u5199\u5165\u65f6\u4e00\u6279\u6b21\u7684\u6700\u5927\u6570\u636e\u91cf\uff0c\u53ef\u4e0d\u914d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 2000\u3002 batchToNebulaVertex(data: DataFrame, tag: String, vertexField: String, policy: String = \"\") \uff1a data \uff1a\u5f85\u5199\u5165 Nebula Graph \u7684 DataFrame \u6570\u636e\u3002 tag \uff1aNebula Graph \u56fe\u7a7a\u95f4\u4e2d\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0\u3002 vertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a Nebula Graph \u70b9 VID \u7684\u5217\u3002\u4f8b\u5982\uff0c\u5982\u679c DataFrame \u6709\u4e09\u5217\uff0c\u5206\u522b\u4e3a a\u3001b\u3001c\uff0c\u5176\u4e2da \u5217\u4f5c\u4e3a\u70b9 VID \u5217\uff0c\u5219\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"a\" \u3002 policy \uff1a\u5982\u679c DataFrame \u4e2d vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002 batchToNebulaEdge(data: DataFrame, edge: String, srcVertexField: String, dstVertexField: String, rankField: String = \"\", policy: String = \"\") \uff1a data \uff1a\u5f85\u5199\u5165 Nebula Graph \u7684 DataFrame \u6570\u636e\u3002 edge \uff1aNebula Graph \u4e2d\u5bf9\u5e94\u7684\u8fb9\u7c7b\u578b\u3002 srcVertexField \u548c dstVertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a\u8fb9\u8d77\u70b9\u548c\u8fb9\u7ec8\u70b9\u7684\u5217\u3002\u5217\u503c\u5fc5\u987b\u540c\u4e3a\u6574\u6570\u578b\u6216\u540c\u4e3a\u975e\u6570\u503c\u578b\u3002 rankField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a\u8fb9 rank \u503c\u7684\u5217\uff0c\u53ef\u9009\u914d\u3002 policy \uff1a\u53ef\u9009\u3002\u5982\u679c DataFrame \u4e2d srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002","title":"\u4f7f\u7528\u793a\u4f8b"},{"location":"spark-connector/writer/sc-ug-writer-example/#nebula_spark_connector_writer","text":"\u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Nebula Spark Connector Writer \u5411 Nebula Graph \u5199\u5165\u70b9\u548c\u8fb9\u6570\u636e\u3002","title":"Nebula Spark Connector Writer \u5e94\u7528\u793a\u4f8b"},{"location":"spark-connector/writer/sc-ug-writer-example/#_1","text":"\u4f7f\u7528 Nebula Spark Connector Writer \u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\u2122 2.3.0 \u53ca\u66f4\u9ad8\u7248\u672c Scala Java\uff1a1.8 \u5df2\u7ecf\u6210\u529f\u7f16\u8bd1 Nebula Spark Connector\uff0c\u5e76\u5df2\u7ecf\u5c06 nebula-spark-1.x.y.jar \u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7f16\u8bd1 Nebula Spark Connector \u3002 \u5f85\u5199\u5165\u7684\u70b9\u548c\u8fb9\u6570\u636e\u6e90\u3002\u5728\u672c\u793a\u4f8b\u4e2d\u6240\u7528\u7684\u6570\u636e\u6e90\u4e3a JSON \u6587\u4ef6\uff0c\u60a8\u53ef\u4ee5\u4ece nebula-java \u5e93 \u4e2d\u4e0b\u8f7d\u3002 Nebula Graph \u7684 Graph \u670d\u52a1 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u5bf9\u5e94\u7684\u4fe1\u606f\u4e3a 127.0.0.1:3699 \u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa Schema\uff0c\u5e76\u83b7\u53d6\u4ee5\u4e0b\u4fe1\u606f\uff1a \u56fe\u7a7a\u95f4\u540d\u79f0\u548c\u5206\u533a\u6570\u91cf\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u5bf9\u5e94\u7684\u4fe1\u606f\u4e3a nb \u548c 100 \u3002 \u70b9\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c VID \u6620\u5c04\u7b56\u7565\uff08 hash \uff09\u3002 \u8fb9\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u8d77\u70b9\u548c\u7ec8\u70b9\u5bf9\u5e94\u7684\u6807\u7b7e\uff0c\u4ee5\u53ca VID \u6620\u5c04\u7b56\u7565\uff08 hash \uff09\u3002 \uff08\u53ef\u9009\uff09\u5982\u679c\u662f\u6279\u91cf\u5199\u5165\uff0c\u9700\u8981\u786e\u8ba4\u5355\u6b21\u5199\u5165\u7684\u6700\u5927\u6570\u636e\u91cf\uff0c\u9ed8\u8ba4\u4e3a 2000\u3002\u8be6\u89c1\u672c\u6587 batchInsert \u914d\u7f6e\u9879\u8bf4\u660e\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"spark-connector/writer/sc-ug-writer-example/#_2","text":"\u53c2\u8003\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Spark Connector Writer \u5411 Nebula Graph \u5199\u5165\u6570\u636e\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"spark-connector/writer/sc-ug-writer-example/#1","text":"\u5728 Maven \u9879\u76ee\u7684 POM \u6587\u4ef6\u4e2d\u52a0\u5165 nebula-spark \u4f9d\u8d56\u3002 <dependency> <groupId>com.vesoft</groupId> <artifactId>nebula-spark</artifactId> <version>1.x.y</version> </dependency> \u8bf4\u660e \uff1a <version> \u5efa\u8bae\u914d\u7f6e\u4e3a\u6700\u65b0\u53d1\u5e03\u7684 Nebula Java Client \u7248\u672c\u53f7\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002","title":"\u7b2c 1 \u6b65"},{"location":"spark-connector/writer/sc-ug-writer-example/#2","text":"\u6839\u636e\u9010\u6761\u6216\u6279\u91cf\u5199\u5165\u9700\u6c42\uff0c\u53c2\u8003\u4ee5\u4e0b\u793a\u4f8b\u5728 Spark \u5e94\u7528\u7a0b\u5e8f\u4e2d\u5b8c\u6210\u914d\u7f6e\u3002","title":"\u7b2c 2 \u6b65"},{"location":"spark-connector/writer/sc-ug-writer-example/#_3","text":"\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a // \u6784\u9020\u70b9\u548c\u8fb9\u6570\u636e\u7684 DataFrame\uff0c // \u8fd9\u91cc\u4f7f\u7528 nebula-java \u5e93 v1.0 \u5206\u652f\u91cc nebula-java/examples/src/main/resources \u76ee\u5f55\u4e0b\u7684\u793a\u4f8b\u6570\u636e\uff0c // \u793a\u4f8b\u6570\u636e\u5728\u672c\u5730\u7684\u5b58\u50a8\u8def\u5f84\u4e3a examples/src/main/resources val vertexDF = spark.read.json ( \"examples/src/main/resources/vertex\" ) vertexDF.show () val edgeDF = spark.read.json ( \"examples/src/main/resources/edge\" ) edgeDF.show () // \u5199\u5165\u70b9 vertexDF.write .nebula ( \"127.0.0.1:3699\" , \"nb\" , \"100\" ) .writeVertices ( \"player\" , \"vertexId\" , \"hash\" ) // \u5199\u5165\u8fb9 edgeDF.write .nebula ( \"127.0.0.1:3699\" , \"nb\" , \"100\" ) .wirteEdges ( \"follow\" , \"src_id\" , \"dst_id\" ) \u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a nebula(address: String, space: String, partitionNum: String) address \uff1aNebula Graph \u7684 Graph \u670d\u52a1\u5730\u5740\u53ca\u7aef\u53e3\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u5982 \u201cip1:port,ip2:port\u201d \uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a 3699 \u3002 space \uff1aNebula Graph \u4e2d\u5373\u5c06\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 partitionNum \uff1a\u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u6307\u5b9a\u7684 partitionNum \u7684\u503c\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u8fd9\u91cc\u586b\u5199 100 \u3002 writeVertices(tag: String, vertexField: String, policy: String = \"\") tag \uff1a\u70b9\u5bf9\u5e94\u7684 Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u7684\u6807\u7b7e\u540d\u79f0\u3002 vertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a Nebula Graph \u70b9 VID \u7684\u5217\u3002\u4f8b\u5982\uff0c\u5982\u679c DataFrame \u6709\u4e09\u5217\uff0c\u5206\u522b\u4e3a a\u3001b\u3001c\uff0c\u5176\u4e2d a \u5217\u4f5c\u4e3a\u70b9 VID \u5217\uff0c\u5219\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"a\" \u3002 policy \uff1a\u5982\u679c DataFrame \u4e2d vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002 writeEdges(edge: String, srcVertexField: String, dstVertexField: String, policy: String = \"\") edge \uff1a\u8fb9\u5bf9\u5e94\u7684 Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 srcVertexField \u548c dstVertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a\u8fb9\u8d77\u70b9\u548c\u8fb9\u7ec8\u70b9\u7684\u5217\u3002\u5217\u503c\u5fc5\u987b\u540c\u4e3a\u6574\u6570\u578b\u6216\u540c\u4e3a\u975e\u6570\u503c\u578b\u3002 policy \uff1a\u5982\u679c DataFrame \u4e2d srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002","title":"\u9010\u6761\u5199\u5165\u6570\u636e"},{"location":"spark-connector/writer/sc-ug-writer-example/#_4","text":"\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a // \u6784\u9020\u70b9\u548c\u8fb9\u6570\u636e\u7684 DataFrame\uff0c // \u8fd9\u91cc\u4f7f\u7528 nebula-java \u5e93 v1.0 \u5206\u652f\u91cc nebula-java/examples/src/main/resources \u76ee\u5f55\u4e0b\u7684\u793a\u4f8b\u6570\u636e\uff0c // \u793a\u4f8b\u6570\u636e\u5728\u672c\u5730\u7684\u5b58\u50a8\u8def\u5f84\u4e3a examples/src/main/resources val vertexDF = spark.read.json ( \"examples/src/main/resources/vertex\" ) vertexDF.show () val edgeDF = spark.read.json ( \"examples/src/main/resources/edge\" ) edgeDF.show () // \u6279\u91cf\u5199\u5165\u70b9 new NebulaBatchWriterUtils () .batchInsert ( \"127.0.0.1:3699\" , \"nb\" , 2000 ) .batchToNebulaVertex ( vertexDF, \"player\" , \"vertexId\" ) // \u6279\u91cf\u5199\u5165\u8fb9 new NebulaBatchWriterUtils () .batchInsert ( \"127.0.0.1:3699\" , \"nb\" , 2000 ) .batchToNebulaEdge ( edgeDF, \"follow\" , \"source\" , \"target\" ) \u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a batchInsert(address: String, space: String, batch: Int = 2000) \uff1a address \uff1aNebula Graph \u7684 Graph \u670d\u52a1\u5730\u5740\u53ca\u7aef\u53e3\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u5982 \u201cip1:port,ip2:port\u201d \uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a 3699 \u3002 space \uff1aNebula Graph \u4e2d\u5373\u5c06\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 batch \uff1a\u6279\u91cf\u5199\u5165\u65f6\u4e00\u6279\u6b21\u7684\u6700\u5927\u6570\u636e\u91cf\uff0c\u53ef\u4e0d\u914d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 2000\u3002 batchToNebulaVertex(data: DataFrame, tag: String, vertexField: String, policy: String = \"\") \uff1a data \uff1a\u5f85\u5199\u5165 Nebula Graph \u7684 DataFrame \u6570\u636e\u3002 tag \uff1aNebula Graph \u56fe\u7a7a\u95f4\u4e2d\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0\u3002 vertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a Nebula Graph \u70b9 VID \u7684\u5217\u3002\u4f8b\u5982\uff0c\u5982\u679c DataFrame \u6709\u4e09\u5217\uff0c\u5206\u522b\u4e3a a\u3001b\u3001c\uff0c\u5176\u4e2da \u5217\u4f5c\u4e3a\u70b9 VID \u5217\uff0c\u5219\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"a\" \u3002 policy \uff1a\u5982\u679c DataFrame \u4e2d vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002 batchToNebulaEdge(data: DataFrame, edge: String, srcVertexField: String, dstVertexField: String, rankField: String = \"\", policy: String = \"\") \uff1a data \uff1a\u5f85\u5199\u5165 Nebula Graph \u7684 DataFrame \u6570\u636e\u3002 edge \uff1aNebula Graph \u4e2d\u5bf9\u5e94\u7684\u8fb9\u7c7b\u578b\u3002 srcVertexField \u548c dstVertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a\u8fb9\u8d77\u70b9\u548c\u8fb9\u7ec8\u70b9\u7684\u5217\u3002\u5217\u503c\u5fc5\u987b\u540c\u4e3a\u6574\u6570\u578b\u6216\u540c\u4e3a\u975e\u6570\u503c\u578b\u3002 rankField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a\u8fb9 rank \u503c\u7684\u5217\uff0c\u53ef\u9009\u914d\u3002 policy \uff1a\u53ef\u9009\u3002\u5982\u679c DataFrame \u4e2d srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002","title":"\u6279\u91cf\u5199\u5165\u6570\u636e"}]}